ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@lcr-1
   3              		@作者：yjmwxwx
   4              		@时间：2021-08-23
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              	zheng_xian_100khz:
  10 0000 0E121518 		.byte 14,18,21,24,26,27,26,24,21,18,14,9,6,3,1,0,1,3,6,9
  10      1A1B1A18 
  10      15120E09 
  10      06030100 
  10      01030609 
  11 0014 00000000 		.align 4
  11      00000000 
  11      00000000 
  12              	zheng_xian_10khz:
  13 0020 0E0E0E0F 		.byte 14,14,14,15,15,16,16,16,17,17,18,18,18,19,19,20,20,20,21,21,21,22,22,22,23,23,23,24,24,24,24
  13      0F101010 
  13      11111212 
  13      12131314 
  13      14141515 
  14 00e8 00000000 		.align 4
  14      00000000 
  15              	zheng_xian_1khz:
  16 00f0 8C009000 		.short 140,144,148,153,157,161,166,170,174,178,183,187,191,195,199,203,207,211,214,218,221,225,228
  16      94009900 
  16      9D00A100 
  16      A600AA00 
  16      AE00B200 
  17              		
  18              		.align 4
  19              	zheng_xian_100hz:
  20 0280 18011901 		.short 280,281,283,285,287,288,290,292,294,295,297,299,301,302,304,306,308,309,311,313,315,316,318
  20      1B011D01 
  20      1F012001 
  20      22012401 
  20      26012701 
  21              	
  22              		.align 4
  23              	cos_sin_biao_100k:
  24 0a50 00800000 		.int 0x00008000,0x00000000,0x0000678D,0xFFFFB4C4,0x0000278D,0xFFFF8644,0xFFFFD873,0xFFFF8644,0xFFF
  24      00000000 
  24      8D670000 
  24      C4B4FFFF 
  24      8D270000 
  25              	cos_sin_biao_10k:
  26 0af4 00800000 		.int 0x00008000,0x00000000,0x00007FBF,0xFFFFF7F7,0x00007EFD,0xFFFFEFF6,0x00007DBB,0xFFFFE804,0x000
  26      00000000 
  26      BF7F0000 
  26      F7F7FFFF 
  26      FD7E0000 
  27              	cos_sin_biao_100_1k:
  28 1138 00800000 		.int 0x00008000,0x00000000,0x00007FFF,0xFFFFFF33,0x00007FFD,0xFFFFFE65,0x00007FFA,0xFFFFFD97,0x000
  28      00000000 
  28      FF7F0000 
ARM GAS  1.s 			page 2


  28      33FFFFFF 
  28      FD7F0000 
  29              	shangbi_liangcheng:
  30 3078 08000000 		.short 0x08,0x00,0x200,0x40,0x240,0x240
  30      00024000 
  30      40024002 
  31              	xiabi_liangcheng:
  32 3084 00000000 		.short 0x00,0x00,0x200,0x40,0x240,0x248
  32      00024000 
  32      40024802 
  33              		.align 4
  34              	zukang_xiaoshu_dian:			@jdjd
  35 3090 0203FF02 		.byte 0x02,0x03,0xff,0x02,0x03,0x01
  35      0301
  36 3096 00000000 		.align 4
  36      00000000 
  36      0000
  37              	zukang_huansuan_biao:
  38 30a0 00800000 		.int 32768,32768,32768,32768,32768,32768
  38      00800000 
  38      00800000 
  38      00800000 
  38      00800000 
  39              	zukang_danwei:
  40              		@毫欧=0XF46D，欧=0XF420, 千欧=0XF44B，兆欧=0XF44D
  41 30b8 20F40000 		.int 0xf420,0xf420,0xf420,0xf44b,0xf44b,0xf44d
  41      20F40000 
  41      20F40000 
  41      4BF40000 
  41      4BF40000 
  42              	an_jian_biao:
  43 30d0 0D020000 		.word __an_jian0         	   	   +1
  44 30d4 CD010000 		.word __dang_wei_jia     	   	   +1
  45 30d8 CF010000 		.word __pin_lv_jia      	   	   +1
  46 30dc 0D020000 		.word __an_jian3         	           +1
  47              		.align 4
  48              	
  49              	kong:
  50 30e0 20202020 		.int 0x20202020
  51              	_fu:
  52 30e4 2D       		.ascii "-"
  53              	yjmwxwx:
  54 30e5 796A6D77 		.ascii "yjmwxwx-20210823"
  54      7877782D 
  54      32303231 
  54      30383233 
  55 30f5 00000000 		.align 4
  55      00000000 
  55      000000
  56              		.equ STACKINIT,        	        0x20001000
  57              		.equ asciimabiao,		0x20000000
  58              		.equ lcd_beiguang,		0x20000020
  59              		.equ shangbi_r, 		0x20000024
  60              		.equ shangbi_i,			0x20000028
  61              		.equ xiabi_r,			0x2000002c
  62              		.equ xiabi_i,			0x20000030
  63              		.equ shangxiabi_qiehuan,	0x20000034
ARM GAS  1.s 			page 3


  64              		.equ liangcheng,		0x20000038
  65              		.equ z_r,			0x2000003c
  66              		.equ z_i,			0x20000040
  67              		.equ dma_r,			0x20000044
  68              		.equ dma_i,			0x20000048
  69              		.equ huandangyanshi,		0x2000004c
  70              		.equ shangbi_rr,		0x20000050
  71              		.equ shangbi_ii,		0x20000054
  72              		.equ xiabi_rr,			0x20000058
  73              		.equ xiabi_ii,			0x2000005c
  74              		.equ jishu,			0x20000060
  75              		.equ xianshi_biaozhi,		0x20000064
  76              		.equ z_fudu,			0x20000068
  77              		.equ cossin,			0x2000006c
  78              		.equ pinlv,			0x20000070
  79              		.equ anjian,			0x20000074
  80              		.equ shezhi_pinlv,		0x20000078
  81              		.equ zhenfu,			0x2000007c
  82              		.equ pinlvjiayanshi,		0x20000080
  83              		.equ dmacuowu,			0x20000084
  84              		.equ dianyabiao,		0x20000100
  85              		.equ lvboqizhizhen,		0x200008d0
  86              		.equ lvboqihuanchong,		0x200008d8
  87              		.equ lvboqizhizhen1,            0x20000a68  @0x200009e0
  88              		.equ lvboqihuanchong1,          0x20000a70  @0x200009e8
  89              	        .equ lvboqizhizhen2,            0x20000c00  @0x20000af0
  90              		.equ lvboqihuanchong2,          0x20000c08  @0x20000af8
  91              		.equ lvboqizhizhen3,            0x20000d98  @0x20000c00
  92              		.equ lvboqihuanchong3,          0x20000da0  @0x20000c08
  93              		
  94              		
  95              		.section .text
  96              	
  97              	vectors:
  98 0000 00100020 		.word STACKINIT
  99 0004 B1000000 		.word _start + 1
 100 0008 790D0000 		.word _nmi_handler + 1
 101 000c 7B0D0000 		.word _hard_fault  + 1
 102 0010 00000000 		.word 0
 103 0014 00000000 		.word 0
 104 0018 00000000 		.word 0
 105 001c 00000000 		.word 0
 106 0020 00000000 		.word 0
 107 0024 00000000 		.word 0
 108 0028 00000000 		.word 0
 109 002c 7D0D0000 		.word _svc_handler +1
 110 0030 00000000 		.word 0
 111 0034 00000000 		.word 0
 112 0038 7F0D0000 		.word _pendsv_handler +1
 113 003c 810D0000 		.word _systickzhongduan +1           @ 15
 114 0040 4B0E0000 		.word aaa +1     @ _wwdg +1          @ 0
 115 0044 4B0E0000 		.word aaa +1     @_pvd +1            @ 1
 116 0048 4B0E0000 		.word aaa +1     @_rtc +1            @ 2
 117 004c 4B0E0000 		.word aaa +1     @_flash +1          @ 3
 118 0050 4B0E0000 		.word aaa +1	@ _rcc + 1           @ 4
 119 0054 4B0E0000 		.word aaa +1      @_exti0_1  +1      @ 5
 120 0058 4B0E0000 		.word aaa +1      @ _exti2_3 +1      @ 6
ARM GAS  1.s 			page 4


 121 005c 4B0E0000 		.word aaa +1       @_exti4_15 +1     @ 7
 122 0060 4B0E0000 		.word aaa +1                         @ 8
 123 0064 4B0E0000 		.word aaa +1	@__dma_wan  +1	     @ 9
 124 0068 4B0E0000 		.word aaa +1    @_dma1_2_3 +1        @ 10
 125 006c 4B0E0000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 126 0070 4B0E0000 		.word aaa +1	 @_adc1 +1           @ 12
 127 0074 4B0E0000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 128 0078 4B0E0000 		.word aaa +1        @ _tim1_cc +1    @ 14
 129 007c 4B0E0000 		.word aaa +1         @_tim2 +1       @ 15
 130 0080 4B0E0000 		.word aaa +1          @_tim3 +1      @ 16
 131 0084 4B0E0000 		.word aaa +1                         @ 17
 132 0088 4B0E0000 		.word aaa +1		             @ 18
 133 008c 4B0E0000 		.word aaa +1	@_tim14 +1           @ 19
 134 0090 4B0E0000 		.word aaa +1                         @ 20
 135 0094 4B0E0000 		.word aaa +1         @_tim16 +1      @ 21
 136 0098 4B0E0000 		.word aaa +1         @_tim17 +1      @ 22
 137 009c 4B0E0000 		.word aaa +1          @_i2c   +1     @ 23
 138 00a0 4B0E0000 		.word aaa +1                         @ 24
 139 00a4 4B0E0000 		.word aaa +1           @_spi   +1    @ 25
 140 00a8 4B0E0000 		.word aaa +1                         @ 26
 141 00ac 4B0E0000 		.word aaa +1         @_usart1 +1     @ 27
 142              		.align 2
 143              	_start:
 144              	shizhong:
 145 00b0 644A     		ldr r2, = 0x40022000   @FLASH访问控制
 146 00b2 3221     		movs r1, # 0x32
 147 00b4 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 148 00b6 6448     		ldr r0, = 0x40021000 @ rcc
 149 00b8 6449     		ldr r1, = 0x10001
 150 00ba 0160     		str r1, [r0]
 151              	denghse:
 152 00bc 0168     		ldr r1, [r0]
 153 00be 8903     		lsls r1, r1, # 14
 154 00c0 FCD5     		bpl denghse
 155              	dengpllguan:
 156 00c2 0168     		ldr r1, [r0]
 157 00c4 8901     		lsls r1, r1, # 6
 158 00c6 FCD4     		bmi dengpllguan
 159 00c8 6149     		ldr r1, = 0x150002	@0x150002
 160 00ca 0046     		mov r0, r0
 161 00cc 4160     		str r1, [r0, # 0x04]
 162 00ce 0046     		mov r0, r0
 163 00d0 6049     		ldr r1, = 0x1010000
 164 00d2 0046     		mov r0, r0
 165 00d4 0160     		str r1, [r0]
 166              	
 167              	dengpll:
 168 00d6 0168     		ldr r1, [r0]
 169 00d8 8901     		lsls r1, # 6
 170 00da FCD5     		bpl dengpll
 171              	
 172              	
 173 00dc 5E49     		ldr r1, = 100
 174 00de 0163     		str r1, [r0, # 0x30]
 175              	
 176              	_waisheshizhong:	                         @ 外设时钟
 177              		@+0x14=RCC_AHBENR
ARM GAS  1.s 			page 5


 178              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 179 00e0 5948     		ldr r0, = 0x40021000
 180 00e2 5E49     		ldr r1, = 0x60001
 181 00e4 4161     		str r1, [r0, # 0x14]
 182              	
 183              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 184              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 185 00e6 5E49     		ldr r1, = 0x1a00
 186 00e8 8161     		str r1, [r0, # 0x18]
 187              		@+0X1C=RCC_APB1ENR
 188              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 189              		@ 22=I2C2 @ 23=USB @ 28=PWR
 190 00ea 5E4A     		ldr r2, = 0x902
 191 00ec C261     		str r2, [r0, # 0x1c]
 192              	
 193              	_neicunqingling:
 194 00ee 5E48     		ldr r0, = 0x20000000
 195 00f0 0021     		movs r1, # 0
 196 00f2 5E4B     		ldr r3, = 0x1000
 197              	_neicunqinglingxunhuan:
 198 00f4 043B     		subs r3, # 4
 199 00f6 C150     		str r1, [r0, r3]
 200 00f8 FCD1     		bne _neicunqinglingxunhuan
 201              	
 202              	_waishezhongduan:					@外设中断
 203              		@0xE000E100    0-31  写1开，写0没效
 204              		@0XE000E180    0-31 写1关，写0没效
 205              		@0XE000E200    0-31 挂起，写0没效
 206              		@0XE000E280    0-31 清除， 写0没效
 207 00fa 5D48     		ldr r0, =  0xe000e100
 208 00fc 5D49     		ldr r1, = 0x200 @0x10200  @ 0x10000
 209 00fe 0160     		str r1, [r0]
 210              		
 211              	@_kanmengou:
 212              	@	ldr r0, = 0x40003000
 213              	@	ldr r1, = 0x5555
 214              	@	str r1, [r0]
 215              	@	movs r1, # 7
 216              	@	str r1, [r0, # 4]
 217              	@	ldr r1, = 0xfff
 218              	@	str r1, [r0, # 8]
 219              	@	ldr r1, = 0xaaaa
 220              	@	str r1, [r0]
 221              	@	ldr r1, = 0xcccc
 222              	@	str r1, [r0]
 223              		
 224              	io_she_zhi:
 225              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 226              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 227              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 228              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 229              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 230              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 231              		@偏移0x10 = 输入数据寄存器
 232              		@偏移0x14 = 输出数据寄存器
 233              		@偏移0x18 = 端口开  0-15置位
 234              		@偏移0x28 = 端口关
ARM GAS  1.s 			page 6


 235              		@0X20 = 复用低
 236              		@GPIO口0（0-3位）每个IO口占用4位
 237              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 238              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 239              		@0x24 = 复用高
 240              		@GPIO口8 （0-3位）每个IO口占用4位
 241              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 242              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 243              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 244              	
 245 0100 5D48     		ldr r0, = 0x48000000
 246 0102 5E49     		ldr r1, = 0x28249a43
 247 0104 0160     		str r1, [r0]
 248 0106 B621     		movs r1, # 0xb6
 249 0108 4160     		str r1, [r0, # 0x04]
 250 010a 5D49     		ldr r1, = 0x30cf00
 251 010c 8160     		str r1, [r0, # 0x08]
 252 010e 1421     		movs r1, # 0x14
 253 0110 C160     		str r1, [r0, # 0x0c]
 254 0112 5849     		ldr r1, = 0x200
 255 0114 4162     		str r1, [r0, # 0x24]
 256              		
 257 0116 5B48     	        ldr r0, = 0x48000400
 258 0118 0421     		movs r1, # 0x04
 259 011a 0160     		str r1, [r0]
 260              		
 261              	spi_chushihua:
 262 011c 5A48     		ldr r0, = 0x40013000
 263 011e 5B49     		ldr  r1, = 0x708
 264 0120 4160     		str r1, [r0, # 0x04]
 265 0122 5B49     		ldr r1, = 0x5c
 266 0124 0160     		str r1, [r0]
 267              	
 268              	_lcdchushihua:
 269 0126 3320     		movs r0, # 0x33
 270 0128 0021     		movs r1, # 0
 271 012a 00F0E2FC 		bl _xielcd
 272 012e 00F0DBFC 		bl _lcdyanshi
 273              	
 274 0132 3220     		movs r0, # 0x32
 275 0134 0021     		movs r1, # 0
 276 0136 00F0DCFC 		bl _xielcd
 277 013a 00F0D5FC 		bl _lcdyanshi
 278 013e 2820     		movs r0, # 0x28
 279 0140 0021     		movs r1, # 0
 280 0142 00F0D6FC 		bl _xielcd
 281 0146 00F0CFFC 		bl _lcdyanshi
 282 014a 0C20     		movs r0, # 0x0c
 283 014c 0021     		movs r1, # 0
 284 014e 00F0D0FC 		bl _xielcd
 285 0152 00F0C9FC 		bl _lcdyanshi
 286 0156 0120     		movs r0, # 0x01
 287 0158 0021     		movs r1, # 0
 288 015a 00F0CAFC 		bl _xielcd
 289 015e 00F0C3FC 		bl _lcdyanshi
 290              	
 291 0162 8020     		movs r0, # 0x80
ARM GAS  1.s 			page 7


 292 0164 4B49     		ldr r1, = yjmwxwx
 293 0166 1022     		movs r2, # 16
 294 0168 00F0B0FC 		bl _lcdxianshi
 295 016c 4A48     		ldr r0, = 0xffffff
 296              	yjmwxwx_yanshi:
 297 016e 0138     		subs r0, r0, # 1
 298 0170 FDD1     		bne yjmwxwx_yanshi
 299              	
 300 0172 0120     		movs r0, # 0x01
 301 0174 0021     		movs r1, # 0
 302 0176 00F0BCFC 		bl _xielcd
 303 017a 00F0B5FC 		bl _lcdyanshi
 304              			
 305              	_adcchushihua:
 306 017e 4748     		ldr r0, = 0x40012400  @ adc基地址
 307 0180 4749     		ldr r1, = 0x80000000
 308 0182 8160     		str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 309              	_dengadcjiaozhun:
 310 0184 8168     		ldr r1, [r0, # 0x08]
 311 0186 0900     		movs r1, r1
 312 0188 FCD4     		bmi _dengadcjiaozhun   @ 等ADC校准
 313 018a 0121     		movs r1, # 1
 314 018c 0160     		str r1, [r0]
 315              	_kaiadc:
 316 018e 8168     		ldr r1, [r0, # 0x08]
 317 0190 0122     		movs r2, # 0x01
 318 0192 1143     		orrs r1, r1, r2
 319 0194 8160     		str r1, [r0, # 0x08]
 320              	_deng_adc_wen_ding:
 321 0196 0168     		ldr r1, [r0]
 322 0198 C907     		lsls r1, r1, # 31
 323 019a FCD5     		bpl _deng_adc_wen_ding @ 等ADC稳定
 324              	_tongdaoxuanze:
 325 019c 4149     		ldr r1, = 0x40000000
 326 019e 0161     		str r1, [r0, # 0x10]
 327 01a0 4149     		ldr r1, = 0x01
 328 01a2 8162     		str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 329 01a4 4149     		ldr r1, = 0x8c3 @ 0xc43		@TIM3 0x8c3 @0x2003 @0x8c3
 330 01a6 C160     		str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 331 01a8 0021     		movs r1, # 0
 332 01aa 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 333 01ac 8168     		ldr r1, [r0, # 0x08]
 334 01ae 404A     		ldr r2, = 0x04         @ 开始转换
 335 01b0 1143     		orrs r1, r1, r2
 336 01b2 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 337              	
 338              	
 339              	
 340              	
 341              		
 342 01b4 0120     		movs r0, # 1
 343 01b6 00F08EF8 		bl __pinlv_shezhi
 344 01ba 00F089FA 		bl __pin_lv_xian_shi
 345 01be 3D48     		ldr r0, = liangcheng
 346 01c0 0321     		movs r1, # 3
 347 01c2 0160     		str r1, [r0]
 348 01c4 3C48     		ldr r0, = shezhi_pinlv
ARM GAS  1.s 			page 8


 349 01c6 0121     		movs r1, # 1
 350 01c8 0160     		str r1, [r0]
 351 01ca 21E0     		b ting
 352              	
 353              	__dang_wei_jia:
 354 01cc 20E0     		b ting
 355              	__pin_lv_jia:
 356 01ce 3A4B     		ldr r3, = shezhi_pinlv
 357 01d0 1A68     		ldr r2, [r3]
 358 01d2 032A     		cmp r2, # 3
 359 01d4 01D3     		bcc __pinlv_1_2
 360 01d6 0A22     		movs r2, # 10
 361 01d8 00E0     		b __pinlv_jia_yanshi
 362              	__pinlv_1_2:
 363 01da 3222     		movs r2, # 50
 364              	__pinlv_jia_yanshi:	
 365 01dc 3748     		ldr r0, = pinlvjiayanshi
 366 01de 0168     		ldr r1, [r0]
 367 01e0 0131     		adds r1, r1, # 1
 368 01e2 0160     		str r1, [r0]
 369 01e4 9142     		cmp r1, r2
 370 01e6 08D1     		bne __pin_lv_fan_hui
 371 01e8 0021     		movs r1, # 0
 372 01ea 0160     		str r1, [r0]
 373 01ec 1968     		ldr r1, [r3]
 374 01ee 0131     		adds r1, r1, # 1
 375 01f0 1960     		str r1, [r3]
 376 01f2 0529     		cmp r1, # 5
 377 01f4 01D1     		bne __pin_lv_fan_hui
 378 01f6 0121     		movs r1, # 1
 379 01f8 1960     		str r1, [r3]
 380              	__pin_lv_fan_hui:
 381 01fa 2F48     	        ldr r0, = shezhi_pinlv
 382 01fc 0068     		ldr r0, [r0]
 383 01fe 00F06AF8 		bl __pinlv_shezhi
 384 0202 00F065FA 		bl __pin_lv_xian_shi
 385 0206 00F05FF8 		bl __an_jian
 386 020a 15E0     		b __cai_dan_diao_du
 387              	__an_jian3:
 388              	__an_jian0:
 389 020c 00F0FEF8 		bl __dma_cuowu
 390              	ting:
 391 0210 2A48     		ldr r0, = pinlvjiayanshi
 392 0212 0021     		movs r1, # 0
 393 0214 0160     		str r1, [r0]
 394 0216 00F0D9FA 		bl __jisuan_zukang
 395 021a 8E20     		movs r0, # 0x8e
 396 021c 254A     		ldr r2, = liangcheng
 397 021e 2849     		ldr r1, = zukang_danwei
 398 0220 1268     		ldr r2, [r2]
 399 0222 9200     		lsls r2, r2, # 2
 400 0224 8918     		adds r1, r1, r2
 401 0226 0222     		movs r2, # 2
 402 0228 00F050FC 		bl _lcdxianshi
 403 022c 00F026FB 		bl __xianshi_zukang
 404 0230 00F06DFB 		bl __xianshi_liangcheng
 405 0234 00F048F8 	        bl __an_jian
ARM GAS  1.s 			page 9


 406              	__cai_dan_diao_du:
 407 0238 8000     		lsls r0, r0, # 2
 408 023a 2249     		ldr r1, = an_jian_biao
 409 023c 0A58     		ldr r2, [r1, r0]
 410 023e 9746     		mov pc, r2
 411 0240 E6E7     		b ting
 412 0242 00000020 		.ltorg
 412      02400010 
 412      02400100 
 412      01000200 
 412      15000000 
 413              	
 414              	__an_jian:
 415 02c8 02B5     		push {r1,lr}
 416 02ca 3649     		ldr r1, = 0x48000010
 417 02cc 0868     		ldr r0, [r1]	@pa4
 418 02ce C043     		mvns r0, r0
 419 02d0 4007     		lsls r0, r0, # 29
 420 02d2 800F     		lsrs r0, r0, # 30
 421 02d4 02BD     		pop {r1,pc}
 422              	__pinlv_shezhi:
 423              		@入口R0
 424              		@1=100, 2=1KHZ, 3=10KHZ, 4=100KHZ
 425 02d6 06B5     		push {r1-r2,lr}
 426 02d8 3349     		ldr r1, = pinlv
 427 02da 0A68     		ldr r2, [r1]
 428 02dc 8242     		cmp r2, r0
 429 02de 16D0     		beq __pinlv_shezhi_fanhui
 430 02e0 0128     		cmp r0, # 1
 431 02e2 03D1     		bne __pl1
 432 02e4 0860     		str r0, [r1]
 433 02e6 00F013F8 		bl __pinlv_100
 434 02ea 10E0     		b __pinlv_shezhi_fanhui
 435              	__pl1:
 436 02ec 0228     		cmp r0, # 2
 437 02ee 03D1     		bne __pl2
 438 02f0 0860     		str r0, [r1]
 439 02f2 00F09DF8 		bl __pinlv_1K
 440 02f6 0AE0     		b __pinlv_shezhi_fanhui
 441              	__pl2:
 442 02f8 0328     		cmp r0, # 3
 443 02fa 03D1     		bne __pl3
 444 02fc 0860     		str r0, [r1]
 445 02fe 00F01DF9 		bl __pinlv_10K
 446 0302 04E0     		b __pinlv_shezhi_fanhui
 447              	__pl3:
 448 0304 0428     		cmp r0, # 4
 449 0306 02D1     		bne __pinlv_shezhi_fanhui
 450 0308 0860     		str r0, [r1]
 451 030a 00F093F9 		bl __pinlv_100K
 452              	__pinlv_shezhi_fanhui:
 453 030e 06BD     		pop {r1-r2,pc}
 454              	__pinlv_100:
 455 0310 0FB5     		push {r0-r3,lr}
 456 0312 2648     		ldr r0, = 0x40022000
 457 0314 2649     		ldr r1, = 0x800
 458 0316 C160     		str r1, [r0, # 0x0c]
ARM GAS  1.s 			page 10


 459 0318 2648     	        ldr r0, = 0xe000e010
 460 031a 0021     		movs r1, # 0
 461 031c 0160     		str r1, [r0]
 462 031e 2648     		ldr r0, = 0x40012408
 463              	__deng_adc_ting:	
 464 0320 0168     		ldr r1, [r0]
 465 0322 4906     		lsls r1, r1, # 25
 466 0324 FCD4     		bmi __deng_adc_ting
 467 0326 00F0CFF9 		bl __pinlv_yanshi
 468              		@tim1ch3DMA
 469 032a 2448     		ldr r0, = 0x40020000
 470 032c 0021     		movs r1, # 0
 471 032e 8165     		str r1, [r0, # 0x58]
 472 0330 8160     		str r1, [r0, # 0x08]
 473 0332 2349     		ldr r1, = 0x40012c3c @ 外设地址
 474 0334 0166     		str r1, [r0, # 0x60]
 475 0336 2349     		ldr r1, = zheng_xian_100hz @ 储存器地址
 476 0338 4166     		str r1, [r0, # 0x64]
 477 033a 2349     		ldr r1, = 1000             @点数
 478 033c C165     		str r1, [r0, # 0x5c]
 479 033e 2349     		ldr r1, = 0x35b1         @ 储存到外设
 480 0340 8165     		str r1, [r0, # 0x58]
 481              		
 482              	        @ adc dma
 483 0342 2349     		ldr r1, = 0x40012440
 484 0344 0161     		str r1, [r0, # 0x10]
 485 0346 2349     		ldr r1, = dianyabiao
 486 0348 4161     		str r1, [r0, # 0x14]
 487 034a 1F49     		ldr r1, = 1000
 488 034c C160     		str r1, [r0, # 0x0c]
 489 034e 2249     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 490 0350 8160     		str r1, [r0, # 0x08]
 491              		
 492              		@tim3chushihua:
 493 0352 224B     		ldr r3, = 0x40000400 @ tim3_cr1
 494 0354 224A     		ldr r2, = 0
 495 0356 9A62     		str r2, [r3, # 0x28] @ psc
 496 0358 224A     		ldr r2, = 559
 497 035a DA62     		str r2, [r3, # 0x2c] @ ARR
 498 035c 2022     		movs r2, # 0x20
 499 035e 5A60     		str r2, [r3, # 0x04] @ TRGO
 500 0360 0622     		movs r2, # 0x06
 501 0362 9A60     		str r2, [r3, # 0x08]
 502 0364 8022     		movs r2, # 0x80
 503              		@tim1chushiha:
 504 0366 2048     		ldr r0, = 0x40012c00 @ tim1_cr1
 505 0368 0021     		movs r1, # 0
 506 036a 8162     		str r1, [r0, # 0x28] @ psc
 507 036c 1D49     		ldr r1, = 559
 508 036e C162     		str r1, [r0, # 0x2c] @ ARR
 509 0370 2021     		movs r1, # 0x20
 510 0372 4160     		str r1, [r0, # 0x04] @ TRGO
 511 0374 1D49     		ldr r1, = 0x68
 512 0376 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 513 0378 1D49     		ldr r1, = 0x100    @  CC3
 514 037a 0162     		str r1, [r0, # 0x20] @ ccer
 515 037c 1D49     		ldr r1, = 0x8000
ARM GAS  1.s 			page 11


 516 037e 4164     		str r1, [r0, # 0x44] @ BDTR
 517 0380 0B49     		ldr r1, = 0x800 @ CC3 DMA
 518 0382 C160     		str r1, [r0, # 0x0c] @ DIER
 519 0384 1C49     		ldr r1, = 0x81
 520 0386 0160     		str r1, [r0]
 521 0388 1A60     		str r2, [r3]
 522 038a 0A48     		ldr r0, = 0xe000e010
 523 038c 1B49     		ldr r1, = 559999
 524 038e 4160     		str r1, [r0, # 4]
 525 0390 8160     		str r1, [r0, # 8]
 526 0392 0721     		movs r1, # 0x07
 527 0394 0160     		str r1, [r0]    @systick 开
 528 0396 1A48     	        ldr r0, = cossin
 529 0398 1A49     		ldr r1, = cos_sin_biao_100_1k
 530 039a 0160     		str r1, [r0]
 531 039c 1A48     		ldr r0, = lcd_beiguang
 532 039e C021     		movs r1, # 0xc0
 533 03a0 0160     		str r1, [r0]
 534 03a2 0FBD     		pop {r0-r3,pc}
 535 03a4 10000048 		.ltorg
 535      70000020 
 535      00200240 
 535      00080000 
 535      10E000E0 
 536              	
 537              	__dma_cuowu: 			@pl_dd
 538 040c 03B5     		push {r0,r1,lr}
 539 040e 2D48     		ldr r0, = dianyabiao
 540 0410 2D49     		ldr r1, = dmacuowu
 541 0412 0068     		ldr r0, [r0]
 542 0414 0A68     		ldr r2, [r1]
 543 0416 9042     		cmp r0, r2
 544 0418 0860     		str r0, [r1]
 545 041a 08D1     		bne __dma_cuowu_fanhui
 546 041c 2B48     	        ldr r0, = 0x40021000
 547 041e 2C49     		ldr r1, = 0x60000
 548 0420 4161     		str r1, [r0, # 0x14]
 549 0422 0131     		adds r1, r1, # 1
 550 0424 4161     		str r1, [r0, # 0x14]
 551 0426 2B48     		ldr r0, = pinlv
 552 0428 0068     		ldr r0, [r0]
 553 042a FFF754FF 		bl __pinlv_shezhi
 554              	__dma_cuowu_fanhui:
 555 042e 03BD     		pop {r0,r1,pc}
 556              		
 557              		
 558              	
 559              	
 560              	
 561              		
 562              	__pinlv_1K:
 563 0430 0FB5     		push {r0-r3,lr}
 564 0432 2948     		ldr r0, = 0x40022000
 565 0434 2949     		ldr r1, = 0x800
 566 0436 C160     		str r1, [r0, # 0x0c]
 567 0438 2948     	        ldr r0, = 0xe000e010
 568 043a 0021     		movs r1, # 0
ARM GAS  1.s 			page 12


 569 043c 0160     		str r1, [r0]
 570 043e 2948     	        ldr r0, = 0x40012408
 571              	__deng_adc_ting1:
 572 0440 0168     		ldr r1, [r0]
 573 0442 4906     		lsls r1, r1, # 25
 574 0444 FCD4     		bmi __deng_adc_ting1
 575 0446 00F03FF9 		bl __pinlv_yanshi
 576              		@tim1ch3DMA
 577 044a 2748     		ldr r0, = 0x40020000
 578 044c 0021     		movs r1, # 0
 579 044e 8165     		str r1, [r0, # 0x58]
 580 0450 8160     		str r1, [r0, # 0x08]
 581 0452 2649     		ldr r1, = 0x40012c3c @ 外设地址
 582 0454 0166     		str r1, [r0, # 0x60]
 583 0456 2649     		ldr r1, = zheng_xian_1khz @ 储存器地址
 584 0458 4166     		str r1, [r0, # 0x64]
 585 045a 2649     		ldr r1, = 200             @点数
 586 045c C165     		str r1, [r0, # 0x5c]
 587 045e 2649     		ldr r1, = 0x35b1         @ 储存到外设
 588 0460 8165     		str r1, [r0, # 0x58]
 589              		@ adc dma
 590 0462 2649     		ldr r1, = 0x40012440
 591 0464 0161     		str r1, [r0, # 0x10]
 592 0466 1749     		ldr r1, = dianyabiao
 593 0468 4161     		str r1, [r0, # 0x14]
 594 046a 2549     		ldr r1, = 1000
 595 046c C160     		str r1, [r0, # 0x0c]
 596 046e 2549     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 597 0470 8160     		str r1, [r0, # 0x08]
 598              		
 599              		
 600              		@tim3chushihua:
 601 0472 254B     		ldr r3, = 0x40000400 @ tim3_cr1
 602 0474 254A     		ldr r2, = 0
 603 0476 9A62     		str r2, [r3, # 0x28] @ psc
 604 0478 254A     		ldr r2, = 559
 605 047a DA62     		str r2, [r3, # 0x2c] @ ARR
 606 047c 2022     		movs r2, # 0x20
 607 047e 5A60     		str r2, [r3, # 0x04] @ TRGO
 608 0480 0622     		movs r2, # 0x06
 609 0482 9A60     		str r2, [r3, # 0x08]
 610 0484 8022     		movs r2, # 0x80
 611              		@tim1chushiha:
 612 0486 2348     		ldr r0, = 0x40012c00 @ tim1_cr1
 613 0488 0021     		movs r1, # 0
 614 048a 8162     		str r1, [r0, # 0x28] @ psc
 615 048c 2249     		ldr r1, = 279
 616 048e C162     		str r1, [r0, # 0x2c] @ ARR
 617 0490 2021     		movs r1, # 0x20
 618 0492 4160     		str r1, [r0, # 0x04] @ TRGO
 619 0494 2149     		ldr r1, = 0x68
 620 0496 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 621 0498 2149     		ldr r1, = 0x100    @  CC3
 622 049a 0162     		str r1, [r0, # 0x20] @ ccer
 623 049c 2149     		ldr r1, = 0x8000
 624 049e 4164     		str r1, [r0, # 0x44] @ BDTR
 625 04a0 0E49     		ldr r1, = 0x800 @ CC3 DMA
ARM GAS  1.s 			page 13


 626 04a2 C160     		str r1, [r0, # 0x0c] @ DIER
 627 04a4 2049     		ldr r1, = 0x81
 628 04a6 0160     		str r1, [r0]
 629 04a8 1A60     		str r2, [r3]
 630 04aa 0D48     	        ldr r0, = 0xe000e010
 631 04ac 1F49     		ldr r1, = 559999
 632 04ae 4160     		str r1, [r0, # 4]
 633 04b0 8160     		str r1, [r0, # 8]
 634 04b2 0721     		movs r1, # 0x07
 635 04b4 0160     		str r1, [r0]    @systick 开
 636 04b6 1E48     		ldr r0, = cossin
 637 04b8 1E49     		ldr r1, = cos_sin_biao_10k
 638 04ba 0160     		str r1, [r0]
 639 04bc 1E48     		ldr r0, = lcd_beiguang
 640 04be C021     		movs r1, # 0xc0
 641 04c0 0160     		str r1, [r0]
 642 04c2 0FBD     		pop {r0-r3,pc}
 643 04c4 00010020 		.ltorg
 643      84000020 
 643      00100240 
 643      00000600 
 643      70000020 
 644              	
 645              		
 646              	__pinlv_10K:
 647 053c 0FB5     		push {r0-r3,lr}
 648 053e 2448     		ldr r0, = 0x40022000
 649 0540 2449     		ldr r1, = 0x800
 650 0542 C160     		str r1, [r0, # 0x0c]
 651 0544 2448     	        ldr r0, = 0xe000e010
 652 0546 0021     		movs r1, # 0
 653 0548 0160     		str r1, [r0]
 654 054a 2448     	        ldr r0, = 0x40012408
 655              	__deng_adc_ting2:
 656 054c 0168     		ldr r1, [r0]
 657 054e 4906     		lsls r1, r1, # 25
 658 0550 FCD4     		bmi __deng_adc_ting2
 659 0552 00F0B9F8 		bl __pinlv_yanshi
 660              		@tim1ch3DMA
 661 0556 2248     		ldr r0, = 0x40020000
 662 0558 0021     		movs r1, # 0
 663 055a 8165     		str r1, [r0, # 0x58]
 664 055c 8160     		str r1, [r0, # 0x08]
 665 055e 2149     		ldr r1, = 0x40012c3c @ 外设地址
 666 0560 0166     		str r1, [r0, # 0x60]
 667 0562 2149     		ldr r1, = zheng_xian_10khz @ 储存器地址
 668 0564 4166     		str r1, [r0, # 0x64]
 669 0566 2149     		ldr r1, = 200             @点数
 670 0568 C165     		str r1, [r0, # 0x5c]
 671 056a 2149     		ldr r1, = 0x31b1         @ 储存到外设
 672 056c 8165     		str r1, [r0, # 0x58]
 673              		@ adc dma
 674 056e 2149     		ldr r1, = 0x40012440
 675 0570 0161     		str r1, [r0, # 0x10]
 676 0572 2149     		ldr r1, = dianyabiao
 677 0574 4161     		str r1, [r0, # 0x14]
 678 0576 2149     		ldr r1, = 1000
ARM GAS  1.s 			page 14


 679 0578 C160     		str r1, [r0, # 0x0c]
 680 057a 2149     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 681 057c 8160     		str r1, [r0, # 0x08]
 682              		
 683              		@tim3chushihua:
 684 057e 214B     		ldr r3, = 0x40000400 @ tim3_cr1
 685 0580 214A     		ldr r2, = 0
 686 0582 9A62     		str r2, [r3, # 0x28] @ psc
 687 0584 214A     		ldr r2, = 27
 688 0586 DA62     		str r2, [r3, # 0x2c] @ ARR
 689 0588 2022     		movs r2, # 0x20
 690 058a 5A60     		str r2, [r3, # 0x04] @ TRGO
 691 058c 0622     		movs r2, # 0x06
 692 058e 9A60     		str r2, [r3, # 0x08]
 693 0590 8022     		movs r2, # 0x80
 694              		@tim1chushiha:
 695 0592 1F48     		ldr r0, = 0x40012c00 @ tim1_cr1
 696 0594 0021     		movs r1, # 0
 697 0596 8162     		str r1, [r0, # 0x28] @ psc
 698 0598 1C49     		ldr r1, = 27
 699 059a C162     		str r1, [r0, # 0x2c] @ ARR
 700 059c 2021     		movs r1, # 0x20
 701 059e 4160     		str r1, [r0, # 0x04] @ TRGO
 702 05a0 1C49     		ldr r1, = 0x68
 703 05a2 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 704 05a4 1C49     		ldr r1, = 0x100    @  CC3
 705 05a6 0162     		str r1, [r0, # 0x20] @ ccer
 706 05a8 1C49     		ldr r1, = 0x8000
 707 05aa 4164     		str r1, [r0, # 0x44] @ BDTR
 708 05ac 0949     		ldr r1, = 0x800 @ CC3 DMA
 709 05ae C160     		str r1, [r0, # 0x0c] @ DIER
 710 05b0 1B49     		ldr r1, = 0x81
 711 05b2 0160     		str r1, [r0]
 712 05b4 1A60     		str r2, [r3]
 713 05b6 0848     		ldr r0, = 0xe000e010
 714 05b8 1A49     		ldr r1, = 55999
 715 05ba 4160     		str r1, [r0, # 4]
 716 05bc 8160     		str r1, [r0, # 8]
 717 05be 0721     		movs r1, # 0x07
 718 05c0 0160     		str r1, [r0]    @systick 开
 719 05c2 1948     	        ldr r0, = cossin
 720 05c4 1949     		ldr r1, = cos_sin_biao_10k
 721 05c6 0160     		str r1, [r0]
 722 05c8 1948     		ldr r0, = lcd_beiguang
 723 05ca 8021     		movs r1, # 0x80
 724 05cc 0160     		str r1, [r0]
 725 05ce 0FBD     		pop {r0-r3,pc}
 726 05d0 00200240 		.ltorg
 726      00080000 
 726      10E000E0 
 726      08240140 
 726      00000240 
 727              	__pinlv_100K:
 728 0634 0FB5     		push {r0-r3,lr}
 729 0636 2D48     		ldr r0, = 0x40022000
 730 0638 2D49     		ldr r1, = 0x800
 731 063a C160     		str r1, [r0, # 0x0c]
ARM GAS  1.s 			page 15


 732 063c 2D48     	        ldr r0, = 0xe000e010
 733 063e 0021     		movs r1, # 0
 734 0640 0160     		str r1, [r0]
 735 0642 2D48     	        ldr r0, = 0x40012408
 736              	__deng_adc_ting3:
 737 0644 0168     		ldr r1, [r0]
 738 0646 4906     		lsls r1, r1, # 25
 739 0648 FCD4     		bmi __deng_adc_ting3
 740 064a 00F03DF8 		bl __pinlv_yanshi
 741              	        @tim1ch3DMA
 742 064e 2B48     		ldr r0, = 0x40020000
 743 0650 0021     		movs r1, # 0
 744 0652 8165     		str r1, [r0, # 0x58]
 745 0654 8160     		str r1, [r0, # 0x08]
 746 0656 2A49     		ldr r1, = 0x40012c3c @ 外设地址
 747 0658 0166     		str r1, [r0, # 0x60]
 748 065a 2A49     		ldr r1, = zheng_xian_100khz @ 储存器地址
 749 065c 4166     		str r1, [r0, # 0x64]
 750 065e 2A49     		ldr r1, = 20             @点数
 751 0660 C165     		str r1, [r0, # 0x5c]
 752 0662 2A49     		ldr r1, = 0x31b1         @ 储存到外设
 753 0664 8165     		str r1, [r0, # 0x58]
 754              		@ adc dma
 755 0666 2A49     		ldr r1, = 0x40012440
 756 0668 0161     		str r1, [r0, # 0x10]
 757 066a 2A49     		ldr r1, = dianyabiao
 758 066c 4161     		str r1, [r0, # 0x14]
 759 066e 2A49     		ldr r1, = 1000
 760 0670 C160     		str r1, [r0, # 0x0c]
 761 0672 2A49     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 762 0674 8160     		str r1, [r0, # 0x08]
 763              		
 764              	@tim3chushihua:
 765 0676 2A4B     		ldr r3, = 0x40000400 @ tim3_cr1
 766 0678 2A4A     		ldr r2, = 0
 767 067a 9A62     		str r2, [r3, # 0x28] @ psc
 768 067c 2A4A     		ldr r2, = 27
 769 067e DA62     		str r2, [r3, # 0x2c] @ ARR
 770 0680 2022     		movs r2, # 0x20
 771 0682 5A60     		str r2, [r3, # 0x04] @ TRGO
 772 0684 0622     		movs r2, # 0x06
 773 0686 9A60     		str r2, [r3, # 0x08]
 774 0688 8022     		movs r2, # 0x80
 775              	@tim1chushiha:
 776 068a 2848     		ldr r0, = 0x40012c00 @ tim1_cr1
 777 068c 0021     		movs r1, # 0
 778 068e 8162     		str r1, [r0, # 0x28] @ psc
 779 0690 2549     		ldr r1, = 27
 780 0692 C162     		str r1, [r0, # 0x2c] @ ARR
 781 0694 2021     		movs r1, # 0x20
 782 0696 4160     		str r1, [r0, # 0x04] @ TRGO
 783 0698 2549     		ldr r1, = 0x68
 784 069a C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 785 069c 2549     		ldr r1, = 0x100    @  CC3
 786 069e 0162     		str r1, [r0, # 0x20] @ ccer
 787 06a0 2549     		ldr r1, = 0x8000
 788 06a2 4164     		str r1, [r0, # 0x44] @ BDTR
ARM GAS  1.s 			page 16


 789 06a4 1249     		ldr r1, = 0x800 @ CC3 DMA
 790 06a6 C160     		str r1, [r0, # 0x0c] @ DIER
 791 06a8 2449     		ldr r1, = 0x81
 792 06aa 0160     		str r1, [r0]
 793 06ac 1A60     		str r2, [r3]
 794 06ae 1148     		ldr r0, = 0xe000e010
 795 06b0 2349     		ldr r1, = 55999
 796 06b2 4160     		str r1, [r0, # 4]
 797 06b4 8160     		str r1, [r0, # 8]
 798 06b6 0721     		movs r1, # 0x07
 799 06b8 0160     		str r1, [r0]    @systick 开
 800 06ba 2248     		ldr r0, = cossin
 801 06bc 2249     		ldr r1, = cos_sin_biao_100k
 802 06be 0160     		str r1, [r0]
 803 06c0 2248     		ldr r0, = lcd_beiguang
 804 06c2 0021     		movs r1, # 0
 805 06c4 0160     		str r1, [r0]
 806 06c6 0FBD     		pop {r0-r3,pc}
 807              	__pinlv_yanshi:
 808 06c8 2148     		ldr r0, = 0x1ffff
 809              	__pinlv_yanshi_xunhuan:
 810 06ca 0138     		subs r0, r0, # 1
 811 06cc FDD1     		bne __pinlv_yanshi_xunhuan
 812 06ce F746     		mov pc, lr
 813              	__pin_lv_xian_shi:
 814 06d0 0FB5     		push {r0-r3,lr}
 815 06d2 2048     		ldr r0, = pinlv
 816 06d4 0121     		movs r1, # 1
 817 06d6 0068     		ldr r0, [r0]
 818 06d8 1F4A     		ldr r2, = asciimabiao
 819 06da FF23     		movs r3, # 0xff
 820 06dc 00F03CFA 		bl _zhuanascii
 821 06e0 8020     		movs r0, # 0x80
 822 06e2 1D49     		ldr r1, = asciimabiao
 823 06e4 0122     		movs r2, # 1
 824 06e6 00F0F1F9 		bl _lcdxianshi
 825 06ea 0FBD     		pop {r0-r3,pc}
 826 06ec 00200240 		.ltorg
 826      00080000 
 826      10E000E0 
 826      08240140 
 826      00000240 
 827              		
 828              	__jisuan_z_fudu:
 829 075c 07B5     		push {r0-r2,lr}
 830 075e 3648     		ldr r0, = xiabi_rr
 831 0760 3649     		ldr r1, = xiabi_ii
 832 0762 0068     		ldr r0, [r0]
 833 0764 0968     		ldr r1, [r1]
 834 0766 4012     		asrs r0, r0, # 9
 835 0768 4912     		asrs r1, r1, # 9
 836 076a 00F042F8 		bl __ji_suan_fu_du
 837 076e 0246     		mov r2, r0
 838 0770 3348     		ldr r0, = shangbi_rr
 839 0772 3449     		ldr r1, = shangbi_ii
 840 0774 0068     		ldr r0, [r0]
 841 0776 0968     		ldr r1, [r1]
ARM GAS  1.s 			page 17


 842 0778 4012     		asrs r0, r0, # 9
 843 077a 4912     		asrs r1, r1, # 9
 844 077c 00F039F8 		bl __ji_suan_fu_du
 845 0780 1146     		mov r1, r2
 846 0782 314A     		ldr r2, = 1000
 847 0784 5043     		muls r0, r0, r2
 848 0786 00F0E4FA 		bl _chufa
 849 078a 3049     		ldr r1, = z_fudu
 850 078c 4009     		lsrs r0, r0, # 5
 851 078e 0860     		str r0, [r1]
 852 0790 07BD     		pop {r0-r2,pc}
 853              		
 854              	__zidong_dangwei:
 855 0792 0FB5     		push {r0-r3,lr}
 856              	__huan_dang:
 857 0794 2D48     		ldr r0, = z_fudu
 858 0796 0068     		ldr r0, [r0]
 859 0798 2D4B     		ldr r3, =  900
 860 079a 5B09     		lsrs r3, r3, # 5
 861 079c 9842     		cmp r0, r3
 862 079e 0CD3     		bcc __dang_wei_jian
 863 07a0 2C4B     		ldr r3, =  5000
 864 07a2 5B09     		lsrs r3, r3, # 5
 865 07a4 9842     		cmp r0, r3
 866 07a6 10D3     		bcc __zi_dong_dang_wei_fan_hui
 867 07a8 2B48     		ldr r0, = liangcheng
 868 07aa 0168     		ldr r1, [r0]
 869 07ac 0131     		adds r1, r1, # 1
 870 07ae 0160     		str r1, [r0]
 871 07b0 0629     		cmp r1, # 6
 872 07b2 0AD1     		bne __zi_dong_dang_wei_fan_hui
 873 07b4 0521     		movs r1, # 5
 874 07b6 0160     		str r1, [r0]
 875 07b8 07E0     		b __zi_dong_dang_wei_fan_hui
 876              	__dang_wei_jian:
 877 07ba 2748     		ldr r0, = liangcheng
 878 07bc 0168     		ldr r1, [r0]
 879 07be 0139     		subs r1, r1, # 1
 880 07c0 0160     		str r1, [r0]
 881 07c2 FF29     		cmp r1, # 0xff
 882 07c4 01D3     		bcc __zi_dong_dang_wei_fan_hui
 883 07c6 0021     		movs r1, # 0
 884 07c8 0160     		str r1, [r0]
 885              	__zi_dong_dang_wei_fan_hui:
 886 07ca 0FBD     		pop {r0-r3,pc}
 887              	
 888              	__jisuan_zukang:
 889 07cc 1FB5     		push {r0-r4,lr}
 890 07ce 2348     		ldr r0, = shangbi_r
 891 07d0 2349     		ldr r1, = shangbi_i
 892 07d2 244A     		ldr r2, = xiabi_r
 893 07d4 244B     		ldr r3, = xiabi_i
 894 07d6 1C4C     		ldr r4, = 1000
 895 07d8 0068     		ldr r0, [r0]
 896 07da 0968     		ldr r1, [r1]
 897 07dc 1268     		ldr r2, [r2]
 898 07de 1B68     		ldr r3, [r3]
ARM GAS  1.s 			page 18


 899 07e0 6043     		muls r0, r0, r4
 900 07e2 6143     		muls r1, r1, r4
 901 07e4 00F0D1F9 		bl __fu_shu_chu_fa
 902 07e8 2048     		ldr r0, = z_r
 903 07ea 214B     		ldr r3, = z_i
 904 07ec 1960     		str r1, [r3]
 905 07ee 0260     		str r2, [r0]
 906 07f0 1FBD     		pop {r0-r4,pc}
 907              		
 908              	__ji_suan_fu_du:	    @ 计算幅度
 909              		@ 入r0= 实部，r1= 虚部
 910              		@ 出r0 = 幅度
 911              		@ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
 912              		@ Alpha * Max + Beta * Min
 913 07f2 0EB5     		push {r1-r3,lr}
 914 07f4 0000     		movs r0, r0
 915 07f6 01D5     		bpl _shibubushifushu
 916 07f8 C043     		mvns r0, r0                             @ 是负数转成正数
 917 07fa 0130     		adds r0, r0, # 1
 918              	_shibubushifushu:	                               @ 实部不是负数
 919 07fc 0900     		movs r1, r1
 920 07fe 01D5     		bpl _xububushifushu
 921 0800 C943     		mvns r1, r1                             @ 是负数转成正数
 922 0802 0131     		adds r1, r1, # 1
 923              	_xububushifushu:	                                @ 虚部不是负数
 924 0804 0028     		cmp r0, # 0
 925 0806 01D1     		bne _panduanxubushibushi0
 926 0808 0846     		mov r0, r1
 927 080a 0EBD     		pop {r1-r3,pc}
 928              	_panduanxubushibushi0:
 929 080c 0029     		cmp r1, # 0
 930 080e 00D1     		bne _jisuanfudu1
 931 0810 0EBD     		pop {r1-r3,pc}
 932              	_jisuanfudu1:
 933 0812 184A     		ldr r2, = 31066		@ Alpha q15 0.948059448969
 934 0814 184B     		ldr r3, = 12867		@ Beta q15 0.392699081699
 935 0816 8142     		cmp r1, r0
 936 0818 06D8     		bhi _alpha_min_beta_max
 937              	_alpha_max_beta_min:
 938 081a 5043     		muls r0, r0, r2
 939 081c 5943     		muls r1, r1, r3
 940 081e C013     		asrs r0, r0, # 15
 941 0820 C913     		asrs r1, r1, # 15
 942 0822 4018     		adds r0, r0, r1
 943 0824 0121     		movs r1, # 1
 944 0826 0EBD     		pop {r1-r3,pc}
 945              	_alpha_min_beta_max:
 946 0828 5843     		muls r0, r0, r3
 947 082a 5143     		muls r1, r1, r2
 948 082c C013     		asrs r0, r0, # 15
 949 082e C913     		asrs r1, r1, # 15
 950 0830 4018     		adds r0, r0, r1
 951 0832 0021     		movs r1, # 0
 952 0834 0EBD     		pop {r1-r3,pc}
 953 0836 00005800 		.ltorg
 953      00205C00 
 953      00205000 
ARM GAS  1.s 			page 19


 953      00205400 
 953      0020E803 
 954              	__xianshi_zukang:
 955 087c 3FB5     		push {r0-r5,lr}
 956 087e 824C     		ldr r4, = z_r
 957 0880 824D     		ldr r5, = z_i
 958 0882 2468     		ldr r4, [r4]
 959 0884 2D68     		ldr r5, [r5]
 960 0886 8249     		ldr r1, = liangcheng
 961 0888 8248     		ldr r0, = zukang_huansuan_biao
 962 088a 0968     		ldr r1, [r1]
 963 088c 8900     		lsls r1, r1, # 2
 964 088e 4058     		ldr r0, [r0, r1]
 965 0890 4443     		muls r4, r4, r0
 966 0892 4543     		muls r5, r5, r0
 967 0894 E413     		asrs r4, r4, # 15
 968 0896 ED13     		asrs r5, r5, # 15
 969 0898 2400     		movs r4, r4
 970 089a 07D5     		bpl aaa1
 971 089c 8220     		movs r0, # 0x82
 972 089e 7E49     		ldr r1, = _fu
 973 08a0 0122     		movs r2, # 1
 974 08a2 00F013F9 		bl _lcdxianshi
 975 08a6 E443     		mvns r4, r4
 976 08a8 0134     		adds r4, r4, # 1
 977 08aa 04E0     		b aaa2
 978              	aaa1:
 979 08ac 8220     		movs r0, # 0x82
 980 08ae 7B49     		ldr r1, = kong
 981 08b0 0122     		movs r2, # 1
 982 08b2 00F00BF9 		bl _lcdxianshi
 983              	aaa2:
 984 08b6 2046     		mov r0, r4
 985 08b8 0521     		movs r1, # 5
 986 08ba 794A     		ldr r2, = asciimabiao
 987 08bc 794C     	        ldr r4, = zukang_xiaoshu_dian
 988 08be 744B     		ldr r3, = liangcheng
 989 08c0 1B68     		ldr r3, [r3]
 990 08c2 E35C     		ldrb r3, [r4, r3]
 991 08c4 00F048F9 		bl _zhuanascii
 992 08c8 8320     		movs r0, # 0x83
 993 08ca 7549     		ldr r1, = asciimabiao
 994 08cc 0522     		movs r2, # 5
 995 08ce 00F0FDF8 		bl _lcdxianshi
 996              	
 997              	
 998 08d2 2C00     		movs r4, r5
 999 08d4 07D5     		bpl bbb1
 1000 08d6 8820     		movs r0, # 0x88
 1001 08d8 6F49     		ldr r1, = _fu
 1002 08da 0122     		movs r2, # 1
 1003 08dc 00F0F6F8 		bl _lcdxianshi
 1004 08e0 E443     		mvns r4, r4
 1005 08e2 0134     		adds r4, r4, # 1
 1006 08e4 04E0     		b bbb2
 1007              	bbb1:
 1008 08e6 8820     		movs r0, # 0x88
ARM GAS  1.s 			page 20


 1009 08e8 6C49     		ldr r1, = kong
 1010 08ea 0122     		movs r2, # 1
 1011 08ec 00F0EEF8 		bl _lcdxianshi
 1012              	bbb2:
 1013 08f0 2046     		mov r0, r4
 1014 08f2 0521     		movs r1, # 5
 1015 08f4 6A4A     		ldr r2, = asciimabiao
 1016 08f6 6B4D     		ldr r5, = zukang_xiaoshu_dian
 1017 08f8 654B     		ldr r3, = liangcheng
 1018 08fa 1B68     		ldr r3, [r3]
 1019 08fc EB5C     		ldrb r3, [r5, r3]
 1020 08fe 00F02BF9 		bl _zhuanascii
 1021 0902 8920     		movs r0, # 0x89
 1022 0904 6649     		ldr r1, = asciimabiao
 1023 0906 0522     		movs r2, # 5
 1024 0908 00F0E0F8 		bl _lcdxianshi
 1025 090c 3FBD     		pop {r0-r5,pc}
 1026              	
 1027              	
 1028              	__xianshi_liangcheng:
 1029 090e 0FB5     		push {r0-r3,lr}
 1030 0910 5F48     	        ldr r0, = liangcheng
 1031 0912 0221     		movs r1, # 2
 1032 0914 0068     		ldr r0, [r0]
 1033 0916 624A     		ldr r2, = asciimabiao
 1034 0918 FF23     		movs r3, # 0xff
 1035 091a 00F01DF9 		bl _zhuanascii
 1036 091e C020     		movs r0, # 0xc0
 1037 0920 5F49     		ldr r1, = asciimabiao
 1038 0922 0222     		movs r2, # 2
 1039 0924 00F0D2F8 		bl _lcdxianshi
 1040 0928 0FBD     		pop {r0-r3,pc}
 1041              		
 1042              	__xianshi_shangxia_bi:
 1043 092a FFB5     		push {r0-r7,lr}
 1044 092c 5E48     		ldr r0, = shangbi_r
 1045 092e 5F4A     		ldr r2, = shangbi_i
 1046 0930 0168     		ldr r1, [r0]
 1047 0932 1768     		ldr r7, [r2]
 1048 0934 0C00     		movs r4, r1
 1049 0936 07D5     		bpl aa1
 1050 0938 8020     		movs r0, # 0x80
 1051 093a 5749     		ldr r1, = _fu
 1052 093c 0122     		movs r2, # 1
 1053 093e 00F0C5F8 		bl _lcdxianshi
 1054 0942 E443     		mvns r4, r4
 1055 0944 0134     		adds r4, r4, # 1
 1056 0946 04E0     		b aa2
 1057              	aa1:
 1058 0948 8020     		movs r0, # 0x80
 1059 094a 5449     		ldr r1, = kong
 1060 094c 0122     		movs r2, # 1
 1061 094e 00F0BDF8 		bl _lcdxianshi
 1062              	aa2:
 1063 0952 2046     		mov r0, r4
 1064 0954 0521     		movs r1, # 5
 1065 0956 524A     		ldr r2, = asciimabiao
ARM GAS  1.s 			page 21


 1066 0958 FF23     		movs r3, # 0xff
 1067 095a 00F0FDF8 		bl _zhuanascii
 1068 095e 8120     		movs r0, # 0x81
 1069 0960 4F49     		ldr r1, = asciimabiao
 1070 0962 0522     		movs r2, # 5
 1071 0964 00F0B2F8 		bl _lcdxianshi
 1072              	
 1073              	
 1074 0968 3C00     		movs r4, r7
 1075 096a 07D5     		bpl bb1
 1076 096c 8A20     		movs r0, # 0x8a
 1077 096e 4A49     		ldr r1, = _fu
 1078 0970 0122     		movs r2, # 1
 1079 0972 00F0ABF8 		bl _lcdxianshi
 1080 0976 E443     		mvns r4, r4
 1081 0978 0134     		adds r4, r4, # 1
 1082 097a 04E0     		b bb2
 1083              	bb1:
 1084 097c 8A20     		movs r0, # 0x8a
 1085 097e 4749     		ldr r1, = kong
 1086 0980 0122     		movs r2, # 1
 1087 0982 00F0A3F8 		bl _lcdxianshi
 1088              	bb2:
 1089 0986 2046     		mov r0, r4
 1090 0988 0521     		movs r1, # 5
 1091 098a 454A     		ldr r2, = asciimabiao
 1092 098c FF23     		movs r3, # 0xff
 1093 098e 00F0E3F8 		bl _zhuanascii
 1094 0992 8B20     		movs r0, # 0x8b
 1095 0994 4249     		ldr r1, = asciimabiao
 1096 0996 0522     		movs r2, # 5
 1097 0998 00F098F8 		bl _lcdxianshi
 1098              	
 1099 099c 4448     	        ldr r0, = xiabi_r
 1100 099e 454A     		ldr r2, = xiabi_i
 1101 09a0 0168     		ldr r1, [r0]
 1102 09a2 1768     		ldr r7, [r2]
 1103 09a4 0C00     		movs r4, r1
 1104 09a6 07D5     		bpl cc1
 1105 09a8 C020     		movs r0, # 0xc0
 1106 09aa 3B49     		ldr r1, = _fu
 1107 09ac 0122     		movs r2, # 1
 1108 09ae 00F08DF8 		bl _lcdxianshi
 1109 09b2 E443     		mvns r4, r4
 1110 09b4 0134     		adds r4, r4, # 1
 1111 09b6 04E0     		b cc2
 1112              	cc1:
 1113 09b8 C020     		movs r0, # 0xc0
 1114 09ba 3849     		ldr r1, = kong
 1115 09bc 0122     		movs r2, # 1
 1116 09be 00F085F8 		bl _lcdxianshi
 1117              	cc2:
 1118 09c2 2046     		mov r0, r4
 1119 09c4 0521     		movs r1, # 5
 1120 09c6 364A     		ldr r2, = asciimabiao
 1121 09c8 FF23     		movs r3, # 0xff
 1122 09ca 00F0C5F8 		bl _zhuanascii
ARM GAS  1.s 			page 22


 1123 09ce C120     		movs r0, # 0xc1
 1124 09d0 3349     		ldr r1, = asciimabiao
 1125 09d2 0522     		movs r2, # 5
 1126 09d4 00F07AF8 		bl _lcdxianshi
 1127              	
 1128              	
 1129 09d8 3C00     		movs r4, r7
 1130 09da 07D5     		bpl dd1
 1131 09dc CA20     		movs r0, # 0xca
 1132 09de 2E49     		ldr r1, = _fu
 1133 09e0 0122     		movs r2, # 1
 1134 09e2 00F073F8 		bl _lcdxianshi
 1135 09e6 E443     		mvns r4, r4
 1136 09e8 0134     		adds r4, r4, # 1
 1137 09ea 04E0     		b dd2
 1138              	dd1:
 1139 09ec CA20     		movs r0, # 0xca
 1140 09ee 2B49     		ldr r1, = kong
 1141 09f0 0122     		movs r2, # 1
 1142 09f2 00F06BF8 		bl _lcdxianshi
 1143              	dd2:
 1144 09f6 2046     		mov r0, r4
 1145 09f8 0521     		movs r1, # 5
 1146 09fa 294A     		ldr r2, = asciimabiao
 1147 09fc FF23     		movs r3, # 0xff
 1148 09fe 00F0ABF8 		bl _zhuanascii
 1149 0a02 CB20     		movs r0, # 0xcb
 1150 0a04 2649     		ldr r1, = asciimabiao
 1151 0a06 0522     		movs r2, # 5
 1152 0a08 00F060F8 		bl _lcdxianshi
 1153 0a0c FFBD     		pop {r0-r7,pc}
 1154              	
 1155              	__dft:
 1156 0a0e FCB5     		push {r2-r7,lr}
 1157 0a10 4246     		mov r2, r8
 1158 0a12 4B46     		mov r3, r9
 1159 0a14 0CB4     		push {r2-r3}
 1160 0a16 2849     		ldr r1, = 0x12345678
 1161 0a18 8946     		mov r9, r1
 1162 0a1a 2848     		ldr r0, = dianyabiao
 1163 0a1c 2849     		ldr r1, = cossin
 1164 0a1e 0968     		ldr r1, [r1]
 1165 0a20 284B     		ldr r3, = 1984	@ 点数*2-16
 1166 0a22 294C     		ldr r4, = 2048
 1167 0a24 1B18     		adds r3, r3, r0
 1168 0a26 9846     		mov r8, r3
 1169 0a28 0022     		movs r2, # 0
 1170 0a2a 1746     		mov r7, r2
 1171              	__dft_xunhuan:
 1172 0a2c 0388     		ldrh r3, [r0]
 1173 0a2e 0D68     		ldr r5, [r1]
 1174 0a30 4D45     		cmp r5, r9
 1175 0a32 02D1     		bne __du_sin
 1176 0a34 2249     		ldr r1, = cossin
 1177 0a36 0968     		ldr r1, [r1]
 1178 0a38 0D68     		ldr r5, [r1]
 1179              	__du_sin:	
ARM GAS  1.s 			page 23


 1180 0a3a 4E68     		ldr r6, [r1, # 0x04]
 1181 0a3c 1B1B     		subs r3, r3, r4
 1182 0a3e 5D43     		muls r5, r5, r3
 1183 0a40 ED13     		asrs r5, r5, # 15
 1184 0a42 5E43     		muls r6, r6, r3
 1185 0a44 F613     		asrs r6, r6, # 15
 1186 0a46 5219     		adds r2, r2, r5
 1187 0a48 BF19     		adds r7, r7, r6
 1188 0a4a 0230     		adds r0, r0, # 0x02
 1189 0a4c 0831     		adds r1, r1, # 0x08
 1190 0a4e 4045     		cmp r0, r8
 1191 0a50 ECD1     		bne __dft_xunhuan
 1192 0a52 1046     		mov r0, r2
 1193 0a54 3946     		mov r1, r7
 1194 0a56 0CBC     		pop {r2-r3}
 1195 0a58 9046     		mov r8, r2
 1196 0a5a 9946     		mov r9, r3
 1197 0a5c FCBD     		pop {r2-r7,pc}
 1198              		
 1199              	__lv_bo_qi:
 1200              		@地址顺序：指针，累加值，缓冲区
 1201              		@入口R0=缓冲区，R1=数据, r2,=指针
 1202              		@出口R0
 1203 0a5e 78B5     		push {r3-r6,lr}
 1204 0a60 6424     		movs r4, # 100
 1205 0a62 1568     		ldr r5, [r2]
 1206 0a64 2B46     		mov r3, r5
 1207 0a66 AB00     		lsls r3, r5, # 2
 1208 0a68 C658     		ldr r6, [r0, r3]
 1209 0a6a C150     		str r1, [r0, r3]
 1210 0a6c 0135     		adds r5, r5, # 1
 1211 0a6e 1560     		str r5, [r2]
 1212 0a70 A542     		cmp r5, r4
 1213 0a72 01D1     		bne __huanchong_leijia
 1214 0a74 0025     		movs r5, # 0
 1215 0a76 1560     		str r5, [r2]
 1216              	__huanchong_leijia:
 1217 0a78 0438     		subs r0, r0, # 4
 1218 0a7a 0568     		ldr r5, [r0]
 1219 0a7c 4919     		adds r1, r1, r5
 1220 0a7e 891B     		subs r1, r1, r6
 1221 0a80 0160     		str r1, [r0]
 1222 0a82 0813     		asrs r0, r1, # 12 @  7	@128
 1223 0a84 78BD     		pop {r3-r6,pc}
 1224 0a86 00003C00 		.ltorg
 1224      00204000 
 1224      00203800 
 1224      0020A030 
 1224      0000E430 
 1225              	
 1226              		
 1227              	_lcdxianshi:		  		@r0=LCD位置，r1=数据地址，r2=长度
 1228 0acc 1FB5     		push {r0-r4,lr}
 1229 0ace 0C46     		mov r4, r1
 1230              	
 1231 0ad0 0021     		movs r1, # 0
 1232 0ad2 00F00EF8 		bl _xielcd
ARM GAS  1.s 			page 24


 1233              	
 1234 0ad6 0121     		movs r1, # 1
 1235 0ad8 0023     		movs r3, # 0
 1236              	_lcdxianshixunhuan:
 1237 0ada E05C     		ldrb r0, [r4,r3]
 1238 0adc 00F009F8 		bl _xielcd
 1239 0ae0 0133     		adds r3, r3, # 1
 1240 0ae2 9342     		cmp r3, r2
 1241 0ae4 F9D1     		bne _lcdxianshixunhuan
 1242 0ae6 1FBD     		pop {r0-r4,pc}
 1243              	
 1244              	_lcdyanshi:
 1245 0ae8 20B5     		push {r5,lr}
 1246 0aea D84D     		ldr r5, = 0x1000
 1247              	_lcdyanshixunhuan:
 1248 0aec 013D     		subs r5, r5, # 1
 1249 0aee FDD1     		bne _lcdyanshixunhuan
 1250 0af0 20BD     		pop {r5,pc}
 1251              	_xielcd:					@入R0=8位,r1=0命令,r1=1数据
 1252 0af2 3FB5     		push {r0-r5,lr}
 1253 0af4 D64C     		ldr r4, = lcd_beiguang  @ 量程开关 (第6位和第7位)
 1254 0af6 0246     		mov r2, r0
 1255 0af8 2568     		ldr r5, [r4]
 1256 0afa 1209     		lsrs r2, r2, # 4
 1257 0afc 9200     		lsls r2, r2, # 2	@ 高四位
 1258 0afe 0007     		lsls r0, r0, # 28
 1259 0b00 800E     		lsrs r0, r0, # 26	@ 低四位
 1260 0b02 C907     		lsls r1, r1, # 31
 1261 0b04 01D5     		bpl __lcd_ming_ling
 1262              	__lcd_shu_ju:
 1263 0b06 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 1264 0b08 00E0     		b __xie_lcd_shu_ju
 1265              	__lcd_ming_ling:
 1266 0b0a 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 1267              	__xie_lcd_shu_ju:
 1268 0b0c 5B19     		adds r3, r3, r5
 1269 0b0e 0146     		mov r1, r0
 1270 0b10 D218     		adds r2, r2, r3
 1271 0b12 D04D     		ldr r5, = 0x4001300c
 1272 0b14 1000     		movs r0, r2
 1273 0b16 2870     		strb r0, [r5]
 1274 0b18 00F016F8 		bl __spi_mang
 1275 0b1c 00F018F8 		bl __yanshi_595
 1276 0b20 0238     		subs r0, r0, # 0x02
 1277 0b22 2870     		strb r0, [r5]
 1278 0b24 00F010F8 		bl __spi_mang
 1279 0b28 00F012F8 		bl __yanshi_595
 1280 0b2c 0846     		mov r0, r1
 1281 0b2e C018     		adds r0, r0, r3
 1282 0b30 2870     		strb r0, [r5]
 1283 0b32 00F009F8 		bl __spi_mang
 1284 0b36 00F00BF8 		bl __yanshi_595
 1285 0b3a 0238     		subs r0, r0, # 0x02
 1286 0b3c 2870     		strb r0, [r5]
 1287 0b3e 00F003F8 		bl __spi_mang
 1288 0b42 00F005F8 		bl __yanshi_595
 1289 0b46 3FBD     		pop {r0-r5,pc}
ARM GAS  1.s 			page 25


 1290              	__spi_mang:
 1291 0b48 AA68     		ldr r2, [r5, # 0x08]
 1292 0b4a 1206     		lsls r2, r2, # 24
 1293 0b4c FCD4     		bmi __spi_mang
 1294 0b4e F746     		mov pc, lr
 1295              	__yanshi_595:
 1296 0b50 C14A     		ldr r2, = 0x2000
 1297              	__yanshi__595:
 1298 0b52 013A     		subs r2, r2, # 1
 1299 0b54 FDD1     		bne __yanshi__595
 1300 0b56 F746     		mov pc, lr
 1301              		
 1302              	
 1303              	_zhuanascii:						@ 16进制转ASCII
 1304              		@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 1305 0b58 FFB5     		push {r0-r7,lr}
 1306 0b5a 1F46     		mov r7, r3
 1307 0b5c 0546     		mov r5, r0
 1308 0b5e 0E46     		mov r6, r1
 1309 0b60 0A21     		movs r1, # 10
 1310              	_xunhuanqiuma:
 1311 0b62 00F0F6F8 		bl _chufa
 1312 0b66 0446     		mov r4, r0
 1313 0b68 4C43     		muls r4, r1
 1314 0b6a 2B1B     		subs r3, r5, r4
 1315 0b6c 3033     		adds r3, r3, # 0x30
 1316 0b6e 0546     		mov r5, r0
 1317 0b70 013E     		subs r6, r6, # 1
 1318 0b72 08D0     		beq _qiumafanhui
 1319 0b74 BE42     		cmp r6, r7
 1320 0b76 02D1     		bne _meidaoxiaoshudian
 1321 0b78 2E24     		movs r4, # 0x2e		@小数点
 1322 0b7a 9455     		strb r4, [r2,r6]	@插入小数点
 1323 0b7c 013E     		subs r6, r6, # 1
 1324              	_meidaoxiaoshudian:
 1325 0b7e 9355     		strb r3, [r2,r6]
 1326 0b80 3600     		movs r6, r6
 1327 0b82 EED1     		bne _xunhuanqiuma
 1328 0b84 FFBD     		pop {r0-r7,pc}
 1329              	_qiumafanhui:
 1330 0b86 9355     		strb r3, [r2, r6]
 1331 0b88 FFBD     		pop {r0-r7,pc}
 1332              	
 1333              	__fu_shu_chu_fa:
 1334              		@入口R0=a R1=b,R2=c R3=d
 1335              		@出口R2=实部 R1=虚部
 1336 0b8a F0B5     		push {r4-r7,lr}
 1337 0b8c 002A     		cmp r2, # 0
 1338 0b8e 03D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 1339 0b90 002B     		cmp r3, # 0
 1340 0b92 01D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 1341 0b94 0246     		mov r2, r0
 1342 0b96 F0BD     		pop {r4-r7,pc}
 1343              	__tiao_guo_bei_chu_shu_0_pan_duan:
 1344 0b98 4446     		mov r4, r8
 1345 0b9a 4D46     		mov r5, r9
 1346 0b9c 5646     		mov r6, r10
ARM GAS  1.s 			page 26


 1347 0b9e 5F46     		mov r7, r11
 1348 0ba0 F0B4     		push {r4-r7}
 1349              	__ji_suan_chu_fa:
 1350 0ba2 8046     		mov r8, r0	@a
 1351 0ba4 8946     		mov r9, r1	@b
 1352 0ba6 9246     		mov r10, r2	@c
 1353 0ba8 9B46     		mov r11, r3	@d
 1354 0baa 0027     		movs r7, # 0
 1355              		@ (a+bi)/(c+di)=(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)
 1356 0bac 0000     		movs r0, r0
 1357 0bae 02D5     		bpl b1
 1358 0bb0 C043     		mvns r0, r0
 1359 0bb2 0130     		adds r0, r0, # 1
 1360 0bb4 0127     		movs r7, # 1
 1361              	b1:
 1362 0bb6 5146     		mov r1, r10
 1363 0bb8 0900     		movs r1, r1
 1364 0bba 02D5     		bpl b2
 1365 0bbc C943     		mvns r1, r1
 1366 0bbe 0131     		adds r1, r1, # 1
 1367 0bc0 0137     		adds r7, r7, # 1
 1368              	b2:
 1369 0bc2 00F0A1F8 		bl __chengfa
 1370              	b3:
 1371 0bc6 012F     		cmp r7, # 1
 1372 0bc8 01D1     		bne a1
 1373 0bca C043     		mvns r0, r0
 1374 0bcc C943     		mvns r1, r1
 1375              	a1:
 1376 0bce 0446     		mov r4, r0	@a*c高32
 1377 0bd0 0D46     		mov r5, r1	@a*c低32
 1378 0bd2 0027     		movs r7, # 0
 1379 0bd4 4846     		mov r0, r9
 1380 0bd6 5946     		mov r1, r11
 1381 0bd8 0000     		movs r0, r0
 1382 0bda 02D5     		bpl b4
 1383 0bdc C043     		mvns r0, r0
 1384 0bde 0130     		adds r0, r0, # 1
 1385 0be0 0137     		adds r7, r7, # 1
 1386              	b4:
 1387 0be2 0900     		movs r1, r1
 1388 0be4 02D5     		bpl b5
 1389 0be6 C943     		mvns r1, r1
 1390 0be8 0131     		adds r1, r1, # 1
 1391 0bea 0137     		adds r7, r7, # 1
 1392              	b5:
 1393 0bec 00F08CF8 		bl __chengfa
 1394              	b6:
 1395 0bf0 012F     		cmp r7, # 1
 1396 0bf2 01D1     		bne a2
 1397 0bf4 C043     		mvns r0, r0
 1398 0bf6 C943     		mvns r1, r1
 1399              	a2:
 1400 0bf8 4919     		adds r1, r1, r5	@ac+bd低32
 1401 0bfa 6041     		adcs r0, r0, r4	@ac+bd高32
 1402 0bfc 0646     		mov r6, r0
 1403 0bfe 0F46     		mov r7, r1
ARM GAS  1.s 			page 27


 1404 0c00 5046     		mov r0, r10
 1405 0c02 4043     		muls r0, r0, r0
 1406 0c04 0446     		mov r4, r0	@c*c
 1407 0c06 5846     		mov r0, r11
 1408 0c08 4043     		muls r0, r0, r0
 1409 0c0a 0019     		adds r0, r0, r4
 1410 0c0c 01B4     		push {r0}
 1411 0c0e 3946     		mov r1, r7
 1412 0c10 0027     		movs r7, # 0
 1413 0c12 0200     		movs r2, r0
 1414 0c14 02D5     		bpl b7
 1415 0c16 D243     		mvns r2, r2
 1416 0c18 0132     		adds r2, r2, # 1
 1417 0c1a 0137     		adds r7, r7, # 1
 1418              	b7:
 1419 0c1c 3000     		movs r0, r6
 1420 0c1e 02D5     		bpl b8
 1421 0c20 C043     		mvns r0, r0
 1422 0c22 C943     		mvns r1, r1
 1423 0c24 0137     		adds r7, r7, # 1
 1424              	b8:
 1425 0c26 00F04BF8 		bl __chufa64
 1426 0c2a 012F     		cmp r7, # 1
 1427 0c2c 01D1     		bne __bao_cun_chu_fa_shi_bu_jie_guo
 1428 0c2e C043     		mvns r0, r0
 1429 0c30 C943     		mvns r1, r1
 1430              	__bao_cun_chu_fa_shi_bu_jie_guo:
 1431 0c32 0646     		mov r6, r0	@实部高32
 1432 0c34 0F46     		mov r7, r1	@实部低32
 1433              		@r8=a, r9=b, r10=c, r11=d
 1434              		@(b*c-a*d)/(c*c+d*d)
 1435 0c36 0025     		movs r5, # 0
 1436 0c38 4846     		mov r0, r9
 1437 0c3a 0000     		movs r0, r0
 1438 0c3c 02D5     		bpl b9
 1439 0c3e C043     		mvns r0, r0
 1440 0c40 0130     		adds r0, r0, # 1
 1441 0c42 0135     		adds r5, r5, # 1
 1442              	b9:
 1443 0c44 5146     		mov r1, r10
 1444 0c46 0900     		movs r1, r1
 1445 0c48 02D5     		bpl b10
 1446 0c4a C943     		mvns r1, r1
 1447 0c4c 0131     		adds r1, r1, # 1
 1448 0c4e 0135     		adds r5, r5, # 1
 1449              	b10:
 1450 0c50 00F05AF8 		bl __chengfa
 1451 0c54 012D     		cmp r5, # 1
 1452 0c56 01D1     		bne a3
 1453 0c58 C043     		mvns r0, r0
 1454 0c5a C943     		mvns r1, r1
 1455              	a3:
 1456 0c5c 0446     		mov r4, r0      @b*c高32
 1457 0c5e 0D46     		mov r5, r1      @b*c低32
 1458 0c60 0023     		movs r3, # 0
 1459 0c62 4046     		mov r0, r8
 1460 0c64 0000     		movs r0, r0
ARM GAS  1.s 			page 28


 1461 0c66 02D5     		bpl b11
 1462 0c68 C043     		mvns r0, r0
 1463 0c6a 0130     		adds r0, r0, # 1
 1464 0c6c 0133     		adds r3, r3, # 1
 1465              	b11:
 1466 0c6e 5946     		mov r1, r11
 1467 0c70 0900     		movs r1, r1
 1468 0c72 02D5     		bpl b12
 1469 0c74 C943     		mvns r1, r1
 1470 0c76 0131     		adds r1, r1, # 1
 1471 0c78 0133     		adds r3, r3, # 1
 1472              	b12:
 1473 0c7a 00F045F8 		bl __chengfa
 1474 0c7e 012B     		cmp r3, # 1
 1475 0c80 01D1     		bne a4
 1476 0c82 C043     		mvns r0, r0
 1477 0c84 C943     		mvns r1, r1
 1478              	a4:
 1479 0c86 6D1A     		subs r5, r5, r1 @bc-ad低32
 1480 0c88 8441     		sbcs r4, r4, r0 @bc-ad高32
 1481 0c8a 04BC     		pop {r2}
 1482 0c8c 2946     		mov r1, r5
 1483 0c8e 0025     		movs r5, # 0
 1484 0c90 1200     		movs r2, r2
 1485 0c92 02D5     		bpl b13
 1486 0c94 D243     		mvns r2, r2
 1487 0c96 0132     		adds r2, r2, # 1
 1488 0c98 0135     		adds r5, r5, # 1
 1489              	b13:
 1490 0c9a 2000     		movs r0, r4
 1491 0c9c 02D5     		bpl b14
 1492 0c9e C043     		mvns r0, r0
 1493 0ca0 C943     		mvns r1, r1
 1494 0ca2 0135     		adds r5, r5, # 1
 1495              	b14:
 1496 0ca4 00F00CF8 		bl __chufa64
 1497 0ca8 012D     		cmp r5, # 1
 1498 0caa 02D1     		bne __bao_cun_chu_fa_xu_bu_jie_guo
 1499 0cac C943     		mvns r1, r1
 1500 0cae C043     		mvns r0, r0
 1501 0cb0 0131     		adds r1, r1, # 1
 1502              	__bao_cun_chu_fa_xu_bu_jie_guo:
 1503 0cb2 3A46     		mov r2, r7
 1504 0cb4 F0BC     		pop {r4-r7}
 1505 0cb6 A046     		mov r8, r4
 1506 0cb8 A946     		mov r9, r5
 1507 0cba B246     		mov r10, r6
 1508 0cbc BB46     		mov r11, r7
 1509 0cbe F0BD     		pop {r4-r7,pc}
 1510              	
 1511              	__chufa64:
 1512              		@64位除32位
 1513              		@ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1514 0cc0 F8B5     		push {r3-r7,lr}
 1515 0cc2 002A     		cmp r2, # 0
 1516 0cc4 1DD0     		beq __chu_fa64_fan_hui0
 1517 0cc6 0029     		cmp r1, # 0
ARM GAS  1.s 			page 29


 1518 0cc8 01D1     		bne __chu_fa64_ji_suan
 1519 0cca 0028     		cmp r0, # 0
 1520 0ccc 19D0     		beq __chu_fa64_fan_hui0
 1521              	__chu_fa64_ji_suan:
 1522 0cce 0024     		movs r4, # 0
 1523 0cd0 2746     		mov r7, r4
 1524 0cd2 2346     		mov r3, r4
 1525 0cd4 2546     		mov r5, r4
 1526 0cd6 0126     		movs r6, # 1
 1527 0cd8 F607     		lsls r6, r6, # 31
 1528              	__chu_fa64_xun_huan:
 1529 0cda 4900     		lsls r1, r1, # 1
 1530 0cdc 4041     		adcs r0, r0, r0
 1531 0cde 6441     		adcs r4, r4, r4
 1532 0ce0 9442     		cmp r4, r2
 1533 0ce2 02D3     		bcc __chu_fa_yi_wei
 1534 0ce4 9B19     		adds r3, r3, r6
 1535 0ce6 7D41     		adcs r5, r5, r7
 1536 0ce8 A41A     		subs r4, r4, r2
 1537              	__chu_fa_yi_wei:
 1538 0cea 3600     		movs r6, r6
 1539 0cec 04D0     		beq __di_yi_wei
 1540 0cee 7608     		lsrs r6, r6, # 1        @高32位移位
 1541 0cf0 F3D1     		bne __chu_fa64_xun_huan
 1542 0cf2 0127     		movs r7, # 1
 1543 0cf4 FF07     		lsls r7, r7, # 31
 1544 0cf6 F0E7     		b __chu_fa64_xun_huan
 1545              	__di_yi_wei:	            @低32位移位
 1546 0cf8 7F08     		lsrs r7, r7, # 1
 1547 0cfa EED1     		bne __chu_fa64_xun_huan
 1548 0cfc 1846     		mov r0, r3
 1549 0cfe 2946     		mov r1, r5
 1550 0d00 F8BD     		pop {r3-r7,pc}
 1551              	__chu_fa64_fan_hui0:
 1552 0d02 0020     		movs r0, # 0
 1553 0d04 0021     		movs r1, # 0
 1554 0d06 F8BD     		pop {r3-r7,pc}
 1555              	__chengfa:
 1556              		@入R0 乘以 R1
 1557              		@出 R0高32 ， R1低32
 1558              		@0xffffffff*0xffffffff
 1559              		@4        F F F E 0 0 0 1                       @4
 1560              		@3                F F F E 0 0 0 1               @3
 1561              		@2                F F F E 0 0 0 1               @2
 1562              		@1                        F F F E 0 0 0 1       @1
 1563              		@         F F F F F F F E 0 0 0 0 0 0 0 1
 1564 0d08 FCB5     		push {r2-r7,lr}
 1565 0d0a 0028     		cmp r0, # 0
 1566 0d0c 1ED0     		beq __cheng_fa_fan_hui
 1567 0d0e 0029     		cmp r1, # 0
 1568 0d10 1CD0     		beq __cheng_fa_fan_hui
 1569              	__ji_suan_cheng_fa:
 1570 0d12 0246     		mov r2, r0
 1571 0d14 0B46     		mov r3, r1
 1572 0d16 000C     		lsrs r0, r0, # 16       @高16
 1573 0d18 1204     		lsls r2, r2, # 16       @ 低16
 1574 0d1a 120C     		lsrs r2, r2, # 16
ARM GAS  1.s 			page 30


 1575 0d1c 090C     		lsrs r1, r1, # 16       @高16
 1576 0d1e 1B04     		lsls r3, r3, # 16       @低16
 1577 0d20 1B0C     		lsrs r3, r3, # 16
 1578 0d22 1446     		mov r4, r2
 1579 0d24 0546     		mov r5, r0
 1580 0d26 5A43     		muls r2, r2, r3         @1
 1581 0d28 5843     		muls r0, r0, r3         @2
 1582 0d2a 4C43     		muls r4, r4, r1         @3
 1583 0d2c 4D43     		muls r5, r5, r1         @4
 1584 0d2e 0646     		mov r6, r0
 1585 0d30 2746     		mov r7, r4
 1586 0d32 0004     		lsls r0, r0, # 16       @2低32
 1587 0d34 2404     		lsls r4, r4, # 16       @3低32
 1588 0d36 360C     		lsrs r6, r6, # 16       @2高32
 1589 0d38 3F0C     		lsrs r7, r7, # 16       @3高32
 1590 0d3a 0021     		movs r1, # 0
 1591 0d3c 1218     		adds r2, r2, r0         @低32
 1592 0d3e 4E41     		adcs r6, r6, r1         @高32
 1593 0d40 1219     		adds r2, r2, r4
 1594 0d42 7E41     		adcs r6, r6, r7
 1595 0d44 7619     		adds r6, r6, r5
 1596 0d46 3046     		mov r0, r6
 1597 0d48 1146     		mov r1, r2
 1598 0d4a FCBD     		pop {r2-r7,pc}
 1599              	__cheng_fa_fan_hui:
 1600 0d4c 0020     		movs r0, # 0
 1601 0d4e 0021     		movs r1, # 0
 1602 0d50 FCBD     		pop {r2-r7,pc}
 1603              		
 1604              	_chufa:				@软件除法
 1605              		@ r0 除以 r1 等于 商(r0)
 1606 0d52 1EB5     		push {r1-r4,lr}
 1607 0d54 0028     		cmp r0, # 0
 1608 0d56 0ED0     		beq _chufafanhui
 1609 0d58 0029     		cmp r1, # 0
 1610 0d5a 0CD0     		beq _chufafanhui
 1611 0d5c 0246     		mov r2, r0
 1612 0d5e 0123     		movs r3, # 1
 1613 0d60 DB07     		lsls r3, r3, # 31
 1614 0d62 0020     		movs r0, # 0
 1615 0d64 0446     		mov r4, r0
 1616              	_chufaxunhuan:
 1617 0d66 5200     		lsls r2, r2, # 1
 1618 0d68 6441     		adcs r4, r4, r4
 1619 0d6a 8C42     		cmp r4, r1
 1620 0d6c 01D3     		bcc _chufaweishubudao0
 1621 0d6e C018     		adds r0, r0, r3
 1622 0d70 641A     		subs r4, r4, r1
 1623              	_chufaweishubudao0:
 1624 0d72 5B08     		lsrs r3, r3, # 1
 1625 0d74 F7D1     		bne _chufaxunhuan
 1626              	_chufafanhui:
 1627 0d76 1EBD     		pop {r1-r4,pc}
 1628              	
 1629              	_nmi_handler:
 1630 0d78 7047     		bx lr
 1631              	_hard_fault:
ARM GAS  1.s 			page 31


 1632 0d7a 7047     		bx lr
 1633              	_svc_handler:
 1634 0d7c 7047     		bx lr
 1635              	_pendsv_handler:
 1636 0d7e 7047     		bx lr
 1637              	_systickzhongduan:
 1638 0d80 10B5     		push {r4,lr}
 1639 0d82 3648     		ldr r0, = 0xe0000d04
 1640 0d84 3649     		ldr r1, = 0x02000000
 1641 0d86 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 1642 0d88 364A     		ldr r2, = shangxiabi_qiehuan
 1643 0d8a 1368     		ldr r3, [r2]
 1644 0d8c 012B     		cmp r3, # 1
 1645 0d8e 28D1     		bne __shangbi_dft
 1646 0d90 0023     	        movs r3, # 0
 1647 0d92 1360     		str r3, [r2]
 1648 0d94 344A     		ldr r2, = 0x48000400
 1649 0d96 0223     		movs r3, #  0x02
 1650 0d98 9362     		str r3, [r2, # 0x28]    @cd4053_9_10  0X28上臂开
 1651 0d9a 3448     		ldr r0, = liangcheng
 1652 0d9c 3449     		ldr r1, = shangbi_liangcheng
 1653 0d9e 0068     		ldr r0, [r0]
 1654 0da0 4000     		lsls r0, r0, # 1
 1655 0da2 344A     		ldr r2, = 0x48000000
 1656 0da4 0B5A     		ldrh  r3, [r1, r0]
 1657 0da6 5361     		str r3, [r2, # 0x14]
 1658 0da8 334A     		ldr r2, = dma_r
 1659 0daa 3448     		ldr r0, = 0x40020000
 1660 0dac C068     		ldr r0, [r0, # 0x0c]
 1661 0dae 1060     		str r0, [r2]
 1662 0db0 FFF72DFE 		bl __dft
 1663 0db4 C043     		mvns r0, r0
 1664 0db6 C943     		mvns r1, r1
 1665 0db8 0130     		adds r0, r0, # 1
 1666 0dba 0131     		adds r1, r1, # 1
 1667 0dbc 304A     		ldr r2, = xiabi_rr
 1668 0dbe 314B     		ldr r3, = xiabi_ii
 1669 0dc0 1060     		str r0, [r2]
 1670 0dc2 1960     		str r1, [r3]
 1671 0dc4 0446     	        mov r4, r0
 1672 0dc6 304A     		ldr r2, = lvboqizhizhen3
 1673 0dc8 3048     		ldr r0, =lvboqihuanchong3
 1674 0dca FFF748FE 		bl __lv_bo_qi
 1675 0dce 3049     		ldr r1, = xiabi_i
 1676 0dd0 0860     		str r0, [r1]
 1677 0dd2 2146     		mov r1, r4
 1678 0dd4 2F4A     		ldr r2, = lvboqizhizhen2
 1679 0dd6 3048     		ldr r0, = lvboqihuanchong2
 1680 0dd8 FFF741FE 		bl __lv_bo_qi
 1681 0ddc 2F49     		ldr r1, = xiabi_r
 1682 0dde 0860     		str r0, [r1]
 1683 0de0 32E0     		b __systick_fanhui
 1684              		
 1685              	__shangbi_dft:
 1686 0de2 0123     		movs r3, # 1
 1687 0de4 1360     		str r3, [r2]
 1688 0de6 204A     		ldr r2, = 0x48000400
ARM GAS  1.s 			page 32


 1689 0de8 0223     	        movs r3, #  0x02
 1690 0dea 9361     		str r3, [r2, # 0x18]    @cd4053_9_10 下臂开
 1691 0dec 1F48     	        ldr r0, = liangcheng
 1692 0dee 2C49     		ldr r1, = xiabi_liangcheng
 1693 0df0 0068     		ldr r0, [r0]
 1694 0df2 4000     		lsls r0, r0, # 1
 1695 0df4 1F4A     		ldr r2, = 0x48000000
 1696 0df6 0B5A     		ldrh r3, [r1, r0]
 1697 0df8 5361     		str r3, [r2, # 0x14]
 1698 0dfa 2A4A     		ldr r2, = dma_i
 1699 0dfc 1F48     		ldr r0, = 0x40020000
 1700 0dfe C068     		ldr r0, [r0, # 0x0c]
 1701 0e00 1060     		str r0, [r2]
 1702 0e02 FFF704FE 		bl __dft
 1703 0e06 284A     		ldr r2, = shangbi_rr
 1704 0e08 284B     		ldr r3, = shangbi_ii
 1705 0e0a 1060     		str r0, [r2]
 1706 0e0c 1960     		str r1, [r3]
 1707 0e0e 0446     		mov r4, r0
 1708 0e10 274A     		ldr r2, = lvboqizhizhen1
 1709 0e12 2848     		ldr r0, =lvboqihuanchong1
 1710 0e14 FFF723FE 		bl __lv_bo_qi
 1711 0e18 2749     		ldr r1, = shangbi_i
 1712 0e1a 0860     		str r0, [r1]
 1713 0e1c 2146     		mov r1, r4
 1714 0e1e 274A     	        ldr r2, = lvboqizhizhen
 1715 0e20 2748     		ldr r0, =lvboqihuanchong
 1716 0e22 FFF71CFE 		bl __lv_bo_qi
 1717 0e26 2749     		ldr r1, = shangbi_r
 1718 0e28 0860     		str r0, [r1]
 1719 0e2a 2748     		ldr r0, = jishu
 1720 0e2c 0168     		ldr r1, [r0]
 1721 0e2e 0131     		adds r1, r1, # 1
 1722 0e30 0160     		str r1, [r0]
 1723 0e32 0529     		cmp r1, # 5
 1724 0e34 08D1     		bne __systick_fanhui
 1725 0e36 0021     		movs r1, # 0
 1726 0e38 0160     		str r1, [r0]
 1727 0e3a 2448     		ldr r0, = xianshi_biaozhi
 1728 0e3c 0121     		movs r1, # 1
 1729 0e3e 0160     		str r1, [r0]
 1730 0e40 FFF78CFC 		bl __jisuan_z_fudu
 1731 0e44 FFF7A5FC 		bl __zidong_dangwei
 1732              	__systick_fanhui:	
 1733 0e48 10BD     		pop {r4,pc}
 1734              	aaa:
 1735 0e4a 7047     		bx lr
 1736 0e4c 00100000 		.ltorg
 1736      20000020 
 1736      0C300140 
 1736      00200000 
 1736      040D00E0 
 1737              		.end
ARM GAS  1.s 			page 33


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 zheng_xian_100khz
                 1.s:11     .data:0000000000000014 $d
                 1.s:12     .data:0000000000000020 zheng_xian_10khz
                 1.s:15     .data:00000000000000f0 zheng_xian_1khz
                 1.s:19     .data:0000000000000280 zheng_xian_100hz
                 1.s:23     .data:0000000000000a50 cos_sin_biao_100k
                 1.s:25     .data:0000000000000af4 cos_sin_biao_10k
                 1.s:27     .data:0000000000001138 cos_sin_biao_100_1k
                 1.s:29     .data:0000000000003078 shangbi_liangcheng
                 1.s:31     .data:0000000000003084 xiabi_liangcheng
                 1.s:34     .data:0000000000003090 zukang_xiaoshu_dian
                 1.s:37     .data:00000000000030a0 zukang_huansuan_biao
                 1.s:39     .data:00000000000030b8 zukang_danwei
                 1.s:42     .data:00000000000030d0 an_jian_biao
                 1.s:388    .text:000000000000020c __an_jian0
                 1.s:353    .text:00000000000001cc __dang_wei_jia
                 1.s:355    .text:00000000000001ce __pin_lv_jia
                 1.s:387    .text:000000000000020c __an_jian3
                 1.s:49     .data:00000000000030e0 kong
                 1.s:51     .data:00000000000030e4 _fu
                 1.s:53     .data:00000000000030e5 yjmwxwx
                 1.s:56     *ABS*:0000000020001000 STACKINIT
                 1.s:57     *ABS*:0000000020000000 asciimabiao
                 1.s:58     *ABS*:0000000020000020 lcd_beiguang
                 1.s:59     *ABS*:0000000020000024 shangbi_r
                 1.s:60     *ABS*:0000000020000028 shangbi_i
                 1.s:61     *ABS*:000000002000002c xiabi_r
                 1.s:62     *ABS*:0000000020000030 xiabi_i
                 1.s:63     *ABS*:0000000020000034 shangxiabi_qiehuan
                 1.s:64     *ABS*:0000000020000038 liangcheng
                 1.s:65     *ABS*:000000002000003c z_r
                 1.s:66     *ABS*:0000000020000040 z_i
                 1.s:67     *ABS*:0000000020000044 dma_r
                 1.s:68     *ABS*:0000000020000048 dma_i
                 1.s:69     *ABS*:000000002000004c huandangyanshi
                 1.s:70     *ABS*:0000000020000050 shangbi_rr
                 1.s:71     *ABS*:0000000020000054 shangbi_ii
                 1.s:72     *ABS*:0000000020000058 xiabi_rr
                 1.s:73     *ABS*:000000002000005c xiabi_ii
                 1.s:74     *ABS*:0000000020000060 jishu
                 1.s:75     *ABS*:0000000020000064 xianshi_biaozhi
                 1.s:76     *ABS*:0000000020000068 z_fudu
                 1.s:77     *ABS*:000000002000006c cossin
                 1.s:78     *ABS*:0000000020000070 pinlv
                 1.s:79     *ABS*:0000000020000074 anjian
                 1.s:80     *ABS*:0000000020000078 shezhi_pinlv
                 1.s:81     *ABS*:000000002000007c zhenfu
                 1.s:82     *ABS*:0000000020000080 pinlvjiayanshi
                 1.s:83     *ABS*:0000000020000084 dmacuowu
                 1.s:84     *ABS*:0000000020000100 dianyabiao
                 1.s:85     *ABS*:00000000200008d0 lvboqizhizhen
                 1.s:86     *ABS*:00000000200008d8 lvboqihuanchong
                 1.s:87     *ABS*:0000000020000a68 lvboqizhizhen1
                 1.s:88     *ABS*:0000000020000a70 lvboqihuanchong1
                 1.s:89     *ABS*:0000000020000c00 lvboqizhizhen2
                 1.s:90     *ABS*:0000000020000c08 lvboqihuanchong2
ARM GAS  1.s 			page 34


                 1.s:91     *ABS*:0000000020000d98 lvboqizhizhen3
                 1.s:92     *ABS*:0000000020000da0 lvboqihuanchong3
                 1.s:97     .text:0000000000000000 vectors
                 1.s:143    .text:00000000000000b0 _start
                 1.s:1629   .text:0000000000000d78 _nmi_handler
                 1.s:1631   .text:0000000000000d7a _hard_fault
                 1.s:1633   .text:0000000000000d7c _svc_handler
                 1.s:1635   .text:0000000000000d7e _pendsv_handler
                 1.s:1637   .text:0000000000000d80 _systickzhongduan
                 1.s:1734   .text:0000000000000e4a aaa
                            .text:0000000000000000 $d
                 1.s:142    .text:00000000000000b0 $t
                 1.s:144    .text:00000000000000b0 shizhong
                 1.s:151    .text:00000000000000bc denghse
                 1.s:155    .text:00000000000000c2 dengpllguan
                 1.s:167    .text:00000000000000d6 dengpll
                 1.s:176    .text:00000000000000e0 _waisheshizhong
                 1.s:193    .text:00000000000000ee _neicunqingling
                 1.s:197    .text:00000000000000f4 _neicunqinglingxunhuan
                 1.s:202    .text:00000000000000fa _waishezhongduan
                 1.s:224    .text:0000000000000100 io_she_zhi
                 1.s:261    .text:000000000000011c spi_chushihua
                 1.s:268    .text:0000000000000126 _lcdchushihua
                 1.s:1251   .text:0000000000000af2 _xielcd
                 1.s:1244   .text:0000000000000ae8 _lcdyanshi
                 1.s:1227   .text:0000000000000acc _lcdxianshi
                 1.s:296    .text:000000000000016e yjmwxwx_yanshi
                 1.s:305    .text:000000000000017e _adcchushihua
                 1.s:309    .text:0000000000000184 _dengadcjiaozhun
                 1.s:315    .text:000000000000018e _kaiadc
                 1.s:320    .text:0000000000000196 _deng_adc_wen_ding
                 1.s:324    .text:000000000000019c _tongdaoxuanze
                 1.s:422    .text:00000000000002d6 __pinlv_shezhi
                 1.s:813    .text:00000000000006d0 __pin_lv_xian_shi
                 1.s:390    .text:0000000000000210 ting
                 1.s:362    .text:00000000000001da __pinlv_1_2
                 1.s:364    .text:00000000000001dc __pinlv_jia_yanshi
                 1.s:380    .text:00000000000001fa __pin_lv_fan_hui
                 1.s:414    .text:00000000000002c8 __an_jian
                 1.s:406    .text:0000000000000238 __cai_dan_diao_du
                 1.s:537    .text:000000000000040c __dma_cuowu
                 1.s:888    .text:00000000000007cc __jisuan_zukang
                 1.s:954    .text:000000000000087c __xianshi_zukang
                 1.s:1028   .text:000000000000090e __xianshi_liangcheng
                 1.s:412    .text:0000000000000242 $d
                 1.s:412    .text:0000000000000244 $d
                 1.s:415    .text:00000000000002c8 $t
                 1.s:452    .text:000000000000030e __pinlv_shezhi_fanhui
                 1.s:435    .text:00000000000002ec __pl1
                 1.s:454    .text:0000000000000310 __pinlv_100
                 1.s:441    .text:00000000000002f8 __pl2
                 1.s:562    .text:0000000000000430 __pinlv_1K
                 1.s:447    .text:0000000000000304 __pl3
                 1.s:646    .text:000000000000053c __pinlv_10K
                 1.s:727    .text:0000000000000634 __pinlv_100K
                 1.s:463    .text:0000000000000320 __deng_adc_ting
                 1.s:807    .text:00000000000006c8 __pinlv_yanshi
ARM GAS  1.s 			page 35


                 1.s:535    .text:00000000000003a4 $d
                 1.s:538    .text:000000000000040c $t
                 1.s:554    .text:000000000000042e __dma_cuowu_fanhui
                 1.s:571    .text:0000000000000440 __deng_adc_ting1
                 1.s:643    .text:00000000000004c4 $d
                 1.s:647    .text:000000000000053c $t
                 1.s:655    .text:000000000000054c __deng_adc_ting2
                 1.s:726    .text:00000000000005d0 $d
                 1.s:728    .text:0000000000000634 $t
                 1.s:736    .text:0000000000000644 __deng_adc_ting3
                 1.s:809    .text:00000000000006ca __pinlv_yanshi_xunhuan
                 1.s:1303   .text:0000000000000b58 _zhuanascii
                 1.s:826    .text:00000000000006ec $d
                 1.s:828    .text:000000000000075c __jisuan_z_fudu
                 1.s:829    .text:000000000000075c $t
                 1.s:908    .text:00000000000007f2 __ji_suan_fu_du
                 1.s:1604   .text:0000000000000d52 _chufa
                 1.s:854    .text:0000000000000792 __zidong_dangwei
                 1.s:856    .text:0000000000000794 __huan_dang
                 1.s:876    .text:00000000000007ba __dang_wei_jian
                 1.s:885    .text:00000000000007ca __zi_dong_dang_wei_fan_hui
                 1.s:1333   .text:0000000000000b8a __fu_shu_chu_fa
                 1.s:918    .text:00000000000007fc _shibubushifushu
                 1.s:923    .text:0000000000000804 _xububushifushu
                 1.s:928    .text:000000000000080c _panduanxubushibushi0
                 1.s:932    .text:0000000000000812 _jisuanfudu1
                 1.s:945    .text:0000000000000828 _alpha_min_beta_max
                 1.s:937    .text:000000000000081a _alpha_max_beta_min
                 1.s:953    .text:0000000000000836 $d
                 1.s:953    .text:0000000000000838 $d
                 1.s:955    .text:000000000000087c $t
                 1.s:978    .text:00000000000008ac aaa1
                 1.s:983    .text:00000000000008b6 aaa2
                 1.s:1007   .text:00000000000008e6 bbb1
                 1.s:1012   .text:00000000000008f0 bbb2
                 1.s:1042   .text:000000000000092a __xianshi_shangxia_bi
                 1.s:1057   .text:0000000000000948 aa1
                 1.s:1062   .text:0000000000000952 aa2
                 1.s:1083   .text:000000000000097c bb1
                 1.s:1088   .text:0000000000000986 bb2
                 1.s:1112   .text:00000000000009b8 cc1
                 1.s:1117   .text:00000000000009c2 cc2
                 1.s:1138   .text:00000000000009ec dd1
                 1.s:1143   .text:00000000000009f6 dd2
                 1.s:1155   .text:0000000000000a0e __dft
                 1.s:1171   .text:0000000000000a2c __dft_xunhuan
                 1.s:1179   .text:0000000000000a3a __du_sin
                 1.s:1199   .text:0000000000000a5e __lv_bo_qi
                 1.s:1216   .text:0000000000000a78 __huanchong_leijia
                 1.s:1224   .text:0000000000000a86 $d
                 1.s:1224   .text:0000000000000a88 $d
                 1.s:1228   .text:0000000000000acc $t
                 1.s:1236   .text:0000000000000ada _lcdxianshixunhuan
                 1.s:1247   .text:0000000000000aec _lcdyanshixunhuan
                 1.s:1265   .text:0000000000000b0a __lcd_ming_ling
                 1.s:1262   .text:0000000000000b06 __lcd_shu_ju
                 1.s:1267   .text:0000000000000b0c __xie_lcd_shu_ju
ARM GAS  1.s 			page 36


                 1.s:1290   .text:0000000000000b48 __spi_mang
                 1.s:1295   .text:0000000000000b50 __yanshi_595
                 1.s:1297   .text:0000000000000b52 __yanshi__595
                 1.s:1310   .text:0000000000000b62 _xunhuanqiuma
                 1.s:1329   .text:0000000000000b86 _qiumafanhui
                 1.s:1324   .text:0000000000000b7e _meidaoxiaoshudian
                 1.s:1343   .text:0000000000000b98 __tiao_guo_bei_chu_shu_0_pan_duan
                 1.s:1349   .text:0000000000000ba2 __ji_suan_chu_fa
                 1.s:1361   .text:0000000000000bb6 b1
                 1.s:1368   .text:0000000000000bc2 b2
                 1.s:1555   .text:0000000000000d08 __chengfa
                 1.s:1370   .text:0000000000000bc6 b3
                 1.s:1375   .text:0000000000000bce a1
                 1.s:1386   .text:0000000000000be2 b4
                 1.s:1392   .text:0000000000000bec b5
                 1.s:1394   .text:0000000000000bf0 b6
                 1.s:1399   .text:0000000000000bf8 a2
                 1.s:1418   .text:0000000000000c1c b7
                 1.s:1424   .text:0000000000000c26 b8
                 1.s:1511   .text:0000000000000cc0 __chufa64
                 1.s:1430   .text:0000000000000c32 __bao_cun_chu_fa_shi_bu_jie_guo
                 1.s:1442   .text:0000000000000c44 b9
                 1.s:1449   .text:0000000000000c50 b10
                 1.s:1455   .text:0000000000000c5c a3
                 1.s:1465   .text:0000000000000c6e b11
                 1.s:1472   .text:0000000000000c7a b12
                 1.s:1478   .text:0000000000000c86 a4
                 1.s:1489   .text:0000000000000c9a b13
                 1.s:1495   .text:0000000000000ca4 b14
                 1.s:1502   .text:0000000000000cb2 __bao_cun_chu_fa_xu_bu_jie_guo
                 1.s:1551   .text:0000000000000d02 __chu_fa64_fan_hui0
                 1.s:1521   .text:0000000000000cce __chu_fa64_ji_suan
                 1.s:1528   .text:0000000000000cda __chu_fa64_xun_huan
                 1.s:1537   .text:0000000000000cea __chu_fa_yi_wei
                 1.s:1545   .text:0000000000000cf8 __di_yi_wei
                 1.s:1599   .text:0000000000000d4c __cheng_fa_fan_hui
                 1.s:1569   .text:0000000000000d12 __ji_suan_cheng_fa
                 1.s:1626   .text:0000000000000d76 _chufafanhui
                 1.s:1616   .text:0000000000000d66 _chufaxunhuan
                 1.s:1623   .text:0000000000000d72 _chufaweishubudao0
                 1.s:1685   .text:0000000000000de2 __shangbi_dft
                 1.s:1732   .text:0000000000000e48 __systick_fanhui
                 1.s:1736   .text:0000000000000e4c $d

NO UNDEFINED SYMBOLS
