ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@lcr-1
   3              		@作者：yjmwxwx
   4              		@时间：2021-09-05
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              	jiaozhun:
  10 0000 2020206A 		.ascii "   jiao  zhun   "
  10      69616F20 
  10      207A6875 
  10      6E202020 
  11              	pinlv_100hz:
  12 0010 20207069 		.ascii "  pin lv 100HZ  "
  12      6E206C76 
  12      20313030 
  12      485A2020 
  13              	pinlv_1khz:
  14 0020 20207069 		.ascii "  pin lv 1KHZ   "
  14      6E206C76 
  14      20314B48 
  14      5A202020 
  15              	pinlv_10khz:
  16 0030 20207069 		.ascii "  pin lv 10KHZ  "
  16      6E206C76 
  16      2031304B 
  16      485A2020 
  17              	pinlv_100khz:
  18 0040 20207069 		.ascii "  pin lv 100KHZ "
  18      6E206C76 
  18      20313030 
  18      4B485A20 
  19              		
  20              		.align 4
  21              	cordic_yong_cos_sin:
  22 0050 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
  22      00400000 
  22      412D0000 
  22      412D0000 
  22      203B0000 
  23              	cordic_yong_atan_biao:
  24 00d0 87640000 		.int 0x00006487,0x00003B58,0x00001F5B,0x00000FEA,0x000007FD,0x000003FF,0x000001FF,0x000000FF,0x000
  24      583B0000 
  24      5B1F0000 
  24      EA0F0000 
  24      FD070000 
  25              		.align 4
  26              	zheng_xian_100khz:
  27 0110 0E121518 		.byte 14,18,21,24,26,27,26,24,21,18,14,9,6,3,1,0,1,3,6,9
  27      1A1B1A18 
  27      15120E09 
  27      06030100 
  27      01030609 
  28 0124 00000000 		.align 4
  28      00000000 
  28      00000000 
ARM GAS  1.s 			page 2


  29              	zheng_xian_10khz:
  30 0130 0E0E0E0F 		.byte 14,14,14,15,15,16,16,16,17,17,18,18,18,19,19,20,20,20,21,21,21,22,22,22,23,23,23,24,24,24,24
  30      0F101010 
  30      11111212 
  30      12131314 
  30      14141515 
  31 01f8 00000000 		.align 4
  31      00000000 
  32              	zheng_xian_1khz:
  33 0200 8C009000 		.short 140,144,148,153,157,161,166,170,174,178,183,187,191,195,199,203,207,211,214,218,221,225,228
  33      94009900 
  33      9D00A100 
  33      A600AA00 
  33      AE00B200 
  34              		
  35              		.align 4
  36              	zheng_xian_100hz:
  37 0390 18011901 		.short 280,281,283,285,287,288,290,292,294,295,297,299,301,302,304,306,308,309,311,313,315,316,318
  37      1B011D01 
  37      1F012001 
  37      22012401 
  37      26012701 
  38              	
  39              		.align 4
  40              	cos_sin_biao_100k:
  41 0b60 00800000 		.int 0x00008000,0x00000000,0x0000678D,0xFFFFB4C4,0x0000278D,0xFFFF8644,0xFFFFD873,0xFFFF8644,0xFFF
  41      00000000 
  41      8D670000 
  41      C4B4FFFF 
  41      8D270000 
  42              	cos_sin_biao_10k:
  43 0c04 00800000 		.int 0x00008000,0x00000000,0x00007FBF,0xFFFFF7F7,0x00007EFD,0xFFFFEFF6,0x00007DBB,0xFFFFE804,0x000
  43      00000000 
  43      BF7F0000 
  43      F7F7FFFF 
  43      FD7E0000 
  44              	cos_sin_biao_100_1k:
  45 1248 00800000 		.int 0x00008000,0x00000000,0x00007FFF,0xFFFFFF33,0x00007FFD,0xFFFFFE65,0x00007FFA,0xFFFFFD97,0x000
  45      00000000 
  45      FF7F0000 
  45      33FFFFFF 
  45      FD7F0000 
  46              	shangbi_liangcheng:
  47 3188 08000000 		.short 0x08,0x00,0x00,0x200,0x200,0x40,0x40,0x240,0x240
  47      00000002 
  47      00024000 
  47      40004002 
  47      4002
  48              	xiabi_liangcheng:
  49 319a 00000000 		.short 0x00,0x00,0x08,0x200,0x208,0x40,0x48,0x240,0x248
  49      08000002 
  49      08024000 
  49      48004002 
  49      4802
  50 31ac 00000000 		.align 4
  51              	zukang_xiaoshu_dian:			@jdjd
  52 31b0 0303FFFF 		.byte 0x03,0x03,0xff,0xff,0x02,0x02,0x03,0x03,0xff
ARM GAS  1.s 			page 3


  52      02020303 
  52      FF
  53 31b9 00000000 		.align 4
  53      000000
  54              	zukang_huansuan_biao:
  55 31c0 AA2A0000 		.int 10922,32768,10922,32768,10922,32768,10922,32768,10922
  55      00800000 
  55      AA2A0000 
  55      00800000 
  55      AA2A0000 
  56              	zukang_danwei:
  57              		@毫欧=0XF46D，欧=0XF420, 千欧=0XF44B，兆欧=0XF44D
  58 31e4 20F40000 		.int 0xf420,0xf420,0xf420,0xf420,0xf44b,0xf44b,0xf44b,0xf44b,0xf44b
  58      20F40000 
  58      20F40000 
  58      20F40000 
  58      4BF40000 
  59              	an_jian_biao:
  60 3208 2B020000 		.word __an_jian0         	   	   +1
  61 320c ED010000 		.word __dang_wei_jia     	   	   +1
  62 3210 EF010000 		.word __pin_lv_jia      	   	   +1
  63 3214 29020000 		.word __an_jian3         	           +1
  64              	pinlv_biao:
  65 3218 37030000 		.word __pinlv_100			+1
  66 321c 21040000 		.word __pinlv_1K			+1
  67 3220 FD040000 		.word __pinlv_10K			+1
  68 3224 D5050000 		.word __pinlv_100K			+1
  69 3228 00000000 		.align 4
  69      00000000 
  70              	pinlv_xianshi_biao:
  71 3230 10000000 		.word pinlv_100hz
  72 3234 20000000 		.word pinlv_1khz
  73 3238 30000000 		.word pinlv_10khz
  74 323c 40000000 		.word pinlv_100khz
  75              	
  76              	kong:
  77 3240 20202020 		.int 0x20202020
  78              	_fu:
  79 3244 2D       		.ascii "-"
  80              	yjmwxwx:
  81 3245 796A6D77 		.ascii "yjmwxwx-20210823"
  81      7877782D 
  81      32303231 
  81      30383233 
  82 3255 00000000 		.align 4
  82      00000000 
  82      000000
  83              		.equ STACKINIT,        	        0x20001000
  84              		.equ asciimabiao,		0x20000000
  85              		.equ lcd_beiguang,		0x20000020
  86              		.equ shangbi_r, 		0x20000024
  87              		.equ shangbi_i,			0x20000028
  88              		.equ xiabi_r,			0x2000002c
  89              		.equ xiabi_i,			0x20000030
  90              		.equ shangxiabi_qiehuan,	0x20000034
  91              		.equ liangcheng,		0x20000038
  92              		.equ z_r,			0x2000003c
ARM GAS  1.s 			page 4


  93              		.equ z_i,			0x20000040
  94              		.equ dma_r,			0x20000044
  95              		.equ dma_i,			0x20000048
  96              		.equ huandangyanshi,		0x2000004c
  97              		.equ shangbi_rr,		0x20000050
  98              		.equ shangbi_ii,		0x20000054
  99              		.equ xiabi_rr,			0x20000058
 100              		.equ xiabi_ii,			0x2000005c
 101              		.equ jishu,			0x20000060
 102              		.equ xianshi_biaozhi,		0x20000064
 103              		.equ z_fudu,			0x20000068
 104              		.equ cossin,			0x2000006c
 105              		.equ pinlv,			0x20000070
 106              		.equ anjian,			0x20000074
 107              		.equ zhenfu,			0x20000078
 108              		.equ shezhi_pinlv,		0x2000007c
 109              		.equ dianyabiao,		0x20000100
 110              		.equ lvboqizhizhen,		0x200008d0
 111              		.equ lvboqihuanchong,		0x200008d8
 112              		.equ lvboqizhizhen1,            0x20000a68  @0x200009e0
 113              		.equ lvboqihuanchong1,          0x20000a70  @0x200009e8
 114              	        .equ lvboqizhizhen2,            0x20000c00  @0x20000af0
 115              		.equ lvboqihuanchong2,          0x20000c08  @0x20000af8
 116              		.equ lvboqizhizhen3,            0x20000d98  @0x20000c00
 117              		.equ lvboqihuanchong3,          0x20000da0  @0x20000c08
 118              		
 119              		
 120              		.section .text
 121              	
 122              	vectors:
 123 0000 00100020 		.word STACKINIT
 124 0004 B1000000 		.word _start + 1
 125 0008 250E0000 		.word _nmi_handler + 1
 126 000c 270E0000 		.word _hard_fault  + 1
 127 0010 00000000 		.word 0
 128 0014 00000000 		.word 0
 129 0018 00000000 		.word 0
 130 001c 00000000 		.word 0
 131 0020 00000000 		.word 0
 132 0024 00000000 		.word 0
 133 0028 00000000 		.word 0
 134 002c 290E0000 		.word _svc_handler +1
 135 0030 00000000 		.word 0
 136 0034 00000000 		.word 0
 137 0038 2B0E0000 		.word _pendsv_handler +1
 138 003c 2D0E0000 		.word _systickzhongduan +1           @ 15
 139 0040 F70E0000 		.word aaa +1     @ _wwdg +1          @ 0
 140 0044 F70E0000 		.word aaa +1     @_pvd +1            @ 1
 141 0048 F70E0000 		.word aaa +1     @_rtc +1            @ 2
 142 004c F70E0000 		.word aaa +1     @_flash +1          @ 3
 143 0050 F70E0000 		.word aaa +1	@ _rcc + 1           @ 4
 144 0054 F70E0000 		.word aaa +1      @_exti0_1  +1      @ 5
 145 0058 F70E0000 		.word aaa +1      @ _exti2_3 +1      @ 6
 146 005c F70E0000 		.word aaa +1       @_exti4_15 +1     @ 7
 147 0060 F70E0000 		.word aaa +1                         @ 8
 148 0064 F70E0000 		.word aaa +1	@__dma_wan  +1	     @ 9
 149 0068 F70E0000 		.word aaa +1    @_dma1_2_3 +1        @ 10
ARM GAS  1.s 			page 5


 150 006c F70E0000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 151 0070 F70E0000 		.word aaa +1	 @_adc1 +1           @ 12
 152 0074 F70E0000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 153 0078 F70E0000 		.word aaa +1        @ _tim1_cc +1    @ 14
 154 007c F70E0000 		.word aaa +1         @_tim2 +1       @ 15
 155 0080 F70E0000 		.word aaa +1          @_tim3 +1      @ 16
 156 0084 F70E0000 		.word aaa +1                         @ 17
 157 0088 F70E0000 		.word aaa +1		             @ 18
 158 008c F70E0000 		.word aaa +1	@_tim14 +1           @ 19
 159 0090 F70E0000 		.word aaa +1                         @ 20
 160 0094 F70E0000 		.word aaa +1         @_tim16 +1      @ 21
 161 0098 F70E0000 		.word aaa +1         @_tim17 +1      @ 22
 162 009c F70E0000 		.word aaa +1          @_i2c   +1     @ 23
 163 00a0 F70E0000 		.word aaa +1                         @ 24
 164 00a4 F70E0000 		.word aaa +1           @_spi   +1    @ 25
 165 00a8 F70E0000 		.word aaa +1                         @ 26
 166 00ac F70E0000 		.word aaa +1         @_usart1 +1     @ 27
 167              		.align 2
 168              	_start:
 169              	shizhong:
 170 00b0 694A     		ldr r2, = 0x40022000   @FLASH访问控制
 171 00b2 3221     		movs r1, # 0x32
 172 00b4 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 173 00b6 6948     		ldr r0, = 0x40021000 @ rcc
 174 00b8 6949     		ldr r1, = 0x10001
 175 00ba 0160     		str r1, [r0]
 176              	denghse:
 177 00bc 0168     		ldr r1, [r0]
 178 00be 8903     		lsls r1, r1, # 14
 179 00c0 FCD5     		bpl denghse
 180              	dengpllguan:
 181 00c2 0168     		ldr r1, [r0]
 182 00c4 8901     		lsls r1, r1, # 6
 183 00c6 FCD4     		bmi dengpllguan
 184 00c8 6649     		ldr r1, = 0x150002	@0x150002
 185 00ca 0046     		mov r0, r0
 186 00cc 4160     		str r1, [r0, # 0x04]
 187 00ce 0046     		mov r0, r0
 188 00d0 6549     		ldr r1, = 0x1010000
 189 00d2 0046     		mov r0, r0
 190 00d4 0160     		str r1, [r0]
 191              	
 192              	dengpll:
 193 00d6 0168     		ldr r1, [r0]
 194 00d8 8901     		lsls r1, # 6
 195 00da FCD5     		bpl dengpll
 196              	
 197              	
 198 00dc 6349     		ldr r1, = 100
 199 00de 0163     		str r1, [r0, # 0x30]
 200              	
 201              	_waisheshizhong:	                         @ 外设时钟
 202              		@+0x14=RCC_AHBENR
 203              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 204 00e0 5E48     		ldr r0, = 0x40021000
 205 00e2 6349     		ldr r1, = 0x60001
 206 00e4 4161     		str r1, [r0, # 0x14]
ARM GAS  1.s 			page 6


 207              	
 208              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 209              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 210 00e6 6349     		ldr r1, = 0x1a00
 211 00e8 8161     		str r1, [r0, # 0x18]
 212              		@+0X1C=RCC_APB1ENR
 213              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 214              		@ 22=I2C2 @ 23=USB @ 28=PWR
 215 00ea 634A     		ldr r2, = 0x902
 216 00ec C261     		str r2, [r0, # 0x1c]
 217              	
 218 00ee 6348     		ldr r0, = shezhi_pinlv
 219 00f0 0068     		ldr r0, [r0]
 220 00f2 0128     		cmp r0, # 1
 221 00f4 07D1     		bne _neicunqingling
 222              	_neicunqingling1:
 223 00f6 6248     		ldr r0, = 0x20001000
 224 00f8 624A     		ldr r2, = 0x20000100
 225 00fa 0021     		movs r1, # 0
 226              	_neicunqinglingxunhuan1:
 227 00fc 0438     		subs r0, r0, # 4
 228 00fe 0160     		str r1, [r0]
 229 0100 9042     		cmp r0, r2
 230 0102 FBD1     		bne _neicunqinglingxunhuan1
 231 0104 06E0     		b _waishezhongduan
 232              	_neicunqingling:
 233 0106 5E48     		ldr r0, = 0x20001000
 234 0108 5F4A     		ldr r2, = 0x20000000
 235 010a 0021     		movs r1, # 0
 236              	_neicunqinglingxunhuan:
 237 010c 0438     	        subs r0, r0, # 4
 238 010e 0160     		str r1, [r0]
 239 0110 9042     		cmp r0, r2
 240 0112 FBD1     		bne _neicunqinglingxunhuan
 241              	_waishezhongduan:		@外设中断
 242              		@0xE000E100    0-31  写1开，写0没效
 243              		@0XE000E180    0-31 写1关，写0没效
 244              		@0XE000E200    0-31 挂起，写0没效
 245              		@0XE000E280    0-31 清除， 写0没效
 246 0114 5D48     		ldr r0, =  0xe000e100
 247 0116 5E49     		ldr r1, = 0x200 @0x10200  @ 0x10000
 248 0118 0160     		str r1, [r0]
 249              		
 250              	@_kanmengou:
 251              	@	ldr r0, = 0x40003000
 252              	@	ldr r1, = 0x5555
 253              	@	str r1, [r0]
 254              	@	movs r1, # 7
 255              	@	str r1, [r0, # 4]
 256              	@	ldr r1, = 0xfff
 257              	@	str r1, [r0, # 8]
 258              	@	ldr r1, = 0xaaaa
 259              	@	str r1, [r0]
 260              	@	ldr r1, = 0xcccc
 261              	@	str r1, [r0]
 262              		
 263              	io_she_zhi:
ARM GAS  1.s 			page 7


 264              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 265              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 266              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 267              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 268              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 269              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 270              		@偏移0x10 = 输入数据寄存器
 271              		@偏移0x14 = 输出数据寄存器
 272              		@偏移0x18 = 端口开  0-15置位
 273              		@偏移0x28 = 端口关
 274              		@0X20 = 复用低
 275              		@GPIO口0（0-3位）每个IO口占用4位
 276              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 277              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 278              		@0x24 = 复用高
 279              		@GPIO口8 （0-3位）每个IO口占用4位
 280              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 281              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 282              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 283              	
 284 011a 5E48     		ldr r0, = 0x48000000
 285 011c 5E49     		ldr r1, = 0x28249a43
 286 011e 0160     		str r1, [r0]
 287 0120 B621     		movs r1, # 0xb6
 288 0122 4160     		str r1, [r0, # 0x04]
 289 0124 5D49     		ldr r1, = 0x30cf00
 290 0126 8160     		str r1, [r0, # 0x08]
 291 0128 1421     		movs r1, # 0x14
 292 012a C160     		str r1, [r0, # 0x0c]
 293 012c 5849     		ldr r1, = 0x200
 294 012e 4162     		str r1, [r0, # 0x24]
 295              		
 296 0130 5B48     	        ldr r0, = 0x48000400
 297 0132 0421     		movs r1, # 0x04
 298 0134 0160     		str r1, [r0]
 299              		
 300              	spi_chushihua:
 301 0136 5B48     		ldr r0, = 0x40013000
 302 0138 5B49     		ldr  r1, = 0x708
 303 013a 4160     		str r1, [r0, # 0x04]
 304 013c 5B49     		ldr r1, = 0x5c
 305 013e 0160     		str r1, [r0]
 306              	
 307              	_lcdchushihua:
 308 0140 3320     		movs r0, # 0x33
 309 0142 0021     		movs r1, # 0
 310 0144 00F02BFD 		bl _xielcd
 311 0148 00F024FD 		bl _lcdyanshi
 312              	
 313 014c 3220     		movs r0, # 0x32
 314 014e 0021     		movs r1, # 0
 315 0150 00F025FD 		bl _xielcd
 316 0154 00F01EFD 		bl _lcdyanshi
 317 0158 2820     		movs r0, # 0x28
 318 015a 0021     		movs r1, # 0
 319 015c 00F01FFD 		bl _xielcd
 320 0160 00F018FD 		bl _lcdyanshi
ARM GAS  1.s 			page 8


 321 0164 0C20     		movs r0, # 0x0c
 322 0166 0021     		movs r1, # 0
 323 0168 00F019FD 		bl _xielcd
 324 016c 00F012FD 		bl _lcdyanshi
 325 0170 0120     		movs r0, # 0x01
 326 0172 0021     		movs r1, # 0
 327 0174 00F013FD 		bl _xielcd
 328 0178 00F00CFD 		bl _lcdyanshi
 329              	
 330 017c 3F48     		ldr r0, = shezhi_pinlv
 331 017e 0068     		ldr r0, [r0]
 332 0180 0128     		cmp r0, # 1
 333 0182 0DD0     		beq _adcchushihua
 334 0184 8020     		movs r0, # 0x80
 335 0186 4A49     		ldr r1, = yjmwxwx
 336 0188 1022     		movs r2, # 16
 337 018a 00F0F5FC 		bl _lcdxianshi
 338 018e 4948     		ldr r0, = 0xffffff
 339              	yjmwxwx_yanshi:
 340 0190 0138     		subs r0, r0, # 1
 341 0192 FDD1     		bne yjmwxwx_yanshi
 342              	
 343              		
 344 0194 0120     		movs r0, # 0x01
 345 0196 0021     		movs r1, # 0
 346 0198 00F001FD 		bl _xielcd
 347 019c 00F0FAFC 		bl _lcdyanshi
 348              			
 349              	_adcchushihua:
 350 01a0 4548     		ldr r0, = 0x40012400  @ adc基地址
 351 01a2 4649     		ldr r1, = 0x80000000
 352 01a4 8160     		str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 353              	_dengadcjiaozhun:
 354 01a6 8168     		ldr r1, [r0, # 0x08]
 355 01a8 0900     		movs r1, r1
 356 01aa FCD4     		bmi _dengadcjiaozhun   @ 等ADC校准
 357 01ac 0121     		movs r1, # 1
 358 01ae 0160     		str r1, [r0]
 359              	_kaiadc:
 360 01b0 8168     		ldr r1, [r0, # 0x08]
 361 01b2 0122     		movs r2, # 0x01
 362 01b4 1143     		orrs r1, r1, r2
 363 01b6 8160     		str r1, [r0, # 0x08]
 364              	_deng_adc_wen_ding:
 365 01b8 0168     		ldr r1, [r0]
 366 01ba C907     		lsls r1, r1, # 31
 367 01bc FCD5     		bpl _deng_adc_wen_ding @ 等ADC稳定
 368              	_tongdaoxuanze:
 369 01be 4049     		ldr r1, = 0x40000000
 370 01c0 0161     		str r1, [r0, # 0x10]
 371 01c2 4049     		ldr r1, = 0x01
 372 01c4 8162     		str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 373 01c6 4049     		ldr r1, = 0x8c3 @ 0xc43		@TIM3 0x8c3 @0x2003 @0x8c3
 374 01c8 C160     		str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 375 01ca 0021     		movs r1, # 0
 376 01cc 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 377 01ce 8168     		ldr r1, [r0, # 0x08]
ARM GAS  1.s 			page 9


 378 01d0 3E4A     		ldr r2, = 0x04         @ 开始转换
 379 01d2 1143     		orrs r1, r1, r2
 380 01d4 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 381              	
 382              	
 383              	
 384              	
 385 01d6 00F0A4F8 		bl __pinlv_shezhi
 386 01da 00F03CFA 		bl __pin_lv_xian_shi
 387 01de 3C48     		ldr r0, = liangcheng
 388 01e0 0221     		movs r1, # 2
 389 01e2 0160     		str r1, [r0]
 390 01e4 2548     		ldr r0, = shezhi_pinlv
 391 01e6 0121     		movs r1, # 1
 392 01e8 0160     		str r1, [r0]
 393 01ea 1EE0     		b ting
 394              	
 395              	__dang_wei_jia:
 396 01ec 1DE0     		b ting
 397              	__pin_lv_jia:
 398 01ee 72B6     		cpsid i
 399 01f0 3848     		ldr r0, = pinlv
 400 01f2 0168     		ldr r1, [r0]
 401 01f4 0131     		adds r1, r1, # 1
 402 01f6 0160     		str r1, [r0]
 403 01f8 0429     		cmp r1, # 4
 404 01fa 01D1     		bne __pin_lv_fan_hui
 405 01fc 0021     		movs r1, # 0
 406 01fe 0160     		str r1, [r0]
 407              	__pin_lv_fan_hui:
 408 0200 0A46     		mov r2, r1
 409 0202 9200     		lsls r2, r2, # 2
 410 0204 0120     	        movs r0, # 0x01
 411 0206 0021     		movs r1, # 0
 412 0208 00F0C9FC 		bl _xielcd
 413 020c 00F0C2FC 		bl _lcdyanshi
 414 0210 8020     	        movs r0, # 0x80
 415 0212 3149     		ldr r1, = pinlv_xianshi_biao
 416 0214 8958     		ldr r1, [r1, r2]
 417 0216 1022     		movs r2, # 16
 418 0218 00F0AEFC 		bl _lcdxianshi
 419              		
 420 021c 2548     		ldr r0, = 0xffffff
 421              	__pinlv_xianshi_yanshi:
 422 021e 0138     		subs r0, r0, # 1
 423 0220 FDD1     		bne __pinlv_xianshi_yanshi
 424 0222 2E48     		ldr r0, = 0xe000ed0c
 425 0224 2E49     		ldr r1, = 0x05fa0004
 426 0226 0160     		str r1, [r0]          		@复位
 427              	__an_jian3:
 428 0228 60E0     		b __jiao_zhun
 429              	__an_jian0:
 430              	ting:
 431 022a 00F08FFA 		bl __jisuan_zukang
 432 022e 8E20     		movs r0, # 0x8e
 433 0230 274A     		ldr r2, = liangcheng
 434 0232 2C49     		ldr r1, = zukang_danwei
ARM GAS  1.s 			page 10


 435 0234 1268     		ldr r2, [r2]
 436 0236 9200     		lsls r2, r2, # 2
 437 0238 8918     		adds r1, r1, r2
 438 023a 0222     		movs r2, # 2
 439 023c 00F09CFC 		bl _lcdxianshi
 440 0240 00F072FB 		bl __xianshi_zukang
 441 0244 00F0B9FB 		bl __xianshi_liangcheng
 442 0248 00F064F8 	        bl __an_jian
 443              	__cai_dan_diao_du:
 444 024c 8000     		lsls r0, r0, # 2
 445 024e 2649     		ldr r1, = an_jian_biao
 446 0250 0A58     		ldr r2, [r1, r0]
 447 0252 9746     		mov pc, r2
 448 0254 E9E7     		b ting
 449 0256 00000020 		.ltorg
 449      02400010 
 449      02400100 
 449      01000200 
 449      15000000 
 450              	__jiao_zhun:
 451 02ec 0120     	        movs r0, # 0x01
 452 02ee 0021     		movs r1, # 0
 453 02f0 00F055FC 		bl _xielcd
 454 02f4 00F04EFC 		bl _lcdyanshi
 455              		
 456 02f8 8020     	        movs r0, # 0x80
 457 02fa 2D49     		ldr r1, = jiaozhun
 458 02fc 1022     		movs r2, # 16
 459 02fe 00F03BFC 		bl _lcdxianshi
 460 0302 2C48     		ldr r0, = 0x1ffffff
 461              	__jiaozhun_xianshi_yanshi:
 462 0304 0138     		subs r0, r0, # 1
 463 0306 FDD1     		bne __jiaozhun_xianshi_yanshi
 464 0308 0120     	        movs r0, # 0x01
 465 030a 0021     		movs r1, # 0
 466 030c 00F047FC 		bl _xielcd
 467 0310 00F040FC 		bl _lcdyanshi
 468              	
 469              	__an_jian:
 470 0314 02B5     		push {r1,lr}
 471 0316 2849     		ldr r1, = 0x48000010
 472 0318 0868     		ldr r0, [r1]	@pa4
 473 031a C043     		mvns r0, r0
 474 031c 4007     		lsls r0, r0, # 29
 475 031e 800F     		lsrs r0, r0, # 30
 476 0320 02BD     		pop {r1,pc}
 477              	__pinlv_shezhi:
 478              		@入口R0
 479              		@1=100, 2=1KHZ, 3=10KHZ, 4=100KHZ
 480 0322 0FB5     		push {r0-r3,lr}
 481 0324 2549     		ldr r1, = shezhi_pinlv
 482 0326 0122     		movs r2, # 1
 483 0328 0A60     		str r2, [r1]
 484 032a 254A     		ldr r2, = pinlv
 485 032c 2549     		ldr r1, = pinlv_biao
 486 032e 1268     		ldr r2, [r2]
 487 0330 9200     	        lsls r2, r2, # 2
ARM GAS  1.s 			page 11


 488 0332 8A58     		ldr r2, [r1, r2]
 489 0334 9746     		mov pc, r2
 490              		
 491              	__pinlv_100:
 492              		@tim1ch3DMA
 493 0336 2448     		ldr r0, = 0x40020000
 494 0338 0021     		movs r1, # 0
 495 033a 8165     		str r1, [r0, # 0x58]
 496 033c 8160     		str r1, [r0, # 0x08]
 497 033e 2349     		ldr r1, = 0x40012c3c @ 外设地址
 498 0340 0166     		str r1, [r0, # 0x60]
 499 0342 2349     		ldr r1, = zheng_xian_100hz @ 储存器地址
 500 0344 4166     		str r1, [r0, # 0x64]
 501 0346 2349     		ldr r1, = 1000             @点数
 502 0348 C165     		str r1, [r0, # 0x5c]
 503 034a 2349     		ldr r1, = 0x35b1         @ 储存到外设
 504 034c 8165     		str r1, [r0, # 0x58]
 505              		
 506              	        @ adc dma
 507 034e 2349     		ldr r1, = 0x40012440
 508 0350 0161     		str r1, [r0, # 0x10]
 509 0352 2349     		ldr r1, = dianyabiao
 510 0354 4161     		str r1, [r0, # 0x14]
 511 0356 1F49     		ldr r1, = 1000
 512 0358 C160     		str r1, [r0, # 0x0c]
 513 035a 2249     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 514 035c 8160     		str r1, [r0, # 0x08]
 515              		
 516              		@tim3chushihua:
 517 035e 224B     		ldr r3, = 0x40000400 @ tim3_cr1
 518 0360 224A     		ldr r2, = 0
 519 0362 9A62     		str r2, [r3, # 0x28] @ psc
 520 0364 224A     		ldr r2, = 559
 521 0366 DA62     		str r2, [r3, # 0x2c] @ ARR
 522 0368 2022     		movs r2, # 0x20
 523 036a 5A60     		str r2, [r3, # 0x04] @ TRGO
 524 036c 0622     		movs r2, # 0x06
 525 036e 9A60     		str r2, [r3, # 0x08]
 526 0370 8022     		movs r2, # 0x80
 527              		@tim1chushiha:
 528 0372 2048     		ldr r0, = 0x40012c00 @ tim1_cr1
 529 0374 0021     		movs r1, # 0
 530 0376 8162     		str r1, [r0, # 0x28] @ psc
 531 0378 1D49     		ldr r1, = 559
 532 037a C162     		str r1, [r0, # 0x2c] @ ARR
 533 037c 2021     		movs r1, # 0x20
 534 037e 4160     		str r1, [r0, # 0x04] @ TRGO
 535 0380 1D49     		ldr r1, = 0x68
 536 0382 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 537 0384 1D49     		ldr r1, = 0x100    @  CC3
 538 0386 0162     		str r1, [r0, # 0x20] @ ccer
 539 0388 1D49     		ldr r1, = 0x8000
 540 038a 4164     		str r1, [r0, # 0x44] @ BDTR
 541 038c 1D49     		ldr r1, = 0x800 @ CC3 DMA
 542 038e C160     		str r1, [r0, # 0x0c] @ DIER
 543 0390 1D49     		ldr r1, = 0x81
 544 0392 0160     		str r1, [r0]
ARM GAS  1.s 			page 12


 545 0394 1A60     		str r2, [r3]
 546 0396 1D48     		ldr r0, = 0xe000e010
 547 0398 1D49     		ldr r1, = 559999
 548 039a 4160     		str r1, [r0, # 4]
 549 039c 8160     		str r1, [r0, # 8]
 550 039e 0721     		movs r1, # 0x07
 551 03a0 0160     		str r1, [r0]    @systick 开
 552 03a2 1C48     	        ldr r0, = cossin
 553 03a4 1C49     		ldr r1, = cos_sin_biao_100_1k
 554 03a6 0160     		str r1, [r0]
 555 03a8 1C48     		ldr r0, = lcd_beiguang
 556 03aa C021     		movs r1, # 0xc0
 557 03ac 0160     		str r1, [r0]
 558 03ae 0FBD     		pop {r0-r3,pc}
 559 03b0 00000000 		.ltorg
 559      FFFFFF01 
 559      10000048 
 559      7C000020 
 559      70000020 
 560              		
 561              	__pinlv_1K:
 562              		@tim1ch3DMA
 563 0420 1E48     		ldr r0, = 0x40020000
 564 0422 0021     		movs r1, # 0
 565 0424 8165     		str r1, [r0, # 0x58]
 566 0426 8160     		str r1, [r0, # 0x08]
 567 0428 1D49     		ldr r1, = 0x40012c3c @ 外设地址
 568 042a 0166     		str r1, [r0, # 0x60]
 569 042c 1D49     		ldr r1, = zheng_xian_1khz @ 储存器地址
 570 042e 4166     		str r1, [r0, # 0x64]
 571 0430 1D49     		ldr r1, = 200             @点数
 572 0432 C165     		str r1, [r0, # 0x5c]
 573 0434 1D49     		ldr r1, = 0x35b1         @ 储存到外设
 574 0436 8165     		str r1, [r0, # 0x58]
 575              		@ adc dma
 576 0438 1D49     		ldr r1, = 0x40012440
 577 043a 0161     		str r1, [r0, # 0x10]
 578 043c 1D49     		ldr r1, = dianyabiao
 579 043e 4161     		str r1, [r0, # 0x14]
 580 0440 1D49     		ldr r1, = 1000
 581 0442 C160     		str r1, [r0, # 0x0c]
 582 0444 1D49     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 583 0446 8160     		str r1, [r0, # 0x08]
 584              		
 585              		
 586              		@tim3chushihua:
 587 0448 1D4B     		ldr r3, = 0x40000400 @ tim3_cr1
 588 044a 1E4A     		ldr r2, = 0
 589 044c 9A62     		str r2, [r3, # 0x28] @ psc
 590 044e 1E4A     		ldr r2, = 559
 591 0450 DA62     		str r2, [r3, # 0x2c] @ ARR
 592 0452 2022     		movs r2, # 0x20
 593 0454 5A60     		str r2, [r3, # 0x04] @ TRGO
 594 0456 0622     		movs r2, # 0x06
 595 0458 9A60     		str r2, [r3, # 0x08]
 596 045a 8022     		movs r2, # 0x80
 597              		@tim1chushiha:
ARM GAS  1.s 			page 13


 598 045c 1B48     		ldr r0, = 0x40012c00 @ tim1_cr1
 599 045e 0021     		movs r1, # 0
 600 0460 8162     		str r1, [r0, # 0x28] @ psc
 601 0462 1B49     		ldr r1, = 279
 602 0464 C162     		str r1, [r0, # 0x2c] @ ARR
 603 0466 2021     		movs r1, # 0x20
 604 0468 4160     		str r1, [r0, # 0x04] @ TRGO
 605 046a 1A49     		ldr r1, = 0x68
 606 046c C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 607 046e 1A49     		ldr r1, = 0x100    @  CC3
 608 0470 0162     		str r1, [r0, # 0x20] @ ccer
 609 0472 1A49     		ldr r1, = 0x8000
 610 0474 4164     		str r1, [r0, # 0x44] @ BDTR
 611 0476 1A49     		ldr r1, = 0x800 @ CC3 DMA
 612 0478 C160     		str r1, [r0, # 0x0c] @ DIER
 613 047a 1A49     		ldr r1, = 0x81
 614 047c 0160     		str r1, [r0]
 615 047e 1A60     		str r2, [r3]
 616 0480 1948     	        ldr r0, = 0xe000e010
 617 0482 1A49     		ldr r1, = 559999
 618 0484 4160     		str r1, [r0, # 4]
 619 0486 8160     		str r1, [r0, # 8]
 620 0488 0721     		movs r1, # 0x07
 621 048a 0160     		str r1, [r0]    @systick 开
 622 048c 1848     		ldr r0, = cossin
 623 048e 1949     		ldr r1, = cos_sin_biao_10k
 624 0490 0160     		str r1, [r0]
 625 0492 1948     		ldr r0, = lcd_beiguang
 626 0494 C021     		movs r1, # 0xc0
 627 0496 0160     		str r1, [r0]
 628 0498 0FBD     		pop {r0-r3,pc}
 629 049a 00000000 		.ltorg
 629      02403C2C 
 629      01400002 
 629      0000C800 
 629      0000B135 
 630              	
 631              		
 632              	__pinlv_10K:
 633              		@tim1ch3DMA
 634 04fc 1E48     		ldr r0, = 0x40020000
 635 04fe 0021     		movs r1, # 0
 636 0500 8165     		str r1, [r0, # 0x58]
 637 0502 8160     		str r1, [r0, # 0x08]
 638 0504 1D49     		ldr r1, = 0x40012c3c @ 外设地址
 639 0506 0166     		str r1, [r0, # 0x60]
 640 0508 1D49     		ldr r1, = zheng_xian_10khz @ 储存器地址
 641 050a 4166     		str r1, [r0, # 0x64]
 642 050c 1D49     		ldr r1, = 200             @点数
 643 050e C165     		str r1, [r0, # 0x5c]
 644 0510 1D49     		ldr r1, = 0x31b1         @ 储存到外设
 645 0512 8165     		str r1, [r0, # 0x58]
 646              		@ adc dma
 647 0514 1D49     		ldr r1, = 0x40012440
 648 0516 0161     		str r1, [r0, # 0x10]
 649 0518 1D49     		ldr r1, = dianyabiao
 650 051a 4161     		str r1, [r0, # 0x14]
ARM GAS  1.s 			page 14


 651 051c 1D49     		ldr r1, = 1000
 652 051e C160     		str r1, [r0, # 0x0c]
 653 0520 1D49     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 654 0522 8160     		str r1, [r0, # 0x08]
 655              		
 656              		@tim3chushihua:
 657 0524 1D4B     		ldr r3, = 0x40000400 @ tim3_cr1
 658 0526 1E4A     		ldr r2, = 0
 659 0528 9A62     		str r2, [r3, # 0x28] @ psc
 660 052a 1E4A     		ldr r2, = 27
 661 052c DA62     		str r2, [r3, # 0x2c] @ ARR
 662 052e 2022     		movs r2, # 0x20
 663 0530 5A60     		str r2, [r3, # 0x04] @ TRGO
 664 0532 0622     		movs r2, # 0x06
 665 0534 9A60     		str r2, [r3, # 0x08]
 666 0536 8022     		movs r2, # 0x80
 667              		@tim1chushiha:
 668 0538 1B48     		ldr r0, = 0x40012c00 @ tim1_cr1
 669 053a 0021     		movs r1, # 0
 670 053c 8162     		str r1, [r0, # 0x28] @ psc
 671 053e 1949     		ldr r1, = 27
 672 0540 C162     		str r1, [r0, # 0x2c] @ ARR
 673 0542 2021     		movs r1, # 0x20
 674 0544 4160     		str r1, [r0, # 0x04] @ TRGO
 675 0546 1949     		ldr r1, = 0x68
 676 0548 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 677 054a 1949     		ldr r1, = 0x100    @  CC3
 678 054c 0162     		str r1, [r0, # 0x20] @ ccer
 679 054e 1949     		ldr r1, = 0x8000
 680 0550 4164     		str r1, [r0, # 0x44] @ BDTR
 681 0552 1949     		ldr r1, = 0x800 @ CC3 DMA
 682 0554 C160     		str r1, [r0, # 0x0c] @ DIER
 683 0556 1949     		ldr r1, = 0x81
 684 0558 0160     		str r1, [r0]
 685 055a 1A60     		str r2, [r3]
 686 055c 1848     		ldr r0, = 0xe000e010
 687 055e 1949     		ldr r1, = 55999
 688 0560 4160     		str r1, [r0, # 4]
 689 0562 8160     		str r1, [r0, # 8]
 690 0564 0721     		movs r1, # 0x07
 691 0566 0160     		str r1, [r0]    @systick 开
 692 0568 1748     	        ldr r0, = cossin
 693 056a 1849     		ldr r1, = cos_sin_biao_10k
 694 056c 0160     		str r1, [r0]
 695 056e 1848     		ldr r0, = lcd_beiguang
 696 0570 8021     		movs r1, # 0x80
 697 0572 0160     		str r1, [r0]
 698 0574 0FBD     		pop {r0-r3,pc}
 699 0576 00000000 		.ltorg
 699      02403C2C 
 699      01403001 
 699      0000C800 
 699      0000B131 
 700              	__pinlv_100K:
 701              	        @tim1ch3DMA
 702 05d4 2748     		ldr r0, = 0x40020000
 703 05d6 0021     		movs r1, # 0
ARM GAS  1.s 			page 15


 704 05d8 8165     		str r1, [r0, # 0x58]
 705 05da 8160     		str r1, [r0, # 0x08]
 706 05dc 2649     		ldr r1, = 0x40012c3c @ 外设地址
 707 05de 0166     		str r1, [r0, # 0x60]
 708 05e0 2649     		ldr r1, = zheng_xian_100khz @ 储存器地址
 709 05e2 4166     		str r1, [r0, # 0x64]
 710 05e4 2649     		ldr r1, = 20             @点数
 711 05e6 C165     		str r1, [r0, # 0x5c]
 712 05e8 2649     		ldr r1, = 0x31b1         @ 储存到外设
 713 05ea 8165     		str r1, [r0, # 0x58]
 714              		@ adc dma
 715 05ec 2649     		ldr r1, = 0x40012440
 716 05ee 0161     		str r1, [r0, # 0x10]
 717 05f0 2649     		ldr r1, = dianyabiao
 718 05f2 4161     		str r1, [r0, # 0x14]
 719 05f4 2649     		ldr r1, = 1000
 720 05f6 C160     		str r1, [r0, # 0x0c]
 721 05f8 2649     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 722 05fa 8160     		str r1, [r0, # 0x08]
 723              		
 724              	@tim3chushihua:
 725 05fc 264B     		ldr r3, = 0x40000400 @ tim3_cr1
 726 05fe 274A     		ldr r2, = 0
 727 0600 9A62     		str r2, [r3, # 0x28] @ psc
 728 0602 274A     		ldr r2, = 27
 729 0604 DA62     		str r2, [r3, # 0x2c] @ ARR
 730 0606 2022     		movs r2, # 0x20
 731 0608 5A60     		str r2, [r3, # 0x04] @ TRGO
 732 060a 0622     		movs r2, # 0x06
 733 060c 9A60     		str r2, [r3, # 0x08]
 734 060e 8022     		movs r2, # 0x80
 735              	@tim1chushiha:
 736 0610 2448     		ldr r0, = 0x40012c00 @ tim1_cr1
 737 0612 0021     		movs r1, # 0
 738 0614 8162     		str r1, [r0, # 0x28] @ psc
 739 0616 2249     		ldr r1, = 27
 740 0618 C162     		str r1, [r0, # 0x2c] @ ARR
 741 061a 2021     		movs r1, # 0x20
 742 061c 4160     		str r1, [r0, # 0x04] @ TRGO
 743 061e 2249     		ldr r1, = 0x68
 744 0620 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 745 0622 2249     		ldr r1, = 0x100    @  CC3
 746 0624 0162     		str r1, [r0, # 0x20] @ ccer
 747 0626 2249     		ldr r1, = 0x8000
 748 0628 4164     		str r1, [r0, # 0x44] @ BDTR
 749 062a 2249     		ldr r1, = 0x800 @ CC3 DMA
 750 062c C160     		str r1, [r0, # 0x0c] @ DIER
 751 062e 2249     		ldr r1, = 0x81
 752 0630 0160     		str r1, [r0]
 753 0632 1A60     		str r2, [r3]
 754 0634 2148     		ldr r0, = 0xe000e010
 755 0636 2249     		ldr r1, = 55999
 756 0638 4160     		str r1, [r0, # 4]
 757 063a 8160     		str r1, [r0, # 8]
 758 063c 0721     		movs r1, # 0x07
 759 063e 0160     		str r1, [r0]    @systick 开
 760 0640 2048     		ldr r0, = cossin
ARM GAS  1.s 			page 16


 761 0642 2149     		ldr r1, = cos_sin_biao_100k
 762 0644 0160     		str r1, [r0]
 763 0646 2148     		ldr r0, = lcd_beiguang
 764 0648 0021     		movs r1, # 0
 765 064a 0160     		str r1, [r0]
 766 064c 0FBD     		pop {r0-r3,pc}
 767              	__pinlv_yanshi:
 768 064e 2048     		ldr r0, = 0x1ffff
 769              	__pinlv_yanshi_xunhuan:
 770 0650 0138     		subs r0, r0, # 1
 771 0652 FDD1     		bne __pinlv_yanshi_xunhuan
 772 0654 F746     		mov pc, lr
 773              	__pin_lv_xian_shi:
 774 0656 0FB5     		push {r0-r3,lr}
 775 0658 1E48     		ldr r0, = pinlv
 776 065a 0121     		movs r1, # 1
 777 065c 0068     		ldr r0, [r0]
 778 065e 1E4A     		ldr r2, = asciimabiao
 779 0660 FF23     		movs r3, # 0xff
 780 0662 00F0CFFA 		bl _zhuanascii
 781 0666 8020     		movs r0, # 0x80
 782 0668 1B49     		ldr r1, = asciimabiao
 783 066a 0122     		movs r2, # 1
 784 066c 00F084FA 		bl _lcdxianshi
 785 0670 0FBD     		pop {r0-r3,pc}
 786 0672 00000000 		.ltorg
 786      02403C2C 
 786      01401001 
 786      00001400 
 786      0000B131 
 787              		
 788              	__jisuan_z_fudu:
 789 06dc 07B5     		push {r0-r2,lr}
 790 06de 6948     		ldr r0, = xiabi_rr
 791 06e0 6949     		ldr r1, = xiabi_ii
 792 06e2 0068     		ldr r0, [r0]
 793 06e4 0968     		ldr r1, [r1]
 794 06e6 4012     		asrs r0, r0, # 9
 795 06e8 4912     		asrs r1, r1, # 9
 796 06ea 00F0F7F8 		bl __ji_suan_fu_du
 797 06ee 0246     		mov r2, r0
 798 06f0 6648     		ldr r0, = shangbi_rr
 799 06f2 6749     		ldr r1, = shangbi_ii
 800 06f4 0068     		ldr r0, [r0]
 801 06f6 0968     		ldr r1, [r1]
 802 06f8 4012     		asrs r0, r0, # 9
 803 06fa 4912     		asrs r1, r1, # 9
 804 06fc 00F0EEF8 		bl __ji_suan_fu_du
 805 0700 1146     		mov r1, r2
 806 0702 644A     		ldr r2, = 1000
 807 0704 5043     		muls r0, r0, r2
 808 0706 00F07AFB 		bl _chufa
 809 070a 6349     		ldr r1, = z_fudu
 810 070c 4009     		lsrs r0, r0, # 5
 811 070e 0860     		str r0, [r1]
 812 0710 07BD     		pop {r0-r2,pc}
 813              		
ARM GAS  1.s 			page 17


 814              	__zidong_dangwei:
 815 0712 0FB5     		push {r0-r3,lr}
 816              	__huan_dang:
 817 0714 6048     		ldr r0, = z_fudu
 818 0716 0068     		ldr r0, [r0]
 819 0718 604B     		ldr r3, =  900
 820 071a 5B09     		lsrs r3, r3, # 5
 821 071c 9842     		cmp r0, r3
 822 071e 0CD3     		bcc __dang_wei_jian
 823 0720 5F4B     		ldr r3, =  3000
 824 0722 5B09     		lsrs r3, r3, # 5
 825 0724 9842     		cmp r0, r3
 826 0726 10D3     		bcc __zi_dong_dang_wei_fan_hui
 827 0728 5E48     		ldr r0, = liangcheng
 828 072a 0168     		ldr r1, [r0]
 829 072c 0131     		adds r1, r1, # 1
 830 072e 0160     		str r1, [r0]
 831 0730 0929     		cmp r1, # 9
 832 0732 0AD1     		bne __zi_dong_dang_wei_fan_hui
 833 0734 0821     		movs r1, # 8
 834 0736 0160     		str r1, [r0]
 835 0738 07E0     		b __zi_dong_dang_wei_fan_hui
 836              	__dang_wei_jian:
 837 073a 5A48     		ldr r0, = liangcheng
 838 073c 0168     		ldr r1, [r0]
 839 073e 0139     		subs r1, r1, # 1
 840 0740 0160     		str r1, [r0]
 841 0742 FF29     		cmp r1, # 0xff
 842 0744 01D3     		bcc __zi_dong_dang_wei_fan_hui
 843 0746 0021     		movs r1, # 0
 844 0748 0160     		str r1, [r0]
 845              	__zi_dong_dang_wei_fan_hui:
 846 074a 0FBD     		pop {r0-r3,pc}
 847              	
 848              		
 849              	__jisuan_zukang:
 850 074c 1FB5     		push {r0-r4,lr}
 851 074e 5648     		ldr r0, = shangbi_r
 852 0750 5649     		ldr r1, = shangbi_i
 853 0752 574A     		ldr r2, = xiabi_r
 854 0754 574B     		ldr r3, = xiabi_i
 855 0756 4F4C     		ldr r4, = 1000
 856 0758 0068     		ldr r0, [r0]
 857 075a 0968     		ldr r1, [r1]
 858 075c 1268     		ldr r2, [r2]
 859 075e 1B68     		ldr r3, [r3]
 860 0760 6043     		muls r0, r0, r4
 861 0762 6143     		muls r1, r1, r4
 862 0764 00F067FA 		bl __fu_shu_chu_fa
 863 0768 5348     		ldr r0, = z_r
 864 076a 544B     		ldr r3, = z_i
 865 076c 1960     		str r1, [r3]
 866 076e 0260     		str r2, [r0]
 867 0770 1FBD     		pop {r0-r4,pc}
 868              	
 869              		
 870              	__jisuan_cos_sin:				@jd
ARM GAS  1.s 			page 18


 871              		@入口R0=角度 （-18000到+18000）
 872              		@出口R0=COS，R1=SIN
 873 0772 FCB5     		push {r2-r7,lr}
 874 0774 5249     		ldr r1, = 18000
 875 0776 8842     		cmp r0, r1
 876 0778 02D9     		bls __xiaoyu_180
 877 077a 401A     		subs r0, r0, r1
 878 077c 0127     		movs r7, # 1
 879 077e 00E0     		b __js_cos_sin
 880              	__xiaoyu_180:
 881 0780 0027     		movs r7, # 0
 882              	__js_cos_sin:
 883 0782 5049     		ldr r1, = 9000
 884 0784 504A     		ldr r2, = 51471
 885 0786 0000     		movs r0, r0
 886 0788 03D5     		bpl __jisuan_jiaodu_bushi0
 887 078a C043     		mvns r0, r0
 888 078c 0130     		adds r0, r0, # 1
 889 078e 0124     		movs r4, # 1
 890 0790 00E0     		b __jiance_chao90
 891              	__jisuan_jiaodu_bushi0:
 892 0792 0024     		movs r4, # 0
 893              	__jiance_chao90:
 894 0794 8842     		cmp r0, r1
 895 0796 03D9     		bls __xiaoyu_90
 896 0798 494E     		ldr r6, = 18000
 897 079a 301A     		subs r0, r6, r0
 898 079c 0126     		movs r6, # 1
 899 079e 00E0     		b __suan_cossin
 900              	__xiaoyu_90:
 901 07a0 0026     		movs r6, # 0
 902              	__suan_cossin:
 903 07a2 4A4D     		ldr r5, = 10000
 904 07a4 6843     		muls r0, r0, r5
 905 07a6 00F02AFB 		bl _chufa
 906 07aa 5043     		muls r0, r0, r2
 907 07ac 2946     		mov r1, r5
 908 07ae 00F026FB 		bl _chufa
 909 07b2 012C     		cmp r4, # 1
 910 07b4 01D1     		bne __suan_cos_sin1
 911 07b6 C043     		mvns r0, r0
 912 07b8 0130     		adds r0, r0, # 1
 913              	__suan_cos_sin1:
 914 07ba 00F00BF8 		bl __cordic_cos_sin
 915 07be 012E     		cmp r6, # 1
 916 07c0 01D1     		bne __cos_sin_fanhui
 917 07c2 C043     		mvns r0, r0
 918 07c4 0130     		adds r0, r0, # 1
 919              	__cos_sin_fanhui:
 920 07c6 012F     		cmp r7, # 1
 921 07c8 03D1     		bne __cossin_fh
 922 07ca C043     		mvns r0, r0
 923 07cc C943     		mvns r1, r1
 924 07ce 0130     		adds r0, r0, # 1
 925 07d0 0131     		adds r1, r1, # 1
 926              	__cossin_fh:
 927 07d2 FCBD     		pop {r2-r7,pc}
ARM GAS  1.s 			page 19


 928              	__cordic_cos_sin:
 929              		@入口R0
 930              		@出口R0=COS，R1=SIN
 931              		@ x= 0x4dba
 932              		@ r1=x,r2=y,r0=z,r4=d,r5=k,r6=cordic_mabiao
 933              	
 934 07d4 FCB5     		push {r2-r7,lr}
 935 07d6 4246     		mov r2, r8
 936 07d8 4B46     		mov r3, r9
 937 07da 0CB4     		push {r2-r3}
 938 07dc 0025     		movs r5, # 0
 939 07de 2A46     		mov r2, r5
 940 07e0 2C46     		mov r4, r5
 941 07e2 3B49     		ldr r1, = 0x4dba
 942              	cordicxunhuan:				 @ 循环
 943 07e4 C413     		asrs r4, r0, # 15
 944              		@ x
 945 07e6 1746     		mov r7, r2
 946 07e8 2A41     		asrs r2, r2, r5
 947 07ea 6240     		eors r2, r2, r4
 948 07ec 121B     		subs r2, r2, r4
 949 07ee 8B1A     		subs r3, r1, r2
 950              		@ y
 951 07f0 0E46     		mov r6, r1
 952 07f2 2941     		asrs r1, r1, r5
 953 07f4 6140     		eors r1, r1, r4
 954 07f6 091B     		subs r1, r1, r4
 955 07f8 7F18     		adds r7, r7, r1
 956              		@ z
 957 07fa 364E     		ldr r6, = cordic_yong_atan_biao
 958 07fc AA00     		lsls r2, r5, # 2
 959 07fe B158     		ldr r1, [r6, r2]
 960 0800 6140     		eors r1, r1, r4
 961 0802 091B     		subs r1, r1, r4
 962 0804 401A     		subs r0, r0, r1
 963 0806 1946     		mov r1, r3
 964 0808 3A46     		mov r2, r7
 965 080a 0135     		adds r5, # 1
 966 080c 102D     		cmp r5, # 16
 967 080e E9D1     		bne cordicxunhuan
 968 0810 1846     		mov r0, r3
 969 0812 3946     		mov r1, r7
 970 0814 0CBC     		pop {r2-r3}
 971 0816 9046     		mov r8, r2
 972 0818 9946     		mov r9, r3
 973 081a FCBD     		pop {r2-r7,pc}
 974              	__atan2_ji_suan:				@jt
 975              		@入口R0=实部，R1=虚部，结果=R0
 976 081c FCB5     		push {r2-r7,lr}
 977 081e 4246     		mov r2, r8
 978 0820 04B4     		push {r2}
 979 0822 2D4B     		ldr r3, = cordic_yong_cos_sin
 980 0824 0A22     		movs r2, # 10
 981 0826 5043     		muls r0, r0, r2
 982 0828 5143     		muls r1, r1, r2
 983 082a 0022     		movs r2, # 0
 984 082c 9046     		mov r8, r2
ARM GAS  1.s 			page 20


 985 082e 254C     		ldr r4, = 9000
 986 0830 E403     		lsls r4, r4, # 15
 987              	__cordic_atan2_xun_huan:
 988              	__du_cos_sin:
 989 0832 1D68     		ldr r5, [r3]	@cos
 990 0834 0433     		adds r3, r3, # 4
 991 0836 2F46     		mov r7, r5
 992 0838 1E68     		ldr r6, [r3]	@sin
 993 083a 0433     		adds r3, r3, # 4
 994 083c 3246     		mov r2, r6
 995 083e 4543     		muls r5, r5, r0         @x*cos
 996 0840 4243     		muls r2, r2, r0         @x*sin
 997 0842 4E43     		muls r6, r6, r1         @y*sin
 998 0844 4F43     		muls r7, r7, r1         @y*cos
 999 0846 0900     		movs r1, r1
 1000 0848 05D5     		bpl __ni_shi_zhen_zhuan
 1001              	__shun_shi_zhen_zhuan:
 1002 084a AD1B     		subs r5, r5, r6
 1003 084c BF18     		adds r7, r7, r2
 1004 084e 4646     		mov r6, r8
 1005 0850 3619     		adds r6, r6, r4
 1006 0852 B046     		mov r8, r6
 1007 0854 04E0     		b __xuan_zhuan_wan
 1008              	__ni_shi_zhen_zhuan:
 1009 0856 AD19     		adds r5, r5, r6
 1010 0858 BF1A     		subs r7, r7, r2
 1011 085a 4646     		mov r6, r8
 1012 085c 361B     		subs r6, r6, r4
 1013 085e B046     		mov r8, r6
 1014              	__xuan_zhuan_wan:
 1015 0860 1D4E     		ldr r6, = cordic_yong_cos_sin
 1016 0862 2022     		movs r2, # 32
 1017 0864 9200     		lsls r2, r2, # 2
 1018 0866 B618     		adds r6, r6, r2
 1019 0868 AD13     		asrs r5, r5, # 14
 1020 086a BF13     		asrs r7, r7, # 14
 1021 086c 2846     		mov r0, r5
 1022 086e 3946     		mov r1, r7
 1023 0870 6408     		lsrs r4, r4, # 1	@旋转
 1024 0872 B342     		cmp r3,	r6
 1025 0874 DDD1     		bne __cordic_atan2_xun_huan
 1026 0876 4046     		mov r0, r8
 1027 0878 C043     		mvns r0, r0
 1028 087a 0130     		adds r0, r0, # 1
 1029 087c C013     		asrs r0, r0, # 15      @除32768等于角度
 1030 087e 04BC     		pop {r2}
 1031 0880 9046     		mov r8, r2
 1032 0882 FCBD     		pop {r2-r7,pc}
 1033 0884 58000020 		.ltorg
 1033      5C000020 
 1033      50000020 
 1033      54000020 
 1033      E8030000 
 1034              	__ji_suan_fu_du:	    @ 计算幅度
 1035              		@ 入r0= 实部，r1= 虚部
 1036              		@ 出r0 = 幅度
 1037              		@ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
ARM GAS  1.s 			page 21


 1038              		@ Alpha * Max + Beta * Min
 1039 08dc 0EB5     		push {r1-r3,lr}
 1040 08de 0000     		movs r0, r0
 1041 08e0 01D5     		bpl _shibubushifushu
 1042 08e2 C043     		mvns r0, r0                             @ 是负数转成正数
 1043 08e4 0130     		adds r0, r0, # 1
 1044              	_shibubushifushu:	                               @ 实部不是负数
 1045 08e6 0900     		movs r1, r1
 1046 08e8 01D5     		bpl _xububushifushu
 1047 08ea C943     		mvns r1, r1                             @ 是负数转成正数
 1048 08ec 0131     		adds r1, r1, # 1
 1049              	_xububushifushu:	                                @ 虚部不是负数
 1050 08ee 0028     		cmp r0, # 0
 1051 08f0 01D1     		bne _panduanxubushibushi0
 1052 08f2 0846     		mov r0, r1
 1053 08f4 0EBD     		pop {r1-r3,pc}
 1054              	_panduanxubushibushi0:
 1055 08f6 0029     		cmp r1, # 0
 1056 08f8 00D1     		bne _jisuanfudu1
 1057 08fa 0EBD     		pop {r1-r3,pc}
 1058              	_jisuanfudu1:
 1059 08fc 084A     		ldr r2, = 31066		@ Alpha q15 0.948059448969
 1060 08fe 094B     		ldr r3, = 12867		@ Beta q15 0.392699081699
 1061 0900 8142     		cmp r1, r0
 1062 0902 06D8     		bhi _alpha_min_beta_max
 1063              	_alpha_max_beta_min:
 1064 0904 5043     		muls r0, r0, r2
 1065 0906 5943     		muls r1, r1, r3
 1066 0908 C013     		asrs r0, r0, # 15
 1067 090a C913     		asrs r1, r1, # 15
 1068 090c 4018     		adds r0, r0, r1
 1069 090e 0121     		movs r1, # 1
 1070 0910 0EBD     		pop {r1-r3,pc}
 1071              	_alpha_min_beta_max:
 1072 0912 5843     		muls r0, r0, r3
 1073 0914 5143     		muls r1, r1, r2
 1074 0916 C013     		asrs r0, r0, # 15
 1075 0918 C913     		asrs r1, r1, # 15
 1076 091a 4018     		adds r0, r0, r1
 1077 091c 0021     		movs r1, # 0
 1078 091e 0EBD     		pop {r1-r3,pc}
 1079 0920 5A790000 		.ltorg
 1079      43320000 
 1080              	__xianshi_zukang:
 1081 0928 3FB5     		push {r0-r5,lr}
 1082 092a 824C     		ldr r4, = z_r
 1083 092c 824D     		ldr r5, = z_i
 1084 092e 2468     		ldr r4, [r4]
 1085 0930 2D68     		ldr r5, [r5]
 1086 0932 8249     		ldr r1, = liangcheng
 1087 0934 8248     		ldr r0, = zukang_huansuan_biao
 1088 0936 0968     		ldr r1, [r1]
 1089 0938 8900     		lsls r1, r1, # 2
 1090 093a 4058     		ldr r0, [r0, r1]
 1091 093c 4443     		muls r4, r4, r0
 1092 093e 4543     		muls r5, r5, r0
 1093 0940 E413     		asrs r4, r4, # 15
ARM GAS  1.s 			page 22


 1094 0942 ED13     		asrs r5, r5, # 15
 1095 0944 2400     		movs r4, r4
 1096 0946 07D5     		bpl aaa1
 1097 0948 8220     		movs r0, # 0x82
 1098 094a 7E49     		ldr r1, = _fu
 1099 094c 0122     		movs r2, # 1
 1100 094e 00F013F9 		bl _lcdxianshi
 1101 0952 E443     		mvns r4, r4
 1102 0954 0134     		adds r4, r4, # 1
 1103 0956 04E0     		b aaa2
 1104              	aaa1:
 1105 0958 8220     		movs r0, # 0x82
 1106 095a 7B49     		ldr r1, = kong
 1107 095c 0122     		movs r2, # 1
 1108 095e 00F00BF9 		bl _lcdxianshi
 1109              	aaa2:
 1110 0962 2046     		mov r0, r4
 1111 0964 0521     		movs r1, # 5
 1112 0966 794A     		ldr r2, = asciimabiao
 1113 0968 794C     	        ldr r4, = zukang_xiaoshu_dian
 1114 096a 744B     		ldr r3, = liangcheng
 1115 096c 1B68     		ldr r3, [r3]
 1116 096e E35C     		ldrb r3, [r4, r3]
 1117 0970 00F048F9 		bl _zhuanascii
 1118 0974 8320     		movs r0, # 0x83
 1119 0976 7549     		ldr r1, = asciimabiao
 1120 0978 0522     		movs r2, # 5
 1121 097a 00F0FDF8 		bl _lcdxianshi
 1122              	
 1123              	
 1124 097e 2C00     		movs r4, r5
 1125 0980 07D5     		bpl bbb1
 1126 0982 8820     		movs r0, # 0x88
 1127 0984 6F49     		ldr r1, = _fu
 1128 0986 0122     		movs r2, # 1
 1129 0988 00F0F6F8 		bl _lcdxianshi
 1130 098c E443     		mvns r4, r4
 1131 098e 0134     		adds r4, r4, # 1
 1132 0990 04E0     		b bbb2
 1133              	bbb1:
 1134 0992 8820     		movs r0, # 0x88
 1135 0994 6C49     		ldr r1, = kong
 1136 0996 0122     		movs r2, # 1
 1137 0998 00F0EEF8 		bl _lcdxianshi
 1138              	bbb2:
 1139 099c 2046     		mov r0, r4
 1140 099e 0521     		movs r1, # 5
 1141 09a0 6A4A     		ldr r2, = asciimabiao
 1142 09a2 6B4D     		ldr r5, = zukang_xiaoshu_dian
 1143 09a4 654B     		ldr r3, = liangcheng
 1144 09a6 1B68     		ldr r3, [r3]
 1145 09a8 EB5C     		ldrb r3, [r5, r3]
 1146 09aa 00F02BF9 		bl _zhuanascii
 1147 09ae 8920     		movs r0, # 0x89
 1148 09b0 6649     		ldr r1, = asciimabiao
 1149 09b2 0522     		movs r2, # 5
 1150 09b4 00F0E0F8 		bl _lcdxianshi
ARM GAS  1.s 			page 23


 1151 09b8 3FBD     		pop {r0-r5,pc}
 1152              	
 1153              	
 1154              	__xianshi_liangcheng:
 1155 09ba 0FB5     		push {r0-r3,lr}
 1156 09bc 5F48     	        ldr r0, = liangcheng
 1157 09be 0221     		movs r1, # 2
 1158 09c0 0068     		ldr r0, [r0]
 1159 09c2 624A     		ldr r2, = asciimabiao
 1160 09c4 FF23     		movs r3, # 0xff
 1161 09c6 00F01DF9 		bl _zhuanascii
 1162 09ca C020     		movs r0, # 0xc0
 1163 09cc 5F49     		ldr r1, = asciimabiao
 1164 09ce 0222     		movs r2, # 2
 1165 09d0 00F0D2F8 		bl _lcdxianshi
 1166 09d4 0FBD     		pop {r0-r3,pc}
 1167              		
 1168              	__xianshi_shangxia_bi:
 1169 09d6 FFB5     		push {r0-r7,lr}
 1170 09d8 5E48     		ldr r0, = shangbi_r
 1171 09da 5F4A     		ldr r2, = shangbi_i
 1172 09dc 0168     		ldr r1, [r0]
 1173 09de 1768     		ldr r7, [r2]
 1174 09e0 0C00     		movs r4, r1
 1175 09e2 07D5     		bpl aa1
 1176 09e4 8020     		movs r0, # 0x80
 1177 09e6 5749     		ldr r1, = _fu
 1178 09e8 0122     		movs r2, # 1
 1179 09ea 00F0C5F8 		bl _lcdxianshi
 1180 09ee E443     		mvns r4, r4
 1181 09f0 0134     		adds r4, r4, # 1
 1182 09f2 04E0     		b aa2
 1183              	aa1:
 1184 09f4 8020     		movs r0, # 0x80
 1185 09f6 5449     		ldr r1, = kong
 1186 09f8 0122     		movs r2, # 1
 1187 09fa 00F0BDF8 		bl _lcdxianshi
 1188              	aa2:
 1189 09fe 2046     		mov r0, r4
 1190 0a00 0521     		movs r1, # 5
 1191 0a02 524A     		ldr r2, = asciimabiao
 1192 0a04 FF23     		movs r3, # 0xff
 1193 0a06 00F0FDF8 		bl _zhuanascii
 1194 0a0a 8120     		movs r0, # 0x81
 1195 0a0c 4F49     		ldr r1, = asciimabiao
 1196 0a0e 0522     		movs r2, # 5
 1197 0a10 00F0B2F8 		bl _lcdxianshi
 1198              	
 1199              	
 1200 0a14 3C00     		movs r4, r7
 1201 0a16 07D5     		bpl bb1
 1202 0a18 8A20     		movs r0, # 0x8a
 1203 0a1a 4A49     		ldr r1, = _fu
 1204 0a1c 0122     		movs r2, # 1
 1205 0a1e 00F0ABF8 		bl _lcdxianshi
 1206 0a22 E443     		mvns r4, r4
 1207 0a24 0134     		adds r4, r4, # 1
ARM GAS  1.s 			page 24


 1208 0a26 04E0     		b bb2
 1209              	bb1:
 1210 0a28 8A20     		movs r0, # 0x8a
 1211 0a2a 4749     		ldr r1, = kong
 1212 0a2c 0122     		movs r2, # 1
 1213 0a2e 00F0A3F8 		bl _lcdxianshi
 1214              	bb2:
 1215 0a32 2046     		mov r0, r4
 1216 0a34 0521     		movs r1, # 5
 1217 0a36 454A     		ldr r2, = asciimabiao
 1218 0a38 FF23     		movs r3, # 0xff
 1219 0a3a 00F0E3F8 		bl _zhuanascii
 1220 0a3e 8B20     		movs r0, # 0x8b
 1221 0a40 4249     		ldr r1, = asciimabiao
 1222 0a42 0522     		movs r2, # 5
 1223 0a44 00F098F8 		bl _lcdxianshi
 1224              	
 1225 0a48 4448     	        ldr r0, = xiabi_r
 1226 0a4a 454A     		ldr r2, = xiabi_i
 1227 0a4c 0168     		ldr r1, [r0]
 1228 0a4e 1768     		ldr r7, [r2]
 1229 0a50 0C00     		movs r4, r1
 1230 0a52 07D5     		bpl cc1
 1231 0a54 C020     		movs r0, # 0xc0
 1232 0a56 3B49     		ldr r1, = _fu
 1233 0a58 0122     		movs r2, # 1
 1234 0a5a 00F08DF8 		bl _lcdxianshi
 1235 0a5e E443     		mvns r4, r4
 1236 0a60 0134     		adds r4, r4, # 1
 1237 0a62 04E0     		b cc2
 1238              	cc1:
 1239 0a64 C020     		movs r0, # 0xc0
 1240 0a66 3849     		ldr r1, = kong
 1241 0a68 0122     		movs r2, # 1
 1242 0a6a 00F085F8 		bl _lcdxianshi
 1243              	cc2:
 1244 0a6e 2046     		mov r0, r4
 1245 0a70 0521     		movs r1, # 5
 1246 0a72 364A     		ldr r2, = asciimabiao
 1247 0a74 FF23     		movs r3, # 0xff
 1248 0a76 00F0C5F8 		bl _zhuanascii
 1249 0a7a C120     		movs r0, # 0xc1
 1250 0a7c 3349     		ldr r1, = asciimabiao
 1251 0a7e 0522     		movs r2, # 5
 1252 0a80 00F07AF8 		bl _lcdxianshi
 1253              	
 1254              	
 1255 0a84 3C00     		movs r4, r7
 1256 0a86 07D5     		bpl dd1
 1257 0a88 CA20     		movs r0, # 0xca
 1258 0a8a 2E49     		ldr r1, = _fu
 1259 0a8c 0122     		movs r2, # 1
 1260 0a8e 00F073F8 		bl _lcdxianshi
 1261 0a92 E443     		mvns r4, r4
 1262 0a94 0134     		adds r4, r4, # 1
 1263 0a96 04E0     		b dd2
 1264              	dd1:
ARM GAS  1.s 			page 25


 1265 0a98 CA20     		movs r0, # 0xca
 1266 0a9a 2B49     		ldr r1, = kong
 1267 0a9c 0122     		movs r2, # 1
 1268 0a9e 00F06BF8 		bl _lcdxianshi
 1269              	dd2:
 1270 0aa2 2046     		mov r0, r4
 1271 0aa4 0521     		movs r1, # 5
 1272 0aa6 294A     		ldr r2, = asciimabiao
 1273 0aa8 FF23     		movs r3, # 0xff
 1274 0aaa 00F0ABF8 		bl _zhuanascii
 1275 0aae CB20     		movs r0, # 0xcb
 1276 0ab0 2649     		ldr r1, = asciimabiao
 1277 0ab2 0522     		movs r2, # 5
 1278 0ab4 00F060F8 		bl _lcdxianshi
 1279 0ab8 FFBD     		pop {r0-r7,pc}
 1280              	
 1281              	__dft:
 1282 0aba FCB5     		push {r2-r7,lr}
 1283 0abc 4246     		mov r2, r8
 1284 0abe 4B46     		mov r3, r9
 1285 0ac0 0CB4     		push {r2-r3}
 1286 0ac2 2849     		ldr r1, = 0x12345678
 1287 0ac4 8946     		mov r9, r1
 1288 0ac6 2848     		ldr r0, = dianyabiao
 1289 0ac8 2849     		ldr r1, = cossin
 1290 0aca 0968     		ldr r1, [r1]
 1291 0acc 284B     		ldr r3, = 1984	@ 点数*2-16
 1292 0ace 294C     		ldr r4, = 2048
 1293 0ad0 1B18     		adds r3, r3, r0
 1294 0ad2 9846     		mov r8, r3
 1295 0ad4 0022     		movs r2, # 0
 1296 0ad6 1746     		mov r7, r2
 1297              	__dft_xunhuan:
 1298 0ad8 0388     		ldrh r3, [r0]
 1299 0ada 0D68     		ldr r5, [r1]
 1300 0adc 4D45     		cmp r5, r9
 1301 0ade 02D1     		bne __du_sin
 1302 0ae0 2249     		ldr r1, = cossin
 1303 0ae2 0968     		ldr r1, [r1]
 1304 0ae4 0D68     		ldr r5, [r1]
 1305              	__du_sin:	
 1306 0ae6 4E68     		ldr r6, [r1, # 0x04]
 1307 0ae8 1B1B     		subs r3, r3, r4
 1308 0aea 5D43     		muls r5, r5, r3
 1309 0aec ED13     		asrs r5, r5, # 15
 1310 0aee 5E43     		muls r6, r6, r3
 1311 0af0 F613     		asrs r6, r6, # 15
 1312 0af2 5219     		adds r2, r2, r5
 1313 0af4 BF19     		adds r7, r7, r6
 1314 0af6 0230     		adds r0, r0, # 0x02
 1315 0af8 0831     		adds r1, r1, # 0x08
 1316 0afa 4045     		cmp r0, r8
 1317 0afc ECD1     		bne __dft_xunhuan
 1318 0afe 1046     		mov r0, r2
 1319 0b00 3946     		mov r1, r7
 1320 0b02 0CBC     		pop {r2-r3}
 1321 0b04 9046     		mov r8, r2
ARM GAS  1.s 			page 26


 1322 0b06 9946     		mov r9, r3
 1323 0b08 FCBD     		pop {r2-r7,pc}
 1324              		
 1325              	__lv_bo_qi:
 1326              		@地址顺序：指针，累加值，缓冲区
 1327              		@入口R0=缓冲区，R1=数据, r2,=指针
 1328              		@出口R0
 1329 0b0a 78B5     		push {r3-r6,lr}
 1330 0b0c 6424     		movs r4, # 100
 1331 0b0e 1568     		ldr r5, [r2]
 1332 0b10 2B46     		mov r3, r5
 1333 0b12 AB00     		lsls r3, r5, # 2
 1334 0b14 C658     		ldr r6, [r0, r3]
 1335 0b16 C150     		str r1, [r0, r3]
 1336 0b18 0135     		adds r5, r5, # 1
 1337 0b1a 1560     		str r5, [r2]
 1338 0b1c A542     		cmp r5, r4
 1339 0b1e 01D1     		bne __huanchong_leijia
 1340 0b20 0025     		movs r5, # 0
 1341 0b22 1560     		str r5, [r2]
 1342              	__huanchong_leijia:
 1343 0b24 0438     		subs r0, r0, # 4
 1344 0b26 0568     		ldr r5, [r0]
 1345 0b28 4919     		adds r1, r1, r5
 1346 0b2a 891B     		subs r1, r1, r6
 1347 0b2c 0160     		str r1, [r0]
 1348 0b2e 0813     		asrs r0, r1, # 12 @  7	@128
 1349 0b30 78BD     		pop {r3-r6,pc}
 1350 0b32 00003C00 		.ltorg
 1350      00204000 
 1350      00203800 
 1350      0020C031 
 1350      00004432 
 1351              	
 1352              		
 1353              	_lcdxianshi:		  		@r0=LCD位置，r1=数据地址，r2=长度
 1354 0b78 1FB5     		push {r0-r4,lr}
 1355 0b7a 0C46     		mov r4, r1
 1356              	
 1357 0b7c 0021     		movs r1, # 0
 1358 0b7e 00F00EF8 		bl _xielcd
 1359              	
 1360 0b82 0121     		movs r1, # 1
 1361 0b84 0023     		movs r3, # 0
 1362              	_lcdxianshixunhuan:
 1363 0b86 E05C     		ldrb r0, [r4,r3]
 1364 0b88 00F009F8 		bl _xielcd
 1365 0b8c 0133     		adds r3, r3, # 1
 1366 0b8e 9342     		cmp r3, r2
 1367 0b90 F9D1     		bne _lcdxianshixunhuan
 1368 0b92 1FBD     		pop {r0-r4,pc}
 1369              	
 1370              	_lcdyanshi:
 1371 0b94 20B5     		push {r5,lr}
 1372 0b96 D84D     		ldr r5, = 0x1000
 1373              	_lcdyanshixunhuan:
 1374 0b98 013D     		subs r5, r5, # 1
ARM GAS  1.s 			page 27


 1375 0b9a FDD1     		bne _lcdyanshixunhuan
 1376 0b9c 20BD     		pop {r5,pc}
 1377              	_xielcd:					@入R0=8位,r1=0命令,r1=1数据
 1378 0b9e 3FB5     		push {r0-r5,lr}
 1379 0ba0 D64C     		ldr r4, = lcd_beiguang  @ 量程开关 (第6位和第7位)
 1380 0ba2 0246     		mov r2, r0
 1381 0ba4 2568     		ldr r5, [r4]
 1382 0ba6 1209     		lsrs r2, r2, # 4
 1383 0ba8 9200     		lsls r2, r2, # 2	@ 高四位
 1384 0baa 0007     		lsls r0, r0, # 28
 1385 0bac 800E     		lsrs r0, r0, # 26	@ 低四位
 1386 0bae C907     		lsls r1, r1, # 31
 1387 0bb0 01D5     		bpl __lcd_ming_ling
 1388              	__lcd_shu_ju:
 1389 0bb2 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 1390 0bb4 00E0     		b __xie_lcd_shu_ju
 1391              	__lcd_ming_ling:
 1392 0bb6 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 1393              	__xie_lcd_shu_ju:
 1394 0bb8 5B19     		adds r3, r3, r5
 1395 0bba 0146     		mov r1, r0
 1396 0bbc D218     		adds r2, r2, r3
 1397 0bbe D04D     		ldr r5, = 0x4001300c
 1398 0bc0 1000     		movs r0, r2
 1399 0bc2 2870     		strb r0, [r5]
 1400 0bc4 00F016F8 		bl __spi_mang
 1401 0bc8 00F018F8 		bl __yanshi_595
 1402 0bcc 0238     		subs r0, r0, # 0x02
 1403 0bce 2870     		strb r0, [r5]
 1404 0bd0 00F010F8 		bl __spi_mang
 1405 0bd4 00F012F8 		bl __yanshi_595
 1406 0bd8 0846     		mov r0, r1
 1407 0bda C018     		adds r0, r0, r3
 1408 0bdc 2870     		strb r0, [r5]
 1409 0bde 00F009F8 		bl __spi_mang
 1410 0be2 00F00BF8 		bl __yanshi_595
 1411 0be6 0238     		subs r0, r0, # 0x02
 1412 0be8 2870     		strb r0, [r5]
 1413 0bea 00F003F8 		bl __spi_mang
 1414 0bee 00F005F8 		bl __yanshi_595
 1415 0bf2 3FBD     		pop {r0-r5,pc}
 1416              	__spi_mang:
 1417 0bf4 AA68     		ldr r2, [r5, # 0x08]
 1418 0bf6 1206     		lsls r2, r2, # 24
 1419 0bf8 FCD4     		bmi __spi_mang
 1420 0bfa F746     		mov pc, lr
 1421              	__yanshi_595:
 1422 0bfc C14A     		ldr r2, = 0x2000
 1423              	__yanshi__595:
 1424 0bfe 013A     		subs r2, r2, # 1
 1425 0c00 FDD1     		bne __yanshi__595
 1426 0c02 F746     		mov pc, lr
 1427              		
 1428              	
 1429              	_zhuanascii:						@ 16进制转ASCII
 1430              		@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 1431 0c04 FFB5     		push {r0-r7,lr}
ARM GAS  1.s 			page 28


 1432 0c06 1F46     		mov r7, r3
 1433 0c08 0546     		mov r5, r0
 1434 0c0a 0E46     		mov r6, r1
 1435 0c0c 0A21     		movs r1, # 10
 1436              	_xunhuanqiuma:
 1437 0c0e 00F0F6F8 		bl _chufa
 1438 0c12 0446     		mov r4, r0
 1439 0c14 4C43     		muls r4, r1
 1440 0c16 2B1B     		subs r3, r5, r4
 1441 0c18 3033     		adds r3, r3, # 0x30
 1442 0c1a 0546     		mov r5, r0
 1443 0c1c 013E     		subs r6, r6, # 1
 1444 0c1e 08D0     		beq _qiumafanhui
 1445 0c20 BE42     		cmp r6, r7
 1446 0c22 02D1     		bne _meidaoxiaoshudian
 1447 0c24 2E24     		movs r4, # 0x2e		@小数点
 1448 0c26 9455     		strb r4, [r2,r6]	@插入小数点
 1449 0c28 013E     		subs r6, r6, # 1
 1450              	_meidaoxiaoshudian:
 1451 0c2a 9355     		strb r3, [r2,r6]
 1452 0c2c 3600     		movs r6, r6
 1453 0c2e EED1     		bne _xunhuanqiuma
 1454 0c30 FFBD     		pop {r0-r7,pc}
 1455              	_qiumafanhui:
 1456 0c32 9355     		strb r3, [r2, r6]
 1457 0c34 FFBD     		pop {r0-r7,pc}
 1458              	
 1459              	__fu_shu_chu_fa:
 1460              		@入口R0=a R1=b,R2=c R3=d
 1461              		@出口R2=实部 R1=虚部
 1462 0c36 F0B5     		push {r4-r7,lr}
 1463 0c38 002A     		cmp r2, # 0
 1464 0c3a 03D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 1465 0c3c 002B     		cmp r3, # 0
 1466 0c3e 01D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 1467 0c40 0246     		mov r2, r0
 1468 0c42 F0BD     		pop {r4-r7,pc}
 1469              	__tiao_guo_bei_chu_shu_0_pan_duan:
 1470 0c44 4446     		mov r4, r8
 1471 0c46 4D46     		mov r5, r9
 1472 0c48 5646     		mov r6, r10
 1473 0c4a 5F46     		mov r7, r11
 1474 0c4c F0B4     		push {r4-r7}
 1475              	__ji_suan_chu_fa:
 1476 0c4e 8046     		mov r8, r0	@a
 1477 0c50 8946     		mov r9, r1	@b
 1478 0c52 9246     		mov r10, r2	@c
 1479 0c54 9B46     		mov r11, r3	@d
 1480 0c56 0027     		movs r7, # 0
 1481              		@ (a+bi)/(c+di)=(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)
 1482 0c58 0000     		movs r0, r0
 1483 0c5a 02D5     		bpl b1
 1484 0c5c C043     		mvns r0, r0
 1485 0c5e 0130     		adds r0, r0, # 1
 1486 0c60 0127     		movs r7, # 1
 1487              	b1:
 1488 0c62 5146     		mov r1, r10
ARM GAS  1.s 			page 29


 1489 0c64 0900     		movs r1, r1
 1490 0c66 02D5     		bpl b2
 1491 0c68 C943     		mvns r1, r1
 1492 0c6a 0131     		adds r1, r1, # 1
 1493 0c6c 0137     		adds r7, r7, # 1
 1494              	b2:
 1495 0c6e 00F0A1F8 		bl __chengfa
 1496              	b3:
 1497 0c72 012F     		cmp r7, # 1
 1498 0c74 01D1     		bne a1
 1499 0c76 C043     		mvns r0, r0
 1500 0c78 C943     		mvns r1, r1
 1501              	a1:
 1502 0c7a 0446     		mov r4, r0	@a*c高32
 1503 0c7c 0D46     		mov r5, r1	@a*c低32
 1504 0c7e 0027     		movs r7, # 0
 1505 0c80 4846     		mov r0, r9
 1506 0c82 5946     		mov r1, r11
 1507 0c84 0000     		movs r0, r0
 1508 0c86 02D5     		bpl b4
 1509 0c88 C043     		mvns r0, r0
 1510 0c8a 0130     		adds r0, r0, # 1
 1511 0c8c 0137     		adds r7, r7, # 1
 1512              	b4:
 1513 0c8e 0900     		movs r1, r1
 1514 0c90 02D5     		bpl b5
 1515 0c92 C943     		mvns r1, r1
 1516 0c94 0131     		adds r1, r1, # 1
 1517 0c96 0137     		adds r7, r7, # 1
 1518              	b5:
 1519 0c98 00F08CF8 		bl __chengfa
 1520              	b6:
 1521 0c9c 012F     		cmp r7, # 1
 1522 0c9e 01D1     		bne a2
 1523 0ca0 C043     		mvns r0, r0
 1524 0ca2 C943     		mvns r1, r1
 1525              	a2:
 1526 0ca4 4919     		adds r1, r1, r5	@ac+bd低32
 1527 0ca6 6041     		adcs r0, r0, r4	@ac+bd高32
 1528 0ca8 0646     		mov r6, r0
 1529 0caa 0F46     		mov r7, r1
 1530 0cac 5046     		mov r0, r10
 1531 0cae 4043     		muls r0, r0, r0
 1532 0cb0 0446     		mov r4, r0	@c*c
 1533 0cb2 5846     		mov r0, r11
 1534 0cb4 4043     		muls r0, r0, r0
 1535 0cb6 0019     		adds r0, r0, r4
 1536 0cb8 01B4     		push {r0}
 1537 0cba 3946     		mov r1, r7
 1538 0cbc 0027     		movs r7, # 0
 1539 0cbe 0200     		movs r2, r0
 1540 0cc0 02D5     		bpl b7
 1541 0cc2 D243     		mvns r2, r2
 1542 0cc4 0132     		adds r2, r2, # 1
 1543 0cc6 0137     		adds r7, r7, # 1
 1544              	b7:
 1545 0cc8 3000     		movs r0, r6
ARM GAS  1.s 			page 30


 1546 0cca 02D5     		bpl b8
 1547 0ccc C043     		mvns r0, r0
 1548 0cce C943     		mvns r1, r1
 1549 0cd0 0137     		adds r7, r7, # 1
 1550              	b8:
 1551 0cd2 00F04BF8 		bl __chufa64
 1552 0cd6 012F     		cmp r7, # 1
 1553 0cd8 01D1     		bne __bao_cun_chu_fa_shi_bu_jie_guo
 1554 0cda C043     		mvns r0, r0
 1555 0cdc C943     		mvns r1, r1
 1556              	__bao_cun_chu_fa_shi_bu_jie_guo:
 1557 0cde 0646     		mov r6, r0	@实部高32
 1558 0ce0 0F46     		mov r7, r1	@实部低32
 1559              		@r8=a, r9=b, r10=c, r11=d
 1560              		@(b*c-a*d)/(c*c+d*d)
 1561 0ce2 0025     		movs r5, # 0
 1562 0ce4 4846     		mov r0, r9
 1563 0ce6 0000     		movs r0, r0
 1564 0ce8 02D5     		bpl b9
 1565 0cea C043     		mvns r0, r0
 1566 0cec 0130     		adds r0, r0, # 1
 1567 0cee 0135     		adds r5, r5, # 1
 1568              	b9:
 1569 0cf0 5146     		mov r1, r10
 1570 0cf2 0900     		movs r1, r1
 1571 0cf4 02D5     		bpl b10
 1572 0cf6 C943     		mvns r1, r1
 1573 0cf8 0131     		adds r1, r1, # 1
 1574 0cfa 0135     		adds r5, r5, # 1
 1575              	b10:
 1576 0cfc 00F05AF8 		bl __chengfa
 1577 0d00 012D     		cmp r5, # 1
 1578 0d02 01D1     		bne a3
 1579 0d04 C043     		mvns r0, r0
 1580 0d06 C943     		mvns r1, r1
 1581              	a3:
 1582 0d08 0446     		mov r4, r0      @b*c高32
 1583 0d0a 0D46     		mov r5, r1      @b*c低32
 1584 0d0c 0023     		movs r3, # 0
 1585 0d0e 4046     		mov r0, r8
 1586 0d10 0000     		movs r0, r0
 1587 0d12 02D5     		bpl b11
 1588 0d14 C043     		mvns r0, r0
 1589 0d16 0130     		adds r0, r0, # 1
 1590 0d18 0133     		adds r3, r3, # 1
 1591              	b11:
 1592 0d1a 5946     		mov r1, r11
 1593 0d1c 0900     		movs r1, r1
 1594 0d1e 02D5     		bpl b12
 1595 0d20 C943     		mvns r1, r1
 1596 0d22 0131     		adds r1, r1, # 1
 1597 0d24 0133     		adds r3, r3, # 1
 1598              	b12:
 1599 0d26 00F045F8 		bl __chengfa
 1600 0d2a 012B     		cmp r3, # 1
 1601 0d2c 01D1     		bne a4
 1602 0d2e C043     		mvns r0, r0
ARM GAS  1.s 			page 31


 1603 0d30 C943     		mvns r1, r1
 1604              	a4:
 1605 0d32 6D1A     		subs r5, r5, r1 @bc-ad低32
 1606 0d34 8441     		sbcs r4, r4, r0 @bc-ad高32
 1607 0d36 04BC     		pop {r2}
 1608 0d38 2946     		mov r1, r5
 1609 0d3a 0025     		movs r5, # 0
 1610 0d3c 1200     		movs r2, r2
 1611 0d3e 02D5     		bpl b13
 1612 0d40 D243     		mvns r2, r2
 1613 0d42 0132     		adds r2, r2, # 1
 1614 0d44 0135     		adds r5, r5, # 1
 1615              	b13:
 1616 0d46 2000     		movs r0, r4
 1617 0d48 02D5     		bpl b14
 1618 0d4a C043     		mvns r0, r0
 1619 0d4c C943     		mvns r1, r1
 1620 0d4e 0135     		adds r5, r5, # 1
 1621              	b14:
 1622 0d50 00F00CF8 		bl __chufa64
 1623 0d54 012D     		cmp r5, # 1
 1624 0d56 02D1     		bne __bao_cun_chu_fa_xu_bu_jie_guo
 1625 0d58 C943     		mvns r1, r1
 1626 0d5a C043     		mvns r0, r0
 1627 0d5c 0131     		adds r1, r1, # 1
 1628              	__bao_cun_chu_fa_xu_bu_jie_guo:
 1629 0d5e 3A46     		mov r2, r7
 1630 0d60 F0BC     		pop {r4-r7}
 1631 0d62 A046     		mov r8, r4
 1632 0d64 A946     		mov r9, r5
 1633 0d66 B246     		mov r10, r6
 1634 0d68 BB46     		mov r11, r7
 1635 0d6a F0BD     		pop {r4-r7,pc}
 1636              	
 1637              	__chufa64:
 1638              		@64位除32位
 1639              		@ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1640 0d6c F8B5     		push {r3-r7,lr}
 1641 0d6e 002A     		cmp r2, # 0
 1642 0d70 1DD0     		beq __chu_fa64_fan_hui0
 1643 0d72 0029     		cmp r1, # 0
 1644 0d74 01D1     		bne __chu_fa64_ji_suan
 1645 0d76 0028     		cmp r0, # 0
 1646 0d78 19D0     		beq __chu_fa64_fan_hui0
 1647              	__chu_fa64_ji_suan:
 1648 0d7a 0024     		movs r4, # 0
 1649 0d7c 2746     		mov r7, r4
 1650 0d7e 2346     		mov r3, r4
 1651 0d80 2546     		mov r5, r4
 1652 0d82 0126     		movs r6, # 1
 1653 0d84 F607     		lsls r6, r6, # 31
 1654              	__chu_fa64_xun_huan:
 1655 0d86 4900     		lsls r1, r1, # 1
 1656 0d88 4041     		adcs r0, r0, r0
 1657 0d8a 6441     		adcs r4, r4, r4
 1658 0d8c 9442     		cmp r4, r2
 1659 0d8e 02D3     		bcc __chu_fa_yi_wei
ARM GAS  1.s 			page 32


 1660 0d90 9B19     		adds r3, r3, r6
 1661 0d92 7D41     		adcs r5, r5, r7
 1662 0d94 A41A     		subs r4, r4, r2
 1663              	__chu_fa_yi_wei:
 1664 0d96 3600     		movs r6, r6
 1665 0d98 04D0     		beq __di_yi_wei
 1666 0d9a 7608     		lsrs r6, r6, # 1        @高32位移位
 1667 0d9c F3D1     		bne __chu_fa64_xun_huan
 1668 0d9e 0127     		movs r7, # 1
 1669 0da0 FF07     		lsls r7, r7, # 31
 1670 0da2 F0E7     		b __chu_fa64_xun_huan
 1671              	__di_yi_wei:	            @低32位移位
 1672 0da4 7F08     		lsrs r7, r7, # 1
 1673 0da6 EED1     		bne __chu_fa64_xun_huan
 1674 0da8 1846     		mov r0, r3
 1675 0daa 2946     		mov r1, r5
 1676 0dac F8BD     		pop {r3-r7,pc}
 1677              	__chu_fa64_fan_hui0:
 1678 0dae 0020     		movs r0, # 0
 1679 0db0 0021     		movs r1, # 0
 1680 0db2 F8BD     		pop {r3-r7,pc}
 1681              	__chengfa:
 1682              		@入R0 乘以 R1
 1683              		@出 R0高32 ， R1低32
 1684              		@0xffffffff*0xffffffff
 1685              		@4        F F F E 0 0 0 1                       @4
 1686              		@3                F F F E 0 0 0 1               @3
 1687              		@2                F F F E 0 0 0 1               @2
 1688              		@1                        F F F E 0 0 0 1       @1
 1689              		@         F F F F F F F E 0 0 0 0 0 0 0 1
 1690 0db4 FCB5     		push {r2-r7,lr}
 1691 0db6 0028     		cmp r0, # 0
 1692 0db8 1ED0     		beq __cheng_fa_fan_hui
 1693 0dba 0029     		cmp r1, # 0
 1694 0dbc 1CD0     		beq __cheng_fa_fan_hui
 1695              	__ji_suan_cheng_fa:
 1696 0dbe 0246     		mov r2, r0
 1697 0dc0 0B46     		mov r3, r1
 1698 0dc2 000C     		lsrs r0, r0, # 16       @高16
 1699 0dc4 1204     		lsls r2, r2, # 16       @ 低16
 1700 0dc6 120C     		lsrs r2, r2, # 16
 1701 0dc8 090C     		lsrs r1, r1, # 16       @高16
 1702 0dca 1B04     		lsls r3, r3, # 16       @低16
 1703 0dcc 1B0C     		lsrs r3, r3, # 16
 1704 0dce 1446     		mov r4, r2
 1705 0dd0 0546     		mov r5, r0
 1706 0dd2 5A43     		muls r2, r2, r3         @1
 1707 0dd4 5843     		muls r0, r0, r3         @2
 1708 0dd6 4C43     		muls r4, r4, r1         @3
 1709 0dd8 4D43     		muls r5, r5, r1         @4
 1710 0dda 0646     		mov r6, r0
 1711 0ddc 2746     		mov r7, r4
 1712 0dde 0004     		lsls r0, r0, # 16       @2低32
 1713 0de0 2404     		lsls r4, r4, # 16       @3低32
 1714 0de2 360C     		lsrs r6, r6, # 16       @2高32
 1715 0de4 3F0C     		lsrs r7, r7, # 16       @3高32
 1716 0de6 0021     		movs r1, # 0
ARM GAS  1.s 			page 33


 1717 0de8 1218     		adds r2, r2, r0         @低32
 1718 0dea 4E41     		adcs r6, r6, r1         @高32
 1719 0dec 1219     		adds r2, r2, r4
 1720 0dee 7E41     		adcs r6, r6, r7
 1721 0df0 7619     		adds r6, r6, r5
 1722 0df2 3046     		mov r0, r6
 1723 0df4 1146     		mov r1, r2
 1724 0df6 FCBD     		pop {r2-r7,pc}
 1725              	__cheng_fa_fan_hui:
 1726 0df8 0020     		movs r0, # 0
 1727 0dfa 0021     		movs r1, # 0
 1728 0dfc FCBD     		pop {r2-r7,pc}
 1729              		
 1730              	_chufa:				@软件除法
 1731              		@ r0 除以 r1 等于 商(r0)
 1732 0dfe 1EB5     		push {r1-r4,lr}
 1733 0e00 0028     		cmp r0, # 0
 1734 0e02 0ED0     		beq _chufafanhui
 1735 0e04 0029     		cmp r1, # 0
 1736 0e06 0CD0     		beq _chufafanhui
 1737 0e08 0246     		mov r2, r0
 1738 0e0a 0123     		movs r3, # 1
 1739 0e0c DB07     		lsls r3, r3, # 31
 1740 0e0e 0020     		movs r0, # 0
 1741 0e10 0446     		mov r4, r0
 1742              	_chufaxunhuan:
 1743 0e12 5200     		lsls r2, r2, # 1
 1744 0e14 6441     		adcs r4, r4, r4
 1745 0e16 8C42     		cmp r4, r1
 1746 0e18 01D3     		bcc _chufaweishubudao0
 1747 0e1a C018     		adds r0, r0, r3
 1748 0e1c 641A     		subs r4, r4, r1
 1749              	_chufaweishubudao0:
 1750 0e1e 5B08     		lsrs r3, r3, # 1
 1751 0e20 F7D1     		bne _chufaxunhuan
 1752              	_chufafanhui:
 1753 0e22 1EBD     		pop {r1-r4,pc}
 1754              	
 1755              	_nmi_handler:
 1756 0e24 7047     		bx lr
 1757              	_hard_fault:
 1758 0e26 7047     		bx lr
 1759              	_svc_handler:
 1760 0e28 7047     		bx lr
 1761              	_pendsv_handler:
 1762 0e2a 7047     		bx lr
 1763              	_systickzhongduan:
 1764 0e2c 10B5     		push {r4,lr}
 1765 0e2e 3648     		ldr r0, = 0xe0000d04
 1766 0e30 3649     		ldr r1, = 0x02000000
 1767 0e32 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 1768 0e34 364A     		ldr r2, = shangxiabi_qiehuan
 1769 0e36 1368     		ldr r3, [r2]
 1770 0e38 012B     		cmp r3, # 1
 1771 0e3a 28D1     		bne __shangbi_dft
 1772 0e3c 0023     	        movs r3, # 0
 1773 0e3e 1360     		str r3, [r2]
ARM GAS  1.s 			page 34


 1774 0e40 344A     		ldr r2, = 0x48000400
 1775 0e42 0223     		movs r3, #  0x02
 1776 0e44 9362     		str r3, [r2, # 0x28]    @cd4053_9_10  0X28上臂开
 1777 0e46 3448     		ldr r0, = liangcheng
 1778 0e48 3449     		ldr r1, = shangbi_liangcheng
 1779 0e4a 0068     		ldr r0, [r0]
 1780 0e4c 4000     		lsls r0, r0, # 1
 1781 0e4e 344A     		ldr r2, = 0x48000000
 1782 0e50 0B5A     		ldrh  r3, [r1, r0]
 1783 0e52 5361     		str r3, [r2, # 0x14]
 1784 0e54 334A     		ldr r2, = dma_r
 1785 0e56 3448     		ldr r0, = 0x40020000
 1786 0e58 C068     		ldr r0, [r0, # 0x0c]
 1787 0e5a 1060     		str r0, [r2]
 1788 0e5c FFF72DFE 		bl __dft
 1789 0e60 C043     		mvns r0, r0
 1790 0e62 C943     		mvns r1, r1
 1791 0e64 0130     		adds r0, r0, # 1
 1792 0e66 0131     		adds r1, r1, # 1
 1793 0e68 304A     		ldr r2, = xiabi_rr
 1794 0e6a 314B     		ldr r3, = xiabi_ii
 1795 0e6c 1060     		str r0, [r2]
 1796 0e6e 1960     		str r1, [r3]
 1797 0e70 0446     	        mov r4, r0
 1798 0e72 304A     		ldr r2, = lvboqizhizhen3
 1799 0e74 3048     		ldr r0, =lvboqihuanchong3
 1800 0e76 FFF748FE 		bl __lv_bo_qi
 1801 0e7a 3049     		ldr r1, = xiabi_i
 1802 0e7c 0860     		str r0, [r1]
 1803 0e7e 2146     		mov r1, r4
 1804 0e80 2F4A     		ldr r2, = lvboqizhizhen2
 1805 0e82 3048     		ldr r0, = lvboqihuanchong2
 1806 0e84 FFF741FE 		bl __lv_bo_qi
 1807 0e88 2F49     		ldr r1, = xiabi_r
 1808 0e8a 0860     		str r0, [r1]
 1809 0e8c 32E0     		b __systick_fanhui
 1810              		
 1811              	__shangbi_dft:
 1812 0e8e 0123     		movs r3, # 1
 1813 0e90 1360     		str r3, [r2]
 1814 0e92 204A     		ldr r2, = 0x48000400
 1815 0e94 0223     	        movs r3, #  0x02
 1816 0e96 9361     		str r3, [r2, # 0x18]    @cd4053_9_10 下臂开
 1817 0e98 1F48     	        ldr r0, = liangcheng
 1818 0e9a 2C49     		ldr r1, = xiabi_liangcheng
 1819 0e9c 0068     		ldr r0, [r0]
 1820 0e9e 4000     		lsls r0, r0, # 1
 1821 0ea0 1F4A     		ldr r2, = 0x48000000
 1822 0ea2 0B5A     		ldrh r3, [r1, r0]
 1823 0ea4 5361     		str r3, [r2, # 0x14]
 1824 0ea6 2A4A     		ldr r2, = dma_i
 1825 0ea8 1F48     		ldr r0, = 0x40020000
 1826 0eaa C068     		ldr r0, [r0, # 0x0c]
 1827 0eac 1060     		str r0, [r2]
 1828 0eae FFF704FE 		bl __dft
 1829 0eb2 284A     		ldr r2, = shangbi_rr
 1830 0eb4 284B     		ldr r3, = shangbi_ii
ARM GAS  1.s 			page 35


 1831 0eb6 1060     		str r0, [r2]
 1832 0eb8 1960     		str r1, [r3]
 1833 0eba 0446     		mov r4, r0
 1834 0ebc 274A     		ldr r2, = lvboqizhizhen1
 1835 0ebe 2848     		ldr r0, =lvboqihuanchong1
 1836 0ec0 FFF723FE 		bl __lv_bo_qi
 1837 0ec4 2749     		ldr r1, = shangbi_i
 1838 0ec6 0860     		str r0, [r1]
 1839 0ec8 2146     		mov r1, r4
 1840 0eca 274A     	        ldr r2, = lvboqizhizhen
 1841 0ecc 2748     		ldr r0, =lvboqihuanchong
 1842 0ece FFF71CFE 		bl __lv_bo_qi
 1843 0ed2 2749     		ldr r1, = shangbi_r
 1844 0ed4 0860     		str r0, [r1]
 1845 0ed6 2748     		ldr r0, = jishu
 1846 0ed8 0168     		ldr r1, [r0]
 1847 0eda 0131     		adds r1, r1, # 1
 1848 0edc 0160     		str r1, [r0]
 1849 0ede 0529     		cmp r1, # 5
 1850 0ee0 08D1     		bne __systick_fanhui
 1851 0ee2 0021     		movs r1, # 0
 1852 0ee4 0160     		str r1, [r0]
 1853 0ee6 2448     		ldr r0, = xianshi_biaozhi
 1854 0ee8 0121     		movs r1, # 1
 1855 0eea 0160     		str r1, [r0]
 1856 0eec FFF7F6FB 		bl __jisuan_z_fudu
 1857 0ef0 FFF70FFC 		bl __zidong_dangwei
 1858              	__systick_fanhui:	
 1859 0ef4 10BD     		pop {r4,pc}
 1860              	aaa:
 1861 0ef6 7047     		bx lr
 1862 0ef8 00100000 		.ltorg
 1862      20000020 
 1862      0C300140 
 1862      00200000 
 1862      040D00E0 
 1863              		.end
ARM GAS  1.s 			page 36


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 jiaozhun
                 1.s:11     .data:0000000000000010 pinlv_100hz
                 1.s:13     .data:0000000000000020 pinlv_1khz
                 1.s:15     .data:0000000000000030 pinlv_10khz
                 1.s:17     .data:0000000000000040 pinlv_100khz
                 1.s:20     .data:0000000000000050 $d
                 1.s:21     .data:0000000000000050 cordic_yong_cos_sin
                 1.s:23     .data:00000000000000d0 cordic_yong_atan_biao
                 1.s:26     .data:0000000000000110 zheng_xian_100khz
                 1.s:29     .data:0000000000000130 zheng_xian_10khz
                 1.s:32     .data:0000000000000200 zheng_xian_1khz
                 1.s:36     .data:0000000000000390 zheng_xian_100hz
                 1.s:40     .data:0000000000000b60 cos_sin_biao_100k
                 1.s:42     .data:0000000000000c04 cos_sin_biao_10k
                 1.s:44     .data:0000000000001248 cos_sin_biao_100_1k
                 1.s:46     .data:0000000000003188 shangbi_liangcheng
                 1.s:48     .data:000000000000319a xiabi_liangcheng
                 1.s:51     .data:00000000000031b0 zukang_xiaoshu_dian
                 1.s:54     .data:00000000000031c0 zukang_huansuan_biao
                 1.s:56     .data:00000000000031e4 zukang_danwei
                 1.s:59     .data:0000000000003208 an_jian_biao
                 1.s:429    .text:000000000000022a __an_jian0
                 1.s:395    .text:00000000000001ec __dang_wei_jia
                 1.s:397    .text:00000000000001ee __pin_lv_jia
                 1.s:427    .text:0000000000000228 __an_jian3
                 1.s:64     .data:0000000000003218 pinlv_biao
                 1.s:491    .text:0000000000000336 __pinlv_100
                 1.s:561    .text:0000000000000420 __pinlv_1K
                 1.s:632    .text:00000000000004fc __pinlv_10K
                 1.s:700    .text:00000000000005d4 __pinlv_100K
                 1.s:70     .data:0000000000003230 pinlv_xianshi_biao
                 1.s:76     .data:0000000000003240 kong
                 1.s:78     .data:0000000000003244 _fu
                 1.s:80     .data:0000000000003245 yjmwxwx
                 1.s:83     *ABS*:0000000020001000 STACKINIT
                 1.s:84     *ABS*:0000000020000000 asciimabiao
                 1.s:85     *ABS*:0000000020000020 lcd_beiguang
                 1.s:86     *ABS*:0000000020000024 shangbi_r
                 1.s:87     *ABS*:0000000020000028 shangbi_i
                 1.s:88     *ABS*:000000002000002c xiabi_r
                 1.s:89     *ABS*:0000000020000030 xiabi_i
                 1.s:90     *ABS*:0000000020000034 shangxiabi_qiehuan
                 1.s:91     *ABS*:0000000020000038 liangcheng
                 1.s:92     *ABS*:000000002000003c z_r
                 1.s:93     *ABS*:0000000020000040 z_i
                 1.s:94     *ABS*:0000000020000044 dma_r
                 1.s:95     *ABS*:0000000020000048 dma_i
                 1.s:96     *ABS*:000000002000004c huandangyanshi
                 1.s:97     *ABS*:0000000020000050 shangbi_rr
                 1.s:98     *ABS*:0000000020000054 shangbi_ii
                 1.s:99     *ABS*:0000000020000058 xiabi_rr
                 1.s:100    *ABS*:000000002000005c xiabi_ii
                 1.s:101    *ABS*:0000000020000060 jishu
                 1.s:102    *ABS*:0000000020000064 xianshi_biaozhi
                 1.s:103    *ABS*:0000000020000068 z_fudu
                 1.s:104    *ABS*:000000002000006c cossin
ARM GAS  1.s 			page 37


                 1.s:105    *ABS*:0000000020000070 pinlv
                 1.s:106    *ABS*:0000000020000074 anjian
                 1.s:107    *ABS*:0000000020000078 zhenfu
                 1.s:108    *ABS*:000000002000007c shezhi_pinlv
                 1.s:109    *ABS*:0000000020000100 dianyabiao
                 1.s:110    *ABS*:00000000200008d0 lvboqizhizhen
                 1.s:111    *ABS*:00000000200008d8 lvboqihuanchong
                 1.s:112    *ABS*:0000000020000a68 lvboqizhizhen1
                 1.s:113    *ABS*:0000000020000a70 lvboqihuanchong1
                 1.s:114    *ABS*:0000000020000c00 lvboqizhizhen2
                 1.s:115    *ABS*:0000000020000c08 lvboqihuanchong2
                 1.s:116    *ABS*:0000000020000d98 lvboqizhizhen3
                 1.s:117    *ABS*:0000000020000da0 lvboqihuanchong3
                 1.s:122    .text:0000000000000000 vectors
                 1.s:168    .text:00000000000000b0 _start
                 1.s:1755   .text:0000000000000e24 _nmi_handler
                 1.s:1757   .text:0000000000000e26 _hard_fault
                 1.s:1759   .text:0000000000000e28 _svc_handler
                 1.s:1761   .text:0000000000000e2a _pendsv_handler
                 1.s:1763   .text:0000000000000e2c _systickzhongduan
                 1.s:1860   .text:0000000000000ef6 aaa
                            .text:0000000000000000 $d
                 1.s:167    .text:00000000000000b0 $t
                 1.s:169    .text:00000000000000b0 shizhong
                 1.s:176    .text:00000000000000bc denghse
                 1.s:180    .text:00000000000000c2 dengpllguan
                 1.s:192    .text:00000000000000d6 dengpll
                 1.s:201    .text:00000000000000e0 _waisheshizhong
                 1.s:232    .text:0000000000000106 _neicunqingling
                 1.s:222    .text:00000000000000f6 _neicunqingling1
                 1.s:226    .text:00000000000000fc _neicunqinglingxunhuan1
                 1.s:241    .text:0000000000000114 _waishezhongduan
                 1.s:236    .text:000000000000010c _neicunqinglingxunhuan
                 1.s:263    .text:000000000000011a io_she_zhi
                 1.s:300    .text:0000000000000136 spi_chushihua
                 1.s:307    .text:0000000000000140 _lcdchushihua
                 1.s:1377   .text:0000000000000b9e _xielcd
                 1.s:1370   .text:0000000000000b94 _lcdyanshi
                 1.s:349    .text:00000000000001a0 _adcchushihua
                 1.s:1353   .text:0000000000000b78 _lcdxianshi
                 1.s:339    .text:0000000000000190 yjmwxwx_yanshi
                 1.s:353    .text:00000000000001a6 _dengadcjiaozhun
                 1.s:359    .text:00000000000001b0 _kaiadc
                 1.s:364    .text:00000000000001b8 _deng_adc_wen_ding
                 1.s:368    .text:00000000000001be _tongdaoxuanze
                 1.s:477    .text:0000000000000322 __pinlv_shezhi
                 1.s:773    .text:0000000000000656 __pin_lv_xian_shi
                 1.s:430    .text:000000000000022a ting
                 1.s:407    .text:0000000000000200 __pin_lv_fan_hui
                 1.s:421    .text:000000000000021e __pinlv_xianshi_yanshi
                 1.s:450    .text:00000000000002ec __jiao_zhun
                 1.s:849    .text:000000000000074c __jisuan_zukang
                 1.s:1080   .text:0000000000000928 __xianshi_zukang
                 1.s:1154   .text:00000000000009ba __xianshi_liangcheng
                 1.s:469    .text:0000000000000314 __an_jian
                 1.s:443    .text:000000000000024c __cai_dan_diao_du
                 1.s:449    .text:0000000000000256 $d
ARM GAS  1.s 			page 38


                 1.s:449    .text:0000000000000258 $d
                 1.s:451    .text:00000000000002ec $t
                 1.s:461    .text:0000000000000304 __jiaozhun_xianshi_yanshi
                 1.s:559    .text:00000000000003b0 $d
                 1.s:563    .text:0000000000000420 $t
                 1.s:629    .text:000000000000049a $d
                 1.s:629    .text:000000000000049c $d
                 1.s:634    .text:00000000000004fc $t
                 1.s:699    .text:0000000000000576 $d
                 1.s:699    .text:0000000000000578 $d
                 1.s:702    .text:00000000000005d4 $t
                 1.s:767    .text:000000000000064e __pinlv_yanshi
                 1.s:769    .text:0000000000000650 __pinlv_yanshi_xunhuan
                 1.s:1429   .text:0000000000000c04 _zhuanascii
                 1.s:786    .text:0000000000000672 $d
                 1.s:786    .text:0000000000000674 $d
                 1.s:788    .text:00000000000006dc __jisuan_z_fudu
                 1.s:789    .text:00000000000006dc $t
                 1.s:1034   .text:00000000000008dc __ji_suan_fu_du
                 1.s:1730   .text:0000000000000dfe _chufa
                 1.s:814    .text:0000000000000712 __zidong_dangwei
                 1.s:816    .text:0000000000000714 __huan_dang
                 1.s:836    .text:000000000000073a __dang_wei_jian
                 1.s:845    .text:000000000000074a __zi_dong_dang_wei_fan_hui
                 1.s:1459   .text:0000000000000c36 __fu_shu_chu_fa
                 1.s:870    .text:0000000000000772 __jisuan_cos_sin
                 1.s:880    .text:0000000000000780 __xiaoyu_180
                 1.s:882    .text:0000000000000782 __js_cos_sin
                 1.s:891    .text:0000000000000792 __jisuan_jiaodu_bushi0
                 1.s:893    .text:0000000000000794 __jiance_chao90
                 1.s:900    .text:00000000000007a0 __xiaoyu_90
                 1.s:902    .text:00000000000007a2 __suan_cossin
                 1.s:913    .text:00000000000007ba __suan_cos_sin1
                 1.s:928    .text:00000000000007d4 __cordic_cos_sin
                 1.s:919    .text:00000000000007c6 __cos_sin_fanhui
                 1.s:926    .text:00000000000007d2 __cossin_fh
                 1.s:942    .text:00000000000007e4 cordicxunhuan
                 1.s:974    .text:000000000000081c __atan2_ji_suan
                 1.s:987    .text:0000000000000832 __cordic_atan2_xun_huan
                 1.s:988    .text:0000000000000832 __du_cos_sin
                 1.s:1008   .text:0000000000000856 __ni_shi_zhen_zhuan
                 1.s:1001   .text:000000000000084a __shun_shi_zhen_zhuan
                 1.s:1014   .text:0000000000000860 __xuan_zhuan_wan
                 1.s:1033   .text:0000000000000884 $d
                 1.s:1039   .text:00000000000008dc $t
                 1.s:1044   .text:00000000000008e6 _shibubushifushu
                 1.s:1049   .text:00000000000008ee _xububushifushu
                 1.s:1054   .text:00000000000008f6 _panduanxubushibushi0
                 1.s:1058   .text:00000000000008fc _jisuanfudu1
                 1.s:1071   .text:0000000000000912 _alpha_min_beta_max
                 1.s:1063   .text:0000000000000904 _alpha_max_beta_min
                 1.s:1079   .text:0000000000000920 $d
                 1.s:1081   .text:0000000000000928 $t
                 1.s:1104   .text:0000000000000958 aaa1
                 1.s:1109   .text:0000000000000962 aaa2
                 1.s:1133   .text:0000000000000992 bbb1
                 1.s:1138   .text:000000000000099c bbb2
ARM GAS  1.s 			page 39


                 1.s:1168   .text:00000000000009d6 __xianshi_shangxia_bi
                 1.s:1183   .text:00000000000009f4 aa1
                 1.s:1188   .text:00000000000009fe aa2
                 1.s:1209   .text:0000000000000a28 bb1
                 1.s:1214   .text:0000000000000a32 bb2
                 1.s:1238   .text:0000000000000a64 cc1
                 1.s:1243   .text:0000000000000a6e cc2
                 1.s:1264   .text:0000000000000a98 dd1
                 1.s:1269   .text:0000000000000aa2 dd2
                 1.s:1281   .text:0000000000000aba __dft
                 1.s:1297   .text:0000000000000ad8 __dft_xunhuan
                 1.s:1305   .text:0000000000000ae6 __du_sin
                 1.s:1325   .text:0000000000000b0a __lv_bo_qi
                 1.s:1342   .text:0000000000000b24 __huanchong_leijia
                 1.s:1350   .text:0000000000000b32 $d
                 1.s:1350   .text:0000000000000b34 $d
                 1.s:1354   .text:0000000000000b78 $t
                 1.s:1362   .text:0000000000000b86 _lcdxianshixunhuan
                 1.s:1373   .text:0000000000000b98 _lcdyanshixunhuan
                 1.s:1391   .text:0000000000000bb6 __lcd_ming_ling
                 1.s:1388   .text:0000000000000bb2 __lcd_shu_ju
                 1.s:1393   .text:0000000000000bb8 __xie_lcd_shu_ju
                 1.s:1416   .text:0000000000000bf4 __spi_mang
                 1.s:1421   .text:0000000000000bfc __yanshi_595
                 1.s:1423   .text:0000000000000bfe __yanshi__595
                 1.s:1436   .text:0000000000000c0e _xunhuanqiuma
                 1.s:1455   .text:0000000000000c32 _qiumafanhui
                 1.s:1450   .text:0000000000000c2a _meidaoxiaoshudian
                 1.s:1469   .text:0000000000000c44 __tiao_guo_bei_chu_shu_0_pan_duan
                 1.s:1475   .text:0000000000000c4e __ji_suan_chu_fa
                 1.s:1487   .text:0000000000000c62 b1
                 1.s:1494   .text:0000000000000c6e b2
                 1.s:1681   .text:0000000000000db4 __chengfa
                 1.s:1496   .text:0000000000000c72 b3
                 1.s:1501   .text:0000000000000c7a a1
                 1.s:1512   .text:0000000000000c8e b4
                 1.s:1518   .text:0000000000000c98 b5
                 1.s:1520   .text:0000000000000c9c b6
                 1.s:1525   .text:0000000000000ca4 a2
                 1.s:1544   .text:0000000000000cc8 b7
                 1.s:1550   .text:0000000000000cd2 b8
                 1.s:1637   .text:0000000000000d6c __chufa64
                 1.s:1556   .text:0000000000000cde __bao_cun_chu_fa_shi_bu_jie_guo
                 1.s:1568   .text:0000000000000cf0 b9
                 1.s:1575   .text:0000000000000cfc b10
                 1.s:1581   .text:0000000000000d08 a3
                 1.s:1591   .text:0000000000000d1a b11
                 1.s:1598   .text:0000000000000d26 b12
                 1.s:1604   .text:0000000000000d32 a4
                 1.s:1615   .text:0000000000000d46 b13
                 1.s:1621   .text:0000000000000d50 b14
                 1.s:1628   .text:0000000000000d5e __bao_cun_chu_fa_xu_bu_jie_guo
                 1.s:1677   .text:0000000000000dae __chu_fa64_fan_hui0
                 1.s:1647   .text:0000000000000d7a __chu_fa64_ji_suan
                 1.s:1654   .text:0000000000000d86 __chu_fa64_xun_huan
                 1.s:1663   .text:0000000000000d96 __chu_fa_yi_wei
                 1.s:1671   .text:0000000000000da4 __di_yi_wei
ARM GAS  1.s 			page 40


                 1.s:1725   .text:0000000000000df8 __cheng_fa_fan_hui
                 1.s:1695   .text:0000000000000dbe __ji_suan_cheng_fa
                 1.s:1752   .text:0000000000000e22 _chufafanhui
                 1.s:1742   .text:0000000000000e12 _chufaxunhuan
                 1.s:1749   .text:0000000000000e1e _chufaweishubudao0
                 1.s:1811   .text:0000000000000e8e __shangbi_dft
                 1.s:1858   .text:0000000000000ef4 __systick_fanhui
                 1.s:1862   .text:0000000000000ef8 $d

NO UNDEFINED SYMBOLS
