ARM GAS  1.s 			page 1


   1              		@@单片机stm32f030f4p6
   2              		@@ 阻抗
   3              		@作者：yjmwxwx
   4              		@时间：2020-01-01
   5              		@编译器：ARM-NONE-EABI
   6              		 .thumb
   7              		         .syntax unified
   8              		.section .data
   9              		.align 4
  10              	shumaguanmabiao:
  11 0000 FC000000 		.int 0xfc,0x60,0xda,0xf2,0x66,0xb6,0xbe,0xe0,0xfe,0xf6
  11      60000000 
  11      DA000000 
  11      F2000000 
  11      66000000 
  12              	shumaguanshuaxinbiao:
  13 0028 00FE0000 		.int 0xfe00,0xfd00,0xfb00,0xf700,0xef00,0xdf00,0xbf00,0x7f00,0
  13      00FD0000 
  13      00FB0000 
  13      00F70000 
  13      00EF0000 
  14              	xuanzhuanyinzi:
  15 004c 00800000 		.int 0x8000,0x0000,0x5ED7,0xFFFFAA0B,0x0C8B,0xFFFF809E,0xFFFFB3C1,0xFFFF9931,0xFFFF8276,0xFFFFE708
  15      00000000 
  15      D75E0000 
  15      0BAAFFFF 
  15      8B0C0000 
  16              	yjmwxwx:
  17              		.equ STACKINIT,        	        0x20001000
  18              		.equ shumaguanma,		0x20000000
  19              		.equ fuhao,			0x20000010
  20              		.equ dmawan,			0x200000f4
  21              		.equ jishu2,			0x200000f8
  22              		.equ jishu,			0x200000fc
  23              		.equ fan_she_shi_bu,		0x20000120
  24              		.equ ru_she_shi_bu,		0x20000124
  25              		.equ fan_she_xu_bu,		0x20000128
  26              		.equ ru_she_xu_bu,		0x2000012c
  27              		.equ p_shibu,			0x20000130
  28              		.equ p_xubu,			0x20000134
  29              		.equ swrshibu,			0x20000138
  30              		.equ swrxubu,			0x2000013c
  31              		.equ dianzu,			0x20000140
  32              		.equ diankang,			0x20000144
  33              		.equ zukangqiehuan,		0x20000148
  34              		.equ lvboqizhizhen,		0x20000a00
  35              		.equ lvboqihuanchong,		0x20000a04
  36              		.equ lvboqizhizhen1,		0x20000a30
  37              		.equ lvboqihuanchong1,		0x20000a34
  38              		.equ dianyabiaozhizhen,		0x200001f8
  39              		.equ dianyabiaoman,		0x200001fc
  40              		.equ dianyabiao,		0x20000200
  41              		.section .text
  42              	vectors:
  43 0000 00100020 		.word STACKINIT
  44 0004 B1000000 		.word _start + 1
  45 0008 D5060000 		.word _nmi_handler + 1
ARM GAS  1.s 			page 2


  46 000c D7060000 		.word _hard_fault  + 1
  47 0010 00000000 		.word 0
  48 0014 00000000 		.word 0
  49 0018 00000000 		.word 0
  50 001c 00000000 		.word 0
  51 0020 00000000 		.word 0
  52 0024 00000000 		.word 0
  53 0028 00000000 		.word 0
  54 002c D9060000 		.word _svc_handler +1
  55 0030 00000000 		.word 0
  56 0034 00000000 		.word 0
  57 0038 DB060000 		.word _pendsv_handler +1
  58 003c EF060000 		.word _systickzhongduan +1               @ 15
  59 0040 DD060000 		.word aaa +1           @ _wwdg +1          	@ 0
  60 0044 DD060000 		.word aaa +1           @_pvd +1            	@ 1
  61 0048 DD060000 		.word aaa +1           @_rtc +1            	@ 2
  62 004c DD060000 		.word aaa +1           @_flash +1          	@ 3
  63 0050 DD060000 		.word aaa +1	       @ _rcc + 1          	@ 4
  64 0054 DD060000 		.word aaa +1           @_exti0_1  +1      	@ 5
  65 0058 DD060000 		.word aaa +1           @ _exti2_3 +1      	@ 6
  66 005c DD060000 		.word aaa +1           @_exti4_15 +1     	@ 7
  67 0060 DD060000 		.word aaa +1                         		@ 8
  68 0064 01070000 		.word __dma_wan  +1  		      		@ 9
  69 0068 DD060000 		.word aaa +1	       @_dma1_2_3 +1        	@ 10
  70 006c DD060000 		.word aaa +1	       @ _dma1_4_5 +1	        @ 11
  71 0070 DD060000 		.word aaa +1	       @_adc1 +1          	@ 12
  72 0074 DD060000 		.word aaa +1           @_tim1_brk_up +1  	@ 13
  73 0078 DD060000 		.word aaa +1           @ _tim1_cc +1            @ 14
  74 007c DD060000 		.word aaa +1           @_tim2 +1      	        @ 15
  75 0080 DF060000 		.word _tim3 +1                             	@ 16
  76 0084 DD060000 		.word aaa +1                                    @ 17
  77 0088 DD060000 		.word aaa +1		                	@ 18
  78 008c DD060000 		.word aaa +1	       @_tim14 +1   	        @ 19
  79 0090 DD060000 		.word aaa +1                         		@ 20
  80 0094 DD060000 		.word aaa +1           @_tim16 +1      		@ 21
  81 0098 DD060000 		.word aaa +1           @_tim17 +1      		@ 22
  82 009c DD060000 		.word aaa +1           @_i2c   +1     		@ 23
  83 00a0 DD060000 		.word aaa +1                         		@ 24
  84 00a4 DD060000 		.word aaa +1           @_spi   +1    		@ 25
  85 00a8 DD060000 		.word aaa +1                         		@ 26
  86 00ac DD060000 		.word aaa +1           @_usart1 +1     		@ 27
  87              		.align 2
  88              	
  89              	_start:
  90              	shizhong:
  91 00b0 924A     	        ldr r2, = 0x40022000   @FLASH访问控制
  92 00b2 3221     	        movs r1, # 0x32
  93 00b4 1160     	        str r1, [r2]           @FLASH缓冲 缓冲开启
  94 00b6 9248     	        ldr r0, = 0x40021000 @ rcc
  95 00b8 9249     		ldr r1, = 0x10001
  96 00ba 0160     	        str r1, [r0]
  97              	denghse:
  98 00bc 0168     	        ldr r1, [r0]
  99 00be 8903     	        lsls r1, r1, # 14
 100 00c0 FCD5     	        bpl denghse
 101              	dengpllguan:
 102 00c2 0168     	        ldr r1, [r0]
ARM GAS  1.s 			page 3


 103 00c4 8901     		lsls r1, r1, # 6
 104 00c6 FCD4     		bmi dengpllguan
 105 00c8 8F49     		ldr r1, = 0x150002
 106 00ca 0046     		mov r0, r0
 107 00cc 4160     		str r1, [r0, # 0x04]
 108 00ce 0046     		mov r0, r0
 109 00d0 8E49     		ldr r1, = 0x1010000
 110 00d2 0046     		mov r0, r0
 111 00d4 0160     		str r1, [r0]
 112              	
 113              	dengpll:
 114 00d6 0168     	        ldr r1, [r0]
 115 00d8 8901     		lsls r1, # 6
 116 00da FCD5     		bpl dengpll
 117              	
 118 00dc 8C49     		ldr r1, = 100
 119 00de 0163     		str r1, [r0, # 0x30]
 120              	
 121              	neicunqingling:
 122 00e0 8C48     		ldr r0, = 0x20000000
 123 00e2 0021     		movs r1, # 0
 124 00e4 8C4B     		ldr r3, = 0x1000
 125              	neicunqinglingxunhuan:
 126 00e6 043B     		subs r3, # 4
 127 00e8 C150     		str r1, [r0, r3]
 128 00ea FCD1     		bne neicunqinglingxunhuan
 129              		
 130              	_waisheshizhong:			 @ 外设时钟
 131              		@+0x14=RCC_AHBENR
 132              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 133 00ec 8448     		ldr r0, = 0x40021000
 134 00ee 8B49     		ldr r1, = 0x60001
 135 00f0 4161     		str r1, [r0, # 0x14]
 136              	
 137              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 138              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 139 00f2 8B49     		ldr r1, = 0xa00
 140 00f4 8161     		str r1, [r0, # 0x18]
 141              		@+0X1C=RCC_APB1ENR
 142              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 143              		@ 22=I2C2 @ 23=USB @ 28=PWR
 144 00f6 8B4A     		ldr r2, = 0x902
 145 00f8 C261     		str r2, [r0, # 0x1c]
 146              	
 147              	_waishezhongduan:				@外设中断
 148              		@0xE000E100    0-31  写1开，写0没效
 149              		@0XE000E180    0-31 写1关，写0没效
 150              		@0XE000E200    0-31 挂起，写0没效
 151              		@0XE000E280    0-31 清除， 写0没效
 152              	
 153 00fa 8B48     		ldr r0, =  0xe000e100
 154 00fc 8B49     		ldr r1, = 0x200 @0x10200  @ 0x10000
 155 00fe 0160     		str r1, [r0]
 156              	
 157              	_kanmengou:
 158 0100 8B48     		ldr r0, = 0x40003000
 159 0102 8C49     		ldr r1, = 0x5555
ARM GAS  1.s 			page 4


 160 0104 0160     		str r1, [r0]
 161 0106 0721     		movs r1, # 7
 162 0108 4160     		str r1, [r0, # 4]
 163 010a 8B49     		ldr r1, = 0xfff
 164 010c 8160     		str r1, [r0, # 8]
 165 010e 8B49     		ldr r1, = 0xaaaa
 166 0110 0160     		str r1, [r0]
 167 0112 8B49     		ldr r1, = 0xcccc
 168 0114 0160     		str r1, [r0]
 169              		
 170              	_adcchushihua:
 171 0116 8B48     	        ldr r0, = 0x40012400  @ adc基地址
 172 0118 8B49     	        ldr r1, = 0x80000000
 173 011a 8160     	        str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 174              	_dengadcjiaozhun:
 175 011c 8168     	        ldr r1, [r0, # 0x08]
 176 011e 0900     	        movs r1, r1
 177 0120 FCD4     	        bmi _dengadcjiaozhun   @ 等ADC校准
 178              	_kaiadc:
 179 0122 8168     	        ldr r1, [r0, # 0x08]
 180 0124 0122     	        movs r2, # 0x01
 181 0126 1143     	        orrs r1, r1, r2
 182 0128 8160     	        str r1, [r0, # 0x08]
 183 012a 8849     		ldr r1, = 0xfffff
 184              	_deng_adc_wen_ding:
 185 012c 0168     	        ldr r1, [r0]
 186 012e C907     	        lsls r1, r1, # 31
 187 0130 FCD5     	        bpl _deng_adc_wen_ding @ 等ADC稳定
 188              	_tongdaoxuanze:
 189 0132 8549     	        ldr r1, = 0x80000000
 190 0134 0161     	        str r1, [r0, # 0x10]
 191 0136 8649     	        ldr r1, = 0x63
 192 0138 8162     	        str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 193 013a 8649     	        ldr r1, = 0x8c3 @0x2003 @0x8c3
 194 013c C160     	        str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 195 013e 0021     	        movs r1, # 0
 196 0140 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 197 0142 8168     	        ldr r1, [r0, # 0x08]
 198 0144 844A     	        ldr r2, = 0x04         @ 开始转换
 199 0146 1143     		orrs r1, r1, r2
 200 0148 8160     	        str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 201              	
 202              	dmachushihua:
 203              	        @+0=LSR,+4=IFCR,
 204              	        @+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 205              	        @+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 206              	        @+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 207              	        @+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 208              	        @+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 209              	        @+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 210              	        @+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 211              	
 212              		@ adc dma
 213 014a 8448     		ldr r0, = 0x40020000
 214 014c 8449     		ldr r1, = 0x40012440
 215 014e 0161     		str r1, [r0, # 0x10]
 216 0150 8449     		ldr r1, = dianyabiao
ARM GAS  1.s 			page 5


 217 0152 4161     		str r1, [r0, # 0x14]
 218 0154 8449     		ldr r1, = 912
 219 0156 C160     		str r1, [r0, # 0x0c]
 220 0158 8449     		ldr r1, = 0x583 @  0x583 	@ 5a1
 221 015a 8160     		str r1, [r0, # 0x08]
 222              	
 223              	
 224              	tim1chushiha:				
 225 015c 844D     		ldr r5, = 0x40012c00 @ tim1_cr1
 226 015e 8549     		ldr r1, = 0
 227 0160 A962     		str r1, [r5, # 0x28] @ psc
 228 0162 8549     		ldr r1, = 1
 229 0164 E962     		str r1, [r5, # 0x2c] @ ARR
 230 0166 8549     		ldr r1, = 0x38
 231 0168 E961     		str r1, [r5, # 0x1c] @ ccmr2  CC3
 232 016a 8549     		ldr r1, = 0x100    @  CC3
 233 016c 2962     		str r1, [r5, # 0x20] @ ccer
 234 016e 8549     		ldr r1, = 0x8000
 235 0170 6964     		str r1, [r5, # 0x44] @ BDTR
 236 0172 8149     		ldr r1, = 1
 237 0174 E963     		str r1, [r5, # 0x3c]
 238 0176 E124     		movs r4, # 0xe1
 239              	tim3chushihua:				
 240 0178 8348     		ldr r0, = 0x40000400 @ tim3_cr1
 241 017a 7E49     		ldr r1, = 0
 242 017c 8162     		str r1, [r0, # 0x28] @ psc
 243 017e 8349     		ldr r1, = 2799
 244 0180 C162     		str r1, [r0, # 0x2c] @ ARR
 245 0182 8349     		ldr r1, =  0x3800 @ 0x3800
 246 0184 C161     		str r1, [r0, # 0x1c] @ ccmr2
 247 0186 6449     		ldr r1, =  0x1000
 248 0188 0162     		str r1, [r0, # 0x20] @ ccer
 249 018a 8049     		ldr r1, = 2799
 250 018c 0164     		str r1, [r0, # 0x40] @ ccr4
 251 018e 7021     		movs r1, # 0x70
 252 0190 4160     		str r1, [r0, # 0x04]
 253              		@movs r1, # 0x01
 254              		@str r1, [r0, # 0x0c]
 255 0192 E121     		movs r1, # 0xe1
 256 0194 0160     		str r1, [r0]
 257 0196 2C60     		str r4, [r5]
 258              	
 259              	@_systick:				@ systick定时器初始化
 260              	@
 261              	@	ldr r0, = 0xe000e010
 262              	@	ldr r1, = 4800000
 263              	@	str r1, [r0, # 4]
 264              	@	str r1, [r0, # 8]
 265              	@	movs r1, # 0x07
 266              	@	str r1, [r0]
 267              	io_she_zhi:
 268              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 269              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 270              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 271              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 272              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 273              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
ARM GAS  1.s 			page 6


 274              		@偏移0x10 = 输入数据寄存器
 275              		@偏移0x14 = 输出数据寄存器
 276              		@偏移0x18 = 端口开  0-15置位
 277              		@偏移0x28 = 端口关
 278              		@0X20 = 复用低
 279              		@GPIO口0（0-3位）每个IO口占用4位
 280              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 281              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 282              		@0x24 = 复用高
 283              		@GPIO口8 （0-3位）每个IO口占用4位
 284              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 285              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 286              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 287              	
 288 0198 7E48     		ldr r0, = 0x48000000
 289 019a 7F49     		ldr r1, = 0x28203d5f
 290 019c 0160     		str r1, [r0]
 291 019e 6349     		ldr r1, = 0x200
 292 01a0 4162     		str r1, [r0, # 0x24]
 293 01a2 7E49     		ldr r1, = 0x44000
 294 01a4 C160     		str r1, [r0, # 0x0c]
 295              	
 296              	
 297              		
 298              	ting:
 299              	__wei_gou:
 300 01a6 6248     		ldr r0, = 0x40003000
 301 01a8 6449     	        ldr r1, = 0xaaaa
 302 01aa 0160     	        str r1, [r0]
 303              		
 304 01ac 7C48     		ldr r0, = jishu
 305 01ae 7D49     		ldr r1, = 0x50
 306 01b0 0268     		ldr r2, [r0]
 307 01b2 0132     		adds r2, r2, # 1
 308 01b4 0260     		str r2, [r0]
 309 01b6 8A42     		cmp r2, r1
 310 01b8 03D1     		bne __xianshi
 311 01ba 0022     		movs r2, # 0
 312 01bc 0260     		str r2, [r0]
 313 01be 00F033F8 		bl __kai_dma
 314              	__xianshi:
 315 01c2 00F027F8 		bl __an_jian
 316 01c6 0128     		cmp r0, # 1
 317 01c8 03D1     		bne __pan_duan_an_jian
 318 01ca 7748     		ldr r0, = zukangqiehuan
 319 01cc 0021     		movs r1, # 0
 320 01ce 0160     		str r1, [r0]
 321 01d0 04E0     		b __xian_shi_zu_kang
 322              	__pan_duan_an_jian:
 323 01d2 0228     		cmp r0, # 2
 324 01d4 02D1     		bne __xian_shi_zu_kang
 325 01d6 7448     		ldr r0, = zukangqiehuan
 326 01d8 0121     		movs r1, # 1
 327 01da 0160     		str r1, [r0]
 328              	__xian_shi_zu_kang:
 329 01dc 7248     		ldr r0, = zukangqiehuan
 330 01de 0068     		ldr r0, [r0]
ARM GAS  1.s 			page 7


 331 01e0 0128     		cmp r0, # 1
 332 01e2 01D1     		bne __xian_shi_dian_zu
 333              	__xian_shi_dian_kang:
 334 01e4 7148     		ldr r0, = diankang
 335 01e6 00E0     		b __xian_shi
 336              	__xian_shi_dian_zu:
 337 01e8 7148     		ldr r0, = dianzu
 338              	__xian_shi:
 339 01ea 0068     		ldr r0, [r0]
 340 01ec 0000     		movs r0, r0
 341 01ee 05D5     		bpl __shu_ma_guan_xian_shi
 342 01f0 C043     		mvns r0, r0
 343 01f2 0130     		adds r0, r0, # 1
 344 01f4 6F4B     		ldr r3, = fuhao
 345 01f6 0222     		movs r2, # 0x02
 346 01f8 1A60     		str r2, [r3]
 347 01fa 02E0     		b __led_xian_shi
 348              	__shu_ma_guan_xian_shi:
 349 01fc 6D4A     		ldr r2, = fuhao
 350 01fe 0023     		movs r3, # 0
 351 0200 1360     		str r3, [r2]
 352              	__led_xian_shi:
 353 0202 0421     		movs r1, # 4
 354 0204 434A     	        ldr r2, = shumaguanma
 355 0206 0323     		movs r3, # 3		@小数点位置
 356 0208 00F072F9 	        bl _zhuanshumaguanma
 357 020c 0520     		movs r0, # 5
 358 020e 00F086F9 	        bl _xieshumaguan
 359 0212 C8E7     		b ting
 360              	__an_jian:
 361 0214 02B5     		push {r1,lr}
 362 0216 6848     		ldr r0, = 0x48000010
 363 0218 0268     		ldr r2, [r0]
 364 021a 1046     		mov r0, r2
 365 021c 1206     		lsls r2, r2, # 24
 366 021e D20F     		lsrs r2, r2, # 31
 367 0220 8005     		lsls r0, r0, # 22
 368 0222 800F     		lsrs r0, r0, # 30
 369 0224 1043     		orrs r0, r0, r2
 370 0226 02BD     		pop {r1,pc}
 371              	__kai_dma:
 372 0228 07B5     		push {r0-r2,lr}
 373 022a 464A     		ldr r2, = 0x40012400
 374 022c 1121     		movs r1, # 0x11
 375 022e 9160     		str r1, [r2, # 0x08]
 376              	__deng_adc_wan:
 377 0230 9168     		ldr r1, [r2, # 0x08]
 378 0232 0129     		cmp r1, # 1
 379 0234 FCD1     		bne __deng_adc_wan
 380 0236 4948     		ldr r0, = 0x40020000
 381 0238 0021     		movs r1, # 0
 382 023a 8160     		str r1, [r0, # 0x08]
 383 023c 4A49     		ldr r1, = 912
 384 023e C160     		str r1, [r0, # 0x0c]
 385 0240 4A49     		ldr r1, = 0x583
 386 0242 8160     		str r1, [r0, # 0x08]
 387 0244 0521     		movs r1, # 0x05
ARM GAS  1.s 			page 8


 388 0246 9160     		str r1, [r2, # 0x08]
 389 0248 07BD     		pop {r0-r2,pc}
 390              	
 391              	__dft:
 392 024a FFB5     		push {r0-r7,lr}
 393 024c 4046     		mov r0, r8
 394 024e 4946     		mov r1, r9
 395 0250 5246     		mov r2, r10
 396 0252 5B46     		mov r3, r11
 397 0254 6446     		mov r4, r12
 398 0256 1FB4     		push {r0-r4}
 399 0258 4248     	        ldr r0, = dianyabiao
 400 025a 0838     	        subs r0, r0, # 0x08
 401              	__zhao_shang_sheng2:
 402 025c 0830     	        adds r0, r0, # 0x08
 403 025e 8288     	        ldrh r2, [r0, # 0x04]
 404 0260 002A     	        cmp r2, # 0
 405 0262 FBD1     	        bne __zhao_shang_sheng2
 406 0264 8389     	        ldrh r3, [r0, # 0x0c]
 407 0266 D21A     	        subs r2, r2, r3
 408 0268 F8D5     		bpl __zhao_shang_sheng2
 409 026a 5449     		ldr r1, = xuanzhuanyinzi
 410 026c 0122     		movs r2, # 1
 411 026e 9202     		lsls r2, r2, # 10
 412 0270 9046     		mov r8, r2
 413 0272 0023     		movs r3, # 0
 414 0274 9B46     		mov r11, r3	
 415 0276 9C46     		mov r12, r3
 416 0278 9A46     		mov r10, r3
 417 027a 9946     		mov r9, r3
 418              	__dft_xun_huan:
 419 027c C458     		ldr r4, [r0, r3]
 420 027e CA58     		ldr r2, [r1, r3]	@r
 421 0280 04B4     		push {r2}
 422 0282 0433     		adds r3, r3, # 4
 423 0284 C558     		ldr r5, [r0, r3]
 424 0286 CA58     		ldr r2, [r1, r3]
 425 0288 0433     		adds r3, r3, # 4
 426 028a 2646     		mov r6, r4
 427 028c 2F46     		mov r7, r5
 428 028e 2404     		lsls r4, r4, # 16
 429 0290 240C     		lsrs r4, r4, # 16
 430 0292 360C     		lsrs r6, r6, # 16
 431 0294 2D04     		lsls r5, r5, # 16
 432 0296 2D0C     		lsrs r5, r5, # 16
 433 0298 3F0C     		lsrs r7, r7, # 16
 434 029a A41B     		subs r4, r4, r6
 435 029c ED1B     		subs r5, r5, r7
 436 029e 2646     		mov r6, r4
 437 02a0 2F46     		mov r7, r5
 438 02a2 5443     		muls r4, r4, r2		@i
 439 02a4 5543     		muls r5, r5, r2		@i
 440 02a6 E413     		asrs r4, r4, # 15
 441 02a8 ED13     		asrs r5, r5, # 15
 442 02aa 4A46     		mov r2, r9
 443 02ac 1219     		adds r2, r2, r4
 444 02ae 9146     		mov r9, r2
ARM GAS  1.s 			page 9


 445 02b0 5246     		mov r2, r10
 446 02b2 5219     		adds r2, r2, r5
 447 02b4 9246     		mov r10, r2
 448 02b6 04BC     		pop {r2}
 449 02b8 5643     		muls r6, r6, r2		@r
 450 02ba 5743     		muls r7, r7, r2		@r
 451 02bc F613     		asrs r6, r6, # 15
 452 02be FF13     		asrs r7, r7, # 15
 453 02c0 5A46     		mov r2, r11		@r
 454 02c2 9219     		adds r2, r2, r6
 455 02c4 9346     		mov r11, r2
 456 02c6 6246     		mov r2, r12
 457 02c8 D219     		adds r2, r2, r7
 458 02ca 9446     		mov r12, r2
 459 02cc 4345     		cmp r3, r8
 460 02ce D5D1     		bne __dft_xun_huan
 461 02d0 3B48     		ldr r0, = fan_she_shi_bu
 462 02d2 3C49     		ldr r1, = fan_she_xu_bu
 463 02d4 4A46     		mov r2, r9
 464 02d6 5346     		mov r3, r10
 465 02d8 5C46     		mov r4, r11
 466 02da 6546     		mov r5, r12
 467 02dc 9211     		asrs r2, r2, # 6
 468 02de 9B11     		asrs r3, r3, # 6
 469 02e0 A411     		asrs r4, r4, # 6
 470 02e2 AD11     		asrs r5, r5, # 6
 471 02e4 0260     		str r2, [r0]		@r
 472 02e6 4360     		str r3, [r0, # 0x04]	@r
 473 02e8 0C60     		str r4, [r1]		@i
 474 02ea 4D60     		str r5, [r1, # 0x04]	@i
 475              	__dft_fan_hui:	
 476 02ec 1FBC     		pop {r0-r4}
 477 02ee 8046     		mov r8, r0
 478 02f0 8946     		mov r9, r1
 479 02f2 9246     		mov r10, r2
 480 02f4 9B46     		mov r11, r3
 481 02f6 A446     		mov r12, r4
 482 02f8 FFBD     		pop {r0-r7,pc}
 483 02fa 00000020 		.ltorg
 483      02400010 
 483      02400100 
 483      01000200 
 483      15000000 
 484              	__zu_kang_ji_suan:
 485 03c8 F0B5     		push {r4-r7,lr}
 486              		@入口R0=反射实部 R1=反射虚部,R2=入射实部 R3=入射虚部
 487              		@出口R1=电抗 R2=电阻
 488              	__ji_suan_zu_kang:
 489              		@ Z=50*[(a+bi)/(c+di)]=50*[(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)]
 490 03ca 0446     		mov r4, r0
 491 03cc 0D46     		mov r5, r1
 492 03ce 1646     		mov r6, r2
 493 03d0 1F46     		mov r7, r3
 494 03d2 5043     		muls r0, r0, r2		@ac
 495 03d4 5943     		muls r1, r1, r3		@bd
 496 03d6 4018     		adds r0, r0, r1		@ac+bd
 497 03d8 5243     		muls r2, r2, r2		@c*c
ARM GAS  1.s 			page 10


 498 03da 5B43     		muls r3, r3, r3		@d*d
 499 03dc D218     		adds r2, r2, r3		@c*c+d*d
 500 03de B349     		ldr r1, = 1000
 501 03e0 0023     		movs r3, # 0
 502 03e2 0000     		movs r0, r0
 503 03e4 02D5     		bpl a1
 504 03e6 C043     		mvns r0, r0
 505 03e8 0130     		adds r0, r0, # 1
 506 03ea 0133     		adds r3, r3, # 1
 507              	a1:
 508 03ec 1200     		movs r2, r2
 509 03ee 02D5     		bpl a2
 510 03f0 D243     		mvns r2, r2
 511 03f2 0132     		adds r2, r2, # 1
 512 03f4 0133     		adds r3, r3, # 1
 513              	a2:
 514 03f6 00F044F8 		bl __chengfa
 515 03fa 00F01EF8 		bl __chufa64		@(ac+bd)/(c*c+d*d)
 516 03fe 012B     		cmp r3, # 1
 517 0400 01D1     		bne a3
 518 0402 C943     		mvns r1, r1
 519 0404 0131     		adds r1, r1, # 1
 520              	a3:	
 521 0406 02B4     		push {r1}
 522 0408 7543     		muls r5, r5, r6		@ bc
 523 040a 7C43     		muls r4, r4, r7		@ ad
 524 040c 2D1B     		subs r5, r5, r4		@ bc-ad
 525 040e A749     		ldr r1, = 1000
 526 0410 0023     		movs r3, # 0
 527 0412 2800     		movs r0, r5
 528 0414 02D5     		bpl a4
 529 0416 C043     		mvns r0, r0
 530 0418 0130     		adds r0, r0, # 1
 531 041a 0133     		adds r3, r3, # 1
 532              	a4:
 533 041c 1200     		movs r2, r2
 534 041e 02D5     		bpl a5
 535 0420 D243     		mvns r2, r2
 536 0422 0132     		adds r2, r2, # 1
 537 0424 0133     		adds r3, r3, # 1
 538              	a5:
 539 0426 00F02CF8 		bl __chengfa
 540 042a 00F006F8 		bl __chufa64
 541 042e 012B     		cmp r3, # 1
 542 0430 01D1     		bne __a6
 543 0432 C943     		mvns r1, r1
 544 0434 0131     		adds r1, r1, # 1	@虚部
 545              	__a6:	
 546 0436 04BC     		pop {r2}		@实
 547 0438 F0BD     		pop {r4-r7,pc}	
 548              		
 549              	__chufa64:
 550              	        @64位除32位
 551              	        @ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 552 043a F8B5     	        push {r3-r7,lr}
 553 043c 002A     	        cmp r2, # 0
 554 043e 1DD0     	        beq __chu_fa64_fan_hui0
ARM GAS  1.s 			page 11


 555 0440 0029     	        cmp r1, # 0
 556 0442 01D1     	        bne __chu_fa64_ji_suan
 557 0444 0028     	        cmp r0, # 0
 558 0446 19D0     	        beq __chu_fa64_fan_hui0
 559              	__chu_fa64_ji_suan:	
 560 0448 0024     	        movs r4, # 0
 561 044a 2746     	        mov r7, r4
 562 044c 2346     	        mov r3, r4
 563 044e 2546     	        mov r5, r4
 564 0450 0126     	        movs r6, # 1
 565 0452 F607     	        lsls r6, r6, # 31
 566              	__chu_fa64_xun_huan:
 567 0454 4900     	        lsls r1, r1, # 1
 568 0456 4041     	        adcs r0, r0, r0
 569 0458 6441     	        adcs r4, r4, r4
 570 045a 9442     	        cmp r4, r2
 571 045c 02D3     	        bcc __chu_fa_yi_wei
 572 045e 9B19     	        adds r3, r3, r6
 573 0460 7D41     	        adcs r5, r5, r7
 574 0462 A41A     	        subs r4, r4, r2
 575              	__chu_fa_yi_wei:
 576 0464 3600     	        movs r6, r6
 577 0466 04D0     	        beq __di_yi_wei
 578 0468 7608     	        lsrs r6, r6, # 1        @高32位移位
 579 046a F3D1     	        bne __chu_fa64_xun_huan
 580 046c 0127     	        movs r7, # 1
 581 046e FF07     	        lsls r7, r7, # 31
 582 0470 F0E7     	        b __chu_fa64_xun_huan
 583              	__di_yi_wei:            @低32位移位
 584 0472 7F08     		lsrs r7, r7, # 1
 585 0474 EED1     	        bne __chu_fa64_xun_huan
 586 0476 1846     	        mov r0, r3
 587 0478 2946     	        mov r1, r5
 588 047a F8BD     	        pop {r3-r7,pc}
 589              	__chu_fa64_fan_hui0:
 590 047c 0020     		movs r0, # 0
 591 047e 0021     		movs r1, # 0
 592 0480 F8BD     		pop {r3-r7,pc}
 593              	__chengfa:
 594              	        @入R0 乘以 R1
 595              	        @出 R0高32 ， R1低32
 596              		@0xffffffff*0xffffffff
 597              	        @4        F F F E 0 0 0 1
 598              	        @3                F F F E 0 0 0 1
 599              	        @2                F F F E 0 0 0 1
 600              	        @1                        F F F E 0 0 0 1
 601              	        @         F F F F F F F E 0 0 0 0 0 0 0 1
 602 0482 FCB5     		push {r2-r7,lr}
 603 0484 0028     	        cmp r0, # 0
 604 0486 1CD0     	        beq __cheng_fa_fan_hui
 605 0488 0029     	        cmp r1, # 0
 606 048a 1AD0     	        beq __cheng_fa_fan_hui
 607              	__ji_suan_cheng_fa:	
 608 048c 0246     		mov r2, r0
 609 048e 0B46     		mov r3, r1
 610 0490 000C     		lsrs r0, r0, # 16	@高16
 611 0492 1204     		lsls r2, r2, # 16	@ 低16
ARM GAS  1.s 			page 12


 612 0494 120C     		lsrs r2, r2, # 16
 613 0496 090C     	        lsrs r1, r1, # 16	@高16
 614 0498 1B04     		lsls r3, r3, # 16	@低16
 615 049a 1B0C     		lsrs r3, r3, # 16
 616 049c 1446     		mov r4, r2		
 617 049e 0546     		mov r5, r0		
 618 04a0 5A43     		muls r2, r2, r3		@1
 619 04a2 5843     		muls r0, r0, r3		@2
 620 04a4 4C43     		muls r4, r4, r1		@3
 621 04a6 4D43     		muls r5, r5, r1		@4
 622 04a8 0646     		mov r6, r0		@2
 623 04aa 2746     		mov r7, r4		@3
 624 04ac 0004     		lsls r0, r0, # 16	@2低
 625 04ae 2404     		lsls r4, r4, # 16	@3低
 626 04b0 360C     		lsrs r6, r6, # 16	@2高
 627 04b2 3F0C     		lsrs r7, r7, # 16	@3高
 628 04b4 1218     		adds r2, r2, r0
 629 04b6 6241     		adcs r2, r2, r4
 630 04b8 7541     		adcs r5, r5, r6
 631 04ba 7D41     		adcs r5, r5, r7
 632 04bc 2846     		mov r0, r5
 633 04be 1146     		mov r1, r2
 634 04c0 FCBD     		pop {r2-r7,pc}
 635              	__cheng_fa_fan_hui:
 636 04c2 0020     		movs r0, # 0
 637 04c4 0021     		movs r1, # 0
 638 04c6 FCBD     		pop {r2-r7,pc}
 639              	_lvboqi:
 640              				@滤波器
 641              				@R0=地址，R1=长度,r2=表指针地址,r3=ADC数值
 642              				@出R0=结果
 643 04c8 FEB5     		push {r1-r7,lr}	
 644 04ca 1568     		ldr r5, [r2]		@读出表指针
 645 04cc 8E00     		lsls r6, r1, # 2	
 646 04ce 4351     		str r3, [r0, r5]	@数值写到滤波器缓冲区
 647 04d0 0435     		adds r5, r5, # 4
 648 04d2 B542     		cmp r5, r6
 649 04d4 00D1     		bne _lvboqimeidaohuanchongquding
 650 04d6 0025     		movs r5, # 0
 651              	_lvboqimeidaohuanchongquding:
 652 04d8 1560     		str r5, [r2]
 653 04da 0027     		movs r7, # 0
 654              	_lvboqixunhuan:
 655 04dc B542     		cmp r5, r6
 656 04de 00D1     		bne _lvbozonghe
 657 04e0 0025     		movs r5, # 0
 658              	_lvbozonghe:
 659 04e2 4459     		ldr r4, [r0, r5]
 660 04e4 0435     		adds r5, r5, # 4
 661 04e6 3F19     		adds r7, r7, r4
 662 04e8 0139     		subs r1, r1, # 1
 663 04ea F7D1     		bne _lvboqixunhuan
 664 04ec F810     		asrs r0, r7, # 3	@修改
 665 04ee FEBD     		pop {r1-r7,pc}
 666              	
 667              	_zhuanshumaguanma:@ 16进制转数码管码
 668              		@ R0要转的数据， R1长度，R2结果表首地址
ARM GAS  1.s 			page 13


 669              		@ r3 小数点位置
 670 04f0 F0B5     		push {r4-r7,lr}
 671 04f2 6F4F     		ldr r7, = shumaguanmabiao
 672 04f4 0546     		mov r5, r0
 673 04f6 0E46     		mov r6, r1
 674 04f8 0A21     		movs r1, # 10
 675 04fa 9846     		mov r8, r3
 676              	_xunhuanqiuma:
 677 04fc 00F044F8 		bl _chufa
 678 0500 0446     		mov r4, r0
 679 0502 4C43     		muls r4, r1
 680 0504 2B1B     		subs r3, r5, r4
 681 0506 9B00     		lsls r3, # 2
 682 0508 FC58     		ldr r4, [r7, r3]
 683 050a 4645     		cmp r6, r8
 684 050c 00D0     		beq __tian_jia_xiao_shu_dian
 685 050e 00E0     		b __bao_cun_shu_ma_guan_ma
 686              	__tian_jia_xiao_shu_dian:
 687 0510 0134     		adds r4, r4, # 1
 688              	__bao_cun_shu_ma_guan_ma:	
 689 0512 1460     		str r4, [r2]
 690 0514 0546     		mov r5, r0
 691 0516 0432     		adds r2, r2, # 4
 692 0518 013E     		subs r6, # 1
 693 051a EFD1     		bne _xunhuanqiuma
 694 051c F0BD     		pop {r4-r7,pc}
 695              	_xieshumaguan: @ r0=位数 @数码管码
 696 051e FEB5     		push {r1-r7,lr}
 697 0520 8000     		lsls r0, r0, # 2
 698 0522 0027     		movs r7, # 0
 699 0524 0646     		mov r6, r0
 700 0526 634D     		ldr r5, = shumaguanma
 701 0528 634A     		ldr r2, = shumaguanshuaxinbiao
 702              	_shumaguanshuaxin:
 703 052a EB59     		ldr r3, [r5, r7]
 704 052c D459     		ldr r4, [r2, r7]
 705 052e 1C43     		orrs r4, r4, r3
 706 0530 2046     		mov r0, r4
 707 0532 00F004F8 		bl _xie595
 708 0536 0437     		adds  r7, r7, # 4
 709 0538 B742     		cmp r7, r6
 710 053a F6D9     		bls _shumaguanshuaxin
 711 053c FEBD     		pop {r1-r7,pc}
 712              		
 713              	_xie595: @ R0=要写的数据
 714 053e FEB5     		push {r1-r7,lr}
 715 0540 0546     		mov r5, r0
 716 0542 0820     		movs r0, # 0x08      @pa6
 717 0544 1027     		movs r7, # 0x10      @pa7
 718 0546 0426     		movs r6, # 0x04      @pa5 
 719 0548 1023     		movs r3, # 16   @16位
 720 054a 5C4A     		ldr r2, = 0x48000000 @ gpioa
 721 054c 0121     		movs r1, # 0x01
 722              	_xunhuan595:
 723 054e 9761     		str r7, [r2, # 0x18]
 724 0550 00F014F8 		bl _yanshi
 725 0554 0D42     		tst r5, r1
ARM GAS  1.s 			page 14


 726 0556 01D1     		bne _xie595_0
 727 0558 9062     		str r0, [r2, # 0x28]
 728 055a 00E0     		b _suocun595
 729              	_xie595_0:
 730 055c 9061     		str r0, [r2, # 0x18]
 731              	_suocun595:
 732 055e 00F00DF8 		bl _yanshi
 733 0562 6D08     		lsrs r5, # 1
 734 0564 9762     		str r7, [r2, # 0x28]
 735 0566 00F009F8 		bl _yanshi
 736 056a 013B     		subs r3, r3, # 1
 737 056c EFD1     		bne _xunhuan595
 738 056e 9661     		str r6, [r2, # 0x18]
 739 0570 00F004F8 		bl _yanshi
 740 0574 9662     		str r6, [r2, # 0x28]
 741 0576 00F001F8 		bl _yanshi
 742 057a FEBD     		pop {r1-r7,pc}
 743              	
 744              	
 745              	_yanshi:
 746 057c 80B4     		push {r7}
 747 057e 504F     		ldr r7, = 30
 748              	_yanshi11:
 749 0580 013F     		subs r7, # 1
 750 0582 FDD1     		bne _yanshi11
 751 0584 80BC     		pop {r7}
 752 0586 7047     		bx lr
 753              	
 754              	_chufa:				@软件除法
 755              		@ r0 除以 r1 等于 商(r0)余数R1
 756 0588 1EB5     		push {r1-r4,lr}
 757 058a 0028     		cmp r0, # 0
 758 058c 0ED0     		beq _chufafanhui
 759 058e 0029     		cmp r1, # 0
 760 0590 0CD0     		beq _chufafanhui
 761 0592 0246     		mov r2, r0
 762 0594 0123     		movs r3, # 1
 763 0596 DB07     		lsls r3, r3, # 31
 764 0598 0020     		movs r0, # 0
 765 059a 0446     		mov r4, r0
 766              	_chufaxunhuan:
 767 059c 5200     		lsls r2, r2, # 1
 768 059e 6441     		adcs r4, r4, r4
 769 05a0 8C42     		cmp r4, r1
 770 05a2 01D3     		bcc _chufaweishubudao0
 771 05a4 C018     		adds r0, r0, r3
 772 05a6 641A     		subs r4, r4, r1
 773              	_chufaweishubudao0:
 774 05a8 5B08     		lsrs r3, r3, # 1
 775 05aa F7D1     		bne _chufaxunhuan
 776              	_chufafanhui:
 777 05ac 1EBD     		pop {r1-r4,pc}
 778              	__chu_fa:	@带符号
 779 05ae FEB5     		push {r1-r7,lr}
 780 05b0 0028     	        cmp r0, # 0
 781 05b2 1DD0     	        beq _chufafanhui1
 782 05b4 0029     	        cmp r1, # 0
ARM GAS  1.s 			page 15


 783 05b6 1BD0     	        beq _chufafanhui1
 784 05b8 0025     		movs r5, # 0
 785 05ba 0000     		movs r0, r0
 786 05bc 02D5     		bpl __pan_duan_bei_chu_shu
 787 05be 0135     		adds r5, r5, # 1
 788 05c0 C043     		mvns r0, r0
 789 05c2 0130     		adds r0, r0, # 1
 790              	__pan_duan_bei_chu_shu:
 791 05c4 0900     		movs r1, r1
 792 05c6 02D5     		bpl __ji_suan_chu_fa11
 793 05c8 0135     		adds r5, r5, # 1
 794 05ca C943     		mvns r1, r1
 795 05cc 0131     		adds r1, r1, # 1
 796              	__ji_suan_chu_fa11:	
 797 05ce 0246     	        mov r2, r0
 798 05d0 0123     	        movs r3, # 1
 799 05d2 DB07     	        lsls r3, r3, # 31
 800 05d4 0020     	        movs r0, # 0
 801 05d6 0446     	        mov r4, r0
 802              	_chufaxunhuan1:
 803 05d8 5200     	        lsls r2, r2, # 1
 804 05da 6441     	        adcs r4, r4, r4
 805 05dc 8C42     	        cmp r4, r1
 806 05de 01D3     		bcc _chufaweishubudao00
 807 05e0 C018     		adds r0, r0, r3
 808 05e2 641A     		subs r4, r4, r1
 809              	_chufaweishubudao00:
 810 05e4 5B08     		lsrs r3, r3, # 1
 811 05e6 F7D1     		bne _chufaxunhuan1
 812 05e8 012D     		cmp r5, # 1
 813 05ea 01D1     		bne _chufafanhui1
 814 05ec C043     		mvns r0, r0
 815 05ee 0130     		adds r0, r0, # 1
 816              	_chufafanhui1:
 817 05f0 FEBD     		pop {r1-r7,pc}
 818              	__he_cheng_dian_ya_biao:
 819 05f2 3FB5     		push {r0-r5,lr}
 820 05f4 3348     	        ldr r0, = dianyabiao
 821 05f6 0838     		subs r0, r0, # 0x08
 822              	__zhao_shang_sheng:
 823 05f8 0830     		adds r0, r0, # 0x08
 824 05fa 8288     		ldrh r2, [r0, # 0x04]
 825 05fc 002A     		cmp r2, # 0
 826 05fe FBD1     		bne __zhao_shang_sheng
 827 0600 8389     		ldrh r3, [r0, # 0x0c]
 828 0602 D21A     		subs r2, r2, r3
 829 0604 F8D5     		bpl __zhao_shang_sheng
 830 0606 3049     		ldr r1, = dianyabiaozhizhen
 831 0608 0860     		str r0, [r1]
 832 060a 3049     	        ldr r1, = 256
 833 060c 8900     	        lsls r1, r1, # 2
 834 060e 0022     	        movs r2, # 0
 835              	__fu_zhi_xun_huan:
 836 0610 8358     	        ldr r3, [r0, r2]
 837 0612 1C46     	        mov r4, r3
 838 0614 1B04     	        lsls r3, r3, # 16
 839 0616 1B0C     	        lsrs r3, r3, # 16
ARM GAS  1.s 			page 16


 840 0618 240C     	        lsrs r4, r4, # 16
 841 061a 1B1B     		subs r3, r3, r4
 842 061c 06D5     	        bpl __bao_cun
 843 061e DB43     	        mvns r3, r3
 844 0620 0133     	        adds r3, r3, # 1
 845 0622 00F024F8 	        bl __zhuan_bcd
 846 0626 2A4C     	        ldr r4, = 0x80000000
 847 0628 2343     	        orrs r3, r3, r4
 848 062a 01E0     	        b __fu_shu_bao_cun
 849              	__bao_cun:
 850 062c 00F01FF8 		bl __zhuan_bcd
 851              	__fu_shu_bao_cun:
 852 0630 8350     	        str r3, [r0, r2]
 853 0632 0432     		adds r2, r2, # 4
 854 0634 8A42     		cmp r2, r1
 855 0636 EBD1     	        bne __fu_zhi_xun_huan
 856 0638 3FBD     		pop {r0-r5,pc}
 857              	__jian_bo:
 858 063a 3FB5     	       push {r0-r5,lr}
 859 063c 2148     	        ldr r0, = dianyabiao
 860 063e 0838     	        subs r0, r0, # 0x08
 861              	__zhao_shang_sheng1:
 862 0640 0830     	        adds r0, r0, # 0x08
 863 0642 8288     		ldrh r2, [r0, # 0x04]
 864 0644 002A     		cmp r2, # 0
 865 0646 FBD1     	        bne __zhao_shang_sheng1
 866 0648 8389     		ldrh r3, [r0, # 0x0c]
 867 064a D21A     	        subs r2, r2, r3
 868 064c F8D5     	        bpl __zhao_shang_sheng1
 869 064e 1E49     	        ldr r1, = dianyabiaozhizhen
 870 0650 0860     	        str r0, [r1]
 871 0652 1E49     	        ldr r1, = 256
 872 0654 8900     	        lsls r1, r1, # 2
 873 0656 0022     	        movs r2, # 0
 874              	__fu_zhi_xun_huan1:
 875 0658 8358     	        ldr r3, [r0, r2]
 876 065a 1C46     	        mov r4, r3
 877 065c 1B04     	        lsls r3, r3, # 16
 878 065e 1B0C     	        lsrs r3, r3, # 16
 879 0660 240C     	        lsrs r4, r4, # 16
 880 0662 1B1B     	        subs r3, r3, r4
 881 0664 8350     	        str r3, [r0, r2]
 882 0666 0432     		adds r2, r2, # 4
 883 0668 8A42     		cmp r2, r1
 884 066a F5D1     	        bne __fu_zhi_xun_huan1
 885 066c 3FBD     		pop {r0-r5,pc}
 886              	
 887              	__zhuan_bcd:
 888 066e F7B5     		push {r0-r2,r4-r7,lr}
 889 0670 0A21     		movs r1, # 10
 890 0672 1846     		mov r0, r3
 891 0674 1D46     		mov r5, r3
 892 0676 0826     		movs r6, # 8
 893              	__bcd_xun_huan:
 894 0678 FFF786FF 		bl _chufa
 895 067c 0446     		mov r4, r0
 896 067e 4C43     		muls r4, r4, r1
ARM GAS  1.s 			page 17


 897 0680 2D1B     		subs r5, r5, r4
 898 0682 20B4     		push {r5}
 899 0684 0546     		mov r5, r0
 900 0686 013E     		subs r6, r6, # 1
 901 0688 F6D1     		bne __bcd_xun_huan
 902 068a FFBC     		pop {r0-r7}
 903 068c 3601     		lsls r6, r6, # 4
 904 068e 2D02     		lsls r5, r5, # 8
 905 0690 2403     		lsls r4, r4, # 12
 906 0692 1B04     		lsls r3, r3, # 16
 907 0694 1205     		lsls r2, r2, # 20
 908 0696 0906     		lsls r1, r1, # 24
 909 0698 0007     		lsls r0, r0, # 28
 910 069a 0343     		orrs r3, r3, r0
 911 069c 0B43     		orrs r3, r3, r1
 912 069e 1343     		orrs r3, r3, r2
 913 06a0 2343     		orrs r3, r3, r4
 914 06a2 2B43     		orrs r3, r3, r5
 915 06a4 3343     		orrs r3, r3, r6
 916 06a6 3B43     		orrs r3, r3, r7
 917 06a8 F7BD     		pop {r0-r2,r4-r7,pc}
 918 06aa 0000E803 		.ltorg
 918      00000000 
 918      00000000 
 918      00202800 
 918      00000000 
 919              	_nmi_handler:
 920 06d4 7047     		bx lr
 921              	_hard_fault:
 922 06d6 7047     		bx lr
 923              	_svc_handler:
 924 06d8 7047     		bx lr
 925              	_pendsv_handler:
 926 06da 7047     		bx lr
 927              	aaa:
 928 06dc 7047     		bx lr
 929              	_tim3:
 930 06de 2548     		ldr r0, = jishu2
 931 06e0 0168     		ldr r1, [r0]
 932 06e2 0131     		adds r1, r1, #1
 933 06e4 0160     		str r1, [r0]
 934              	_tim3fanhui:
 935 06e6 2448     		ldr r0, = 0x40000400
 936 06e8 0021     		movs r1, # 0
 937 06ea 0161     		str r1, [r0, # 0x10]
 938 06ec 7047     		bx lr
 939              	_systickzhongduan:
 940 06ee 2348     		ldr r0, = 0x40020000
 941 06f0 2349     	        ldr r1, =  86
 942 06f2 C160     	        str r1, [r0, # 0x0c]
 943 06f4 2349     	        ldr r1, = 0xa83 @ 0xaa3 @ 5a1
 944 06f6 8160     	        str r1, [r0, # 0x08]
 945              	
 946              		
 947 06f8 2348     		ldr r0, = 0xe0000d04
 948 06fa 2449     		ldr r1, = 0x02000000
 949 06fc 0160     		str r1, [r0]                 @ 清除SYSTICK中断
ARM GAS  1.s 			page 18


 950 06fe 7047     		bx lr
 951              	__dma_wan:
 952 0700 FFB5     		push {r0-r7,lr}
 953 0702 FFF7A2FD 		bl __dft
 954 0706 2248     		ldr r0, = fan_she_shi_bu
 955 0708 2249     		ldr r1, = fan_she_xu_bu
 956 070a 234A     		ldr r2, = ru_she_shi_bu
 957 070c 234B     		ldr r3, = ru_she_xu_bu
 958 070e 0068     		ldr r0, [r0]
 959 0710 0968     		ldr r1, [r1]
 960 0712 1268     		ldr r2, [r2]
 961 0714 1B68     		ldr r3, [r3]
 962 0716 FFF757FE 		bl __zu_kang_ji_suan
 963 071a 2148     		ldr r0, = p_shibu
 964 071c 214B     		ldr r3, = p_xubu
 965 071e 0260     		str r2, [r0]
 966 0720 1960     		str r1, [r3]
 967              		
 968 0722 1400     		movs r4, r2
 969 0724 0D00     		movs r5, r1
 970 0726 2048     		ldr r0, = 1000
 971 0728 0021     		movs r1, # 0
 972 072a 0246     		mov r2, r0
 973 072c 0023     		movs r3, # 0
 974              	
 975 072e 0019     		adds r0, r0, r4
 976 0730 4919     		adds r1, r1, r5
 977 0732 121B     		subs r2, r2, r4
 978 0734 5B1B     		subs r3, r3, r5
 979 0736 FFF747FE 		bl __zu_kang_ji_suan
 980 073a 1C4B     		ldr r3, = 0x4000
 981 073c 5943     		muls r1, r1, r3
 982 073e 5343     		muls r3, r3, r2
 983 0740 C913     		asrs r1, r1, # 15
 984 0742 DB13     		asrs r3, r3, # 15
 985 0744 0D46     		mov r5, r1
 986 0746 1A48     		ldr r0, = lvboqihuanchong
 987 0748 1A49     		ldr r1, = 8
 988 074a 1B4A     		ldr r2, = lvboqizhizhen
 989 074c FFF7BCFE 		bl _lvboqi
 990 0750 1A4A     		ldr r2, = dianzu
 991 0752 1060     		str r0, [r2]
 992 0754 2B46     		mov r3, r5
 993 0756 1A48     	        ldr r0, = lvboqihuanchong1
 994 0758 1649     	        ldr r1, = 8
 995 075a 1A4A     	        ldr r2, = lvboqizhizhen1
 996 075c FFF7B4FE 	        bl _lvboqi
 997 0760 194A     	        ldr r2, = diankang
 998 0762 1060     	        str r0, [r2]
 999              	
 1000 0764 0548     		ldr r0, = 0x40020000
 1001 0766 0222     	        movs r2, # 2
 1002 0768 4260     		str r2, [r0, # 0x04]
 1003 076a 1848     		ldr r0, = dianyabiaoman
 1004 076c 0121     		movs r1, # 1
 1005 076e 0160     		str r1, [r0]
 1006              	__dma_fan_hui:
ARM GAS  1.s 			page 19


 1007 0770 FFBD0000 		pop {r0-r7,pc}
 1007      F8000020 
 1007      00040040 
 1007      00000240 
 1007      56000000 
ARM GAS  1.s 			page 20


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 $d
                 1.s:10     .data:0000000000000000 shumaguanmabiao
                 1.s:12     .data:0000000000000028 shumaguanshuaxinbiao
                 1.s:14     .data:000000000000004c xuanzhuanyinzi
                 1.s:16     .data:000000000000044c yjmwxwx
                 1.s:17     *ABS*:0000000020001000 STACKINIT
                 1.s:18     *ABS*:0000000020000000 shumaguanma
                 1.s:19     *ABS*:0000000020000010 fuhao
                 1.s:20     *ABS*:00000000200000f4 dmawan
                 1.s:21     *ABS*:00000000200000f8 jishu2
                 1.s:22     *ABS*:00000000200000fc jishu
                 1.s:23     *ABS*:0000000020000120 fan_she_shi_bu
                 1.s:24     *ABS*:0000000020000124 ru_she_shi_bu
                 1.s:25     *ABS*:0000000020000128 fan_she_xu_bu
                 1.s:26     *ABS*:000000002000012c ru_she_xu_bu
                 1.s:27     *ABS*:0000000020000130 p_shibu
                 1.s:28     *ABS*:0000000020000134 p_xubu
                 1.s:29     *ABS*:0000000020000138 swrshibu
                 1.s:30     *ABS*:000000002000013c swrxubu
                 1.s:31     *ABS*:0000000020000140 dianzu
                 1.s:32     *ABS*:0000000020000144 diankang
                 1.s:33     *ABS*:0000000020000148 zukangqiehuan
                 1.s:34     *ABS*:0000000020000a00 lvboqizhizhen
                 1.s:35     *ABS*:0000000020000a04 lvboqihuanchong
                 1.s:36     *ABS*:0000000020000a30 lvboqizhizhen1
                 1.s:37     *ABS*:0000000020000a34 lvboqihuanchong1
                 1.s:38     *ABS*:00000000200001f8 dianyabiaozhizhen
                 1.s:39     *ABS*:00000000200001fc dianyabiaoman
                 1.s:40     *ABS*:0000000020000200 dianyabiao
                 1.s:42     .text:0000000000000000 vectors
                 1.s:89     .text:00000000000000b0 _start
                 1.s:919    .text:00000000000006d4 _nmi_handler
                 1.s:921    .text:00000000000006d6 _hard_fault
                 1.s:923    .text:00000000000006d8 _svc_handler
                 1.s:925    .text:00000000000006da _pendsv_handler
                 1.s:939    .text:00000000000006ee _systickzhongduan
                 1.s:927    .text:00000000000006dc aaa
                 1.s:951    .text:0000000000000700 __dma_wan
                 1.s:929    .text:00000000000006de _tim3
                            .text:0000000000000000 $d
                 1.s:87     .text:00000000000000b0 $t
                 1.s:90     .text:00000000000000b0 shizhong
                 1.s:97     .text:00000000000000bc denghse
                 1.s:101    .text:00000000000000c2 dengpllguan
                 1.s:113    .text:00000000000000d6 dengpll
                 1.s:121    .text:00000000000000e0 neicunqingling
                 1.s:125    .text:00000000000000e6 neicunqinglingxunhuan
                 1.s:130    .text:00000000000000ec _waisheshizhong
                 1.s:147    .text:00000000000000fa _waishezhongduan
                 1.s:157    .text:0000000000000100 _kanmengou
                 1.s:170    .text:0000000000000116 _adcchushihua
                 1.s:174    .text:000000000000011c _dengadcjiaozhun
                 1.s:178    .text:0000000000000122 _kaiadc
                 1.s:184    .text:000000000000012c _deng_adc_wen_ding
                 1.s:188    .text:0000000000000132 _tongdaoxuanze
                 1.s:202    .text:000000000000014a dmachushihua
ARM GAS  1.s 			page 21


                 1.s:224    .text:000000000000015c tim1chushiha
                 1.s:239    .text:0000000000000178 tim3chushihua
                 1.s:267    .text:0000000000000198 io_she_zhi
                 1.s:298    .text:00000000000001a6 ting
                 1.s:299    .text:00000000000001a6 __wei_gou
                 1.s:314    .text:00000000000001c2 __xianshi
                 1.s:371    .text:0000000000000228 __kai_dma
                 1.s:360    .text:0000000000000214 __an_jian
                 1.s:322    .text:00000000000001d2 __pan_duan_an_jian
                 1.s:328    .text:00000000000001dc __xian_shi_zu_kang
                 1.s:336    .text:00000000000001e8 __xian_shi_dian_zu
                 1.s:333    .text:00000000000001e4 __xian_shi_dian_kang
                 1.s:338    .text:00000000000001ea __xian_shi
                 1.s:348    .text:00000000000001fc __shu_ma_guan_xian_shi
                 1.s:352    .text:0000000000000202 __led_xian_shi
                 1.s:667    .text:00000000000004f0 _zhuanshumaguanma
                 1.s:695    .text:000000000000051e _xieshumaguan
                 1.s:376    .text:0000000000000230 __deng_adc_wan
                 1.s:391    .text:000000000000024a __dft
                 1.s:401    .text:000000000000025c __zhao_shang_sheng2
                 1.s:418    .text:000000000000027c __dft_xun_huan
                 1.s:475    .text:00000000000002ec __dft_fan_hui
                 1.s:483    .text:00000000000002fa $d
                 1.s:483    .text:00000000000002fc $d
                 1.s:484    .text:00000000000003c8 __zu_kang_ji_suan
                 1.s:485    .text:00000000000003c8 $t
                 1.s:488    .text:00000000000003ca __ji_suan_zu_kang
                 1.s:507    .text:00000000000003ec a1
                 1.s:513    .text:00000000000003f6 a2
                 1.s:593    .text:0000000000000482 __chengfa
                 1.s:549    .text:000000000000043a __chufa64
                 1.s:520    .text:0000000000000406 a3
                 1.s:532    .text:000000000000041c a4
                 1.s:538    .text:0000000000000426 a5
                 1.s:545    .text:0000000000000436 __a6
                 1.s:589    .text:000000000000047c __chu_fa64_fan_hui0
                 1.s:559    .text:0000000000000448 __chu_fa64_ji_suan
                 1.s:566    .text:0000000000000454 __chu_fa64_xun_huan
                 1.s:575    .text:0000000000000464 __chu_fa_yi_wei
                 1.s:583    .text:0000000000000472 __di_yi_wei
                 1.s:635    .text:00000000000004c2 __cheng_fa_fan_hui
                 1.s:607    .text:000000000000048c __ji_suan_cheng_fa
                 1.s:639    .text:00000000000004c8 _lvboqi
                 1.s:651    .text:00000000000004d8 _lvboqimeidaohuanchongquding
                 1.s:654    .text:00000000000004dc _lvboqixunhuan
                 1.s:658    .text:00000000000004e2 _lvbozonghe
                 1.s:676    .text:00000000000004fc _xunhuanqiuma
                 1.s:754    .text:0000000000000588 _chufa
                 1.s:686    .text:0000000000000510 __tian_jia_xiao_shu_dian
                 1.s:688    .text:0000000000000512 __bao_cun_shu_ma_guan_ma
                 1.s:702    .text:000000000000052a _shumaguanshuaxin
                 1.s:713    .text:000000000000053e _xie595
                 1.s:722    .text:000000000000054e _xunhuan595
                 1.s:745    .text:000000000000057c _yanshi
                 1.s:729    .text:000000000000055c _xie595_0
                 1.s:731    .text:000000000000055e _suocun595
                 1.s:748    .text:0000000000000580 _yanshi11
ARM GAS  1.s 			page 22


                 1.s:776    .text:00000000000005ac _chufafanhui
                 1.s:766    .text:000000000000059c _chufaxunhuan
                 1.s:773    .text:00000000000005a8 _chufaweishubudao0
                 1.s:778    .text:00000000000005ae __chu_fa
                 1.s:816    .text:00000000000005f0 _chufafanhui1
                 1.s:790    .text:00000000000005c4 __pan_duan_bei_chu_shu
                 1.s:796    .text:00000000000005ce __ji_suan_chu_fa11
                 1.s:802    .text:00000000000005d8 _chufaxunhuan1
                 1.s:809    .text:00000000000005e4 _chufaweishubudao00
                 1.s:818    .text:00000000000005f2 __he_cheng_dian_ya_biao
                 1.s:822    .text:00000000000005f8 __zhao_shang_sheng
                 1.s:835    .text:0000000000000610 __fu_zhi_xun_huan
                 1.s:849    .text:000000000000062c __bao_cun
                 1.s:887    .text:000000000000066e __zhuan_bcd
                 1.s:851    .text:0000000000000630 __fu_shu_bao_cun
                 1.s:857    .text:000000000000063a __jian_bo
                 1.s:861    .text:0000000000000640 __zhao_shang_sheng1
                 1.s:874    .text:0000000000000658 __fu_zhi_xun_huan1
                 1.s:893    .text:0000000000000678 __bcd_xun_huan
                 1.s:918    .text:00000000000006aa $d
                 1.s:918    .text:00000000000006ac $d
                 1.s:920    .text:00000000000006d4 $t
                 1.s:934    .text:00000000000006e6 _tim3fanhui
                 1.s:1006   .text:0000000000000770 __dma_fan_hui
                 1.s:1007   .text:0000000000000772 $d
                 1.s:1007   .text:0000000000000774 $d

NO UNDEFINED SYMBOLS
