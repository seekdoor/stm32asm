ARM GAS  1.s 			page 1


   1              		@@单片机stm32f030f4p6
   2              		@@ 阻抗
   3              		@作者：yjmwxwx
   4              		@时间：2020-01-01
   5              		@编译器：ARM-NONE-EABI
   6              		 .thumb
   7              		         .syntax unified
   8              		.section .data
   9              		.align 4
  10              	shumaguanmabiao:
  11 0000 FC000000 		.int 0xfc,0x60,0xda,0xf2,0x66,0xb6,0xbe,0xe0,0xfe,0xf6
  11      60000000 
  11      DA000000 
  11      F2000000 
  11      66000000 
  12              	shumaguanshuaxinbiao:
  13 0028 00FE0000 		.int 0xfe00,0xfd00,0xfb00,0xf700,0xef00,0xdf00,0xbf00,0x7f00,0
  13      00FD0000 
  13      00FB0000 
  13      00F70000 
  13      00EF0000 
  14              	xuanzhuanyinzi:
  15 004c 00800000 		.int 0x8000,0x0000,0x5ED7,0xFFFFAA0B,0x0C8B,0xFFFF809E,0xFFFFB3C1,0xFFFF9931,0xFFFF8276,0xFFFFE708
  15      00000000 
  15      D75E0000 
  15      0BAAFFFF 
  15      8B0C0000 
  16              	yjmwxwx:
  17              		.equ STACKINIT,        	        0x20001000
  18              		.equ shumaguanma,		0x20000000
  19              		.equ fuhao,			0x20000010
  20              		.equ dmawan,			0x200000f4
  21              		.equ jishu2,			0x200000f8
  22              		.equ jishu,			0x200000fc
  23              		.equ fan_she_shi_bu,		0x20000120
  24              		.equ ru_she_shi_bu,		0x20000124
  25              		.equ fan_she_xu_bu,		0x20000128
  26              		.equ ru_she_xu_bu,		0x2000012c
  27              		.equ p_shibu,			0x20000130
  28              		.equ p_xubu,			0x20000134
  29              		.equ swrshibu,			0x20000138
  30              		.equ swrxubu,			0x2000013c
  31              		.equ dianzu,			0x20000140
  32              		.equ diankang,			0x20000144
  33              		.equ zukangqiehuan,		0x20000148
  34              		.equ lvboqizhizhen,		0x20000a00
  35              		.equ lvboqihuanchong,		0x20000a04
  36              		.equ lvboqizhizhen1,		0x20000a30
  37              		.equ lvboqihuanchong1,		0x20000a34
  38              		.equ dianyabiaozhizhen,		0x200001f8
  39              		.equ dianyabiaoman,		0x200001fc
  40              		.equ dianyabiao,		0x20000200
  41              		.section .text
  42              	vectors:
  43 0000 00100020 		.word STACKINIT
  44 0004 B1000000 		.word _start + 1
  45 0008 A5060000 		.word _nmi_handler + 1
ARM GAS  1.s 			page 2


  46 000c A7060000 		.word _hard_fault  + 1
  47 0010 00000000 		.word 0
  48 0014 00000000 		.word 0
  49 0018 00000000 		.word 0
  50 001c 00000000 		.word 0
  51 0020 00000000 		.word 0
  52 0024 00000000 		.word 0
  53 0028 00000000 		.word 0
  54 002c A9060000 		.word _svc_handler +1
  55 0030 00000000 		.word 0
  56 0034 00000000 		.word 0
  57 0038 AB060000 		.word _pendsv_handler +1
  58 003c BF060000 		.word _systickzhongduan +1               @ 15
  59 0040 AD060000 		.word aaa +1           @ _wwdg +1          	@ 0
  60 0044 AD060000 		.word aaa +1           @_pvd +1            	@ 1
  61 0048 AD060000 		.word aaa +1           @_rtc +1            	@ 2
  62 004c AD060000 		.word aaa +1           @_flash +1          	@ 3
  63 0050 AD060000 		.word aaa +1	       @ _rcc + 1          	@ 4
  64 0054 AD060000 		.word aaa +1           @_exti0_1  +1      	@ 5
  65 0058 AD060000 		.word aaa +1           @ _exti2_3 +1      	@ 6
  66 005c AD060000 		.word aaa +1           @_exti4_15 +1     	@ 7
  67 0060 AD060000 		.word aaa +1                         		@ 8
  68 0064 D1060000 		.word __dma_wan  +1  		      		@ 9
  69 0068 AD060000 		.word aaa +1	       @_dma1_2_3 +1        	@ 10
  70 006c AD060000 		.word aaa +1	       @ _dma1_4_5 +1	        @ 11
  71 0070 AD060000 		.word aaa +1	       @_adc1 +1          	@ 12
  72 0074 AD060000 		.word aaa +1           @_tim1_brk_up +1  	@ 13
  73 0078 AD060000 		.word aaa +1           @ _tim1_cc +1            @ 14
  74 007c AD060000 		.word aaa +1           @_tim2 +1      	        @ 15
  75 0080 AF060000 		.word _tim3 +1                             	@ 16
  76 0084 AD060000 		.word aaa +1                                    @ 17
  77 0088 AD060000 		.word aaa +1		                	@ 18
  78 008c AD060000 		.word aaa +1	       @_tim14 +1   	        @ 19
  79 0090 AD060000 		.word aaa +1                         		@ 20
  80 0094 AD060000 		.word aaa +1           @_tim16 +1      		@ 21
  81 0098 AD060000 		.word aaa +1           @_tim17 +1      		@ 22
  82 009c AD060000 		.word aaa +1           @_i2c   +1     		@ 23
  83 00a0 AD060000 		.word aaa +1                         		@ 24
  84 00a4 AD060000 		.word aaa +1           @_spi   +1    		@ 25
  85 00a8 AD060000 		.word aaa +1                         		@ 26
  86 00ac AD060000 		.word aaa +1           @_usart1 +1     		@ 27
  87              		.align 2
  88              	
  89              	_start:
  90              	shizhong:
  91 00b0 8A4A     	        ldr r2, = 0x40022000   @FLASH访问控制
  92 00b2 3221     	        movs r1, # 0x32
  93 00b4 1160     	        str r1, [r2]           @FLASH缓冲 缓冲开启
  94 00b6 8A48     	        ldr r0, = 0x40021000 @ rcc
  95 00b8 8A49     		ldr r1, = 0x10001
  96 00ba 0160     	        str r1, [r0]
  97              	denghse:
  98 00bc 0168     	        ldr r1, [r0]
  99 00be 8903     	        lsls r1, r1, # 14
 100 00c0 FCD5     	        bpl denghse
 101              	dengpllguan:
 102 00c2 0168     	        ldr r1, [r0]
ARM GAS  1.s 			page 3


 103 00c4 8901     		lsls r1, r1, # 6
 104 00c6 FCD4     		bmi dengpllguan
 105 00c8 8749     		ldr r1, = 0x150002
 106 00ca 0046     		mov r0, r0
 107 00cc 4160     		str r1, [r0, # 0x04]
 108 00ce 0046     		mov r0, r0
 109 00d0 8649     		ldr r1, = 0x1010000
 110 00d2 0046     		mov r0, r0
 111 00d4 0160     		str r1, [r0]
 112              	
 113              	dengpll:
 114 00d6 0168     	        ldr r1, [r0]
 115 00d8 8901     		lsls r1, # 6
 116 00da FCD5     		bpl dengpll
 117              	
 118 00dc 8449     		ldr r1, = 100
 119 00de 0163     		str r1, [r0, # 0x30]
 120              	
 121              	neicunqingling:
 122 00e0 8448     		ldr r0, = 0x20000000
 123 00e2 0021     		movs r1, # 0
 124 00e4 844B     		ldr r3, = 0x1000
 125              	neicunqinglingxunhuan:
 126 00e6 043B     		subs r3, # 4
 127 00e8 C150     		str r1, [r0, r3]
 128 00ea FCD1     		bne neicunqinglingxunhuan
 129              		
 130              	_waisheshizhong:			 @ 外设时钟
 131              		@+0x14=RCC_AHBENR
 132              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 133 00ec 7C48     		ldr r0, = 0x40021000
 134 00ee 8349     		ldr r1, = 0x60001
 135 00f0 4161     		str r1, [r0, # 0x14]
 136              	
 137              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 138              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 139 00f2 8349     		ldr r1, = 0xa00
 140 00f4 8161     		str r1, [r0, # 0x18]
 141              		@+0X1C=RCC_APB1ENR
 142              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 143              		@ 22=I2C2 @ 23=USB @ 28=PWR
 144 00f6 834A     		ldr r2, = 0x102
 145 00f8 C261     		str r2, [r0, # 0x1c]
 146              	
 147              	_waishezhongduan:				@外设中断
 148              		@0xE000E100    0-31  写1开，写0没效
 149              		@0XE000E180    0-31 写1关，写0没效
 150              		@0XE000E200    0-31 挂起，写0没效
 151              		@0XE000E280    0-31 清除， 写0没效
 152              	
 153 00fa 8348     		ldr r0, =  0xe000e100
 154 00fc 8349     		ldr r1, = 0x200 @0x10200  @ 0x10000
 155 00fe 0160     		str r1, [r0]
 156              	
 157              	
 158              	_adcchushihua:
 159 0100 8348     	        ldr r0, = 0x40012400  @ adc基地址
ARM GAS  1.s 			page 4


 160 0102 8449     	        ldr r1, = 0x80000000
 161 0104 8160     	        str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 162              	_dengadcjiaozhun:
 163 0106 8168     	        ldr r1, [r0, # 0x08]
 164 0108 0900     	        movs r1, r1
 165 010a FCD4     	        bmi _dengadcjiaozhun   @ 等ADC校准
 166              	_kaiadc:
 167 010c 8168     	        ldr r1, [r0, # 0x08]
 168 010e 0122     	        movs r2, # 0x01
 169 0110 1143     	        orrs r1, r1, r2
 170 0112 8160     	        str r1, [r0, # 0x08]
 171              	_dengdaiadcwending:
 172              	       @ ldr r1, [r0]
 173              	       @ lsls r1, r1, # 31
 174              	        @ bpl _dengdaiadcwending @ 等ADC稳定
 175              	_tongdaoxuanze:
 176 0114 7F49     	        ldr r1, = 0x80000000
 177 0116 0161     	        str r1, [r0, # 0x10]
 178 0118 7F49     	        ldr r1, = 0x63
 179 011a 8162     	        str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 180 011c 7F49     	        ldr r1, = 0x8c3 @0x2003 @0x8c3
 181 011e C160     	        str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 182 0120 0021     	        movs r1, # 0
 183 0122 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 184 0124 8168     	        ldr r1, [r0, # 0x08]
 185 0126 7E4A     	        ldr r2, = 0x04         @ 开始转换
 186 0128 1143     		orrs r1, r1, r2
 187 012a 8160     	        str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 188              	
 189              	dmachushihua:
 190              	        @+0=LSR,+4=IFCR,
 191              	        @+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 192              	        @+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 193              	        @+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 194              	        @+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 195              	        @+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 196              	        @+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 197              	        @+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 198              	
 199              		@ adc dma
 200 012c 7D48     		ldr r0, = 0x40020000
 201 012e 7E49     		ldr r1, = 0x40012440
 202 0130 0161     		str r1, [r0, # 0x10]
 203 0132 7E49     		ldr r1, = dianyabiao
 204 0134 4161     		str r1, [r0, # 0x14]
 205 0136 7E49     		ldr r1, = 912
 206 0138 C160     		str r1, [r0, # 0x0c]
 207 013a 7E49     		ldr r1, = 0x583 @  0x583 	@ 5a1
 208 013c 8160     		str r1, [r0, # 0x08]
 209              	
 210              	
 211              	tim1chushiha:				
 212 013e 7E4D     		ldr r5, = 0x40012c00 @ tim1_cr1
 213 0140 7E49     		ldr r1, = 0
 214 0142 A962     		str r1, [r5, # 0x28] @ psc
 215 0144 7E49     		ldr r1, = 1
 216 0146 E962     		str r1, [r5, # 0x2c] @ ARR
ARM GAS  1.s 			page 5


 217 0148 7E49     		ldr r1, = 0x38
 218 014a E961     		str r1, [r5, # 0x1c] @ ccmr2  CC3
 219 014c 7E49     		ldr r1, = 0x100    @  CC3
 220 014e 2962     		str r1, [r5, # 0x20] @ ccer
 221 0150 7E49     		ldr r1, = 0x8000
 222 0152 6964     		str r1, [r5, # 0x44] @ BDTR
 223 0154 7A49     		ldr r1, = 1
 224 0156 E963     		str r1, [r5, # 0x3c]
 225 0158 E124     		movs r4, # 0xe1
 226              	tim3chushihua:				
 227 015a 7D48     		ldr r0, = 0x40000400 @ tim3_cr1
 228 015c 7749     		ldr r1, = 0
 229 015e 8162     		str r1, [r0, # 0x28] @ psc
 230 0160 7C49     		ldr r1, = 2799
 231 0162 C162     		str r1, [r0, # 0x2c] @ ARR
 232 0164 7C49     		ldr r1, =  0x3800 @ 0x3800
 233 0166 C161     		str r1, [r0, # 0x1c] @ ccmr2
 234 0168 6349     		ldr r1, =  0x1000
 235 016a 0162     		str r1, [r0, # 0x20] @ ccer
 236 016c 7949     		ldr r1, = 2799
 237 016e 0164     		str r1, [r0, # 0x40] @ ccr4
 238 0170 7021     		movs r1, # 0x70
 239 0172 4160     		str r1, [r0, # 0x04]
 240              		@movs r1, # 0x01
 241              		@str r1, [r0, # 0x0c]
 242 0174 E121     		movs r1, # 0xe1
 243 0176 0160     		str r1, [r0]
 244 0178 2C60     		str r4, [r5]
 245              	@_systick:				@ systick定时器初始化
 246              	@
 247              	@	ldr r0, = 0xe000e010
 248              	@	ldr r1, = 4800000
 249              	@	str r1, [r0, # 4]
 250              	@	str r1, [r0, # 8]
 251              	@	movs r1, # 0x07
 252              	@	str r1, [r0]
 253              	io_she_zhi:
 254              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 255              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 256              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 257              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 258              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 259              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 260              		@偏移0x10 = 输入数据寄存器
 261              		@偏移0x14 = 输出数据寄存器
 262              		@偏移0x18 = 端口开  0-15置位
 263              		@偏移0x28 = 端口关
 264              		@0X20 = 复用低
 265              		@GPIO口0（0-3位）每个IO口占用4位
 266              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 267              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 268              		@0x24 = 复用高
 269              		@GPIO口8 （0-3位）每个IO口占用4位
 270              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 271              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 272              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 273              	
ARM GAS  1.s 			page 6


 274 017a 7848     		ldr r0, = 0x48000000
 275 017c 7849     		ldr r1, = 0x28203d5f
 276 017e 0160     		str r1, [r0]
 277 0180 6249     		ldr r1, = 0x200
 278 0182 4162     		str r1, [r0, # 0x24]
 279 0184 7749     		ldr r1, = 0x4000
 280 0186 C160     		str r1, [r0, # 0x0c]
 281 0188 7748     		ldr r0, = 0x48000400
 282 018a 0421     		movs r1, # 0x04
 283 018c C160     		str r1, [r0, # 0x0c]
 284              		
 285              	ting:
 286 018e 7748     		ldr r0, = jishu
 287 0190 7749     		ldr r1, = 0x50
 288 0192 0268     		ldr r2, [r0]
 289 0194 0132     		adds r2, r2, # 1
 290 0196 0260     		str r2, [r0]
 291 0198 8A42     		cmp r2, r1
 292 019a 03D1     		bne __xianshi
 293 019c 0022     		movs r2, # 0
 294 019e 0260     		str r2, [r0]
 295 01a0 00F032F8 		bl __kai_dma
 296              	__xianshi:
 297 01a4 00F027F8 		bl __an_jian
 298 01a8 0128     		cmp r0, # 1
 299 01aa 03D1     		bne __pan_duan_an_jian
 300 01ac 7148     		ldr r0, = zukangqiehuan
 301 01ae 0021     		movs r1, # 0
 302 01b0 0160     		str r1, [r0]
 303 01b2 04E0     		b __xian_shi_zu_kang
 304              	__pan_duan_an_jian:
 305 01b4 0228     		cmp r0, # 2
 306 01b6 02D1     		bne __xian_shi_zu_kang
 307 01b8 6E48     		ldr r0, = zukangqiehuan
 308 01ba 0121     		movs r1, # 1
 309 01bc 0160     		str r1, [r0]
 310              	__xian_shi_zu_kang:
 311 01be 6D48     		ldr r0, = zukangqiehuan
 312 01c0 0068     		ldr r0, [r0]
 313 01c2 0128     		cmp r0, # 1
 314 01c4 01D1     		bne __xian_shi_dian_zu
 315              	__xian_shi_dian_kang:
 316 01c6 6C48     		ldr r0, = diankang
 317 01c8 00E0     		b __xian_shi
 318              	__xian_shi_dian_zu:
 319 01ca 6C48     		ldr r0, = dianzu
 320              	__xian_shi:
 321 01cc 0068     		ldr r0, [r0]
 322 01ce 0000     		movs r0, r0
 323 01d0 05D5     		bpl __shu_ma_guan_xian_shi
 324 01d2 C043     		mvns r0, r0
 325 01d4 0130     		adds r0, r0, # 1
 326 01d6 6A4B     		ldr r3, = fuhao
 327 01d8 0222     		movs r2, # 0x02
 328 01da 1A60     		str r2, [r3]
 329 01dc 02E0     		b __led_xian_shi
 330              	__shu_ma_guan_xian_shi:
ARM GAS  1.s 			page 7


 331 01de 684A     		ldr r2, = fuhao
 332 01e0 0023     		movs r3, # 0
 333 01e2 1360     		str r3, [r2]
 334              	__led_xian_shi:	
 335 01e4 0421     		movs r1, # 4
 336 01e6 434A     	        ldr r2, = shumaguanma
 337 01e8 0323     		movs r3, # 3		@小数点位置
 338 01ea 00F069F9 	        bl _zhuanshumaguanma
 339 01ee 0520     		movs r0, # 5
 340 01f0 00F07DF9 	        bl _xieshumaguan
 341 01f4 CBE7     		b ting
 342              	__an_jian:
 343 01f6 02B5     		push {r1,lr}
 344 01f8 6248     		ldr r0, = 0x48000010
 345 01fa 6349     		ldr r1, = 0x48000410
 346 01fc 0268     		ldr r2, [r0]
 347 01fe 0868     		ldr r0, [r1]
 348 0200 1206     		lsls r2, r2, # 24
 349 0202 D20F     		lsrs r2, r2, # 31
 350 0204 1043     		orrs r0, r0, r2
 351 0206 02BD     		pop {r1,pc}
 352              	__kai_dma:
 353 0208 07B5     		push {r0-r2,lr}
 354 020a 414A     		ldr r2, = 0x40012400
 355 020c 1121     		movs r1, # 0x11
 356 020e 9160     		str r1, [r2, # 0x08]
 357              	__deng_adc_wan:
 358 0210 9168     		ldr r1, [r2, # 0x08]
 359 0212 0129     		cmp r1, # 1
 360 0214 FCD1     		bne __deng_adc_wan
 361 0216 4348     		ldr r0, = 0x40020000
 362 0218 0021     		movs r1, # 0
 363 021a 8160     		str r1, [r0, # 0x08]
 364 021c 4449     		ldr r1, = 912
 365 021e C160     		str r1, [r0, # 0x0c]
 366 0220 4449     		ldr r1, = 0x583
 367 0222 8160     		str r1, [r0, # 0x08]
 368 0224 0521     		movs r1, # 0x05
 369 0226 9160     		str r1, [r2, # 0x08]
 370 0228 07BD     		pop {r0-r2,pc}
 371              	
 372              	__dft:
 373 022a FFB5     		push {r0-r7,lr}
 374 022c 4046     		mov r0, r8
 375 022e 4946     		mov r1, r9
 376 0230 5246     		mov r2, r10
 377 0232 5B46     		mov r3, r11
 378 0234 6446     		mov r4, r12
 379 0236 1FB4     		push {r0-r4}
 380 0238 3C48     	        ldr r0, = dianyabiao
 381 023a 0838     	        subs r0, r0, # 0x08
 382              	__zhao_shang_sheng2:
 383 023c 0830     	        adds r0, r0, # 0x08
 384 023e 8288     	        ldrh r2, [r0, # 0x04]
 385 0240 002A     	        cmp r2, # 0
 386 0242 FBD1     	        bne __zhao_shang_sheng2
 387 0244 8389     	        ldrh r3, [r0, # 0x0c]
ARM GAS  1.s 			page 8


 388 0246 D21A     	        subs r2, r2, r3
 389 0248 F8D5     		bpl __zhao_shang_sheng2
 390 024a 5049     		ldr r1, = xuanzhuanyinzi
 391 024c 0122     		movs r2, # 1
 392 024e 9202     		lsls r2, r2, # 10
 393 0250 9046     		mov r8, r2
 394 0252 0023     		movs r3, # 0
 395 0254 9B46     		mov r11, r3	
 396 0256 9C46     		mov r12, r3
 397 0258 9A46     		mov r10, r3
 398 025a 9946     		mov r9, r3
 399              	__dft_xun_huan:
 400 025c C458     		ldr r4, [r0, r3]
 401 025e CA58     		ldr r2, [r1, r3]	@r
 402 0260 04B4     		push {r2}
 403 0262 0433     		adds r3, r3, # 4
 404 0264 C558     		ldr r5, [r0, r3]
 405 0266 CA58     		ldr r2, [r1, r3]
 406 0268 0433     		adds r3, r3, # 4
 407 026a 2646     		mov r6, r4
 408 026c 2F46     		mov r7, r5
 409 026e 2404     		lsls r4, r4, # 16
 410 0270 240C     		lsrs r4, r4, # 16
 411 0272 360C     		lsrs r6, r6, # 16
 412 0274 2D04     		lsls r5, r5, # 16
 413 0276 2D0C     		lsrs r5, r5, # 16
 414 0278 3F0C     		lsrs r7, r7, # 16
 415 027a A41B     		subs r4, r4, r6
 416 027c ED1B     		subs r5, r5, r7
 417 027e 2646     		mov r6, r4
 418 0280 2F46     		mov r7, r5
 419 0282 5443     		muls r4, r4, r2		@i
 420 0284 5543     		muls r5, r5, r2		@i
 421 0286 E413     		asrs r4, r4, # 15
 422 0288 ED13     		asrs r5, r5, # 15
 423 028a 4A46     		mov r2, r9
 424 028c 1219     		adds r2, r2, r4
 425 028e 9146     		mov r9, r2
 426 0290 5246     		mov r2, r10
 427 0292 5219     		adds r2, r2, r5
 428 0294 9246     		mov r10, r2
 429 0296 04BC     		pop {r2}
 430 0298 5643     		muls r6, r6, r2		@r
 431 029a 5743     		muls r7, r7, r2		@r
 432 029c F613     		asrs r6, r6, # 15
 433 029e FF13     		asrs r7, r7, # 15
 434 02a0 5A46     		mov r2, r11		@r
 435 02a2 9219     		adds r2, r2, r6
 436 02a4 9346     		mov r11, r2
 437 02a6 6246     		mov r2, r12
 438 02a8 D219     		adds r2, r2, r7
 439 02aa 9446     		mov r12, r2
 440 02ac 4345     		cmp r3, r8
 441 02ae D5D1     		bne __dft_xun_huan
 442 02b0 3748     		ldr r0, = fan_she_shi_bu
 443 02b2 3849     		ldr r1, = fan_she_xu_bu
 444 02b4 4A46     		mov r2, r9
ARM GAS  1.s 			page 9


 445 02b6 5346     		mov r3, r10
 446 02b8 5C46     		mov r4, r11
 447 02ba 6546     		mov r5, r12
 448 02bc 9211     		asrs r2, r2, # 6
 449 02be 9B11     		asrs r3, r3, # 6
 450 02c0 A411     		asrs r4, r4, # 6
 451 02c2 AD11     		asrs r5, r5, # 6
 452 02c4 0260     		str r2, [r0]		@r
 453 02c6 4360     		str r3, [r0, # 0x04]	@r
 454 02c8 0C60     		str r4, [r1]		@i
 455 02ca 4D60     		str r5, [r1, # 0x04]	@i
 456 02cc 1FBC     		pop {r0-r4}
 457 02ce 8046     		mov r8, r0
 458 02d0 8946     		mov r9, r1
 459 02d2 9246     		mov r10, r2
 460 02d4 9B46     		mov r11, r3
 461 02d6 A446     		mov r12, r4
 462 02d8 FFBD     		pop {r0-r7,pc}
 463 02da 00000020 		.ltorg
 463      02400010 
 463      02400100 
 463      01000200 
 463      15000000 
 464              	__zu_kang_ji_suan:
 465 0398 F0B5     		push {r4-r7,lr}
 466              		@入口R0=反射实部 R1=反射虚部,R2=入射实部 R3=入射虚部
 467              		@出口R1=电抗 R2=电阻
 468              	__ji_suan_zu_kang:
 469              		@ Z=50*[(a+bi)/(c+di)]=50*[(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)]
 470 039a 0446     		mov r4, r0
 471 039c 0D46     		mov r5, r1
 472 039e 1646     		mov r6, r2
 473 03a0 1F46     		mov r7, r3
 474 03a2 5043     		muls r0, r0, r2		@ac
 475 03a4 5943     		muls r1, r1, r3		@bd
 476 03a6 4018     		adds r0, r0, r1		@ac+bd
 477 03a8 5243     		muls r2, r2, r2		@c*c
 478 03aa 5B43     		muls r3, r3, r3		@d*d
 479 03ac D218     		adds r2, r2, r3		@c*c+d*d
 480 03ae B349     		ldr r1, = 1000
 481 03b0 0023     		movs r3, # 0
 482 03b2 0000     		movs r0, r0
 483 03b4 02D5     		bpl a1
 484 03b6 C043     		mvns r0, r0
 485 03b8 0130     		adds r0, r0, # 1
 486 03ba 0133     		adds r3, r3, # 1
 487              	a1:
 488 03bc 1200     		movs r2, r2
 489 03be 02D5     		bpl a2
 490 03c0 D243     		mvns r2, r2
 491 03c2 0132     		adds r2, r2, # 1
 492 03c4 0133     		adds r3, r3, # 1
 493              	a2:
 494 03c6 00F044F8 		bl __chengfa
 495 03ca 00F01EF8 		bl __chufa64		@(ac+bd)/(c*c+d*d)
 496 03ce 012B     		cmp r3, # 1
 497 03d0 01D1     		bne a3
ARM GAS  1.s 			page 10


 498 03d2 C943     		mvns r1, r1
 499 03d4 0131     		adds r1, r1, # 1
 500              	a3:	
 501 03d6 02B4     		push {r1}
 502 03d8 7543     		muls r5, r5, r6		@ bc
 503 03da 7C43     		muls r4, r4, r7		@ ad
 504 03dc 2D1B     		subs r5, r5, r4		@ bc-ad
 505 03de A749     		ldr r1, = 1000
 506 03e0 0023     		movs r3, # 0
 507 03e2 2800     		movs r0, r5
 508 03e4 02D5     		bpl a4
 509 03e6 C043     		mvns r0, r0
 510 03e8 0130     		adds r0, r0, # 1
 511 03ea 0133     		adds r3, r3, # 1
 512              	a4:
 513 03ec 1200     		movs r2, r2
 514 03ee 02D5     		bpl a5
 515 03f0 D243     		mvns r2, r2
 516 03f2 0132     		adds r2, r2, # 1
 517 03f4 0133     		adds r3, r3, # 1
 518              	a5:
 519 03f6 00F02CF8 		bl __chengfa
 520 03fa 00F006F8 		bl __chufa64
 521 03fe 012B     		cmp r3, # 1
 522 0400 01D1     		bne __a6
 523 0402 C943     		mvns r1, r1
 524 0404 0131     		adds r1, r1, # 1	@虚部
 525              	__a6:	
 526 0406 04BC     		pop {r2}		@实
 527 0408 F0BD     		pop {r4-r7,pc}	
 528              		
 529              	__chufa64:
 530              	        @64位除32位
 531              	        @ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 532 040a F8B5     	        push {r3-r7,lr}
 533 040c 002A     	        cmp r2, # 0
 534 040e 1DD0     	        beq __chu_fa64_fan_hui0
 535 0410 0029     	        cmp r1, # 0
 536 0412 01D1     	        bne __chu_fa64_ji_suan
 537 0414 0028     	        cmp r0, # 0
 538 0416 19D0     	        beq __chu_fa64_fan_hui0
 539              	__chu_fa64_ji_suan:	
 540 0418 0024     	        movs r4, # 0
 541 041a 2746     	        mov r7, r4
 542 041c 2346     	        mov r3, r4
 543 041e 2546     	        mov r5, r4
 544 0420 0126     	        movs r6, # 1
 545 0422 F607     	        lsls r6, r6, # 31
 546              	__chu_fa64_xun_huan:
 547 0424 4900     	        lsls r1, r1, # 1
 548 0426 4041     	        adcs r0, r0, r0
 549 0428 6441     	        adcs r4, r4, r4
 550 042a 9442     	        cmp r4, r2
 551 042c 02D3     	        bcc __chu_fa_yi_wei
 552 042e 9B19     	        adds r3, r3, r6
 553 0430 7D41     	        adcs r5, r5, r7
 554 0432 A41A     	        subs r4, r4, r2
ARM GAS  1.s 			page 11


 555              	__chu_fa_yi_wei:
 556 0434 3600     	        movs r6, r6
 557 0436 04D0     	        beq __di_yi_wei
 558 0438 7608     	        lsrs r6, r6, # 1        @高32位移位
 559 043a F3D1     	        bne __chu_fa64_xun_huan
 560 043c 0127     	        movs r7, # 1
 561 043e FF07     	        lsls r7, r7, # 31
 562 0440 F0E7     	        b __chu_fa64_xun_huan
 563              	__di_yi_wei:            @低32位移位
 564 0442 7F08     		lsrs r7, r7, # 1
 565 0444 EED1     	        bne __chu_fa64_xun_huan
 566 0446 1846     	        mov r0, r3
 567 0448 2946     	        mov r1, r5
 568 044a F8BD     	        pop {r3-r7,pc}
 569              	__chu_fa64_fan_hui0:
 570 044c 0020     		movs r0, # 0
 571 044e 0021     		movs r1, # 0
 572 0450 F8BD     		pop {r3-r7,pc}
 573              	__chengfa:
 574              	        @入R0 乘以 R1
 575              	        @出 R0高32 ， R1低32
 576              		@0xffffffff*0xffffffff
 577              	        @4        F F F E 0 0 0 1
 578              	        @3                F F F E 0 0 0 1
 579              	        @2                F F F E 0 0 0 1
 580              	        @1                        F F F E 0 0 0 1
 581              	        @         F F F F F F F E 0 0 0 0 0 0 0 1
 582 0452 FCB5     		push {r2-r7,lr}
 583 0454 0028     	        cmp r0, # 0
 584 0456 1CD0     	        beq __cheng_fa_fan_hui
 585 0458 0029     	        cmp r1, # 0
 586 045a 1AD0     	        beq __cheng_fa_fan_hui
 587              	__ji_suan_cheng_fa:	
 588 045c 0246     		mov r2, r0
 589 045e 0B46     		mov r3, r1
 590 0460 000C     		lsrs r0, r0, # 16	@高16
 591 0462 1204     		lsls r2, r2, # 16	@ 低16
 592 0464 120C     		lsrs r2, r2, # 16
 593 0466 090C     	        lsrs r1, r1, # 16	@高16
 594 0468 1B04     		lsls r3, r3, # 16	@低16
 595 046a 1B0C     		lsrs r3, r3, # 16
 596 046c 1446     		mov r4, r2		
 597 046e 0546     		mov r5, r0		
 598 0470 5A43     		muls r2, r2, r3		@1
 599 0472 5843     		muls r0, r0, r3		@2
 600 0474 4C43     		muls r4, r4, r1		@3
 601 0476 4D43     		muls r5, r5, r1		@4
 602 0478 0646     		mov r6, r0		@2
 603 047a 2746     		mov r7, r4		@3
 604 047c 0004     		lsls r0, r0, # 16	@2低
 605 047e 2404     		lsls r4, r4, # 16	@3低
 606 0480 360C     		lsrs r6, r6, # 16	@2高
 607 0482 3F0C     		lsrs r7, r7, # 16	@3高
 608 0484 1218     		adds r2, r2, r0
 609 0486 6241     		adcs r2, r2, r4
 610 0488 7541     		adcs r5, r5, r6
 611 048a 7D41     		adcs r5, r5, r7
ARM GAS  1.s 			page 12


 612 048c 2846     		mov r0, r5
 613 048e 1146     		mov r1, r2
 614 0490 FCBD     		pop {r2-r7,pc}
 615              	__cheng_fa_fan_hui:
 616 0492 0020     		movs r0, # 0
 617 0494 0021     		movs r1, # 0
 618 0496 FCBD     		pop {r2-r7,pc}
 619              	_lvboqi:
 620              				@滤波器
 621              				@R0=地址，R1=长度,r2=表指针地址,r3=ADC数值
 622              				@出R0=结果
 623 0498 FEB5     		push {r1-r7,lr}	
 624 049a 1568     		ldr r5, [r2]		@读出表指针
 625 049c 8E00     		lsls r6, r1, # 2	
 626 049e 4351     		str r3, [r0, r5]	@数值写到滤波器缓冲区
 627 04a0 0435     		adds r5, r5, # 4
 628 04a2 B542     		cmp r5, r6
 629 04a4 00D1     		bne _lvboqimeidaohuanchongquding
 630 04a6 0025     		movs r5, # 0
 631              	_lvboqimeidaohuanchongquding:
 632 04a8 1560     		str r5, [r2]
 633 04aa 0027     		movs r7, # 0
 634              	_lvboqixunhuan:
 635 04ac B542     		cmp r5, r6
 636 04ae 00D1     		bne _lvbozonghe
 637 04b0 0025     		movs r5, # 0
 638              	_lvbozonghe:
 639 04b2 4459     		ldr r4, [r0, r5]
 640 04b4 0435     		adds r5, r5, # 4
 641 04b6 3F19     		adds r7, r7, r4
 642 04b8 0139     		subs r1, r1, # 1
 643 04ba F7D1     		bne _lvboqixunhuan
 644 04bc F810     		asrs r0, r7, # 3	@修改
 645 04be FEBD     		pop {r1-r7,pc}
 646              	
 647              	_zhuanshumaguanma:@ 16进制转数码管码
 648              		@ R0要转的数据， R1长度，R2结果表首地址
 649              		@ r3 小数点位置
 650 04c0 F0B5     		push {r4-r7,lr}
 651 04c2 6F4F     		ldr r7, = shumaguanmabiao
 652 04c4 0546     		mov r5, r0
 653 04c6 0E46     		mov r6, r1
 654 04c8 0A21     		movs r1, # 10
 655 04ca 9846     		mov r8, r3
 656              	_xunhuanqiuma:
 657 04cc 00F044F8 		bl _chufa
 658 04d0 0446     		mov r4, r0
 659 04d2 4C43     		muls r4, r1
 660 04d4 2B1B     		subs r3, r5, r4
 661 04d6 9B00     		lsls r3, # 2
 662 04d8 FC58     		ldr r4, [r7, r3]
 663 04da 4645     		cmp r6, r8
 664 04dc 00D0     		beq __tian_jia_xiao_shu_dian
 665 04de 00E0     		b __bao_cun_shu_ma_guan_ma
 666              	__tian_jia_xiao_shu_dian:
 667 04e0 0134     		adds r4, r4, # 1
 668              	__bao_cun_shu_ma_guan_ma:	
ARM GAS  1.s 			page 13


 669 04e2 1460     		str r4, [r2]
 670 04e4 0546     		mov r5, r0
 671 04e6 0432     		adds r2, r2, # 4
 672 04e8 013E     		subs r6, # 1
 673 04ea EFD1     		bne _xunhuanqiuma
 674 04ec F0BD     		pop {r4-r7,pc}
 675              	_xieshumaguan: @ r0=位数 @数码管码
 676 04ee FEB5     		push {r1-r7,lr}
 677 04f0 8000     		lsls r0, r0, # 2
 678 04f2 0027     		movs r7, # 0
 679 04f4 0646     		mov r6, r0
 680 04f6 634D     		ldr r5, = shumaguanma
 681 04f8 634A     		ldr r2, = shumaguanshuaxinbiao
 682              	_shumaguanshuaxin:
 683 04fa EB59     		ldr r3, [r5, r7]
 684 04fc D459     		ldr r4, [r2, r7]
 685 04fe 1C43     		orrs r4, r4, r3
 686 0500 2046     		mov r0, r4
 687 0502 00F004F8 		bl _xie595
 688 0506 0437     		adds  r7, r7, # 4
 689 0508 B742     		cmp r7, r6
 690 050a F6D9     		bls _shumaguanshuaxin
 691 050c FEBD     		pop {r1-r7,pc}
 692              		
 693              	_xie595: @ R0=要写的数据
 694 050e FEB5     		push {r1-r7,lr}
 695 0510 0546     		mov r5, r0
 696 0512 0820     		movs r0, # 0x08      @pa6
 697 0514 1027     		movs r7, # 0x10      @pa7
 698 0516 0426     		movs r6, # 0x04      @pa5 
 699 0518 1023     		movs r3, # 16   @16位
 700 051a 5C4A     		ldr r2, = 0x48000000 @ gpioa
 701 051c 0121     		movs r1, # 0x01
 702              	_xunhuan595:
 703 051e 9761     		str r7, [r2, # 0x18]
 704 0520 00F014F8 		bl _yanshi
 705 0524 0D42     		tst r5, r1
 706 0526 01D1     		bne _xie595_0
 707 0528 9062     		str r0, [r2, # 0x28]
 708 052a 00E0     		b _suocun595
 709              	_xie595_0:
 710 052c 9061     		str r0, [r2, # 0x18]
 711              	_suocun595:
 712 052e 00F00DF8 		bl _yanshi
 713 0532 6D08     		lsrs r5, # 1
 714 0534 9762     		str r7, [r2, # 0x28]
 715 0536 00F009F8 		bl _yanshi
 716 053a 013B     		subs r3, r3, # 1
 717 053c EFD1     		bne _xunhuan595
 718 053e 9661     		str r6, [r2, # 0x18]
 719 0540 00F004F8 		bl _yanshi
 720 0544 9662     		str r6, [r2, # 0x28]
 721 0546 00F001F8 		bl _yanshi
 722 054a FEBD     		pop {r1-r7,pc}
 723              	
 724              	
 725              	_yanshi:
ARM GAS  1.s 			page 14


 726 054c 80B4     		push {r7}
 727 054e 504F     		ldr r7, = 30
 728              	_yanshi11:
 729 0550 013F     		subs r7, # 1
 730 0552 FDD1     		bne _yanshi11
 731 0554 80BC     		pop {r7}
 732 0556 7047     		bx lr
 733              	
 734              	_chufa:				@软件除法
 735              		@ r0 除以 r1 等于 商(r0)余数R1
 736 0558 1EB5     		push {r1-r4,lr}
 737 055a 0028     		cmp r0, # 0
 738 055c 0ED0     		beq _chufafanhui
 739 055e 0029     		cmp r1, # 0
 740 0560 0CD0     		beq _chufafanhui
 741 0562 0246     		mov r2, r0
 742 0564 0123     		movs r3, # 1
 743 0566 DB07     		lsls r3, r3, # 31
 744 0568 0020     		movs r0, # 0
 745 056a 0446     		mov r4, r0
 746              	_chufaxunhuan:
 747 056c 5200     		lsls r2, r2, # 1
 748 056e 6441     		adcs r4, r4, r4
 749 0570 8C42     		cmp r4, r1
 750 0572 01D3     		bcc _chufaweishubudao0
 751 0574 C018     		adds r0, r0, r3
 752 0576 641A     		subs r4, r4, r1
 753              	_chufaweishubudao0:
 754 0578 5B08     		lsrs r3, r3, # 1
 755 057a F7D1     		bne _chufaxunhuan
 756              	_chufafanhui:
 757 057c 1EBD     		pop {r1-r4,pc}
 758              	__chu_fa:	@带符号
 759 057e FEB5     		push {r1-r7,lr}
 760 0580 0028     	        cmp r0, # 0
 761 0582 1DD0     	        beq _chufafanhui1
 762 0584 0029     	        cmp r1, # 0
 763 0586 1BD0     	        beq _chufafanhui1
 764 0588 0025     		movs r5, # 0
 765 058a 0000     		movs r0, r0
 766 058c 02D5     		bpl __pan_duan_bei_chu_shu
 767 058e 0135     		adds r5, r5, # 1
 768 0590 C043     		mvns r0, r0
 769 0592 0130     		adds r0, r0, # 1
 770              	__pan_duan_bei_chu_shu:
 771 0594 0900     		movs r1, r1
 772 0596 02D5     		bpl __ji_suan_chu_fa11
 773 0598 0135     		adds r5, r5, # 1
 774 059a C943     		mvns r1, r1
 775 059c 0131     		adds r1, r1, # 1
 776              	__ji_suan_chu_fa11:	
 777 059e 0246     	        mov r2, r0
 778 05a0 0123     	        movs r3, # 1
 779 05a2 DB07     	        lsls r3, r3, # 31
 780 05a4 0020     	        movs r0, # 0
 781 05a6 0446     	        mov r4, r0
 782              	_chufaxunhuan1:
ARM GAS  1.s 			page 15


 783 05a8 5200     	        lsls r2, r2, # 1
 784 05aa 6441     	        adcs r4, r4, r4
 785 05ac 8C42     	        cmp r4, r1
 786 05ae 01D3     		bcc _chufaweishubudao00
 787 05b0 C018     		adds r0, r0, r3
 788 05b2 641A     		subs r4, r4, r1
 789              	_chufaweishubudao00:
 790 05b4 5B08     		lsrs r3, r3, # 1
 791 05b6 F7D1     		bne _chufaxunhuan1
 792 05b8 012D     		cmp r5, # 1
 793 05ba 01D1     		bne _chufafanhui1
 794 05bc C043     		mvns r0, r0
 795 05be 0130     		adds r0, r0, # 1
 796              	_chufafanhui1:
 797 05c0 FEBD     		pop {r1-r7,pc}
 798              	__he_cheng_dian_ya_biao:
 799 05c2 3FB5     		push {r0-r5,lr}
 800 05c4 3348     	        ldr r0, = dianyabiao
 801 05c6 0838     		subs r0, r0, # 0x08
 802              	__zhao_shang_sheng:
 803 05c8 0830     		adds r0, r0, # 0x08
 804 05ca 8288     		ldrh r2, [r0, # 0x04]
 805 05cc 002A     		cmp r2, # 0
 806 05ce FBD1     		bne __zhao_shang_sheng
 807 05d0 8389     		ldrh r3, [r0, # 0x0c]
 808 05d2 D21A     		subs r2, r2, r3
 809 05d4 F8D5     		bpl __zhao_shang_sheng
 810 05d6 3049     		ldr r1, = dianyabiaozhizhen
 811 05d8 0860     		str r0, [r1]
 812 05da 3049     	        ldr r1, = 256
 813 05dc 8900     	        lsls r1, r1, # 2
 814 05de 0022     	        movs r2, # 0
 815              	__fu_zhi_xun_huan:
 816 05e0 8358     	        ldr r3, [r0, r2]
 817 05e2 1C46     	        mov r4, r3
 818 05e4 1B04     	        lsls r3, r3, # 16
 819 05e6 1B0C     	        lsrs r3, r3, # 16
 820 05e8 240C     	        lsrs r4, r4, # 16
 821 05ea 1B1B     		subs r3, r3, r4
 822 05ec 06D5     	        bpl __bao_cun
 823 05ee DB43     	        mvns r3, r3
 824 05f0 0133     	        adds r3, r3, # 1
 825 05f2 00F024F8 	        bl __zhuan_bcd
 826 05f6 2A4C     	        ldr r4, = 0x80000000
 827 05f8 2343     	        orrs r3, r3, r4
 828 05fa 01E0     	        b __fu_shu_bao_cun
 829              	__bao_cun:
 830 05fc 00F01FF8 		bl __zhuan_bcd
 831              	__fu_shu_bao_cun:
 832 0600 8350     	        str r3, [r0, r2]
 833 0602 0432     		adds r2, r2, # 4
 834 0604 8A42     		cmp r2, r1
 835 0606 EBD1     	        bne __fu_zhi_xun_huan
 836 0608 3FBD     		pop {r0-r5,pc}
 837              	__jian_bo:
 838 060a 3FB5     	       push {r0-r5,lr}
 839 060c 2148     	        ldr r0, = dianyabiao
ARM GAS  1.s 			page 16


 840 060e 0838     	        subs r0, r0, # 0x08
 841              	__zhao_shang_sheng1:
 842 0610 0830     	        adds r0, r0, # 0x08
 843 0612 8288     		ldrh r2, [r0, # 0x04]
 844 0614 002A     		cmp r2, # 0
 845 0616 FBD1     	        bne __zhao_shang_sheng1
 846 0618 8389     		ldrh r3, [r0, # 0x0c]
 847 061a D21A     	        subs r2, r2, r3
 848 061c F8D5     	        bpl __zhao_shang_sheng1
 849 061e 1E49     	        ldr r1, = dianyabiaozhizhen
 850 0620 0860     	        str r0, [r1]
 851 0622 1E49     	        ldr r1, = 256
 852 0624 8900     	        lsls r1, r1, # 2
 853 0626 0022     	        movs r2, # 0
 854              	__fu_zhi_xun_huan1:
 855 0628 8358     	        ldr r3, [r0, r2]
 856 062a 1C46     	        mov r4, r3
 857 062c 1B04     	        lsls r3, r3, # 16
 858 062e 1B0C     	        lsrs r3, r3, # 16
 859 0630 240C     	        lsrs r4, r4, # 16
 860 0632 1B1B     	        subs r3, r3, r4
 861 0634 8350     	        str r3, [r0, r2]
 862 0636 0432     		adds r2, r2, # 4
 863 0638 8A42     		cmp r2, r1
 864 063a F5D1     	        bne __fu_zhi_xun_huan1
 865 063c 3FBD     		pop {r0-r5,pc}
 866              	
 867              	__zhuan_bcd:
 868 063e F7B5     		push {r0-r2,r4-r7,lr}
 869 0640 0A21     		movs r1, # 10
 870 0642 1846     		mov r0, r3
 871 0644 1D46     		mov r5, r3
 872 0646 0826     		movs r6, # 8
 873              	__bcd_xun_huan:
 874 0648 FFF786FF 		bl _chufa
 875 064c 0446     		mov r4, r0
 876 064e 4C43     		muls r4, r4, r1
 877 0650 2D1B     		subs r5, r5, r4
 878 0652 20B4     		push {r5}
 879 0654 0546     		mov r5, r0
 880 0656 013E     		subs r6, r6, # 1
 881 0658 F6D1     		bne __bcd_xun_huan
 882 065a FFBC     		pop {r0-r7}
 883 065c 3601     		lsls r6, r6, # 4
 884 065e 2D02     		lsls r5, r5, # 8
 885 0660 2403     		lsls r4, r4, # 12
 886 0662 1B04     		lsls r3, r3, # 16
 887 0664 1205     		lsls r2, r2, # 20
 888 0666 0906     		lsls r1, r1, # 24
 889 0668 0007     		lsls r0, r0, # 28
 890 066a 0343     		orrs r3, r3, r0
 891 066c 0B43     		orrs r3, r3, r1
 892 066e 1343     		orrs r3, r3, r2
 893 0670 2343     		orrs r3, r3, r4
 894 0672 2B43     		orrs r3, r3, r5
 895 0674 3343     		orrs r3, r3, r6
 896 0676 3B43     		orrs r3, r3, r7
ARM GAS  1.s 			page 17


 897 0678 F7BD     		pop {r0-r2,r4-r7,pc}
 898 067a 0000E803 		.ltorg
 898      00000000 
 898      00000000 
 898      00202800 
 898      00000000 
 899              	_nmi_handler:
 900 06a4 7047     		bx lr
 901              	_hard_fault:
 902 06a6 7047     		bx lr
 903              	_svc_handler:
 904 06a8 7047     		bx lr
 905              	_pendsv_handler:
 906 06aa 7047     		bx lr
 907              	aaa:
 908 06ac 7047     		bx lr
 909              	_tim3:
 910 06ae 2548     		ldr r0, = jishu2
 911 06b0 0168     		ldr r1, [r0]
 912 06b2 0131     		adds r1, r1, #1
 913 06b4 0160     		str r1, [r0]
 914              	_tim3fanhui:
 915 06b6 2448     		ldr r0, = 0x40000400
 916 06b8 0021     		movs r1, # 0
 917 06ba 0161     		str r1, [r0, # 0x10]
 918 06bc 7047     		bx lr
 919              	_systickzhongduan:
 920 06be 2348     		ldr r0, = 0x40020000
 921 06c0 2349     	        ldr r1, =  86
 922 06c2 C160     	        str r1, [r0, # 0x0c]
 923 06c4 2349     	        ldr r1, = 0xa83 @ 0xaa3 @ 5a1
 924 06c6 8160     	        str r1, [r0, # 0x08]
 925              	
 926              		
 927 06c8 2348     		ldr r0, = 0xe0000d04
 928 06ca 2449     		ldr r1, = 0x02000000
 929 06cc 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 930 06ce 7047     		bx lr
 931              	__dma_wan:
 932 06d0 FFB5     		push {r0-r7,lr}
 933 06d2 FFF7AAFD 		bl __dft
 934 06d6 2248     		ldr r0, = fan_she_shi_bu
 935 06d8 2249     		ldr r1, = fan_she_xu_bu
 936 06da 234A     		ldr r2, = ru_she_shi_bu
 937 06dc 234B     		ldr r3, = ru_she_xu_bu
 938 06de 0068     		ldr r0, [r0]
 939 06e0 0968     		ldr r1, [r1]
 940 06e2 1268     		ldr r2, [r2]
 941 06e4 1B68     		ldr r3, [r3]
 942 06e6 FFF757FE 		bl __zu_kang_ji_suan
 943 06ea 2148     		ldr r0, = p_shibu
 944 06ec 214B     		ldr r3, = p_xubu
 945 06ee 0260     		str r2, [r0]
 946 06f0 1960     		str r1, [r3]
 947              		
 948 06f2 1400     		movs r4, r2
 949 06f4 0D00     		movs r5, r1
ARM GAS  1.s 			page 18


 950 06f6 2048     		ldr r0, = 1000
 951 06f8 0021     		movs r1, # 0
 952 06fa 0246     		mov r2, r0
 953 06fc 0023     		movs r3, # 0
 954              	
 955 06fe 0019     		adds r0, r0, r4
 956 0700 4919     		adds r1, r1, r5
 957 0702 121B     		subs r2, r2, r4
 958 0704 5B1B     		subs r3, r3, r5
 959 0706 FFF747FE 		bl __zu_kang_ji_suan
 960 070a 1C4B     		ldr r3, = 0x4000
 961 070c 5943     		muls r1, r1, r3
 962 070e 5343     		muls r3, r3, r2
 963 0710 C913     		asrs r1, r1, # 15
 964 0712 DB13     		asrs r3, r3, # 15
 965 0714 0D46     		mov r5, r1
 966 0716 1A48     		ldr r0, = lvboqihuanchong
 967 0718 1A49     		ldr r1, = 8
 968 071a 1B4A     		ldr r2, = lvboqizhizhen
 969 071c FFF7BCFE 		bl _lvboqi
 970 0720 1A4A     		ldr r2, = dianzu
 971 0722 1060     		str r0, [r2]
 972 0724 2B46     		mov r3, r5
 973 0726 1A48     	        ldr r0, = lvboqihuanchong1
 974 0728 1649     	        ldr r1, = 8
 975 072a 1A4A     	        ldr r2, = lvboqizhizhen1
 976 072c FFF7B4FE 	        bl _lvboqi
 977 0730 194A     	        ldr r2, = diankang
 978 0732 1060     	        str r0, [r2]
 979              	
 980 0734 0548     		ldr r0, = 0x40020000
 981 0736 0222     	        movs r2, # 2
 982 0738 4260     		str r2, [r0, # 0x04]
 983 073a 1848     		ldr r0, = dianyabiaoman
 984 073c 0121     		movs r1, # 1
 985 073e 0160     		str r1, [r0]
 986              	__dma_fan_hui:
 987 0740 FFBD0000 		pop {r0-r7,pc}
 987      F8000020 
 987      00040040 
 987      00000240 
 987      56000000 
ARM GAS  1.s 			page 19


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 $d
                 1.s:10     .data:0000000000000000 shumaguanmabiao
                 1.s:12     .data:0000000000000028 shumaguanshuaxinbiao
                 1.s:14     .data:000000000000004c xuanzhuanyinzi
                 1.s:16     .data:000000000000044c yjmwxwx
                 1.s:17     *ABS*:0000000020001000 STACKINIT
                 1.s:18     *ABS*:0000000020000000 shumaguanma
                 1.s:19     *ABS*:0000000020000010 fuhao
                 1.s:20     *ABS*:00000000200000f4 dmawan
                 1.s:21     *ABS*:00000000200000f8 jishu2
                 1.s:22     *ABS*:00000000200000fc jishu
                 1.s:23     *ABS*:0000000020000120 fan_she_shi_bu
                 1.s:24     *ABS*:0000000020000124 ru_she_shi_bu
                 1.s:25     *ABS*:0000000020000128 fan_she_xu_bu
                 1.s:26     *ABS*:000000002000012c ru_she_xu_bu
                 1.s:27     *ABS*:0000000020000130 p_shibu
                 1.s:28     *ABS*:0000000020000134 p_xubu
                 1.s:29     *ABS*:0000000020000138 swrshibu
                 1.s:30     *ABS*:000000002000013c swrxubu
                 1.s:31     *ABS*:0000000020000140 dianzu
                 1.s:32     *ABS*:0000000020000144 diankang
                 1.s:33     *ABS*:0000000020000148 zukangqiehuan
                 1.s:34     *ABS*:0000000020000a00 lvboqizhizhen
                 1.s:35     *ABS*:0000000020000a04 lvboqihuanchong
                 1.s:36     *ABS*:0000000020000a30 lvboqizhizhen1
                 1.s:37     *ABS*:0000000020000a34 lvboqihuanchong1
                 1.s:38     *ABS*:00000000200001f8 dianyabiaozhizhen
                 1.s:39     *ABS*:00000000200001fc dianyabiaoman
                 1.s:40     *ABS*:0000000020000200 dianyabiao
                 1.s:42     .text:0000000000000000 vectors
                 1.s:89     .text:00000000000000b0 _start
                 1.s:899    .text:00000000000006a4 _nmi_handler
                 1.s:901    .text:00000000000006a6 _hard_fault
                 1.s:903    .text:00000000000006a8 _svc_handler
                 1.s:905    .text:00000000000006aa _pendsv_handler
                 1.s:919    .text:00000000000006be _systickzhongduan
                 1.s:907    .text:00000000000006ac aaa
                 1.s:931    .text:00000000000006d0 __dma_wan
                 1.s:909    .text:00000000000006ae _tim3
                            .text:0000000000000000 $d
                 1.s:87     .text:00000000000000b0 $t
                 1.s:90     .text:00000000000000b0 shizhong
                 1.s:97     .text:00000000000000bc denghse
                 1.s:101    .text:00000000000000c2 dengpllguan
                 1.s:113    .text:00000000000000d6 dengpll
                 1.s:121    .text:00000000000000e0 neicunqingling
                 1.s:125    .text:00000000000000e6 neicunqinglingxunhuan
                 1.s:130    .text:00000000000000ec _waisheshizhong
                 1.s:147    .text:00000000000000fa _waishezhongduan
                 1.s:158    .text:0000000000000100 _adcchushihua
                 1.s:162    .text:0000000000000106 _dengadcjiaozhun
                 1.s:166    .text:000000000000010c _kaiadc
                 1.s:171    .text:0000000000000114 _dengdaiadcwending
                 1.s:175    .text:0000000000000114 _tongdaoxuanze
                 1.s:189    .text:000000000000012c dmachushihua
                 1.s:211    .text:000000000000013e tim1chushiha
ARM GAS  1.s 			page 20


                 1.s:226    .text:000000000000015a tim3chushihua
                 1.s:253    .text:000000000000017a io_she_zhi
                 1.s:285    .text:000000000000018e ting
                 1.s:296    .text:00000000000001a4 __xianshi
                 1.s:352    .text:0000000000000208 __kai_dma
                 1.s:342    .text:00000000000001f6 __an_jian
                 1.s:304    .text:00000000000001b4 __pan_duan_an_jian
                 1.s:310    .text:00000000000001be __xian_shi_zu_kang
                 1.s:318    .text:00000000000001ca __xian_shi_dian_zu
                 1.s:315    .text:00000000000001c6 __xian_shi_dian_kang
                 1.s:320    .text:00000000000001cc __xian_shi
                 1.s:330    .text:00000000000001de __shu_ma_guan_xian_shi
                 1.s:334    .text:00000000000001e4 __led_xian_shi
                 1.s:647    .text:00000000000004c0 _zhuanshumaguanma
                 1.s:675    .text:00000000000004ee _xieshumaguan
                 1.s:357    .text:0000000000000210 __deng_adc_wan
                 1.s:372    .text:000000000000022a __dft
                 1.s:382    .text:000000000000023c __zhao_shang_sheng2
                 1.s:399    .text:000000000000025c __dft_xun_huan
                 1.s:463    .text:00000000000002da $d
                 1.s:463    .text:00000000000002dc $d
                 1.s:464    .text:0000000000000398 __zu_kang_ji_suan
                 1.s:465    .text:0000000000000398 $t
                 1.s:468    .text:000000000000039a __ji_suan_zu_kang
                 1.s:487    .text:00000000000003bc a1
                 1.s:493    .text:00000000000003c6 a2
                 1.s:573    .text:0000000000000452 __chengfa
                 1.s:529    .text:000000000000040a __chufa64
                 1.s:500    .text:00000000000003d6 a3
                 1.s:512    .text:00000000000003ec a4
                 1.s:518    .text:00000000000003f6 a5
                 1.s:525    .text:0000000000000406 __a6
                 1.s:569    .text:000000000000044c __chu_fa64_fan_hui0
                 1.s:539    .text:0000000000000418 __chu_fa64_ji_suan
                 1.s:546    .text:0000000000000424 __chu_fa64_xun_huan
                 1.s:555    .text:0000000000000434 __chu_fa_yi_wei
                 1.s:563    .text:0000000000000442 __di_yi_wei
                 1.s:615    .text:0000000000000492 __cheng_fa_fan_hui
                 1.s:587    .text:000000000000045c __ji_suan_cheng_fa
                 1.s:619    .text:0000000000000498 _lvboqi
                 1.s:631    .text:00000000000004a8 _lvboqimeidaohuanchongquding
                 1.s:634    .text:00000000000004ac _lvboqixunhuan
                 1.s:638    .text:00000000000004b2 _lvbozonghe
                 1.s:656    .text:00000000000004cc _xunhuanqiuma
                 1.s:734    .text:0000000000000558 _chufa
                 1.s:666    .text:00000000000004e0 __tian_jia_xiao_shu_dian
                 1.s:668    .text:00000000000004e2 __bao_cun_shu_ma_guan_ma
                 1.s:682    .text:00000000000004fa _shumaguanshuaxin
                 1.s:693    .text:000000000000050e _xie595
                 1.s:702    .text:000000000000051e _xunhuan595
                 1.s:725    .text:000000000000054c _yanshi
                 1.s:709    .text:000000000000052c _xie595_0
                 1.s:711    .text:000000000000052e _suocun595
                 1.s:728    .text:0000000000000550 _yanshi11
                 1.s:756    .text:000000000000057c _chufafanhui
                 1.s:746    .text:000000000000056c _chufaxunhuan
                 1.s:753    .text:0000000000000578 _chufaweishubudao0
ARM GAS  1.s 			page 21


                 1.s:758    .text:000000000000057e __chu_fa
                 1.s:796    .text:00000000000005c0 _chufafanhui1
                 1.s:770    .text:0000000000000594 __pan_duan_bei_chu_shu
                 1.s:776    .text:000000000000059e __ji_suan_chu_fa11
                 1.s:782    .text:00000000000005a8 _chufaxunhuan1
                 1.s:789    .text:00000000000005b4 _chufaweishubudao00
                 1.s:798    .text:00000000000005c2 __he_cheng_dian_ya_biao
                 1.s:802    .text:00000000000005c8 __zhao_shang_sheng
                 1.s:815    .text:00000000000005e0 __fu_zhi_xun_huan
                 1.s:829    .text:00000000000005fc __bao_cun
                 1.s:867    .text:000000000000063e __zhuan_bcd
                 1.s:831    .text:0000000000000600 __fu_shu_bao_cun
                 1.s:837    .text:000000000000060a __jian_bo
                 1.s:841    .text:0000000000000610 __zhao_shang_sheng1
                 1.s:854    .text:0000000000000628 __fu_zhi_xun_huan1
                 1.s:873    .text:0000000000000648 __bcd_xun_huan
                 1.s:898    .text:000000000000067a $d
                 1.s:898    .text:000000000000067c $d
                 1.s:900    .text:00000000000006a4 $t
                 1.s:914    .text:00000000000006b6 _tim3fanhui
                 1.s:986    .text:0000000000000740 __dma_fan_hui
                 1.s:987    .text:0000000000000742 $d
                 1.s:987    .text:0000000000000744 $d

NO UNDEFINED SYMBOLS
