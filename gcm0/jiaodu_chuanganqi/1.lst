ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@旋转变压器解码
   3              		@作者：yjmwxwx
   4              		@时间：2021-02-23
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              	yjmwxwx:
  10 0000 796A6D77 		.ascii "yjmwxwx-20210223"
  10      7877782D 
  10      32303231 
  10      30323233 
  11              		.align 4
  12              	zheng_xian_biao:
  13 0010 1C001D00 		.short 28,29,31,33,34,36,38,39,41,42,44,45,46,48,49,50,51,52,52,53,54,54,55,55,55,55,55,55,55,54,5
  13      1F002100 
  13      22002400 
  13      26002700 
  13      29002A00 
  14 00da 00000000 		.align 4
  14      0000
  15              	cordic_yong_cos_sin:
  16 00e0 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
  16      00400000 
  16      412D0000 
  16      412D0000 
  16      203B0000 
  17              	cordic_yong_atan_biao:
  18 0160 87640000 		.int 0x00006487,0x00003B58,0x00001F5B,0x00000FEA,0x000007FD,0x000003FF,0x000001FF,0x000000FF,0x000
  18      583B0000 
  18      5B1F0000 
  18      EA0F0000 
  18      FD070000 
  19              		.align 4
  20              		.equ STACKINIT,        	        0x20001000
  21              		.equ guoling_jishu,		0x200000a8
  22              		.equ jiaodu2,			0x200000ac
  23              		.equ zhuansu,			0x200000b0
  24              		.equ jishu,			0x200000b4
  25              		.equ cos,			0x200000b8
  26              		.equ sin,			0x200000bc
  27              		.equ cos1,			0x200000c0
  28              		.equ sin1,			0x200000c4
  29              		.equ jiaodu_cha,		0x200000c8
  30              		.equ jiaodu_1,			0x200000cc
  31              		.equ cos_jiaozheng,		0x200000e0
  32              		.equ sin_jiaozheng,		0x200000e4
  33              		.equ jiaodu_jiaozheng,		0x200000e8
  34              		.equ guoling,			0x200000ec
  35              		.equ jiaodu,			0x200000f0
  36              		.equ sin_zheng,			0x200000f4
  37              		.equ sin_fu,			0x200000f8
  38              		.equ liangcheng,		0x200000fc
  39              		.equ dianyabiao,		0x20000100
  40              		.equ lvboqizhizhen,		0x20000300
  41              		.equ lvboqihuanchong,		0x20000308
ARM GAS  1.s 			page 2


  42              		.equ lvboqizhizhen1,		0x20000900
  43              		.equ lvboqihuanchong1,		0x20000908
  44              		.equ lvboqizhizhen2,		0x20000a10
  45              		.equ lvboqihuanchong2,		0x20000a14
  46              		.section .text
  47              	vectors:
  48 0000 00100020 		.word STACKINIT
  49 0004 B1000000 		.word _start + 1
  50 0008 AF080000 		.word _nmi_handler + 1
  51 000c B1080000 		.word _hard_fault  + 1
  52 0010 00000000 		.word 0
  53 0014 00000000 		.word 0
  54 0018 00000000 		.word 0
  55 001c 00000000 		.word 0
  56 0020 00000000 		.word 0
  57 0024 00000000 		.word 0
  58 0028 00000000 		.word 0
  59 002c B3080000 		.word _svc_handler +1
  60 0030 00000000 		.word 0
  61 0034 00000000 		.word 0
  62 0038 B5080000 		.word _pendsv_handler +1
  63 003c B7080000 		.word _systickzhongduan +1           @ 15
  64 0040 D9080000 		.word aaa +1     @ _wwdg +1          @ 0
  65 0044 D9080000 		.word aaa +1     @_pvd +1            @ 1
  66 0048 D9080000 		.word aaa +1     @_rtc +1            @ 2
  67 004c D9080000 		.word aaa +1     @_flash +1          @ 3
  68 0050 D9080000 		.word aaa +1	@ _rcc + 1           @ 4
  69 0054 D9080000 		.word aaa +1      @_exti0_1  +1      @ 5
  70 0058 D9080000 		.word aaa +1      @ _exti2_3 +1      @ 6
  71 005c D9080000 		.word aaa +1       @_exti4_15 +1     @ 7
  72 0060 D9080000 		.word aaa +1                         @ 8
  73 0064 D9080000 		.word aaa +1	@__dma_wan  +1	     @ 9
  74 0068 D9080000 		.word aaa +1    @_dma1_2_3 +1        @ 10
  75 006c D9080000 		.word aaa +1       @_dma1_4_5 +1     @ 11
  76 0070 D9080000 		.word aaa +1	 @_adc1 +1           @ 12
  77 0074 D9080000 		.word aaa +1       @_tim1_brk_up +1  @ 13
  78 0078 D9080000 		.word aaa +1        @ _tim1_cc +1    @ 14
  79 007c D9080000 		.word aaa +1         @_tim2 +1       @ 15
  80 0080 D9080000 		.word aaa +1          @_tim3 +1      @ 16
  81 0084 D9080000 		.word aaa +1                         @ 17
  82 0088 D9080000 		.word aaa +1		             @ 18
  83 008c D9080000 		.word aaa +1	@_tim14 +1           @ 19
  84 0090 D9080000 		.word aaa +1                         @ 20
  85 0094 D9080000 		.word aaa +1         @_tim16 +1      @ 21
  86 0098 D9080000 		.word aaa +1         @_tim17 +1      @ 22
  87 009c D9080000 		.word aaa +1          @_i2c   +1     @ 23
  88 00a0 D9080000 		.word aaa +1                         @ 24
  89 00a4 D9080000 		.word aaa +1           @_spi   +1    @ 25
  90 00a8 D9080000 		.word aaa +1                         @ 26
  91 00ac D9080000 		.word aaa +1         @_usart1 +1     @ 27
  92              		.align 2
  93              	_start:
  94              	shizhong:
  95 00b0 824A     	        ldr r2, = 0x40022000   @FLASH访问控制
  96 00b2 3221     	        movs r1, # 0x32
  97 00b4 1160     	        str r1, [r2]           @FLASH缓冲 缓冲开启
  98 00b6 8248     	        ldr r0, = 0x40021000 @ rcc
ARM GAS  1.s 			page 3


  99 00b8 8249     		ldr r1, = 0x10001
 100 00ba 0160     	        str r1, [r0]
 101              	denghse:
 102 00bc 0168     	        ldr r1, [r0]
 103 00be 8903     	        lsls r1, r1, # 14
 104 00c0 FCD5     	        bpl denghse
 105              	dengpllguan:
 106 00c2 0168     	        ldr r1, [r0]
 107 00c4 8901     		lsls r1, r1, # 6
 108 00c6 FCD4     		bmi dengpllguan
 109 00c8 7F49     		ldr r1, = 0x150002	@0x150002
 110 00ca 0046     		mov r0, r0
 111 00cc 4160     		str r1, [r0, # 0x04]
 112 00ce 0046     		mov r0, r0
 113 00d0 7E49     		ldr r1, = 0x1010000
 114 00d2 0046     		mov r0, r0
 115 00d4 0160     		str r1, [r0]
 116              	
 117              	dengpll:
 118 00d6 0168     	        ldr r1, [r0]
 119 00d8 8901     		lsls r1, # 6
 120 00da FCD5     		bpl dengpll
 121              	
 122              	
 123 00dc 7C49     		ldr r1, = 100
 124 00de 0163     		str r1, [r0, # 0x30]
 125              		
 126              	_waisheshizhong:                         @ 外设时钟
 127              	        @+0x14=RCC_AHBENR
 128              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 129 00e0 7748     		ldr r0, = 0x40021000
 130 00e2 7C49     		ldr r1, = 0x60001
 131 00e4 4161     	        str r1, [r0, # 0x14]
 132              	
 133              	        @+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 134              	        @0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22
 135 00e6 7C49     	        ldr r1, = 0x1a00
 136 00e8 8161     		str r1, [r0, # 0x18]
 137              		@+0X1C=RCC_APB1ENR
 138              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 139              		@ 22=I2C2 @ 23=USB @ 28=PWR
 140 00ea 7C4A     	        ldr r2, = 0x902
 141 00ec C261     	        str r2, [r0, # 0x1c]
 142              	
 143              	_neicunqingling:
 144 00ee 7C48     		ldr r0, = 0x20000000
 145 00f0 0021     		movs r1, # 0
 146 00f2 7C4B     		ldr r3, = 0x1000
 147              	_neicunqinglingxunhuan:
 148 00f4 043B     		subs r3, # 4
 149 00f6 C150     		str r1, [r0, r3]
 150 00f8 FCD1     		bne _neicunqinglingxunhuan
 151              	
 152              	_waishezhongduan:				@外设中断
 153              		@0xE000E100    0-31  写1开，写0没效
 154              		@0XE000E180    0-31 写1关，写0没效
 155              		@0XE000E200    0-31 挂起，写0没效
ARM GAS  1.s 			page 4


 156              		@0XE000E280    0-31 清除， 写0没效
 157 00fa 7B48     		ldr r0, =  0xe000e100
 158 00fc 7B49     		ldr r1, = 0x200 @0x10200  @ 0x10000
 159 00fe 0160     		str r1, [r0]
 160              	@_kanmengou:
 161              	@	ldr r0, = 0x40003000
 162              	@	ldr r1, = 0x5555
 163              	@	str r1, [r0]
 164              	@	movs r1, # 7
 165              	@	str r1, [r0, # 4]
 166              	@	ldr r1, = 0xfff
 167              	@	str r1, [r0, # 8]
 168              	@	ldr r1, = 0xaaaa
 169              	@	str r1, [r0]
 170              	@	ldr r1, = 0xcccc
 171              	@	str r1, [r0]
 172              		
 173              	io_she_zhi:
 174              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 175              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 176              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 177              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 178              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 179              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 180              		@偏移0x10 = 输入数据寄存器
 181              		@偏移0x14 = 输出数据寄存器
 182              		@偏移0x18 = 端口开  0-15置位
 183              		@偏移0x28 = 端口关
 184              		@0X20 = 复用低
 185              		@GPIO口0（0-3位）每个IO口占用4位
 186              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 187              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 188              		@0x24 = 复用高
 189              		@GPIO口8 （0-3位）每个IO口占用4位
 190              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 191              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 192              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 193              	
 194 0100 7B48     		ldr r0, = 0x48000000
 195 0102 7C49     		ldr r1, = 0x282000af 
 196 0104 0160     		str r1, [r0]
 197 0106 7C49     		ldr r1, = 0x0c30ff00
 198 0108 8160     		str r1, [r0, # 0x08]
 199 010a 7849     		ldr r1, = 0x200
 200 010c 4162     		str r1, [r0, # 0x24]
 201              		
 202              		
 203 010e 7B48     		ldr r0, = 0x48000400
 204 0110 0821     		movs r1, # 0x08 @ pb1
 205 0112 0160     		str r1, [r0]
 206 0114 2021     		movs r1, # 0x20
 207 0116 0162     		str r1, [r0, # 0x20]
 208              	
 209              	spi_chushihua:
 210 0118 7948     		ldr r0, = 0x40013000
 211 011a 7A49     		ldr  r1, = 0x1708
 212 011c 4160     		str r1, [r0, # 0x04]
ARM GAS  1.s 			page 5


 213 011e 7A49     		ldr r1, = 0xc07c
 214 0120 0160     		str r1, [r0]
 215              		
 216              		
 217              	_adcchushihua:
 218 0122 7A48     		ldr r0, = 0x40012400  @ adc基地址
 219 0124 7A49     		ldr r1, = 0x80000000
 220 0126 8160     		str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 221              	_dengadcjiaozhun:
 222 0128 8168     		ldr r1, [r0, # 0x08]
 223 012a 0900     		movs r1, r1
 224 012c FCD4     		bmi _dengadcjiaozhun   @ 等ADC校准
 225 012e 0121     		movs r1, # 1
 226 0130 0160     		str r1, [r0]
 227              	_kaiadc:
 228 0132 8168     		ldr r1, [r0, # 0x08]
 229 0134 0122     		movs r2, # 0x01
 230 0136 1143     		orrs r1, r1, r2
 231 0138 8160     		str r1, [r0, # 0x08]
 232              	_deng_adc_wen_ding:
 233 013a 0168     		ldr r1, [r0]
 234 013c C907     		lsls r1, r1, # 31
 235 013e FCD5     		bpl _deng_adc_wen_ding @ 等ADC稳定
 236              	_tongdaoxuanze:
 237 0140 7449     		ldr r1, = 0x40000000
 238 0142 0161     		str r1, [r0, # 0x10]
 239 0144 0321     		movs r1, # 0x03
 240 0146 8162     		str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 241 0148 7349     		ldr r1, = 0x803
 242 014a C160     		str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 243 014c 0021     		movs r1, # 0
 244 014e 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 245 0150 8168     		ldr r1, [r0, # 0x08]
 246 0152 724A     		ldr r2, = 0x04         @ 开始转换
 247 0154 1143     		orrs r1, r1, r2
 248 0156 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 249              	
 250              	dmachushihua:
 251              		@+0=LSR,+4=IFCR,
 252              		@+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 253              		@+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 254              		@+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 255              		@+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 256              		@+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 257              		@+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 258              		@+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 259              	
 260              		@tim1ch3DMA
 261 0158 7148     		ldr r0, = 0x40020000
 262 015a 7249     		ldr r1, = 0x40012c3c @ 外设地址
 263 015c 0166     		str r1, [r0, # 0x60]
 264 015e 7249     		ldr r1, = zheng_xian_biao @ 储存器地址
 265 0160 4166     		str r1, [r0, # 0x64]
 266 0162 5B49     		ldr r1, = 100             @点数
 267 0164 C165     		str r1, [r0, # 0x5c]
 268 0166 7149     		ldr r1, = 0x35b1         @ 储存到外设
 269 0168 8165     		str r1, [r0, # 0x58]
ARM GAS  1.s 			page 6


 270              		@ adc dma
 271 016a 6D48     		ldr r0, = 0x40020000
 272 016c 7049     		ldr r1, = 0x40012440
 273 016e 0161     		str r1, [r0, # 0x10]
 274 0170 7049     		ldr r1, = dianyabiao
 275 0172 4161     		str r1, [r0, # 0x14]
 276 0174 5649     		ldr r1, =  100
 277 0176 C160     		str r1, [r0, # 0x0c]
 278 0178 6F49     		ldr r1, = 0xaa1		@ 5a1
 279 017a 8160     		str r1, [r0, # 0x08]
 280              	
 281              	_systick:	@ systick定时器初始化
 282              	
 283 017c 6F4F     		ldr r7, = 0xe000e010
 284 017e 704E     		ldr r6, = 5600
 285 0180 7E60     		str r6, [r7, # 4]
 286 0182 BE60     		str r6, [r7, # 8]
 287 0184 0726     		movs r6, # 0x07
 288              	tim1chushiha:
 289 0186 6F48     		ldr r0, = 0x40012c00 @ tim1_cr1
 290 0188 0021     		movs r1, # 0
 291 018a 8162     		str r1, [r0, # 0x28] @ psc
 292 018c 6E49     		ldr r1, = 56
 293 018e C162     		str r1, [r0, # 0x2c] @ ARR
 294 0190 2021     		movs r1, # 0x20
 295 0192 4160     		str r1, [r0, # 0x04] @ TRGO
 296 0194 3821     		movs r1, # 0x38
 297 0196 8161     		str r1, [r0, # 0x18] @ ccmr1 cc1
 298 0198 3821     		movs r1, # 56
 299 019a 4163     		str r1, [r0, # 0x34]
 300 019c 6B49     		ldr r1, = 0x68
 301 019e C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 302 01a0 6B49     		ldr r1, = 0x500    @  CC3
 303 01a2 0162     		str r1, [r0, # 0x20] @ ccer
 304 01a4 6B49     		ldr r1, = 0x8000
 305 01a6 4164     		str r1, [r0, # 0x44] @ BDTR
 306 01a8 6B49     		ldr r1, = 0x800 @ CC3 DMA
 307 01aa C160     		str r1, [r0, # 0x0c] @ DIER
 308 01ac 6B49     		ldr r1, = 0x81
 309 01ae 0160     		str r1, [r0]
 310 01b0 3E60     		str r6, [r7]	@systick 开
 311              		
 312              	
 313              		
 314              	ting:
 315              	
 316 01b2 FEE7     		b ting
 317              	
 318              	
 319              	__jisuan_zhuansu:
 320              		@角度差0.01秒
 321 01b4 0FB5     		push {r0-r3,lr}
 322 01b6 6A48     		ldr r0, = jiaodu_cha
 323 01b8 6A49     		ldr r1, = 18849555
 324 01ba 0068     		ldr r0, [r0]
 325 01bc 0000     		movs r0, r0
 326 01be 01D5     		bpl __suan_zhuansu
ARM GAS  1.s 			page 7


 327 01c0 C043     		mvns r0, r0
 328 01c2 0130     		adds r0, r0, # 1
 329              	__suan_zhuansu:	
 330 01c4 684A     		ldr r2, = 113097335
 331 01c6 00F03AFB 		bl __chengfa
 332 01ca 00F014FB 		bl __chufa64
 333 01ce 674A     		ldr r2, = zhuansu
 334 01d0 1160     		str r1, [r2]
 335 01d2 0FBD     		pop {r0-r3,pc}
 336              	
 337              	__xiang_wei_xuan_zhuan:
 338 01d4 FCB5     		push {r2-r7,lr}
 339              		@R0=R,R1=I
 340 01d6 0346     		mov r3, r0
 341 01d8 0846     		mov r0, r1
 342 01da 654C     		ldr r4, = cos_jiaozheng         @cos
 343 01dc 654D     		ldr r5, = sin_jiaozheng         @sin
 344 01de 2468     		ldr r4, [r4]
 345 01e0 2D68     		ldr r5, [r5]
 346 01e2 2400     		movs r4, r4
 347 01e4 03D5     		bpl __xuan_zhuan_xiang_wei
 348 01e6 2646     		mov r6, r4
 349 01e8 2F46     		mov r7, r5
 350 01ea 3C46     		mov r4, r7
 351 01ec 3546     		mov r5, r6
 352              	__xuan_zhuan_xiang_wei:
 353 01ee 2646     		mov r6, r4
 354 01f0 2F46     		mov r7, r5
 355 01f2 5C43     		muls r4, r4, r3         @x*cos
 356 01f4 4643     		muls r6, r6, r0         @y*cos
 357 01f6 5D43     		muls r5, r5, r3         @x*sin
 358 01f8 4743     		muls r7, r7, r0         @y*sin
 359 01fa E413     		asrs r4, r4, # 15
 360 01fc ED13     		asrs r5, r5, # 15
 361 01fe F613     		asrs r6, r6, # 15
 362 0200 FF13     		asrs r7, r7, # 15
 363              	
 364 0202 E41B     		subs r4, r4, r7         @x
 365 0204 7619     		adds r6, r6, r5         @y
 366 0206 3146     		mov r1, r6		@i
 367 0208 2046     		mov r0, r4		@r
 368 020a FCBD     		pop {r2-r7,pc}
 369              	__cordic_cos_sin:
 370              		@入口R0
 371              		@出口R0=COS，R1=SIN
 372              		@ x= 0x4dba
 373              		@ r1=x,r2=y,r0=z,r4=d,r5=k,r6=cordic_mabiao
 374              	
 375 020c FCB5     		push {r2-r7,lr}
 376 020e 4246     		mov r2, r8
 377 0210 4B46     		mov r3, r9
 378 0212 0CB4     		push {r2-r3}
 379 0214 0025     		movs r5, # 0
 380 0216 2A46     		mov r2, r5
 381 0218 2C46     		mov r4, r5
 382 021a 5749     		ldr r1, = 0x4dba
 383              	cordicxunhuan:		 @ 循环
ARM GAS  1.s 			page 8


 384 021c C413     		asrs r4, r0, # 15
 385              		@ x
 386 021e 1746     		mov r7, r2
 387 0220 2A41     		asrs r2, r2, r5
 388 0222 6240     		eors r2, r2, r4
 389 0224 121B     		subs r2, r2, r4
 390 0226 8B1A     		subs r3, r1, r2
 391              		@ y
 392 0228 0E46     		mov r6, r1
 393 022a 2941     		asrs r1, r1, r5
 394 022c 6140     		eors r1, r1, r4
 395 022e 091B     		subs r1, r1, r4
 396 0230 7F18     		adds r7, r7, r1
 397              		@ z
 398 0232 524E     		ldr r6, = cordic_yong_atan_biao
 399 0234 AA00     		lsls r2, r5, # 2
 400 0236 B158     		ldr r1, [r6, r2]
 401 0238 6140     		eors r1, r1, r4
 402 023a 091B     		subs r1, r1, r4
 403 023c 401A     		subs r0, r0, r1
 404 023e 1946     		mov r1, r3
 405 0240 3A46     		mov r2, r7
 406 0242 0135     		adds r5, # 1
 407 0244 102D     		cmp r5, # 16
 408 0246 E9D1     		bne cordicxunhuan
 409 0248 1846     		mov r0, r3
 410 024a 3946     		mov r1, r7
 411 024c 0CBC     		pop {r2-r3}
 412 024e 9046     		mov r8, r2
 413 0250 9946     		mov r9, r3
 414 0252 FCBD     		pop {r2-r7,pc}
 415              	__atan2_ji_suan:
 416              		@入口R0=实部，R1=虚部，结果=R0
 417 0254 FCB5     		push {r2-r7,lr}
 418 0256 4246     		mov r2, r8
 419 0258 04B4     		push {r2}
 420 025a 494B     		ldr r3, = cordic_yong_cos_sin
 421 025c 0A22     		movs r2, # 10
 422 025e 5043     		muls r0, r0, r2
 423 0260 5143     		muls r1, r1, r2
 424 0262 0022     		movs r2, # 0
 425 0264 9046     		mov r8, r2
 426 0266 474C     		ldr r4, = 9000
 427 0268 E403     		lsls r4, r4, # 15
 428              	__cordic_atan2_xun_huan:
 429              	__du_cos_sin:
 430 026a 1D68     		ldr r5, [r3]	@cos
 431 026c 0433     		adds r3, r3, # 4
 432 026e 2F46     		mov r7, r5
 433 0270 1E68     		ldr r6, [r3]	@sin
 434 0272 0433     		adds r3, r3, # 4
 435 0274 3246     		mov r2, r6
 436 0276 4543     		muls r5, r5, r0         @x*cos
 437 0278 4243     		muls r2, r2, r0         @x*sin
 438 027a 4E43     		muls r6, r6, r1         @y*sin
 439 027c 4F43     		muls r7, r7, r1         @y*cos
 440 027e 0900     		movs r1, r1
ARM GAS  1.s 			page 9


 441 0280 05D5     		bpl __ni_shi_zhen_zhuan
 442              	__shun_shi_zhen_zhuan:
 443 0282 AD1B     		subs r5, r5, r6
 444 0284 BF18     		adds r7, r7, r2
 445 0286 4646     		mov r6, r8
 446 0288 3619     		adds r6, r6, r4
 447 028a B046     		mov r8, r6
 448 028c 04E0     		b __xuan_zhuan_wan
 449              	__ni_shi_zhen_zhuan:
 450 028e AD19     		adds r5, r5, r6
 451 0290 BF1A     		subs r7, r7, r2
 452 0292 4646     		mov r6, r8
 453 0294 361B     		subs r6, r6, r4
 454 0296 B046     		mov r8, r6
 455              	__xuan_zhuan_wan:
 456 0298 394E     		ldr r6, = cordic_yong_cos_sin
 457 029a 2022     		movs r2, # 32
 458 029c 9200     		lsls r2, r2, # 2
 459 029e B618     		adds r6, r6, r2
 460 02a0 AD13     		asrs r5, r5, # 14
 461 02a2 BF13     		asrs r7, r7, # 14
 462 02a4 2846     		mov r0, r5
 463 02a6 3946     		mov r1, r7
 464 02a8 6408     		lsrs r4, r4, # 1	@旋转
 465 02aa B342     		cmp r3,	r6
 466 02ac DDD1     		bne __cordic_atan2_xun_huan
 467 02ae 4046     		mov r0, r8
 468 02b0 C043     		mvns r0, r0
 469 02b2 0130     		adds r0, r0, # 1
 470 02b4 C013     		asrs r0, r0, # 15      @除32768等于角度
 471 02b6 04BC     		pop {r2}
 472 02b8 9046     		mov r8, r2
 473 02ba FCBD     		pop {r2-r7,pc}
 474 02bc 00200240 		.ltorg
 474      00100240 
 474      01000100 
 474      02001500 
 474      00000101 
 475              	
 476              	
 477              		
 478              	__xiangwei_jiaozheng:
 479 0388 3FB5     		push {r0-r5,lr}
 480 038a FD48     		ldr r0, = jiaodu_jiaozheng
 481 038c FD49     		ldr r1, = 9000
 482 038e 0068     		ldr r0, [r0]
 483 0390 FD4A     		ldr r2, = 51471
 484 0392 0000     		movs r0, r0
 485 0394 02D5     		bpl __jiaozheng_jiaodu_bushi0
 486 0396 C043     		mvns r0, r0
 487 0398 0130     		adds r0, r0, # 1
 488 039a 0124     		movs r4, # 1
 489              	__jiaozheng_jiaodu_bushi0:
 490 039c 0024     		movs r4, # 0
 491 039e FB4D     		ldr r5, = 10000
 492 03a0 6843     		muls r0, r0, r5
 493 03a2 00F015FA 		bl _chufa
ARM GAS  1.s 			page 10


 494 03a6 5043     		muls r0, r0, r2
 495 03a8 2946     		mov r1, r5
 496 03aa 00F011FA 		bl _chufa
 497 03ae 012C     		cmp r4, # 1
 498 03b0 01D1     		bne __suan_cos_sin
 499 03b2 C043     		mvns r0, r0
 500 03b4 0130     		adds r0, r0, # 1
 501              	__suan_cos_sin:
 502 03b6 FFF729FF 		bl __cordic_cos_sin
 503 03ba F54A     		ldr r2, = cos_jiaozheng
 504 03bc F54B     		ldr r3, = sin_jiaozheng
 505 03be 1060     		str r0, [r2]
 506 03c0 1960     		str r1, [r3]
 507 03c2 3FBD     		pop {r0-r5,pc}
 508              	
 509              	
 510              	__chuan_gan_qi_lvbo:
 511              		@50*4偏移
 512 03c4 FCB5     		push {r2-r7,lr}
 513 03c6 F448     		ldr r0, = 0x200001ac @sin_zheng
 514 03c8 F449     		ldr r1, = 0x20000274 @sin_fu
 515 03ca F54B     		ldr r3, = 0x200001a8 @cos_zheng
 516 03cc F54A     		ldr r2, = 0x20000270 @cos_fu
 517 03ce 0468     		ldr r4, [r0]
 518 03d0 0D68     		ldr r5, [r1]
 519 03d2 1668     		ldr r6, [r2]
 520 03d4 1F68     		ldr r7, [r3]
 521 03d6 F44A     		ldr r2, = guoling
 522 03d8 641B     		subs r4, r4, r5
 523 03da F61B     		subs r6, r6, r7
 524 03dc 1368     		ldr r3, [r2]
 525 03de 2400     		movs r4, r4
 526 03e0 02D5     		bpl __zheng
 527              	__fan:
 528 03e2 0021     		movs r1, # 0
 529 03e4 1160     		str r1, [r2]
 530 03e6 01E0     		b __guo_ling_jian_ce
 531              	__zheng:
 532 03e8 0121     		movs r1, # 1
 533 03ea 1160     		str r1, [r2]
 534              	__guo_ling_jian_ce:
 535 03ec EF4A     		ldr r2, = jiaodu
 536 03ee E448     		ldr r0, = jiaodu_jiaozheng
 537 03f0 1268     		ldr r2, [r2]
 538 03f2 C91A     		subs r1, r1, r3
 539 03f4 06D4     		bmi __zheng_90
 540 03f6 10D0     		beq __xiangwei
 541              	__fu_90:
 542 03f8 0FE0     		b __xiangwei
 543 03fa 1200     		movs r2, r2
 544 03fc 0DD5     		bpl __xiangwei
 545 03fe EC49     		ldr r1, = -9000
 546 0400 891A     		subs r1, r1, r2
 547 0402 07E0     		b __baocun_jiaozheng
 548              	__zheng_90:
 549 0404 3600     		movs r6, r6
 550 0406 08D4     		bmi __xiangwei
ARM GAS  1.s 			page 11


 551 0408 2400     		movs r4, r4
 552 040a 06D5     		bpl __xiangwei
 553 040c E94F     		ldr r7, = guoling_jishu
 554 040e 3A60     		str r2, [r7]
 555 0410 DC49     		ldr r1, = 9000
 556 0412 511A     		subs r1, r2, r1
 557              	__baocun_jiaozheng:
 558 0414 0160     		str r1, [r0]
 559 0416 FFF7B7FF 		bl __xiangwei_jiaozheng
 560              	__xiangwei:
 561              		
 562              	__lv_bo:
 563 041a 3146     		mov r1, r6
 564 041c E64A     		ldr r2, = lvboqizhizhen
 565 041e E748     		ldr r0, =lvboqihuanchong
 566 0420 00F011F8 		bl __lv_bo_qi
 567 0424 2146     		mov r1, r4
 568 0426 0646     		mov r6, r0
 569 0428 E54A     		ldr r2, = lvboqizhizhen1
 570 042a E648     		ldr r0, = lvboqihuanchong1
 571 042c 00F00BF8 		bl __lv_bo_qi
 572 0430 3146     		mov r1, r6
 573 0432 0446     		mov r4, r0
 574 0434 FFF7CEFE 		bl __xiang_wei_xuan_zhuan
 575 0438 E34F     		ldr r7, = cos1
 576 043a E44D     		ldr r5, = sin1
 577 043c 3860     		str r0, [r7]
 578 043e 2960     		str r1, [r5]
 579 0440 3146     		mov r1, r6
 580 0442 2046     		mov r0, r4
 581 0444 FCBD     		pop {r2-r7,pc}
 582              	
 583              	
 584              	__lv_bo_qi:
 585              		@地址顺序：指针，指针方向,缓冲区
 586              		@入口R0=缓冲区，R1=数据, r2,=指针
 587              		@出口R0
 588 0446 F8B5     		push {r3-r7,lr}
 589 0448 4346     		mov r3, r8
 590 044a 4C46     		mov r4, r9
 591 044c 5546     		mov r5, r10
 592 044e 5E46     		mov r6, r11
 593 0450 6746     		mov r7, r12
 594 0452 F8B4     		push {r3-r7}
 595 0454 EC46     		mov r12, sp
 596 0456 1346     		mov r3, r2
 597 0458 0433     		adds r3, r3, # 4
 598 045a 1C68     		ldr r4, [r3]
 599 045c FF27     		movs r7, # 0xff
 600 045e 1546     		mov r5, r2
 601 0460 2A68     		ldr r2, [r5]
 602 0462 1200     		movs r2, r2
 603 0464 02D5     		bpl __zhi_zhen_ding_jiance
 604 0466 0024     		movs r4, # 0
 605 0468 1C60     		str r4, [r3]
 606 046a 03E0     		b __lvboqi_zhizhen_yiwei
 607              	__zhi_zhen_ding_jiance:	
ARM GAS  1.s 			page 12


 608 046c BA42     		cmp r2, r7
 609 046e 01D3     		bcc __lvboqi_zhizhen_yiwei
 610 0470 0124     		movs r4, # 1
 611 0472 1C60     		str r4, [r3]
 612              	__lvboqi_zhizhen_yiwei:
 613 0474 012C     		cmp r4, # 1
 614 0476 01D1     		bne __zhi_zhen_jia
 615              	__zhi_zhen_jian:
 616 0478 013A     		subs r2, r2, # 1
 617 047a 00E0     		b __baocun_shuju_huanchong
 618              	__zhi_zhen_jia:
 619 047c 0132     		adds r2, r2, # 1
 620              	__baocun_shuju_huanchong:
 621 047e 2A60     		str r2, [r5]
 622 0480 9200     		lsls r2, r2, # 2
 623 0482 8150     		str r1, [r0, r2]
 624              	__huanchong_leijia:	
 625 0484 8546     		mov sp, r0
 626              		@0
 627 0486 FFBC     		pop {r0-r7}
 628 0488 4018     		adds r0, r0, r1
 629 048a 8018     		adds r0, r0, r2
 630 048c C018     		adds r0, r0, r3
 631 048e 0019     		adds r0, r0, r4
 632 0490 4019     		adds r0, r0, r5
 633 0492 8019     		adds r0, r0, r6
 634 0494 C019     		adds r0, r0, r7
 635 0496 8046     		mov r8, r0
 636 0498 FFBC     		pop {r0-r7}
 637 049a 4018     	        adds r0, r0, r1
 638 049c 8018     		adds r0, r0, r2
 639 049e C018     		adds r0, r0, r3
 640 04a0 0019     		adds r0, r0, r4
 641 04a2 4019     		adds r0, r0, r5
 642 04a4 8019     		adds r0, r0, r6
 643 04a6 C019     		adds r0, r0, r7
 644 04a8 8146     		mov r9, r0
 645 04aa FFBC     		pop {r0-r7}
 646 04ac 4018     		adds r0, r0, r1
 647 04ae 8018     		adds r0, r0, r2
 648 04b0 C018     		adds r0, r0, r3
 649 04b2 0019     		adds r0, r0, r4
 650 04b4 4019     		adds r0, r0, r5
 651 04b6 8019     		adds r0, r0, r6
 652 04b8 C019     		adds r0, r0, r7
 653 04ba 8246     		mov r10, r0
 654 04bc FFBC     		pop {r0-r7}
 655 04be 4018     		adds r0, r0, r1
 656 04c0 8018     		adds r0, r0, r2
 657 04c2 C018     		adds r0, r0, r3
 658 04c4 0019     		adds r0, r0, r4
 659 04c6 4019     		adds r0, r0, r5
 660 04c8 8019     		adds r0, r0, r6
 661 04ca C019     		adds r0, r0, r7
 662 04cc 4146     		mov r1, r8
 663 04ce 4A46     		mov r2, r9
 664 04d0 5346     		mov r3, r10
ARM GAS  1.s 			page 13


 665 04d2 4018     		adds r0, r0, r1
 666 04d4 8018     		adds r0, r0, r2
 667 04d6 C018     		adds r0, r0, r3
 668 04d8 6946     		mov r1, sp
 669 04da E546     		mov sp, r12
 670 04dc 01B4     		push {r0}
 671 04de EC46     		mov r12, sp
 672 04e0 8D46     		mov sp, r1
 673              		@1
 674 04e2 FFBC     	        pop {r0-r7}
 675 04e4 4018     		adds r0, r0, r1
 676 04e6 8018     		adds r0, r0, r2
 677 04e8 C018     		adds r0, r0, r3
 678 04ea 0019     		adds r0, r0, r4
 679 04ec 4019     		adds r0, r0, r5
 680 04ee 8019     		adds r0, r0, r6
 681 04f0 C019     		adds r0, r0, r7
 682 04f2 8046     		mov r8, r0
 683 04f4 FFBC     		pop {r0-r7}
 684 04f6 4018     		adds r0, r0, r1
 685 04f8 8018     		adds r0, r0, r2
 686 04fa C018     		adds r0, r0, r3
 687 04fc 0019     		adds r0, r0, r4
 688 04fe 4019     		adds r0, r0, r5
 689 0500 8019     		adds r0, r0, r6
 690 0502 C019     		adds r0, r0, r7
 691 0504 8146     		mov r9, r0
 692 0506 FFBC     		pop {r0-r7}
 693 0508 4018     		adds r0, r0, r1
 694 050a 8018     		adds r0, r0, r2
 695 050c C018     		adds r0, r0, r3
 696 050e 0019     		adds r0, r0, r4
 697 0510 4019     		adds r0, r0, r5
 698 0512 8019     		adds r0, r0, r6
 699 0514 C019     		adds r0, r0, r7
 700 0516 8246     		mov r10, r0
 701 0518 FFBC     		pop {r0-r7}
 702 051a 4018     		adds r0, r0, r1
 703 051c 8018     		adds r0, r0, r2
 704 051e C018     		adds r0, r0, r3
 705 0520 0019     		adds r0, r0, r4
 706 0522 4019     		adds r0, r0, r5
 707 0524 8019     		adds r0, r0, r6
 708 0526 C019     		adds r0, r0, r7
 709 0528 4146     		mov r1, r8
 710 052a 4A46     		mov r2, r9
 711 052c 5346     		mov r3, r10
 712 052e 4018     		adds r0, r0, r1
 713 0530 8018     		adds r0, r0, r2
 714 0532 C018     		adds r0, r0, r3
 715 0534 6946     		mov r1, sp
 716 0536 E546     		mov sp, r12
 717 0538 01B4     		push {r0}
 718 053a EC46     		mov r12, sp
 719 053c 8D46     		mov sp, r1
 720              		@2
 721 053e FFBC     	        pop {r0-r7}
ARM GAS  1.s 			page 14


 722 0540 4018     		adds r0, r0, r1
 723 0542 8018     		adds r0, r0, r2
 724 0544 C018     		adds r0, r0, r3
 725 0546 0019     		adds r0, r0, r4
 726 0548 4019     		adds r0, r0, r5
 727 054a 8019     		adds r0, r0, r6
 728 054c C019     		adds r0, r0, r7
 729 054e 8046     		mov r8, r0
 730 0550 FFBC     		pop {r0-r7}
 731 0552 4018     		adds r0, r0, r1
 732 0554 8018     		adds r0, r0, r2
 733 0556 C018     		adds r0, r0, r3
 734 0558 0019     		adds r0, r0, r4
 735 055a 4019     		adds r0, r0, r5
 736 055c 8019     		adds r0, r0, r6
 737 055e C019     		adds r0, r0, r7
 738 0560 8146     		mov r9, r0
 739 0562 FFBC     		pop {r0-r7}
 740 0564 4018     		adds r0, r0, r1
 741 0566 8018     		adds r0, r0, r2
 742 0568 C018     		adds r0, r0, r3
 743 056a 0019     		adds r0, r0, r4
 744 056c 4019     		adds r0, r0, r5
 745 056e 8019     		adds r0, r0, r6
 746 0570 C019     		adds r0, r0, r7
 747 0572 8246     		mov r10, r0
 748 0574 FFBC     		pop {r0-r7}
 749 0576 4018     		adds r0, r0, r1
 750 0578 8018     		adds r0, r0, r2
 751 057a C018     		adds r0, r0, r3
 752 057c 0019     		adds r0, r0, r4
 753 057e 4019     		adds r0, r0, r5
 754 0580 8019     		adds r0, r0, r6
 755 0582 C019     		adds r0, r0, r7
 756 0584 4146     		mov r1, r8
 757 0586 4A46     		mov r2, r9
 758 0588 5346     		mov r3, r10
 759 058a 4018     		adds r0, r0, r1
 760 058c 8018     		adds r0, r0, r2
 761 058e C018     		adds r0, r0, r3
 762 0590 6946     		mov r1, sp
 763 0592 E546     		mov sp, r12
 764 0594 01B4     		push {r0}
 765 0596 EC46     		mov r12, sp
 766 0598 8D46     		mov sp, r1
 767              		@3
 768 059a FFBC     	        pop {r0-r7}
 769 059c 4018     		adds r0, r0, r1
 770 059e 8018     		adds r0, r0, r2
 771 05a0 C018     		adds r0, r0, r3
 772 05a2 0019     		adds r0, r0, r4
 773 05a4 4019     		adds r0, r0, r5
 774 05a6 8019     		adds r0, r0, r6
 775 05a8 C019     		adds r0, r0, r7
 776 05aa 8046     		mov r8, r0
 777 05ac FFBC     		pop {r0-r7}
 778 05ae 4018     		adds r0, r0, r1
ARM GAS  1.s 			page 15


 779 05b0 8018     		adds r0, r0, r2
 780 05b2 C018     		adds r0, r0, r3
 781 05b4 0019     		adds r0, r0, r4
 782 05b6 4019     		adds r0, r0, r5
 783 05b8 8019     		adds r0, r0, r6
 784 05ba C019     		adds r0, r0, r7
 785 05bc 8146     		mov r9, r0
 786 05be FFBC     		pop {r0-r7}
 787 05c0 4018     		adds r0, r0, r1
 788 05c2 8018     		adds r0, r0, r2
 789 05c4 C018     		adds r0, r0, r3
 790 05c6 0019     		adds r0, r0, r4
 791 05c8 4019     		adds r0, r0, r5
 792 05ca 8019     		adds r0, r0, r6
 793 05cc C019     		adds r0, r0, r7
 794 05ce 8246     		mov r10, r0
 795 05d0 FFBC     		pop {r0-r7}
 796 05d2 4018     		adds r0, r0, r1
 797 05d4 8018     		adds r0, r0, r2
 798 05d6 C018     		adds r0, r0, r3
 799 05d8 0019     		adds r0, r0, r4
 800 05da 4019     		adds r0, r0, r5
 801 05dc 8019     		adds r0, r0, r6
 802 05de C019     		adds r0, r0, r7
 803 05e0 4146     		mov r1, r8
 804 05e2 4A46     		mov r2, r9
 805 05e4 5346     		mov r3, r10
 806 05e6 4018     		adds r0, r0, r1
 807 05e8 8018     		adds r0, r0, r2
 808 05ea C018     		adds r0, r0, r3
 809 05ec 6946     		mov r1, sp
 810 05ee E546     		mov sp, r12
 811 05f0 01B4     		push {r0}
 812 05f2 EC46     		mov r12, sp
 813 05f4 8D46     		mov sp, r1
 814              		@4
 815 05f6 FFBC     	        pop {r0-r7}
 816 05f8 4018     		adds r0, r0, r1
 817 05fa 8018     		adds r0, r0, r2
 818 05fc C018     		adds r0, r0, r3
 819 05fe 0019     		adds r0, r0, r4
 820 0600 4019     		adds r0, r0, r5
 821 0602 8019     		adds r0, r0, r6
 822 0604 C019     		adds r0, r0, r7
 823 0606 8046     		mov r8, r0
 824 0608 FFBC     		pop {r0-r7}
 825 060a 4018     		adds r0, r0, r1
 826 060c 8018     		adds r0, r0, r2
 827 060e C018     		adds r0, r0, r3
 828 0610 0019     		adds r0, r0, r4
 829 0612 4019     		adds r0, r0, r5
 830 0614 8019     		adds r0, r0, r6
 831 0616 C019     		adds r0, r0, r7
 832 0618 8146     		mov r9, r0
 833 061a FFBC     		pop {r0-r7}
 834 061c 4018     		adds r0, r0, r1
 835 061e 8018     		adds r0, r0, r2
ARM GAS  1.s 			page 16


 836 0620 C018     		adds r0, r0, r3
 837 0622 0019     		adds r0, r0, r4
 838 0624 4019     		adds r0, r0, r5
 839 0626 8019     		adds r0, r0, r6
 840 0628 C019     		adds r0, r0, r7
 841 062a 8246     		mov r10, r0
 842 062c FFBC     		pop {r0-r7}
 843 062e 4018     		adds r0, r0, r1
 844 0630 8018     		adds r0, r0, r2
 845 0632 C018     		adds r0, r0, r3
 846 0634 0019     		adds r0, r0, r4
 847 0636 4019     		adds r0, r0, r5
 848 0638 8019     		adds r0, r0, r6
 849 063a C019     		adds r0, r0, r7
 850 063c 4146     		mov r1, r8
 851 063e 4A46     		mov r2, r9
 852 0640 5346     		mov r3, r10
 853 0642 4018     		adds r0, r0, r1
 854 0644 8018     		adds r0, r0, r2
 855 0646 C018     		adds r0, r0, r3
 856 0648 6946     		mov r1, sp
 857 064a E546     		mov sp, r12
 858 064c 01B4     		push {r0}
 859 064e EC46     		mov r12, sp
 860 0650 8D46     		mov sp, r1
 861              		@5
 862 0652 FFBC     	        pop {r0-r7}
 863 0654 4018     		adds r0, r0, r1
 864 0656 8018     		adds r0, r0, r2
 865 0658 C018     		adds r0, r0, r3
 866 065a 0019     		adds r0, r0, r4
 867 065c 4019     		adds r0, r0, r5
 868 065e 8019     		adds r0, r0, r6
 869 0660 C019     		adds r0, r0, r7
 870 0662 8046     		mov r8, r0
 871 0664 FFBC     		pop {r0-r7}
 872 0666 4018     		adds r0, r0, r1
 873 0668 8018     		adds r0, r0, r2
 874 066a C018     		adds r0, r0, r3
 875 066c 0019     		adds r0, r0, r4
 876 066e 4019     		adds r0, r0, r5
 877 0670 8019     		adds r0, r0, r6
 878 0672 C019     		adds r0, r0, r7
 879 0674 8146     		mov r9, r0
 880 0676 FFBC     		pop {r0-r7}
 881 0678 4018     		adds r0, r0, r1
 882 067a 8018     		adds r0, r0, r2
 883 067c C018     		adds r0, r0, r3
 884 067e 0019     		adds r0, r0, r4
 885 0680 4019     		adds r0, r0, r5
 886 0682 8019     		adds r0, r0, r6
 887 0684 C019     		adds r0, r0, r7
 888 0686 8246     		mov r10, r0
 889 0688 FFBC     		pop {r0-r7}
 890 068a 4018     		adds r0, r0, r1
 891 068c 8018     		adds r0, r0, r2
 892 068e C018     		adds r0, r0, r3
ARM GAS  1.s 			page 17


 893 0690 0019     		adds r0, r0, r4
 894 0692 4019     		adds r0, r0, r5
 895 0694 8019     		adds r0, r0, r6
 896 0696 C019     		adds r0, r0, r7
 897 0698 4146     		mov r1, r8
 898 069a 4A46     		mov r2, r9
 899 069c 5346     		mov r3, r10
 900 069e 4018     		adds r0, r0, r1
 901 06a0 8018     		adds r0, r0, r2
 902 06a2 C018     		adds r0, r0, r3
 903 06a4 6946     		mov r1, sp
 904 06a6 E546     		mov sp, r12
 905 06a8 01B4     		push {r0}
 906 06aa EC46     		mov r12, sp
 907 06ac 8D46     		mov sp, r1
 908              		@6
 909 06ae FFBC     	        pop {r0-r7}
 910 06b0 4018     		adds r0, r0, r1
 911 06b2 8018     		adds r0, r0, r2
 912 06b4 C018     		adds r0, r0, r3
 913 06b6 0019     		adds r0, r0, r4
 914 06b8 4019     		adds r0, r0, r5
 915 06ba 8019     		adds r0, r0, r6
 916 06bc C019     		adds r0, r0, r7
 917 06be 8046     		mov r8, r0
 918 06c0 FFBC     		pop {r0-r7}
 919 06c2 4018     		adds r0, r0, r1
 920 06c4 8018     		adds r0, r0, r2
 921 06c6 C018     		adds r0, r0, r3
 922 06c8 0019     		adds r0, r0, r4
 923 06ca 4019     		adds r0, r0, r5
 924 06cc 8019     		adds r0, r0, r6
 925 06ce C019     		adds r0, r0, r7
 926 06d0 8146     		mov r9, r0
 927 06d2 FFBC     		pop {r0-r7}
 928 06d4 4018     		adds r0, r0, r1
 929 06d6 8018     		adds r0, r0, r2
 930 06d8 C018     		adds r0, r0, r3
 931 06da 0019     		adds r0, r0, r4
 932 06dc 4019     		adds r0, r0, r5
 933 06de 8019     		adds r0, r0, r6
 934 06e0 C019     		adds r0, r0, r7
 935 06e2 8246     		mov r10, r0
 936 06e4 FFBC     		pop {r0-r7}
 937 06e6 4018     		adds r0, r0, r1
 938 06e8 8018     		adds r0, r0, r2
 939 06ea C018     		adds r0, r0, r3
 940 06ec 0019     		adds r0, r0, r4
 941 06ee 4019     		adds r0, r0, r5
 942 06f0 8019     		adds r0, r0, r6
 943 06f2 C019     		adds r0, r0, r7
 944 06f4 4146     		mov r1, r8
 945 06f6 4A46     		mov r2, r9
 946 06f8 5346     		mov r3, r10
 947 06fa 4018     		adds r0, r0, r1
 948 06fc 8018     		adds r0, r0, r2
 949 06fe C018     		adds r0, r0, r3
ARM GAS  1.s 			page 18


 950 0700 6946     		mov r1, sp
 951 0702 E546     		mov sp, r12
 952 0704 01B4     		push {r0}
 953 0706 EC46     		mov r12, sp
 954 0708 8D46     		mov sp, r1
 955              		@7
 956 070a FFBC     	        pop {r0-r7}
 957 070c 4018     		adds r0, r0, r1
 958 070e 8018     		adds r0, r0, r2
 959 0710 C018     		adds r0, r0, r3
 960 0712 0019     		adds r0, r0, r4
 961 0714 4019     		adds r0, r0, r5
 962 0716 8019     		adds r0, r0, r6
 963 0718 C019     		adds r0, r0, r7
 964 071a 8046     		mov r8, r0
 965 071c FFBC     		pop {r0-r7}
 966 071e 4018     		adds r0, r0, r1
 967 0720 8018     		adds r0, r0, r2
 968 0722 C018     		adds r0, r0, r3
 969 0724 0019     		adds r0, r0, r4
 970 0726 4019     		adds r0, r0, r5
 971 0728 8019     		adds r0, r0, r6
 972 072a C019     		adds r0, r0, r7
 973 072c 8146     		mov r9, r0
 974 072e FFBC     		pop {r0-r7}
 975 0730 4018     		adds r0, r0, r1
 976 0732 8018     		adds r0, r0, r2
 977 0734 C018     		adds r0, r0, r3
 978 0736 0019     		adds r0, r0, r4
 979 0738 4019     		adds r0, r0, r5
 980 073a 8019     		adds r0, r0, r6
 981 073c C019     		adds r0, r0, r7
 982 073e 8246     		mov r10, r0
 983 0740 FFBC     		pop {r0-r7}
 984 0742 4018     		adds r0, r0, r1
 985 0744 8018     		adds r0, r0, r2
 986 0746 C018     		adds r0, r0, r3
 987 0748 0019     		adds r0, r0, r4
 988 074a 4019     		adds r0, r0, r5
 989 074c 8019     		adds r0, r0, r6
 990 074e C019     		adds r0, r0, r7
 991 0750 4146     		mov r1, r8
 992 0752 4A46     		mov r2, r9
 993 0754 5346     		mov r3, r10
 994 0756 4018     		adds r0, r0, r1
 995 0758 8018     		adds r0, r0, r2
 996 075a C018     		adds r0, r0, r3
 997 075c E546     		mov sp, r12
 998 075e FEBC     		pop {r1-r7}
 999 0760 4018     		adds r0, r0, r1
 1000 0762 8018     		adds r0, r0, r2
 1001 0764 C018     		adds r0, r0, r3
 1002 0766 0019     		adds r0, r0, r4
 1003 0768 4019     		adds r0, r0, r5
 1004 076a 8019     		adds r0, r0, r6
 1005 076c C019     		adds r0, r0, r7
 1006 076e 000A     		lsrs r0, r0, 8
ARM GAS  1.s 			page 19


 1007 0770 F8BC     		pop {r3-r7}
 1008 0772 9846     		mov r8, r3
 1009 0774 A146     		mov r9, r4
 1010 0776 AA46     		mov r10, r5
 1011 0778 B346     		mov r11, r6
 1012 077a BC46     		mov r12, r7
 1013 077c F8BD     		pop {r3-r7,pc}
 1014 077e 0000E800 		.ltorg
 1014      00202823 
 1014      00000FC9 
 1014      00001027 
 1014      0000E000 
 1015              		
 1016              	
 1017              	
 1018              	
 1019              	
 1020              	
 1021              	
 1022              	
 1023              	
 1024              	
 1025              	
 1026              	
 1027              		
 1028              	
 1029              	_chufa:				@软件除法
 1030              		@ r0 除以 r1 等于 商(r0)
 1031 07d0 1EB5     		push {r1-r4,lr}
 1032 07d2 0028     		cmp r0, # 0
 1033 07d4 0ED0     		beq _chufafanhui
 1034 07d6 0029     		cmp r1, # 0
 1035 07d8 0CD0     		beq _chufafanhui
 1036 07da 0246     		mov r2, r0
 1037 07dc 0123     		movs r3, # 1
 1038 07de DB07     		lsls r3, r3, # 31
 1039 07e0 0020     		movs r0, # 0
 1040 07e2 0446     		mov r4, r0
 1041              	_chufaxunhuan:
 1042 07e4 5200     		lsls r2, r2, # 1
 1043 07e6 6441     		adcs r4, r4, r4
 1044 07e8 8C42     		cmp r4, r1
 1045 07ea 01D3     		bcc _chufaweishubudao0
 1046 07ec C018     		adds r0, r0, r3
 1047 07ee 641A     		subs r4, r4, r1
 1048              	_chufaweishubudao0:
 1049 07f0 5B08     		lsrs r3, r3, # 1
 1050 07f2 F7D1     		bne _chufaxunhuan
 1051              	_chufafanhui:
 1052 07f4 1EBD     		pop {r1-r4,pc}
 1053              	__chufa64:
 1054              		@64位除32位
 1055              		@ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1056 07f6 F8B5     		push {r3-r7,lr}
 1057 07f8 002A     		cmp r2, # 0
 1058 07fa 1DD0     		beq __chu_fa64_fan_hui0
 1059 07fc 0029     		cmp r1, # 0
ARM GAS  1.s 			page 20


 1060 07fe 01D1     		bne __chu_fa64_ji_suan
 1061 0800 0028     		cmp r0, # 0
 1062 0802 19D0     		beq __chu_fa64_fan_hui0
 1063              	__chu_fa64_ji_suan:
 1064 0804 0024     		movs r4, # 0
 1065 0806 2746     		mov r7, r4
 1066 0808 2346     		mov r3, r4
 1067 080a 2546     		mov r5, r4
 1068 080c 0126     		movs r6, # 1
 1069 080e F607     		lsls r6, r6, # 31
 1070              	__chu_fa64_xun_huan:
 1071 0810 4900     		lsls r1, r1, # 1
 1072 0812 4041     		adcs r0, r0, r0
 1073 0814 6441     		adcs r4, r4, r4
 1074 0816 9442     		cmp r4, r2
 1075 0818 02D3     		bcc __chu_fa_yi_wei
 1076 081a 9B19     		adds r3, r3, r6
 1077 081c 7D41     		adcs r5, r5, r7
 1078 081e A41A     		subs r4, r4, r2
 1079              	__chu_fa_yi_wei:
 1080 0820 3600     		movs r6, r6
 1081 0822 04D0     		beq __di_yi_wei
 1082 0824 7608     		lsrs r6, r6, # 1        @高32位移位
 1083 0826 F3D1     		bne __chu_fa64_xun_huan
 1084 0828 0127     		movs r7, # 1
 1085 082a FF07     		lsls r7, r7, # 31
 1086 082c F0E7     		b __chu_fa64_xun_huan
 1087              	__di_yi_wei:	            @低32位移位
 1088 082e 7F08     		lsrs r7, r7, # 1
 1089 0830 EED1     		bne __chu_fa64_xun_huan
 1090 0832 1846     		mov r0, r3
 1091 0834 2946     		mov r1, r5
 1092 0836 F8BD     		pop {r3-r7,pc}
 1093              	__chu_fa64_fan_hui0:
 1094 0838 0020     		movs r0, # 0
 1095 083a 0021     		movs r1, # 0
 1096 083c F8BD     		pop {r3-r7,pc}
 1097              	__chengfa:
 1098              		@入R0 乘以 R1
 1099              		@出 R0高32 ， R1低32
 1100              		@0xffffffff*0xffffffff
 1101              		@4        F F F E 0 0 0 1			@4
 1102              		@3                F F F E 0 0 0 1		@3
 1103              		@2                F F F E 0 0 0 1		@2
 1104              		@1                        F F F E 0 0 0 1	@1
 1105              		@         F F F F F F F E 0 0 0 0 0 0 0 1
 1106 083e FCB5     		push {r2-r7,lr}
 1107 0840 0028     		cmp r0, # 0
 1108 0842 1ED0     		beq __cheng_fa_fan_hui
 1109 0844 0029     		cmp r1, # 0
 1110 0846 1CD0     		beq __cheng_fa_fan_hui
 1111              	__ji_suan_cheng_fa:
 1112 0848 0246     		mov r2, r0
 1113 084a 0B46     		mov r3, r1
 1114 084c 000C     		lsrs r0, r0, # 16	@高16
 1115 084e 1204     		lsls r2, r2, # 16	@ 低16
 1116 0850 120C     		lsrs r2, r2, # 16
ARM GAS  1.s 			page 21


 1117 0852 090C     		lsrs r1, r1, # 16	@高16
 1118 0854 1B04     		lsls r3, r3, # 16	@低16
 1119 0856 1B0C     		lsrs r3, r3, # 16
 1120 0858 1446     		mov r4, r2
 1121 085a 0546     		mov r5, r0
 1122 085c 5A43     		muls r2, r2, r3		@1
 1123 085e 5843     		muls r0, r0, r3		@2
 1124 0860 4C43     		muls r4, r4, r1		@3
 1125 0862 4D43     		muls r5, r5, r1		@4
 1126 0864 0646     		mov r6, r0
 1127 0866 2746     		mov r7, r4
 1128 0868 0004     		lsls r0, r0, # 16	@2低32
 1129 086a 2404     		lsls r4, r4, # 16	@3低32
 1130 086c 360C     		lsrs r6, r6, # 16	@2高32
 1131 086e 3F0C     		lsrs r7, r7, # 16	@3高32
 1132 0870 0021     		movs r1, # 0
 1133 0872 1218     		adds r2, r2, r0		@低32
 1134 0874 4E41     		adcs r6, r6, r1		@高32
 1135 0876 1219     		adds r2, r2, r4
 1136 0878 7E41     		adcs r6, r6, r7
 1137 087a 7619     		adds r6, r6, r5
 1138 087c 3046     		mov r0, r6
 1139 087e 1146     		mov r1, r2
 1140 0880 FCBD     		pop {r2-r7,pc}
 1141              	__cheng_fa_fan_hui:
 1142 0882 0020     		movs r0, # 0
 1143 0884 0021     		movs r1, # 0
 1144 0886 FCBD     		pop {r2-r7,pc}
 1145              	__dai_yu_shu_chufa:	                         @软件除法
 1146              		@ r0 除以 r1 等于 商(r0)余R1
 1147 0888 1CB5     		push {r2-r4,lr}
 1148 088a 0028     		cmp r0, # 0
 1149 088c 0ED0     		beq __dai_yu_shu_chufafanhui
 1150 088e 0029     		cmp r1, # 0
 1151 0890 0CD0     		beq __dai_yu_shu_chufafanhui
 1152 0892 0246     		mov r2, r0
 1153 0894 0123     		movs r3, # 1
 1154 0896 DB07     		lsls r3, r3, # 31
 1155 0898 0020     		movs r0, # 0
 1156 089a 0446     		mov r4, r0
 1157              	__dai_yu_shu_chufaxunhuan:
 1158 089c 5200     		lsls r2, r2, # 1
 1159 089e 6441     		adcs r4, r4, r4
 1160 08a0 8C42     		cmp r4, r1
 1161 08a2 01D3     		bcc __dai_yu_shu_chufaweishubudao0
 1162 08a4 C018     		adds r0, r0, r3
 1163 08a6 641A     		subs r4, r4, r1
 1164              	__dai_yu_shu_chufaweishubudao0:
 1165 08a8 5B08     		lsrs r3, r3, # 1
 1166 08aa F7D1     		bne __dai_yu_shu_chufaxunhuan
 1167              	__dai_yu_shu_chufafanhui:
 1168 08ac 1CBD     		        pop {r2-r4,pc}
 1169              	_nmi_handler:
 1170 08ae 7047     		bx lr
 1171              	_hard_fault:
 1172 08b0 7047     		bx lr
 1173              	_svc_handler:
ARM GAS  1.s 			page 22


 1174 08b2 7047     		bx lr
 1175              	_pendsv_handler:
 1176 08b4 7047     		bx lr
 1177              	_systickzhongduan:
 1178 08b6 FFB5     		push {r0-r7,lr}
 1179 08b8 0848     		ldr r0, = 0xe0000d04
 1180 08ba 0949     		ldr r1, = 0x02000000
 1181 08bc 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 1182 08be FFF781FD 		bl __chuan_gan_qi_lvbo
 1183 08c2 084A     		ldr r2, = cos
 1184 08c4 084B     		ldr r3, = sin
 1185 08c6 1060     		str r0, [r2]		@r
 1186 08c8 1960     		str r1, [r3]		@i
 1187              	@	bl __atan2_ji_suan
 1188 08ca 084C     		ldr r4, = jiaodu
 1189 08cc 2060     		str r0, [r4]
 1190              	
 1191 08ce 0848     		ldr r0, = cos1
 1192 08d0 0849     		ldr r1, = sin1
 1193 08d2 0068     		ldr r0, [r0]
 1194 08d4 0968     		ldr r1, [r1]
 1195              	@	bl __atan2_ji_suan
 1196              			
 1197 08d6 FFBD     		pop {r0-r7,pc}
 1198              	aaa:
 1199 08d8 7047     		bx lr
 1200 08da 0000040D 		.ltorg
 1200      00E00000 
 1200      0002B800 
 1200      0020BC00 
 1200      0020F000 
 1201              		.end
ARM GAS  1.s 			page 23


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 yjmwxwx
                 1.s:11     .data:0000000000000010 $d
                 1.s:12     .data:0000000000000010 zheng_xian_biao
                 1.s:15     .data:00000000000000e0 cordic_yong_cos_sin
                 1.s:17     .data:0000000000000160 cordic_yong_atan_biao
                 1.s:20     *ABS*:0000000020001000 STACKINIT
                 1.s:21     *ABS*:00000000200000a8 guoling_jishu
                 1.s:22     *ABS*:00000000200000ac jiaodu2
                 1.s:23     *ABS*:00000000200000b0 zhuansu
                 1.s:24     *ABS*:00000000200000b4 jishu
                 1.s:25     *ABS*:00000000200000b8 cos
                 1.s:26     *ABS*:00000000200000bc sin
                 1.s:27     *ABS*:00000000200000c0 cos1
                 1.s:28     *ABS*:00000000200000c4 sin1
                 1.s:29     *ABS*:00000000200000c8 jiaodu_cha
                 1.s:30     *ABS*:00000000200000cc jiaodu_1
                 1.s:31     *ABS*:00000000200000e0 cos_jiaozheng
                 1.s:32     *ABS*:00000000200000e4 sin_jiaozheng
                 1.s:33     *ABS*:00000000200000e8 jiaodu_jiaozheng
                 1.s:34     *ABS*:00000000200000ec guoling
                 1.s:35     *ABS*:00000000200000f0 jiaodu
                 1.s:36     *ABS*:00000000200000f4 sin_zheng
                 1.s:37     *ABS*:00000000200000f8 sin_fu
                 1.s:38     *ABS*:00000000200000fc liangcheng
                 1.s:39     *ABS*:0000000020000100 dianyabiao
                 1.s:40     *ABS*:0000000020000300 lvboqizhizhen
                 1.s:41     *ABS*:0000000020000308 lvboqihuanchong
                 1.s:42     *ABS*:0000000020000900 lvboqizhizhen1
                 1.s:43     *ABS*:0000000020000908 lvboqihuanchong1
                 1.s:44     *ABS*:0000000020000a10 lvboqizhizhen2
                 1.s:45     *ABS*:0000000020000a14 lvboqihuanchong2
                 1.s:47     .text:0000000000000000 vectors
                 1.s:93     .text:00000000000000b0 _start
                 1.s:1169   .text:00000000000008ae _nmi_handler
                 1.s:1171   .text:00000000000008b0 _hard_fault
                 1.s:1173   .text:00000000000008b2 _svc_handler
                 1.s:1175   .text:00000000000008b4 _pendsv_handler
                 1.s:1177   .text:00000000000008b6 _systickzhongduan
                 1.s:1198   .text:00000000000008d8 aaa
                            .text:0000000000000000 $d
                 1.s:92     .text:00000000000000b0 $t
                 1.s:94     .text:00000000000000b0 shizhong
                 1.s:101    .text:00000000000000bc denghse
                 1.s:105    .text:00000000000000c2 dengpllguan
                 1.s:117    .text:00000000000000d6 dengpll
                 1.s:126    .text:00000000000000e0 _waisheshizhong
                 1.s:143    .text:00000000000000ee _neicunqingling
                 1.s:147    .text:00000000000000f4 _neicunqinglingxunhuan
                 1.s:152    .text:00000000000000fa _waishezhongduan
                 1.s:173    .text:0000000000000100 io_she_zhi
                 1.s:209    .text:0000000000000118 spi_chushihua
                 1.s:217    .text:0000000000000122 _adcchushihua
                 1.s:221    .text:0000000000000128 _dengadcjiaozhun
                 1.s:227    .text:0000000000000132 _kaiadc
                 1.s:232    .text:000000000000013a _deng_adc_wen_ding
                 1.s:236    .text:0000000000000140 _tongdaoxuanze
ARM GAS  1.s 			page 24


                 1.s:250    .text:0000000000000158 dmachushihua
                 1.s:281    .text:000000000000017c _systick
                 1.s:288    .text:0000000000000186 tim1chushiha
                 1.s:314    .text:00000000000001b2 ting
                 1.s:319    .text:00000000000001b4 __jisuan_zhuansu
                 1.s:329    .text:00000000000001c4 __suan_zhuansu
                 1.s:1097   .text:000000000000083e __chengfa
                 1.s:1053   .text:00000000000007f6 __chufa64
                 1.s:337    .text:00000000000001d4 __xiang_wei_xuan_zhuan
                 1.s:352    .text:00000000000001ee __xuan_zhuan_xiang_wei
                 1.s:369    .text:000000000000020c __cordic_cos_sin
                 1.s:383    .text:000000000000021c cordicxunhuan
                 1.s:415    .text:0000000000000254 __atan2_ji_suan
                 1.s:428    .text:000000000000026a __cordic_atan2_xun_huan
                 1.s:429    .text:000000000000026a __du_cos_sin
                 1.s:449    .text:000000000000028e __ni_shi_zhen_zhuan
                 1.s:442    .text:0000000000000282 __shun_shi_zhen_zhuan
                 1.s:455    .text:0000000000000298 __xuan_zhuan_wan
                 1.s:474    .text:00000000000002bc $d
                 1.s:478    .text:0000000000000388 __xiangwei_jiaozheng
                 1.s:479    .text:0000000000000388 $t
                 1.s:489    .text:000000000000039c __jiaozheng_jiaodu_bushi0
                 1.s:1029   .text:00000000000007d0 _chufa
                 1.s:501    .text:00000000000003b6 __suan_cos_sin
                 1.s:510    .text:00000000000003c4 __chuan_gan_qi_lvbo
                 1.s:531    .text:00000000000003e8 __zheng
                 1.s:527    .text:00000000000003e2 __fan
                 1.s:534    .text:00000000000003ec __guo_ling_jian_ce
                 1.s:548    .text:0000000000000404 __zheng_90
                 1.s:560    .text:000000000000041a __xiangwei
                 1.s:541    .text:00000000000003f8 __fu_90
                 1.s:557    .text:0000000000000414 __baocun_jiaozheng
                 1.s:562    .text:000000000000041a __lv_bo
                 1.s:584    .text:0000000000000446 __lv_bo_qi
                 1.s:607    .text:000000000000046c __zhi_zhen_ding_jiance
                 1.s:612    .text:0000000000000474 __lvboqi_zhizhen_yiwei
                 1.s:618    .text:000000000000047c __zhi_zhen_jia
                 1.s:615    .text:0000000000000478 __zhi_zhen_jian
                 1.s:620    .text:000000000000047e __baocun_shuju_huanchong
                 1.s:624    .text:0000000000000484 __huanchong_leijia
                 1.s:1014   .text:000000000000077e $d
                 1.s:1014   .text:0000000000000780 $d
                 1.s:1031   .text:00000000000007d0 $t
                 1.s:1051   .text:00000000000007f4 _chufafanhui
                 1.s:1041   .text:00000000000007e4 _chufaxunhuan
                 1.s:1048   .text:00000000000007f0 _chufaweishubudao0
                 1.s:1093   .text:0000000000000838 __chu_fa64_fan_hui0
                 1.s:1063   .text:0000000000000804 __chu_fa64_ji_suan
                 1.s:1070   .text:0000000000000810 __chu_fa64_xun_huan
                 1.s:1079   .text:0000000000000820 __chu_fa_yi_wei
                 1.s:1087   .text:000000000000082e __di_yi_wei
                 1.s:1141   .text:0000000000000882 __cheng_fa_fan_hui
                 1.s:1111   .text:0000000000000848 __ji_suan_cheng_fa
                 1.s:1145   .text:0000000000000888 __dai_yu_shu_chufa
                 1.s:1167   .text:00000000000008ac __dai_yu_shu_chufafanhui
                 1.s:1157   .text:000000000000089c __dai_yu_shu_chufaxunhuan
                 1.s:1164   .text:00000000000008a8 __dai_yu_shu_chufaweishubudao0
ARM GAS  1.s 			page 25


                 1.s:1200   .text:00000000000008da $d
                 1.s:1200   .text:00000000000008dc $d

NO UNDEFINED SYMBOLS
