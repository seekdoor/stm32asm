ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@@ 阻抗桥
   3              		@作者：yjmwxwx
   4              		@时间：2019-08-12
   5              		@编译器：ARM-NONE-EABI
   6              		 .thumb
   7              		         .syntax unified
   8              	.section .data
   9              	zheng_xian_biao:
  10 0000 30003300 		.short 0x30,0x33,0x36,0x38,0x3b,0x3e,0x41,0x44,0x47,0x49,0x4c,0x4e,0x50,0x52,0x54,0x56,0x58,0x59,0
  10      36003800 
  10      3B003E00 
  10      41004400 
  10      47004900 
  11              	lcdshuju:
  12 00c8 796A6D77 		.ascii  "yjmwxwx-20190812"
  12      7877782D 
  12      32303139 
  12      30383132 
  13              	dianhua:	
  14 00d8 20202020 		.ascii	"     15552208295"
  14      20313535 
  14      35323230 
  14      38323935 
  15              	qq:
  16 00e8 20202051 		.ascii	"   QQ:3341656346"
  16      513A3333 
  16      34313635 
  16      36333436 
  17              	fu:
  18 00f8 2D       		.ascii "-"
  19              	zheng:
  20 00f9 2B       		.ascii "+"
  21              	xiaomai:
  22 00fa 7869616F 		.ascii "xiaomai ="
  22      6D616920 
  22      3D
  23              		.equ STACKINIT,        	        0x20001000
  24              		.equ asciimabiao,		0x20000000
  25              		.equ xiangminkaiguan,		0x20000030
  26              		.equ jishu,			0x20000034
  27              		.section .text
  28              	vectors:
  29 0000 00100020 		.word STACKINIT
  30 0004 B1000000 		.word _start + 1
  31 0008 25030000 		.word _nmi_handler + 1
  32 000c 27030000 		.word _hard_fault  + 1
  33 0010 00000000 		.word 0
  34 0014 00000000 		.word 0
  35 0018 00000000 		.word 0
  36 001c 00000000 		.word 0
  37 0020 00000000 		.word 0
  38 0024 00000000 		.word 0
  39 0028 00000000 		.word 0
  40 002c 29030000 		.word _svc_handler +1
  41 0030 00000000 		.word 0
  42 0034 00000000 		.word 0
ARM GAS  1.s 			page 2


  43 0038 2B030000 		.word _pendsv_handler +1
  44 003c 2D030000 		.word _systickzhongduan +1               @ 15
  45 0040 3B030000 		.word aaa +1     @ _wwdg +1          @ 0
  46 0044 3B030000 		.word aaa +1     @_pvd +1            @ 1
  47 0048 3B030000 		.word aaa +1     @_rtc +1            @ 2
  48 004c 3B030000 		.word aaa +1     @_flash +1          @ 3
  49 0050 3B030000 		.word aaa +1	@ _rcc + 1          @ 4
  50 0054 3B030000 		.word aaa +1      @_exti0_1  +1      @ 5
  51 0058 3B030000 		.word aaa +1      @ _exti2_3 +1      @ 6
  52 005c 3B030000 		.word aaa +1       @_exti4_15 +1     @ 7
  53 0060 3B030000 		.word aaa +1                         @ 8
  54 0064 3B030000 		.word aaa +1 	@_dma1_1  +1    @ 9
  55 0068 3B030000 		.word aaa +1    @_dma1_2_3 +1        @ 10
  56 006c 3B030000 		.word aaa +1       @_dma1_4_5 +1     @ 11
  57 0070 3B030000 		.word aaa +1	 @_adc1 +1          @ 12
  58 0074 3B030000 		.word aaa +1       @_tim1_brk_up +1  @ 13
  59 0078 3B030000 		.word aaa +1        @ _tim1_cc +1    @ 14
  60 007c 3B030000 		.word aaa +1         @_tim2 +1       @ 15
  61 0080 3B030000 		.word aaa +1          @_tim3 +1      @ 16
  62 0084 3B030000 		.word aaa +1                         @ 17
  63 0088 3B030000 		.word aaa +1		                @ 18
  64 008c 3B030000 		.word aaa +1	@_tim14 +1    @ 19
  65 0090 3B030000 		.word aaa +1                         @ 20
  66 0094 3B030000 		.word aaa +1         @_tim16 +1      @ 21
  67 0098 3B030000 		.word aaa +1         @_tim17 +1      @ 22
  68 009c 3B030000 		.word aaa +1          @_i2c   +1     @ 23
  69 00a0 3B030000 		.word aaa +1                         @ 24
  70 00a4 3B030000 		.word aaa +1           @_spi   +1    @ 25
  71 00a8 3B030000 		.word aaa +1                         @ 26
  72 00ac 3B030000 		.word aaa +1         @_usart1 +1     @ 27
  73              		.align 2
  74              	
  75              	_start:
  76              	shizhong:
  77 00b0 7D4A     		ldr r2, = 0x40022000   @FLASH访问控制
  78 00b2 3221     		movs r1, # 0x32
  79 00b4 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
  80 00b6 7D48     		ldr r0, = 0x40021000 @ rcc
  81 00b8 7D49     		ldr r1, = 0x10001
  82 00ba 0160     		str r1, [r0]
  83              	denghse:
  84 00bc 0168     		ldr r1, [r0]
  85 00be 8903     		lsls r1, r1, # 14
  86 00c0 FCD5     		bpl denghse
  87              	dengpllguan:
  88 00c2 0168     		ldr r1, [r0]
  89 00c4 8901     		lsls r1, r1, # 6
  90 00c6 FCD4     		bmi dengpllguan
  91 00c8 7A49     	        ldr r1, = 0x110002
  92 00ca 4160     	        str r1, [r0, # 0x04]
  93 00cc 7A49     		ldr r1, = 0x1010001
  94 00ce 0160     		str r1, [r0]
  95              	dengpll:
  96 00d0 0168     		ldr r1, [r0]
  97 00d2 8901     		lsls r1, # 6
  98 00d4 FCD5     		bpl dengpll
  99              		@0x34时钟控制寄存器 2 (RCC_CR2)
ARM GAS  1.s 			page 3


 100 00d6 0121     		movs r1, # 0x01
 101 00d8 4163     		str r1, [r0, # 0x34]  @ HSI开14M时钟
 102              	dengdai14mshizhongwending:
 103 00da 416B     		ldr r1, [r0, # 0x34]
 104 00dc 8907     		lsls r1, r1, # 30     @ 左移30位
 105 00de FCD5     		bpl dengdai14mshizhongwending  @ 等待14M时钟稳定
 106              	
 107              	_neicunqingling:
 108 00e0 7648     		ldr r0, = 0x20000000
 109 00e2 0021     		movs r1, # 0
 110 00e4 764B     		ldr r3, = 0x1000
 111              	_neicunqinglingxunhuan:
 112 00e6 043B     		subs r3, # 4
 113 00e8 C150     		str r1, [r0, r3]
 114 00ea FCD1     		bne _neicunqinglingxunhuan
 115              	
 116              	_waisheshizhong:			 @ 外设时钟
 117              		@+0x14=RCC_AHBENR
 118              		@0=DMA @2=SRAM @4=FLITF@6=CRC @17=PA @18=PB @19=PC @20=PD @22=PF
 119 00ec 6F48     		ldr r0, = 0x40021000
 120 00ee 7549     		ldr r1, = 0x460005
 121 00f0 4161     		str r1, [r0, # 0x14]
 122              	
 123              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 124              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 125 00f2 7549     		ldr r1, = 0xa00
 126 00f4 8161     		str r1, [r0, # 0x18]
 127              		@+0X1C=RCC_APB1ENR
 128              		@1=TIM3 @4=TIM6 @5=TIM7 @8=TIM14 @11=WWDG @14=SPI @17=USRT2 @18=USART3 @20=USART5 @21=I2C1
 129              		@22=I2C2 @23=USB @28=PWR
 130              	
 131              	
 132              	tim1chushiha:
 133 00f6 7548     		ldr r0, = 0x40012c00 @ tim1_cr1
 134 00f8 0021     		movs r1, # 0
 135 00fa 8162     		str r1, [r0, # 0x28] @ psc
 136 00fc 7449     		ldr r1, = 96
 137 00fe C162     		str r1, [r0, # 0x2c] @ ARR
 138 0100 7449     		ldr r1, = 0x68
 139 0102 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 140 0104 7449     		ldr r1, = 0x100    @  CC3
 141 0106 0162     		str r1, [r0, # 0x20] @ ccer
 142 0108 7449     		ldr r1, = 0x8000
 143 010a 4164     		str r1, [r0, # 0x44] @ BDTR
 144 010c 7449     		ldr r1, = 0x800 @ CC3 DMA
 145 010e C160     		str r1, [r0, # 0x0c] @ DIER
 146 0110 7449     		ldr r1, = 0xe1
 147 0112 0160     		str r1, [r0]
 148              	
 149              		
 150              	_adcchushihua:
 151 0114 7448     		ldr r0, = 0x40012400  @ adc基地址
 152 0116 7549     		ldr r1, = 0x80000000
 153 0118 8160     		str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 154              	_dengadcjiaozhun:
 155 011a 8168     		ldr r1, [r0, # 0x08]
 156 011c 0900     		 movs r1, r1
ARM GAS  1.s 			page 4


 157 011e FCD4     		bmi _dengadcjiaozhun   @ 等ADC校准
 158              	_kaiadc:
 159 0120 8168     		ldr r1, [r0, # 0x08]
 160 0122 0122     		movs r2, # 0x01
 161 0124 1143     		orrs r1, r1, r2
 162 0126 8160     		str r1, [r0, # 0x08]
 163              	_dengdaiadcwending:
 164 0128 0168     		ldr r1, [r0]
 165 012a C907     		lsls r1, r1, # 31
 166 012c FCD5     		bpl _dengdaiadcwending @ 等ADC稳定
 167              	_tongdaoxuanze:
 168 012e 7049     		ldr r1, = 0x01
 169 0130 8162     		str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 170 0132 7049     		ldr r1, = 0x3000        @ 13 连续转换
 171 0134 C160     		str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 172 0136 0021     		movs r1, # 0	         @
 173 0138 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 174 013a 8168     		ldr r1, [r0, # 0x08]
 175 013c 0422     		movs r2, # 0x04         @ 开始转换
 176 013e 1143     		orrs r1, r1, r2
 177 0140 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 178              	
 179              	dmachushihua:
 180              		@+0=LSR,+4=IFCR,
 181              		@+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 182              		@+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 183              		@+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 184              		@+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 185              		@+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 186              		@+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 187              		@+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 188              	
 189              		@tim1ch3DMA
 190 0142 6D48     		ldr r0, = 0x40020000
 191 0144 6D49     		ldr r1, = 0x40012c3c @ 外设地址
 192 0146 0166     		str r1, [r0, # 0x60]
 193 0148 6D49     		ldr r1, = zheng_xian_biao @ 储存器地址
 194 014a 4166     		str r1, [r0, # 0x64]
 195 014c 6D49     		ldr r1, = 100             @点数
 196 014e C165     		str r1, [r0, # 0x5c]
 197 0150 6D49     		ldr r1, = 0x25b1         @ 储存到外设
 198 0152 8165     		str r1, [r0, # 0x58]
 199              	
 200              	_waishezhongduan:				@外设中断
 201              		@0xE000E100    0-31  写1开，写0没效
 202              		@0XE000E180    0-31 写1关，写0没效
 203              		@0XE000E200    0-31 挂起，写0没效
 204              		@0XE000E280    0-31 清除， 写0没效
 205              	
 206              	@_systick:				@ systick定时器初始化
 207              	
 208              	@	ldr r0, = 0xe000e010
 209              	@	ldr r1, = 0xffffff
 210              	@	str r1, [r0, # 4]
 211              	@	str r1, [r0, # 8]
 212              	@	movs r1, # 0x07
 213              	@	str r1, [r0]
ARM GAS  1.s 			page 5


 214              		
 215              	io_she_zhi:
 216              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 217              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 218              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 219              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 220              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 221              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 222              		@偏移0x10 = 输入数据寄存器
 223              		@偏移0x14 = 输出数据寄存器
 224              		@偏移0x18 = 端口开  0-15置位
 225              		@偏移0x28 = 端口关
 226              		@0X20 = 复用低
 227              		@GPIO口0（0-3位）每个IO口占用4位
 228              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 229              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 230              		@0x24 = 复用高
 231              		@GPIO口8 （0-3位）每个IO口占用4位
 232              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 233              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 234              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 235              	
 236 0154 6D48     		ldr r0, = 0x48000000
 237 0156 6E49     		ldr r1, = 0x28205403
 238 0158 0160     		str r1, [r0]
 239 015a 6E49     		ldr r1, = 0x200
 240 015c 4162     		str r1, [r0, # 0x24]
 241              	
 242              	_lcdchushihua:
 243 015e 3320     		movs r0, # 0x33
 244 0160 0021     		movs r1, # 0
 245 0162 00F033F8 		bl _xielcd
 246 0166 00F02CF8 		bl _lcdyanshi
 247 016a 3220     		movs r0, # 0x32
 248 016c 0021     		movs r1, # 0
 249 016e 00F02DF8 		bl _xielcd
 250 0172 00F026F8 		bl _lcdyanshi
 251 0176 2820     		movs r0, # 0x28
 252 0178 0021     		movs r1, # 0
 253 017a 00F027F8 		bl _xielcd
 254 017e 00F020F8 		bl _lcdyanshi
 255 0182 0C20     		movs r0, # 0x0c
 256 0184 0021     		movs r1, # 0
 257 0186 00F021F8 		bl _xielcd
 258 018a 00F01AF8 		bl _lcdyanshi
 259 018e 0120     		movs r0, # 0x01
 260 0190 0021     		movs r1, # 0
 261 0192 00F01BF8 		bl _xielcd
 262 0196 00F014F8 		bl _lcdyanshi
 263              	
 264              	ting:
 265 019a 8020     		movs r0, # 0x80
 266 019c 5E49     		ldr r1, = lcdshuju
 267 019e 1022     		movs r2, # 16
 268 01a0 00F001F8 		bl _lcdxianshi
 269 01a4 F9E7     		b ting
 270              		
ARM GAS  1.s 			page 6


 271              	
 272              	_lcdxianshi:	  		@r0=LCD位置，r1=数据地址，r2=长度
 273 01a6 1FB5     		push {r0-r4,lr}
 274 01a8 0C46     		mov r4, r1
 275              	
 276 01aa 0021     		movs r1, # 0
 277 01ac 00F00EF8 		bl _xielcd
 278              	
 279 01b0 0121     		movs r1, # 1
 280 01b2 0023     		movs r3, # 0
 281              	_lcdxianshixunhuan:
 282 01b4 E05C     		ldrb r0, [r4,r3]
 283 01b6 00F009F8 		bl _xielcd
 284 01ba 0133     		adds r3, r3, # 1
 285 01bc 9342     		cmp r3, r2
 286 01be F9D1     		bne _lcdxianshixunhuan
 287 01c0 1FBD     		pop {r0-r4,pc}
 288              	
 289              	_lcdyanshi:
 290 01c2 20B5     		push {r5,lr}
 291 01c4 554D     		ldr r5, = 0x2000
 292              	_lcdyanshixunhuan:
 293 01c6 013D     		subs r5, r5, # 1
 294 01c8 FDD1     		bne _lcdyanshixunhuan
 295 01ca 20BD     		pop {r5,pc}
 296              	
 297              	_xielcd:			@入R0=8位,r1=0命令,r1=1数据
 298 01cc 3FB5     		push {r0-r5,lr}
 299 01ce 544C     		ldr r4, = xiangminkaiguan  @ 相敏开关
 300 01d0 0246     		mov r2, r0
 301 01d2 2568     		ldr r5, [r4]
 302 01d4 1209     		lsrs r2, r2, # 4
 303 01d6 9200     		lsls r2, r2, # 2	@ 高四位
 304 01d8 0007     		lsls r0, r0, # 28
 305 01da 800E     		lsrs r0, r0, # 26	@ 低四位
 306 01dc C907     		lsls r1, r1, # 31
 307 01de 01D5     		bpl __lcd_ming_ling
 308              	__lcd_shu_ju:
 309 01e0 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 310 01e2 00E0     		b __xiang_min_kai_guan
 311              	__lcd_ming_ling:
 312 01e4 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 313              	__xiang_min_kai_guan:
 314 01e6 402D     		cmp r5, # 0x40
 315 01e8 01D1     		bne __kai_zheng_xiang_wei
 316 01ea 8025     		movs r5, # 0x80
 317 01ec 00E0     		b __xie_lcd_shu_ju
 318              	__kai_zheng_xiang_wei:	
 319 01ee 4025     		movs r5, # 0x40
 320              	__xie_lcd_shu_ju:
 321 01f0 2560     		str r5, [r4]
 322 01f2 5B19     		adds r3, r3, r5
 323 01f4 0146     		mov r1, r0
 324 01f6 D218     		adds r2, r2, r3
 325 01f8 1000     		movs r0, r2
 326 01fa 00F00BF8 		bl __74hc595
 327 01fe 0238     		subs r0, r0, # 0x02
ARM GAS  1.s 			page 7


 328 0200 00F008F8 		bl __74hc595
 329 0204 0846     		mov r0, r1
 330 0206 C018     		adds r0, r0, r3
 331 0208 00F004F8 		bl __74hc595
 332 020c 0238     		subs r0, r0, # 0x02
 333 020e 00F001F8 		bl __74hc595
 334 0212 3FBD     		pop {r0-r5,pc}
 335              		
 336              	__74hc595:			@ 入R0=8位
 337 0214 FFB5     		push {r0-r7,lr}
 338 0216 3D4E     		ldr r6, = 0x48000000
 339 0218 2025     		movs r5, # 0x20		@ SRCLK
 340 021a 4022     		movs r2, # 0x40		@ RCLK
 341 021c 8023     		movs r3, # 0x80		@ SER
 342 021e 1824     		movs r4, # 24
 343              	__595_yiweixunhuan:
 344 0220 B261     		str r2, [r6, # 0x18]	@ rclk=0
 345 0222 B561     		str r5, [r6, # 0x18]	@ srclk=0
 346 0224 FF27     		movs r7, # 0xff
 347              	__595_yanshi:
 348 0226 013F     		subs r7, r7, # 1
 349 0228 FDD1     		bne __595_yanshi
 350 022a 0146     		mov r1, r0
 351 022c A140     		lsls r1, r1, r4
 352 022e 01D5     		bpl __ser_0
 353              	__ser_1:
 354 0230 B362     		str r3, [r6, # 0x28]	@ ser=1
 355 0232 00E0     		b __595_yiwei
 356              	__ser_0:
 357 0234 B361     		str r3, [r6, # 0x18]	@ ser=0
 358              	__595_yiwei:
 359 0236 B562     		str r5, [r6, # 0x28]
 360 0238 FF27     		movs r7, # 0xff
 361              	__595_yanshi1:
 362 023a 013F     		subs r7, r7, # 1
 363 023c FDD1     		bne __595_yanshi1
 364 023e 0134     		adds r4, r4, # 1
 365 0240 202C     		cmp r4, # 32
 366 0242 EDD1     		bne __595_yiweixunhuan
 367 0244 B262     		str r2, [r6, # 0x28]	@ rclk=1
 368 0246 FF27     		movs r7, # 0xff
 369              	__595_yanshi2:
 370 0248 013F     		subs r7, r7, # 1
 371 024a FDD1     		bne __595_yanshi2
 372 024c B261     		str r2, [r6, # 0x18]	@ rclk = 0
 373 024e FFBD     		pop {r0-r7,pc}
 374              	
 375              	
 376              	
 377              	_zhuanascii:					@ 16进制转ASCII
 378              			@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 379 0250 FFB5     		push {r0-r7,lr}
 380 0252 1F46     		mov r7, r3
 381 0254 0546     		mov r5, r0
 382 0256 0E46     		mov r6, r1
 383 0258 0A21     		movs r1, # 10
 384              	_xunhuanqiuma:
ARM GAS  1.s 			page 8


 385 025a 00F012F8 		bl _chufa
 386 025e 0446     		mov r4, r0
 387 0260 4C43     		muls r4, r1
 388 0262 2B1B     		subs r3, r5, r4
 389 0264 3033     		adds r3, r3, # 0x30
 390 0266 0546     		mov r5, r0
 391 0268 013E     		subs r6, r6, # 1
 392 026a 08D0     		beq _qiumafanhui
 393 026c BE42     		cmp r6, r7
 394 026e 02D1     		bne _meidaoxiaoshudian
 395 0270 2E24     		movs r4, # 0x2e		@小数点
 396 0272 9455     		strb r4, [r2,r6]	@插入小数点
 397 0274 013E     		subs r6, r6, # 1
 398              	_meidaoxiaoshudian:
 399 0276 9355     		strb r3, [r2,r6]
 400 0278 3600     		movs r6, r6
 401 027a EED1     		bne _xunhuanqiuma
 402 027c FFBD     		pop {r0-r7,pc}
 403              	_qiumafanhui:
 404 027e 9355     		strb r3, [r2, r6]
 405 0280 FFBD     		pop {r0-r7,pc}
 406              	
 407              		
 408              	_chufa:				@软件除法
 409              		@ r0 除以 r1 等于 商(r0)余数R1
 410 0282 1EB5     		push {r1-r4,lr}
 411 0284 0028     		cmp r0, # 0
 412 0286 0ED0     		beq _chufafanhui
 413 0288 0029     		cmp r1, # 0
 414 028a 0CD0     		beq _chufafanhui
 415 028c 0246     		mov r2, r0
 416 028e 0123     		movs r3, # 1
 417 0290 DB07     		lsls r3, r3, # 31
 418 0292 0020     		movs r0, # 0
 419 0294 0446     		mov r4, r0
 420              	_chufaxunhuan:
 421 0296 5200     		lsls r2, r2, # 1
 422 0298 6441     		adcs r4, r4, r4
 423 029a 8C42     		cmp r4, r1
 424 029c 01D3     		bcc _chufaweishubudao0
 425 029e C018     		adds r0, r0, r3
 426 02a0 641A     		subs r4, r4, r1
 427              	_chufaweishubudao0:
 428 02a2 5B08     		lsrs r3, r3, # 1
 429 02a4 F7D1     		bne _chufaxunhuan
 430              	_chufafanhui:
 431 02a6 1EBD     		pop {r1-r4,pc}
 432 02a8 00200240 		.ltorg
 432      00100240 
 432      01000100 
 432      02001100 
 432      01000101 
 433              	
 434              	
 435              	_nmi_handler:
 436 0324 7047     		bx lr
 437              	_hard_fault:
ARM GAS  1.s 			page 9


 438 0326 7047     		bx lr
 439              	_svc_handler:
 440 0328 7047     		bx lr
 441              	_pendsv_handler:
 442 032a 7047     		bx lr
 443              	_systickzhongduan:
 444 032c 034A     		ldr r2, = jishu
 445 032e 0448     		ldr r0, = 0xe0000d04
 446 0330 1368     		ldr r3, [r2]
 447 0332 0449     		ldr r1, = 0x02000000
 448 0334 0133     		adds r3, r3, # 1
 449 0336 1360     		str r3, [r2]
 450 0338 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 451              	aaa:
 452 033a 70473400 		bx lr
 452      0020040D 
 452      00E00000 
 452      0002
ARM GAS  1.s 			page 10


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 zheng_xian_biao
                 1.s:11     .data:00000000000000c8 lcdshuju
                 1.s:13     .data:00000000000000d8 dianhua
                 1.s:15     .data:00000000000000e8 qq
                 1.s:17     .data:00000000000000f8 fu
                 1.s:19     .data:00000000000000f9 zheng
                 1.s:21     .data:00000000000000fa xiaomai
                 1.s:23     *ABS*:0000000020001000 STACKINIT
                 1.s:24     *ABS*:0000000020000000 asciimabiao
                 1.s:25     *ABS*:0000000020000030 xiangminkaiguan
                 1.s:26     *ABS*:0000000020000034 jishu
                 1.s:28     .text:0000000000000000 vectors
                 1.s:75     .text:00000000000000b0 _start
                 1.s:435    .text:0000000000000324 _nmi_handler
                 1.s:437    .text:0000000000000326 _hard_fault
                 1.s:439    .text:0000000000000328 _svc_handler
                 1.s:441    .text:000000000000032a _pendsv_handler
                 1.s:443    .text:000000000000032c _systickzhongduan
                 1.s:451    .text:000000000000033a aaa
                            .text:0000000000000000 $d
                 1.s:73     .text:00000000000000b0 $t
                 1.s:76     .text:00000000000000b0 shizhong
                 1.s:83     .text:00000000000000bc denghse
                 1.s:87     .text:00000000000000c2 dengpllguan
                 1.s:95     .text:00000000000000d0 dengpll
                 1.s:102    .text:00000000000000da dengdai14mshizhongwending
                 1.s:107    .text:00000000000000e0 _neicunqingling
                 1.s:111    .text:00000000000000e6 _neicunqinglingxunhuan
                 1.s:116    .text:00000000000000ec _waisheshizhong
                 1.s:132    .text:00000000000000f6 tim1chushiha
                 1.s:150    .text:0000000000000114 _adcchushihua
                 1.s:154    .text:000000000000011a _dengadcjiaozhun
                 1.s:158    .text:0000000000000120 _kaiadc
                 1.s:163    .text:0000000000000128 _dengdaiadcwending
                 1.s:167    .text:000000000000012e _tongdaoxuanze
                 1.s:179    .text:0000000000000142 dmachushihua
                 1.s:200    .text:0000000000000154 _waishezhongduan
                 1.s:215    .text:0000000000000154 io_she_zhi
                 1.s:242    .text:000000000000015e _lcdchushihua
                 1.s:297    .text:00000000000001cc _xielcd
                 1.s:289    .text:00000000000001c2 _lcdyanshi
                 1.s:264    .text:000000000000019a ting
                 1.s:272    .text:00000000000001a6 _lcdxianshi
                 1.s:281    .text:00000000000001b4 _lcdxianshixunhuan
                 1.s:292    .text:00000000000001c6 _lcdyanshixunhuan
                 1.s:311    .text:00000000000001e4 __lcd_ming_ling
                 1.s:308    .text:00000000000001e0 __lcd_shu_ju
                 1.s:313    .text:00000000000001e6 __xiang_min_kai_guan
                 1.s:318    .text:00000000000001ee __kai_zheng_xiang_wei
                 1.s:320    .text:00000000000001f0 __xie_lcd_shu_ju
                 1.s:336    .text:0000000000000214 __74hc595
                 1.s:343    .text:0000000000000220 __595_yiweixunhuan
                 1.s:347    .text:0000000000000226 __595_yanshi
                 1.s:356    .text:0000000000000234 __ser_0
                 1.s:353    .text:0000000000000230 __ser_1
                 1.s:358    .text:0000000000000236 __595_yiwei
ARM GAS  1.s 			page 11


                 1.s:361    .text:000000000000023a __595_yanshi1
                 1.s:369    .text:0000000000000248 __595_yanshi2
                 1.s:377    .text:0000000000000250 _zhuanascii
                 1.s:384    .text:000000000000025a _xunhuanqiuma
                 1.s:408    .text:0000000000000282 _chufa
                 1.s:403    .text:000000000000027e _qiumafanhui
                 1.s:398    .text:0000000000000276 _meidaoxiaoshudian
                 1.s:430    .text:00000000000002a6 _chufafanhui
                 1.s:420    .text:0000000000000296 _chufaxunhuan
                 1.s:427    .text:00000000000002a2 _chufaweishubudao0
                 1.s:432    .text:00000000000002a8 $d
                 1.s:436    .text:0000000000000324 $t
                 1.s:452    .text:000000000000033c $d

NO UNDEFINED SYMBOLS
