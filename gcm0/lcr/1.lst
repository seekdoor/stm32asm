ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@@ 阻抗桥
   3              		@作者：yjmwxwx
   4              		@时间：2019-08-12
   5              		@编译器：ARM-NONE-EABI
   6              		 .thumb
   7              		         .syntax unified
   8              	.section .data
   9              	zheng_xian_biao:
  10 0000 17001800 		.short 23,24,26,27,29,30,31,33,34,35,36,38,39,40,41,41,42,43,44,44,45,45,46,46,46,46,46,46,46,45,4
  10      1A001B00 
  10      1D001E00 
  10      1F002100 
  10      22002300 
  11              	lcdshuju:
  12 00cc 796A6D77 		.ascii  "yjmwxwx-20190812"
  12      7877782D 
  12      32303139 
  12      30383132 
  13              	dianhua:	
  14 00dc 20202020 		.ascii	"     15552208295"
  14      20313535 
  14      35323230 
  14      38323935 
  15              	qq:
  16 00ec 20202051 		.ascii	"   QQ:3341656346"
  16      513A3333 
  16      34313635 
  16      36333436 
  17              	xushu:
  18 00fc 69       		.ascii "i"
  19              	fu:
  20 00fd 2D       		.ascii "-"
  21              	zheng:
  22 00fe 2B       		.ascii "+"
  23              	dianzu:
  24 00ff 523D     		.ascii	"R="
  25              	dianrong:
  26 0101 433D     		.ascii	"C="
  27              	pinlv:
  28 0103 31304B48 		.ascii	"10KHZ"
  28      5A
  29              	qianou:
  30 0108 4B       		.ascii	"K"
  31              	ou:
  32 0109 F4000000 	        .int    0xf4
  33              	qingping:
  34 010d 20000000 		.int 0x20
  35              	xiaomai:
  36 0111 7869616F 		.ascii "xiaomai ="
  36      6D616920 
  36      3D
  37              		.equ STACKINIT,        	        0x20001000
  38              		.equ asciimabiao,		0x20000000
  39              		.equ liangcheng,		0x20000030
  40              		.equ jishu,			0x20000034
  41              		.equ jianbo,			0x20000038
ARM GAS  1.s 			page 2


  42              		.equ dianyabiao,		0x20000040
  43              		.equ lvboqizhizhen,		0x20000600
  44              		.equ lvboqihuanchong,		0x20000604
  45              		.equ lvboqizhizhen1,		0x20000700
  46              		.equ lvboqihuanchong1,		0x20000704
  47              		.equ lvboqizhizhen2,		0x20000800
  48              		.equ lvboqihuanchong2,		0x20000804
  49              		.equ lvboqizhizhen3,		0x20000900
  50              		.equ lvboqihuanchong3,		0x20000904
  51              		.equ xia_bi_shi_bu,		0x20000a00
  52              		.equ shang_bi_shi_bu,		0x20000a04
  53              		.equ xia_bi_xu_bu,		0x20000a08
  54              		.equ shang_bi_xu_bu,		0x20000a0c
  55              		.equ bu_chang_100r,		0x20000a10
  56              		.equ zidongliangchengyanshi,	0x20000a14
  57              		.equ dianzuzhi,			0x20000a18
  58              		.equ dianrongzhi,		0x20000a1c
  59              		.section .text
  60              	vectors:
  61 0000 00100020 		.word STACKINIT
  62 0004 B1000000 		.word _start + 1
  63 0008 B1060000 		.word _nmi_handler + 1
  64 000c B3060000 		.word _hard_fault  + 1
  65 0010 00000000 		.word 0
  66 0014 00000000 		.word 0
  67 0018 00000000 		.word 0
  68 001c 00000000 		.word 0
  69 0020 00000000 		.word 0
  70 0024 00000000 		.word 0
  71 0028 00000000 		.word 0
  72 002c B5060000 		.word _svc_handler +1
  73 0030 00000000 		.word 0
  74 0034 00000000 		.word 0
  75 0038 B7060000 		.word _pendsv_handler +1
  76 003c B9060000 		.word _systickzhongduan +1               @ 15
  77 0040 C7060000 		.word aaa +1     @ _wwdg +1          @ 0
  78 0044 C7060000 		.word aaa +1     @_pvd +1            @ 1
  79 0048 C7060000 		.word aaa +1     @_rtc +1            @ 2
  80 004c C7060000 		.word aaa +1     @_flash +1          @ 3
  81 0050 C7060000 		.word aaa +1	@ _rcc + 1          @ 4
  82 0054 C7060000 		.word aaa +1      @_exti0_1  +1      @ 5
  83 0058 C7060000 		.word aaa +1      @ _exti2_3 +1      @ 6
  84 005c C7060000 		.word aaa +1       @_exti4_15 +1     @ 7
  85 0060 C7060000 		.word aaa +1                         @ 8
  86 0064 C7060000 		.word aaa +1 	@_dma1_1  +1    @ 9
  87 0068 C7060000 		.word aaa +1    @_dma1_2_3 +1        @ 10
  88 006c C7060000 		.word aaa +1       @_dma1_4_5 +1     @ 11
  89 0070 C7060000 		.word aaa +1	 @_adc1 +1          @ 12
  90 0074 C7060000 		.word aaa +1       @_tim1_brk_up +1  @ 13
  91 0078 C7060000 		.word aaa +1        @ _tim1_cc +1    @ 14
  92 007c C7060000 		.word aaa +1         @_tim2 +1       @ 15
  93 0080 C7060000 		.word aaa +1          @_tim3 +1      @ 16
  94 0084 C7060000 		.word aaa +1                         @ 17
  95 0088 C7060000 		.word aaa +1		                @ 18
  96 008c C7060000 		.word aaa +1	@_tim14 +1    @ 19
  97 0090 C7060000 		.word aaa +1                         @ 20
  98 0094 C7060000 		.word aaa +1         @_tim16 +1      @ 21
ARM GAS  1.s 			page 3


  99 0098 C7060000 		.word aaa +1         @_tim17 +1      @ 22
 100 009c C7060000 		.word aaa +1          @_i2c   +1     @ 23
 101 00a0 C7060000 		.word aaa +1                         @ 24
 102 00a4 C7060000 		.word aaa +1           @_spi   +1    @ 25
 103 00a8 C7060000 		.word aaa +1                         @ 26
 104 00ac C7060000 		.word aaa +1         @_usart1 +1     @ 27
 105              		.align 2
 106              	
 107              	_start:
 108 00b0 6548     		ldr r0, = 0xffff
 109              	yanshi111:
 110 00b2 0138     		subs r0, r0, # 1
 111 00b4 FDD1     		bne yanshi111
 112              		
 113              	shizhong:
 114 00b6 654A     		ldr r2, = 0x40022000   @FLASH访问控制
 115 00b8 3221     		movs r1, # 0x32
 116 00ba 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 117 00bc 6448     		ldr r0, = 0x40021000 @ rcc
 118 00be 6549     		ldr r1, = 0x10001
 119 00c0 0160     		str r1, [r0]
 120              	denghse:
 121 00c2 0168     		ldr r1, [r0]
 122 00c4 8903     		lsls r1, r1, # 14
 123 00c6 FCD5     		bpl denghse
 124              	dengpllguan:
 125 00c8 0168     		ldr r1, [r0]
 126 00ca 8901     		lsls r1, r1, # 6
 127 00cc FCD4     		bmi dengpllguan
 128 00ce 6249     	        ldr r1, = 0x110002
 129 00d0 4160     	        str r1, [r0, # 0x04]
 130 00d2 6249     		ldr r1, = 0x1010001
 131 00d4 0160     		str r1, [r0]
 132              	dengpll:
 133 00d6 0168     		ldr r1, [r0]
 134 00d8 8901     		lsls r1, # 6
 135 00da FCD5     		bpl dengpll
 136              		@0x34时钟控制寄存器 2 (RCC_CR2)
 137 00dc 0121     		movs r1, # 0x01
 138 00de 4163     		str r1, [r0, # 0x34]  @ HSI开14M时钟
 139              	dengdai14mshizhongwending:
 140 00e0 416B     		ldr r1, [r0, # 0x34]
 141 00e2 8907     		lsls r1, r1, # 30     @ 左移30位
 142 00e4 FCD5     		bpl dengdai14mshizhongwending  @ 等待14M时钟稳定
 143              	
 144              	_neicunqingling:
 145 00e6 5E48     		ldr r0, = 0x20000000
 146 00e8 0021     		movs r1, # 0
 147 00ea 5E4B     		ldr r3, = 0x1000
 148              	_neicunqinglingxunhuan:
 149 00ec 043B     		subs r3, # 4
 150 00ee C150     		str r1, [r0, r3]
 151 00f0 FCD1     		bne _neicunqinglingxunhuan
 152              	
 153              	_waisheshizhong:			 @ 外设时钟
 154              		@+0x14=RCC_AHBENR
 155              		@0=DMA @2=SRAM @4=FLITF@6=CRC @17=PA @18=PB @19=PC @20=PD @22=PF
ARM GAS  1.s 			page 4


 156 00f2 5748     		ldr r0, = 0x40021000
 157 00f4 5C49     		ldr r1, = 0x460005
 158 00f6 4161     		str r1, [r0, # 0x14]
 159              	
 160              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 161              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 162 00f8 5C49     		ldr r1, = 0xa00
 163 00fa 8161     		str r1, [r0, # 0x18]
 164              		@+0X1C=RCC_APB1ENR
 165              		@1=TIM3 @4=TIM6 @5=TIM7 @8=TIM14 @11=WWDG @14=SPI @17=USRT2 @18=USART3 @20=USART5 @21=I2C1
 166              		@22=I2C2 @23=USB @28=PWR
 167 00fc 0221     		movs r1, # 0x02
 168 00fe C161     		str r1, [r0, # 0x1c]
 169              	
 170              	
 171              	_waishezhongduan:				@外设中断
 172              		@0xE000E100    0-31  写1开，写0没效
 173              		@0XE000E180    0-31 写1关，写0没效
 174              		@0XE000E200    0-31 挂起，写0没效
 175              		@0XE000E280    0-31 清除， 写0没效
 176              	
 177              	@_systick:				@ systick定时器初始化
 178              	
 179              	@	ldr r0, = 0xe000e010
 180              	@	ldr r1, = 0xffffff
 181              	@	str r1, [r0, # 4]
 182              	@	str r1, [r0, # 8]
 183              	@	movs r1, # 0x07
 184              	@	str r1, [r0]
 185              		
 186              	io_she_zhi:
 187              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 188              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 189              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 190              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 191              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 192              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 193              		@偏移0x10 = 输入数据寄存器
 194              		@偏移0x14 = 输出数据寄存器
 195              		@偏移0x18 = 端口开  0-15置位
 196              		@偏移0x28 = 端口关
 197              		@0X20 = 复用低
 198              		@GPIO口0（0-3位）每个IO口占用4位
 199              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 200              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 201              		@0x24 = 复用高
 202              		@GPIO口8 （0-3位）每个IO口占用4位
 203              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 204              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 205              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 206              	
 207 0100 5B48     		ldr r0, = 0x48000000
 208 0102 5C49     		ldr r1, = 0x2824540f
 209 0104 0160     		str r1, [r0]
 210 0106 5C49     		ldr r1, = 0x200
 211 0108 4162     		str r1, [r0, # 0x24]
 212              	
ARM GAS  1.s 			page 5


 213              	
 214              	
 215              	_adcchushihua:
 216 010a 5C48     	        ldr r0, = 0x40012400  @ adc基地址
 217 010c 5C49     	        ldr r1, = 0x80000000
 218 010e 8160     	        str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 219              	_dengadcjiaozhun:
 220 0110 8168     	        ldr r1, [r0, # 0x08]
 221 0112 0900     	        movs r1, r1
 222 0114 FCD4     	        bmi _dengadcjiaozhun   @ 等ADC校准
 223              	_kaiadc:
 224 0116 8168     		ldr r1, [r0, # 0x08]
 225 0118 0122     	        movs r2, # 0x01
 226 011a 1143     		orrs r1, r1, r2
 227 011c 8160     	        str r1, [r0, # 0x08]
 228              	_dengdaiadcwending:
 229 011e 0168     		ldr r1, [r0]
 230 0120 C907     		lsls r1, r1, # 31
 231 0122 FCD5     		bpl _dengdaiadcwending @ 等ADC稳定
 232              	_tongdaoxuanze:
 233 0124 5749     		ldr r1, = 2
 234 0126 8162     	        str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 235 0128 5749     	        ldr r1, = 0xc03
 236 012a C160     	        str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 237 012c 0021     		movs r1, # 0
 238 012e 4161     	        str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 239 0130 8168     		ldr r1, [r0, # 0x08]
 240 0132 564A     	        ldr r2, = 0x04         @ 开始转换
 241 0134 1143     	        orrs r1, r1, r2
 242 0136 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 243              	
 244              	
 245              		
 246              	dmachushihua:
 247              	        @+0=LSR,+4=IFCR,
 248              	        @+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 249              	        @+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 250              	        @+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 251              	        @+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 252              	        @+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 253              	        @+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 254              	        @+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 255              	
 256              	        @tim1ch3DMA
 257 0138 5548     	        ldr r0, = 0x40020000
 258 013a 5649     	        ldr r1, = 0x40012c3c @ 外设地址
 259 013c 0166     	        str r1, [r0, # 0x60]
 260 013e 5649     	        ldr r1, = zheng_xian_biao @ 储存器地址
 261 0140 4166     	        str r1, [r0, # 0x64]
 262 0142 5649     	        ldr r1, = 101             @点数
 263 0144 C165     	        str r1, [r0, # 0x5c]
 264 0146 5649     	        ldr r1, = 0x35b1         @ 储存到外设
 265 0148 8165     	        str r1, [r0, # 0x58]
 266              		@ adc dma
 267 014a 5148     		ldr r0, = 0x40020000
 268 014c 5549     		ldr r1, = 0x40012440
 269 014e 0161     		str r1, [r0, # 0x10]
ARM GAS  1.s 			page 6


 270 0150 5549     		ldr r1, = dianyabiao
 271 0152 4161     		str r1, [r0, # 0x14]
 272 0154 5549     		ldr r1, =  202
 273 0156 C160     		str r1, [r0, # 0x0c]
 274 0158 5549     		ldr r1, = 0x5a1		@ 5a1
 275 015a 8160     		str r1, [r0, # 0x08]
 276              	
 277              	
 278              	tim1chushiha:
 279 015c 5548     	        ldr r0, = 0x40012c00 @ tim1_cr1
 280 015e 0021     	        movs r1, # 0
 281 0160 8162     	        str r1, [r0, # 0x28] @ psc
 282 0162 5549     	        ldr r1, = 46
 283 0164 C162     	        str r1, [r0, # 0x2c] @ ARR
 284              		@	movs r1, # 0x40
 285 0166 2021     		movs r1, # 0x20
 286 0168 4160     		str r1, [r0, # 0x04] @ TRGO
 287 016a 3821     		movs r1, # 0x38
 288 016c 8161     		str r1, [r0, # 0x18] @ ccmr1 cc1
 289 016e 2E21     		movs r1, # 46
 290 0170 4163     		str r1, [r0, # 0x34]
 291 0172 5249     	        ldr r1, = 0x68
 292 0174 C161     	        str r1, [r0, # 0x1c] @ ccmr2  CC3
 293 0176 5249     	        ldr r1, = 0x100    @  CC3
 294 0178 0162     	        str r1, [r0, # 0x20] @ ccer
 295 017a 5249     	        ldr r1, = 0x8000
 296 017c 4164     	        str r1, [r0, # 0x44] @ BDTR
 297 017e 5249     	        ldr r1, = 0x800 @ CC3 DMA
 298 0180 C160     	        str r1, [r0, # 0x0c] @ DIER
 299 0182 5249     	        ldr r1, = 0x81
 300 0184 0160     	        str r1, [r0]
 301              	
 302              	
 303              	
 304              	_lcdchushihua:
 305 0186 3320     		movs r0, # 0x33
 306 0188 0021     		movs r1, # 0
 307 018a 00F022FA 		bl _xielcd
 308 018e 00F01BFA 		bl _lcdyanshi
 309 0192 3220     		movs r0, # 0x32
 310 0194 0021     		movs r1, # 0
 311 0196 00F01CFA 		bl _xielcd
 312 019a 00F015FA 		bl _lcdyanshi
 313 019e 2820     		movs r0, # 0x28
 314 01a0 0021     		movs r1, # 0
 315 01a2 00F016FA 		bl _xielcd
 316 01a6 00F00FFA 		bl _lcdyanshi
 317 01aa 0C20     		movs r0, # 0x0c
 318 01ac 0021     		movs r1, # 0
 319 01ae 00F010FA 		bl _xielcd
 320 01b2 00F009FA 		bl _lcdyanshi
 321 01b6 0120     		movs r0, # 0x01
 322 01b8 0021     		movs r1, # 0
 323 01ba 00F00AFA 		bl _xielcd
 324 01be 00F003FA 		bl _lcdyanshi
 325              	
 326              	@	movs r0, # 0x80
ARM GAS  1.s 			page 7


 327              	@	ldr r1, = lcdshuju
 328              	@	movs r2, # 16
 329              	@	movs r3, # 0xff
 330              	@	bl _lcdxianshi
 331              		
 332 01c2 4348     		ldr r0, = liangcheng
 333 01c4 0021     		movs r1, # 0x00
 334 01c6 0160     		str r1, [r0]
 335              	ting:
 336 01c8 00F060F9 		bl __zi_dong_liang_cheng
 337 01cc 3648     	        ldr r0, = dianyabiao
 338 01ce 3030     		adds r0, r0, # 0x30
 339 01d0 3221     	        movs r1, # 0x32
 340 01d2 00F076F9 	        bl _jianbo
 341 01d6 00F037F9 		bl __zhen_fu_lv_bo
 342 01da 00F0B5F8 		bl __zu_kang_ji_suan
 343 01de 3D48     		ldr r0, = dianrongzhi
 344 01e0 0821     	        movs r1, # 8
 345 01e2 0068     		ldr r0, [r0]
 346 01e4 1E4A     	        ldr r2, = asciimabiao
 347 01e6 FF23     	        movs r3, # 0xff
 348 01e8 00F02FFA 	        bl _zhuanascii
 349 01ec 8520     	        movs r0, # 0x85
 350 01ee 1C49     	        ldr r1, = asciimabiao
 351 01f0 0822     	        movs r2, # 8
 352 01f2 00F0DBF9 	        bl _lcdxianshi
 353              		
 354 01f6 3848     	        ldr r0, = dianzuzhi
 355 01f8 0721     	        movs r1, # 7
 356 01fa 0068     	        ldr r0, [r0]
 357 01fc 184A     		ldr r2, = asciimabiao
 358 01fe FF23     		movs r3, # 0xff
 359 0200 00F023FA 	        bl _zhuanascii
 360 0204 C320     		movs r0, # 0xc3
 361 0206 1649     		ldr r1, = asciimabiao
 362 0208 0722     		movs r2, # 7
 363 020a 00F0CFF9 	        bl _lcdxianshi
 364              	
 365              	__xian_shi_qi_ta:
 366 020e 3048     		ldr r0, = liangcheng
 367 0210 0068     		ldr r0, [r0]
 368 0212 8009     		lsrs r0, r0, # 6
 369 0214 0121     		movs r1, # 1
 370 0216 124A     	        ldr r2, = asciimabiao
 371 0218 FF23     	        movs r3, # 0xff
 372 021a 00F016FA 	        bl _zhuanascii
 373 021e 8020     	        movs r0, # 0x80
 374 0220 0F49     	        ldr r1, = asciimabiao
 375 0222 0122     	        movs r2, # 1
 376 0224 00F0C2F9 	        bl _lcdxianshi
 377              	
 378 0228 C120     	        movs r0, # 0xc1
 379 022a 2C49     	        ldr r1, = dianzu
 380 022c 0222     	        movs r2, # 2
 381 022e 00F0BDF9 	        bl _lcdxianshi
 382 0232 CB20     	        movs r0, # 0xcb
 383 0234 2A49     	        ldr r1, = pinlv
ARM GAS  1.s 			page 8


 384 0236 0522     	        movs r2, # 5
 385 0238 00F0B8F9 	        bl _lcdxianshi
 386              	__xian_shi_dian_rong:
 387 023c 8320     		movs r0, # 0x83
 388 023e 2949     		ldr r1, = dianrong
 389 0240 0222     		movs r2, # 2
 390 0242 00F0B3F9 		bl _lcdxianshi
 391 0246 BFE7     		b ting
 392              	
 393 0248 FFFF0000 		.ltorg
 393      00200240 
 393      00100240 
 393      01000100 
 393      02001100 
 394              	
 395              	dd:
 396 02e8 00F0D0F8 	   	bl __zi_dong_liang_cheng
 397 02ec 9148     		ldr r0, = liangcheng
 398 02ee 0068     	        ldr r0, [r0]
 399 02f0 0421     	        movs r1, # 4
 400 02f2 914A     	        ldr r2, = asciimabiao
 401 02f4 FF23     	        movs r3, # 0xff
 402 02f6 00F0A8F9 	        bl _zhuanascii
 403 02fa C620     	        movs r0, # 0xc6
 404 02fc 8E49     	        ldr r1, = asciimabiao
 405 02fe 0422     		movs r2, # 0x04
 406 0300 00F054F9 		bl _lcdxianshi
 407              	
 408 0304 8D48     	        ldr r0, = dianyabiao
 409 0306 2E30     	        adds r0, r0, # 0x2e
 410 0308 3221     	        movs r1, # 0x32
 411 030a 00F0DAF8 	        bl _jianbo
 412 030e 00F09BF8 	        bl __zhen_fu_lv_bo
 413 0312 00F05DF8 	        bl __xian_shi_shang_xia_bi
 414 0316 E7E7     		b dd
 415              	
 416              	__dian_zu_ji_suan:
 417 0318 0EB5     		push {r1-r3,lr}
 418 031a 8948     		ldr r0, = shang_bi_shi_bu
 419 031c 8949     		ldr r1, = xia_bi_shi_bu
 420 031e 854B     		ldr r3, = liangcheng
 421              		@ldr r2, = bu_chang_100r
 422 0320 0068     		ldr r0, [r0]
 423 0322 1B68     		ldr r3, [r3]
 424 0324 0968     		ldr r1, [r1]
 425              		@ldr r2, [r2]
 426              	__liang_cheng_100k:	
 427 0326 002B     		cmp r3, # 0x00
 428 0328 01D1     		bne __liang_cheng10k
 429 032a 874A     		ldr r2, = 100000
 430 032c 08E0     		b __ji_suan_dian_zu
 431              	__liang_cheng10k:
 432 032e 402B     		cmp r3, # 0x40
 433 0330 01D1     		bne __liang_cheng1k
 434 0332 864A     		ldr r2, = 10000
 435 0334 04E0     		b __ji_suan_dian_zu
 436              	__liang_cheng1k:
ARM GAS  1.s 			page 9


 437 0336 802B     		cmp r3, # 0x80
 438 0338 01D1     		bne __liang_cheng100ou
 439 033a 854A     		ldr r2, = 1000
 440 033c 00E0     		b __ji_suan_dian_zu
 441              	__liang_cheng100ou:	
 442 033e 6422     		movs r2, # 100
 443              	__ji_suan_dian_zu:	
 444 0340 5043     		muls r0, r0, r2
 445 0342 00F09BF9 		bl _chufa
 446 0346 0EBD     		pop {r1-r3,pc}
 447              	__zu_kang_ji_suan:
 448 0348 FFB5     		push {r0-r7,lr}
 449 034a 7D48     		ldr r0, = shang_bi_shi_bu
 450 034c 8149     		ldr r1, = shang_bi_xu_bu
 451 034e 7D4A     		ldr r2, = xia_bi_shi_bu
 452 0350 814B     		ldr r3, = xia_bi_xu_bu
 453 0352 784C     		ldr r4, = liangcheng
 454 0354 0068     		ldr r0, [r0]
 455 0356 0968     		ldr r1, [r1]
 456 0358 1268     		ldr r2, [r2]
 457 035a 1B68     		ldr r3, [r3]
 458 035c 2568     		ldr r5, [r4]
 459              	__c_liang_cheng_100k:
 460 035e 002D     	        cmp r5, # 0x00
 461 0360 01D1     		bne __c_liang_cheng10k
 462 0362 794C     	        ldr r4, = 100000
 463 0364 08E0     		b __ji_suan_dian_rong
 464              	__c_liang_cheng10k:
 465 0366 402D     	        cmp r5, # 0x40
 466 0368 01D1     	        bne __c_liang_cheng1k
 467 036a 784C     	        ldr r4, = 10000
 468 036c 04E0     	        b __ji_suan_dian_rong
 469              	__c_liang_cheng1k:
 470 036e 802D     	        cmp r5, # 0x80
 471 0370 01D1     		bne __c_liang_cheng100ou
 472 0372 774C     	        ldr r4, = 1000
 473 0374 00E0     	        b __ji_suan_dian_rong
 474              	__c_liang_cheng100ou:
 475 0376 6424     		movs r4, # 100
 476              	__ji_suan_dian_rong:
 477              	@ Z=R+jx
 478              	@ Z=R*[(a+bi)/(c+di)]=R*[(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)]
 479              	@c=1/[(2*pi*f)*xc]
 480 0378 10B4     		push {r4}
 481 037a 0446     		mov r4, r0
 482 037c 0D46     		mov r5, r1
 483 037e 1646     		mov r6, r2
 484 0380 1F46     		mov r7, r3
 485 0382 5043     		muls r0, r0, r2		@ac
 486 0384 5943     		muls r1, r1, r3		@bd
 487 0386 4018     		adds r0, r0, r1		@ac+bd
 488 0388 5243     		muls r2, r2, r2		@c*c
 489 038a 5B43     		muls r3, r3, r3		@d*d
 490 038c D218     		adds r2, r2, r3		@c*c+d*d
 491 038e 1146     		mov r1, r2
 492 0390 8002     		lsls r0, r0, # 10
 493 0392 00F073F9 		bl _chufa		@(ac+bd)/(c*c+d*d)
ARM GAS  1.s 			page 10


 494 0396 01B4     		push {r0}
 495 0398 7543     		muls r5, r5, r6		@ bc
 496 039a 7C43     		muls r4, r4, r7		@ ad
 497 039c 2D1B     		subs r5, r5, r4		@ bc-ad
 498 039e 1146     		mov r1, r2
 499 03a0 8002     		lsls r0, r0, # 10
 500 03a2 00F06BF9 		bl _chufa
 501 03a6 0146     		mov r1, r0		@ R1=结果虚部
 502 03a8 01BC     		pop {r0}		@ R0=结果实部
 503 03aa 04BC     		pop {r2}		@ R2=R（量程）
 504 03ac 5043     		muls r0, r0, r2		@ 
 505 03ae 5143     		muls r1, r1, r2		@
 506 03b0 6A4B     		ldr r3, = dianzuzhi
 507 03b2 8012     		asrs r0, r0, # 10
 508 03b4 1860     		str r0, [r3]
 509 03b6 8912     		asrs r1, r1, # 10
 510 03b8 694B     		ldr r3, = 205887	@ q15的2pi
 511 03ba 644C     		ldr r4, = 10000		@ 频率10KHZ
 512 03bc 6343     		muls r3, r3, r4
 513 03be DB13     		asrs r3, r3, # 15
 514 03c0 4B43     		muls r3, r3, r1
 515 03c2 6848     		ldr r0, = 1000000000
 516 03c4 5943     		muls r1, r1, r3
 517 03c6 00F059F9 		bl _chufa
 518 03ca 6749     		ldr r1, = dianrongzhi
 519 03cc 0860     		str r0, [r1]
 520 03ce FFBD     		pop {r0-r7,pc}
 521              		
 522              	__xian_shi_shang_xia_bi:
 523 03d0 0FB5     		push {r0-r3,lr}
 524 03d2 C420     	        movs r0, # 0xc4
 525 03d4 6549     	        ldr r1, = xushu
 526 03d6 0122     	        movs r2, # 1
 527 03d8 00F0E8F8 	        bl _lcdxianshi
 528 03dc CF20     		movs r0, # 0xcf
 529 03de 6349     	        ldr r1, = xushu
 530 03e0 0122     		movs r2, # 1
 531 03e2 00F0E3F8 		bl _lcdxianshi
 532 03e6 5748     		ldr r0, = xia_bi_shi_bu
 533 03e8 0421     		movs r1, # 4
 534 03ea 0068     		ldr r0, [r0]
 535 03ec 524A     		ldr r2, = asciimabiao
 536 03ee FF23     		movs r3, # 0xff
 537 03f0 00F02BF9 		bl _zhuanascii
 538 03f4 8B20     		movs r0, # 0x8b
 539 03f6 5049     		ldr r1, = asciimabiao
 540 03f8 0422     		movs r2, # 0x04
 541 03fa 00F0D7F8 		bl _lcdxianshi
 542 03fe 5048     	        ldr r0, = shang_bi_shi_bu
 543 0400 0421     	        movs r1, # 4
 544 0402 0068     	        ldr r0, [r0]
 545 0404 4C4A     	        ldr r2, = asciimabiao
 546 0406 FF23     	        movs r3, # 0xff
 547 0408 00F01FF9 	        bl _zhuanascii
 548 040c 8020     	        movs r0, # 0x80
 549 040e 4A49     	        ldr r1, = asciimabiao
 550 0410 0422     	        movs r2, # 0x04
ARM GAS  1.s 			page 11


 551 0412 00F0CBF8 	        bl _lcdxianshi
 552 0416 5048     	        ldr r0, = xia_bi_xu_bu
 553 0418 0421     	        movs r1, # 4
 554 041a 0068     	        ldr r0, [r0]
 555 041c 464A     	        ldr r2, = asciimabiao
 556 041e FF23     	        movs r3, # 0xff
 557 0420 00F013F9 	        bl _zhuanascii
 558 0424 CB20     	        movs r0, # 0xcb
 559 0426 4449     	        ldr r1, = asciimabiao
 560 0428 0422     	        movs r2, # 0x04
 561 042a 00F0BFF8 	        bl _lcdxianshi
 562 042e 4948     	        ldr r0, = shang_bi_xu_bu
 563 0430 0421     	        movs r1, # 4
 564 0432 0068     	        ldr r0, [r0]
 565 0434 404A     	        ldr r2, = asciimabiao
 566 0436 FF23     	        movs r3, # 0xff
 567 0438 00F007F9 	        bl _zhuanascii
 568 043c C020     	        movs r0, # 0xc0
 569 043e 3E49     	        ldr r1, = asciimabiao
 570 0440 0422     	        movs r2, # 0x04
 571 0442 00F0B3F8 	        bl _lcdxianshi
 572 0446 0FBD     		pop {r0-r3,pc}
 573              	
 574              	
 575              	__zhen_fu_lv_bo:
 576              		@ 入口 R0= 下臂实部，R1=上臂实部，R2=下臂虚部，R3=上臂虚部
 577 0448 FFB5     		push {r0-r7,lr}
 578 044a 3E4F     		ldr r7, = xia_bi_shi_bu
 579 044c 1546     		mov r5, r2
 580 044e 1E46     		mov r6, r3
 581 0450 0C46     		mov r4, r1
 582 0452 0346     		mov r3, r0
 583 0454 4648     		ldr r0, = lvboqihuanchong
 584 0456 4749     		ldr r1, = 32
 585 0458 474A     		ldr r2, = lvboqizhizhen
 586 045a 00F057F8 		bl _lvboqi
 587 045e 3860     		str r0, [r7]			@保存下臂实部
 588 0460 2346     	        mov r3, r4
 589 0462 4648     	        ldr r0, = lvboqihuanchong1
 590 0464 4349     		ldr r1, = 32
 591 0466 464A     		ldr r2, = lvboqizhizhen1
 592 0468 00F050F8 	        bl _lvboqi
 593 046c 7860     	        str r0, [r7, # 0x04]		@保存上臂实部
 594 046e 2B46     		mov r3, r5
 595 0470 4448     		ldr r0, = lvboqihuanchong2
 596 0472 4049     	        ldr r1, = 32
 597 0474 444A     	        ldr r2, = lvboqizhizhen2
 598 0476 00F049F8 		bl _lvboqi
 599 047a B860     		str r0, [r7, # 0x08]		@保存下臂虚部
 600              	
 601 047c 3346     	        mov r3, r6
 602 047e 4348     		ldr r0, = lvboqihuanchong3
 603 0480 3C49     		ldr r1, = 32
 604 0482 434A     		ldr r2, = lvboqizhizhen3
 605 0484 00F042F8 	        bl _lvboqi
 606 0488 F860     		str r0, [r7, # 0x0c]		@保存上臂虚部
 607 048a FFBD     		pop {r0-r7,pc}
ARM GAS  1.s 			page 12


 608              		
 609              	
 610              	__zi_dong_liang_cheng:
 611              		@ 0xc0=100,0x80=1k
 612              		@0x40=10k,0x00=100k
 613 048c 1FB5     		push {r0-r4,lr}
 614 048e 4148     		ldr r0, = zidongliangchengyanshi
 615 0490 1422     		movs r2, # 20
 616 0492 0168     		ldr r1, [r0]
 617 0494 0131     		adds r1, r1, # 1
 618 0496 0160     		str r1, [r0]
 619 0498 9142     		cmp r1, r2
 620 049a 11D3     		bcc __liang_cheng_fan_hui
 621 049c 0021     		movs r1, # 0
 622 049e 0160     		str r1, [r0]
 623 04a0 2848     		ldr r0, = xia_bi_shi_bu
 624 04a2 2449     		ldr r1, = liangcheng
 625 04a4 0A68     		ldr r2, [r1]
 626 04a6 3C4B     		ldr r3, = 2000
 627 04a8 C02A     		cmp r2, # 0xc0
 628 04aa 04D0     		beq __xuan_kong
 629              	__pan_duan_liang_cheng:
 630 04ac 0468     		ldr r4, [r0]
 631 04ae 9C42     		cmp r4,  r3
 632 04b0 00D3     		bcc __bao_cun_liang_cheng
 633              	__gai_liang_cheng:
 634 04b2 4032     		adds r2, r2, # 0x40
 635              	__bao_cun_liang_cheng:
 636 04b4 0A60     		str r2, [r1]
 637              	__xuan_kong:
 638 04b6 0468     		ldr r4, [r0]
 639 04b8 052C     		cmp r4, # 5
 640 04ba 01D2     		bcs __liang_cheng_fan_hui
 641              	__liang_cheng_chong_zhi:
 642 04bc 0022     		movs r2, # 0
 643 04be 0A60     		str r2, [r1]
 644              	__liang_cheng_fan_hui:	
 645 04c0 1FBD     		pop {r0-r4,pc}
 646              		
 647              	_jianbo:
 648              		@ 入口 R0=采样表首地址，R1=0度90度相差多少
 649              		@ 出口R0=下臂90度，R1=上臂90度，R2=下臂180度，R3=上臂180度
 650 04c2 F0B5     		push {r4-r7,lr}
 651 04c4 0C46     		mov r4, r1
 652 04c6 0146     		mov r1, r0
 653 04c8 0346     		mov r3, r0
 654 04ca 1833     		adds r3, r3, # 0x18	@偏移90度
 655 04cc 0919     		adds r1, r1, r4
 656 04ce 0A46     		mov r2, r1
 657 04d0 1832     		adds r2, r2, # 0x18	@偏移90度
 658 04d2 324F     	        ldr r7, = 0x48000000
 659 04d4 324E     	        ldr r6, = 0x200
 660 04d6 BE62     		str r6, [r7, # 0x28]
 661 04d8 324D     	        ldr r5, = 0x40012428
 662 04da 0224     	        movs r4, # 2
 663 04dc 2C60     	        str r4, [r5]
 664 04de 00F010F8 		bl _jianboyanshi	
ARM GAS  1.s 			page 13


 665 04e2 0088     		ldrh r0, [r0]
 666 04e4 BE61     		str r6, [r7, # 0x18]
 667 04e6 00F00CF8 		bl _jianboyanshi
 668 04ea 0988     		ldrh r1, [r1]
 669 04ec 0124     		movs r4, # 1
 670 04ee 2C60     		str r4, [r5]
 671 04f0 BE62     		str r6, [r7, # 0x28]
 672 04f2 00F006F8 		bl _jianboyanshi
 673 04f6 1288     		ldrh r2, [r2]
 674 04f8 BE61     		str r6, [r7, # 0x18]
 675 04fa 00F002F8 		bl _jianboyanshi
 676 04fe 1B88     		ldrh r3, [r3]
 677 0500 F0BD     		pop {r4-r7,pc}
 678              	_jianboyanshi:
 679 0502 80B5     		push {r7,lr}
 680 0504 284F     		ldr r7, = 0xffff
 681              	_jianboyanshixunhuan:
 682 0506 013F     		subs r7, r7, # 1
 683 0508 FDD1     		bne _jianboyanshixunhuan
 684 050a 80BD     		pop {r7,pc}
 685              	_lvboqi:
 686              				@滤波器
 687              				@R0=地址，R1=长度,r2=表指针地址,r3=ADC数值
 688              				@出R0=结果
 689 050c FEB5     		push {r1-r7,lr}	
 690 050e 1568     		ldr r5, [r2]		@读出表指针
 691 0510 4E00     		lsls r6, r1, # 1	
 692 0512 4353     		strh r3, [r0, r5]	@数值写到滤波器缓冲区
 693 0514 0235     		adds r5, r5, # 2
 694 0516 B542     		cmp r5, r6
 695 0518 00D1     		bne _lvboqimeidaohuanchongquding
 696 051a 0025     		movs r5, # 0
 697              	_lvboqimeidaohuanchongquding:
 698 051c 1560     		str r5, [r2]
 699 051e 0027     		movs r7, # 0
 700              	_lvboqixunhuan:
 701 0520 B542     		cmp r5, r6
 702 0522 00D1     		bne _lvbozonghe
 703 0524 0025     		movs r5, # 0
 704              	_lvbozonghe:
 705 0526 445B     		ldrh r4, [r0, r5]
 706 0528 0235     		adds r5, r5, # 2
 707 052a 3F19     		adds r7, r7, r4
 708 052c 0139     		subs r1, r1, # 1
 709 052e F7D1     		bne _lvboqixunhuan
 710 0530 7811     		asrs r0, r7, # 5	@修改
 711 0532 FEBD     		pop {r1-r7,pc}
 712 0534 30000020 		.ltorg
 712      00000020 
 712      40000020 
 712      040A0020 
 712      000A0020 
 713              	
 714              		
 715              	_lcdxianshi:	  		@r0=LCD位置，r1=数据地址，r2=长度
 716 05ac 1FB5     		push {r0-r4,lr}
 717 05ae 0C46     		mov r4, r1
ARM GAS  1.s 			page 14


 718              	
 719 05b0 0021     		movs r1, # 0
 720 05b2 00F00EF8 		bl _xielcd
 721              	
 722 05b6 0121     		movs r1, # 1
 723 05b8 0023     		movs r3, # 0
 724              	_lcdxianshixunhuan:
 725 05ba E05C     		ldrb r0, [r4,r3]
 726 05bc 00F009F8 		bl _xielcd
 727 05c0 0133     		adds r3, r3, # 1
 728 05c2 9342     		cmp r3, r2
 729 05c4 F9D1     		bne _lcdxianshixunhuan
 730 05c6 1FBD     		pop {r0-r4,pc}
 731              	
 732              	_lcdyanshi:
 733 05c8 20B5     		push {r5,lr}
 734 05ca 364D     		ldr r5, = 0x2000
 735              	_lcdyanshixunhuan:
 736 05cc 013D     		subs r5, r5, # 1
 737 05ce FDD1     		bne _lcdyanshixunhuan
 738 05d0 20BD     		pop {r5,pc}
 739              	
 740              	_xielcd:			@入R0=8位,r1=0命令,r1=1数据
 741 05d2 3FB5     		push {r0-r5,lr}
 742 05d4 344C     		ldr r4, = liangcheng  @ 量程开关 (第6位和第7位)
 743 05d6 0246     		mov r2, r0
 744 05d8 2568     		ldr r5, [r4]
 745 05da 1209     		lsrs r2, r2, # 4
 746 05dc 9200     		lsls r2, r2, # 2	@ 高四位
 747 05de 0007     		lsls r0, r0, # 28
 748 05e0 800E     		lsrs r0, r0, # 26	@ 低四位
 749 05e2 C907     		lsls r1, r1, # 31
 750 05e4 01D5     		bpl __lcd_ming_ling
 751              	__lcd_shu_ju:
 752 05e6 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 753 05e8 00E0     		b __xie_lcd_shu_ju
 754              	__lcd_ming_ling:
 755 05ea 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 756              	__xie_lcd_shu_ju:
 757 05ec 5B19     		adds r3, r3, r5
 758 05ee 0146     		mov r1, r0
 759 05f0 D218     		adds r2, r2, r3
 760 05f2 1000     		movs r0, r2
 761 05f4 00F00BF8 		bl __74hc595
 762 05f8 0238     		subs r0, r0, # 0x02
 763 05fa 00F008F8 		bl __74hc595
 764 05fe 0846     		mov r0, r1
 765 0600 C018     		adds r0, r0, r3
 766 0602 00F004F8 		bl __74hc595
 767 0606 0238     		subs r0, r0, # 0x02
 768 0608 00F001F8 		bl __74hc595
 769 060c 3FBD     		pop {r0-r5,pc}
 770              		
 771              	__74hc595:			@ 入R0=8位
 772 060e FFB5     		push {r0-r7,lr}
 773 0610 264E     		ldr r6, = 0x48000000
 774 0612 2025     		movs r5, # 0x20		@ SRCLK
ARM GAS  1.s 			page 15


 775 0614 4022     		movs r2, # 0x40		@ RCLK
 776 0616 8023     		movs r3, # 0x80		@ SER
 777 0618 1824     		movs r4, # 24
 778              	__595_yiweixunhuan:
 779 061a B261     		str r2, [r6, # 0x18]	@ rclk=0
 780 061c B561     		str r5, [r6, # 0x18]	@ srclk=0
 781 061e FF27     		movs r7, # 0xff
 782              	__595_yanshi:
 783 0620 013F     		subs r7, r7, # 1
 784 0622 FDD1     		bne __595_yanshi
 785 0624 0146     		mov r1, r0
 786 0626 A140     		lsls r1, r1, r4
 787 0628 01D5     		bpl __ser_0
 788              	__ser_1:
 789 062a B362     		str r3, [r6, # 0x28]	@ ser=1
 790 062c 00E0     		b __595_yiwei
 791              	__ser_0:
 792 062e B361     		str r3, [r6, # 0x18]	@ ser=0
 793              	__595_yiwei:
 794 0630 B562     		str r5, [r6, # 0x28]
 795 0632 FF27     		movs r7, # 0xff
 796              	__595_yanshi1:
 797 0634 013F     		subs r7, r7, # 1
 798 0636 FDD1     		bne __595_yanshi1
 799 0638 0134     		adds r4, r4, # 1
 800 063a 202C     		cmp r4, # 32
 801 063c EDD1     		bne __595_yiweixunhuan
 802 063e B262     		str r2, [r6, # 0x28]	@ rclk=1
 803 0640 FF27     		movs r7, # 0xff
 804              	__595_yanshi2:
 805 0642 013F     		subs r7, r7, # 1
 806 0644 FDD1     		bne __595_yanshi2
 807 0646 B261     		str r2, [r6, # 0x18]	@ rclk = 0
 808 0648 FFBD     		pop {r0-r7,pc}
 809              	
 810              	
 811              	
 812              	_zhuanascii:					@ 16进制转ASCII
 813              			@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 814 064a FFB5     		push {r0-r7,lr}
 815 064c 1F46     		mov r7, r3
 816 064e 0546     		mov r5, r0
 817 0650 0E46     		mov r6, r1
 818 0652 0A21     		movs r1, # 10
 819              	_xunhuanqiuma:
 820 0654 00F012F8 		bl _chufa
 821 0658 0446     		mov r4, r0
 822 065a 4C43     		muls r4, r1
 823 065c 2B1B     		subs r3, r5, r4
 824 065e 3033     		adds r3, r3, # 0x30
 825 0660 0546     		mov r5, r0
 826 0662 013E     		subs r6, r6, # 1
 827 0664 08D0     		beq _qiumafanhui
 828 0666 BE42     		cmp r6, r7
 829 0668 02D1     		bne _meidaoxiaoshudian
 830 066a 2E24     		movs r4, # 0x2e		@小数点
 831 066c 9455     		strb r4, [r2,r6]	@插入小数点
ARM GAS  1.s 			page 16


 832 066e 013E     		subs r6, r6, # 1
 833              	_meidaoxiaoshudian:
 834 0670 9355     		strb r3, [r2,r6]
 835 0672 3600     		movs r6, r6
 836 0674 EED1     		bne _xunhuanqiuma
 837 0676 FFBD     		pop {r0-r7,pc}
 838              	_qiumafanhui:
 839 0678 9355     		strb r3, [r2, r6]
 840 067a FFBD     		pop {r0-r7,pc}
 841              	
 842              		
 843              	_chufa:				@软件除法
 844              		@ r0 除以 r1 等于 商(r0)余数R1
 845 067c 1EB5     		push {r1-r4,lr}
 846 067e 0028     		cmp r0, # 0
 847 0680 0ED0     		beq _chufafanhui
 848 0682 0029     		cmp r1, # 0
 849 0684 0CD0     		beq _chufafanhui
 850 0686 0246     		mov r2, r0
 851 0688 0123     		movs r3, # 1
 852 068a DB07     		lsls r3, r3, # 31
 853 068c 0020     		movs r0, # 0
 854 068e 0446     		mov r4, r0
 855              	_chufaxunhuan:
 856 0690 5200     		lsls r2, r2, # 1
 857 0692 6441     		adcs r4, r4, r4
 858 0694 8C42     		cmp r4, r1
 859 0696 01D3     		bcc _chufaweishubudao0
 860 0698 C018     		adds r0, r0, r3
 861 069a 641A     		subs r4, r4, r1
 862              	_chufaweishubudao0:
 863 069c 5B08     		lsrs r3, r3, # 1
 864 069e F7D1     		bne _chufaxunhuan
 865              	_chufafanhui:
 866 06a0 1EBD     		pop {r1-r4,pc}
 867 06a2 00000020 		.ltorg
 867      00003000 
 867      00200000 
 867      0048
 868              	
 869              	
 870              	_nmi_handler:
 871 06b0 7047     		bx lr
 872              	_hard_fault:
 873 06b2 7047     		bx lr
 874              	_svc_handler:
 875 06b4 7047     		bx lr
 876              	_pendsv_handler:
 877 06b6 7047     		bx lr
 878              	_systickzhongduan:
 879 06b8 034A     		ldr r2, = jishu
 880 06ba 0448     		ldr r0, = 0xe0000d04
 881 06bc 1368     		ldr r3, [r2]
 882 06be 0449     		ldr r1, = 0x02000000
 883 06c0 0133     		adds r3, r3, # 1
 884 06c2 1360     		str r3, [r2]
 885 06c4 0160     		str r1, [r0]                 @ 清除SYSTICK中断
ARM GAS  1.s 			page 17


 886              	aaa:
 887 06c6 70473400 		bx lr
 887      0020040D 
 887      00E00000 
 887      0002
ARM GAS  1.s 			page 18


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 zheng_xian_biao
                 1.s:11     .data:00000000000000cc lcdshuju
                 1.s:13     .data:00000000000000dc dianhua
                 1.s:15     .data:00000000000000ec qq
                 1.s:17     .data:00000000000000fc xushu
                 1.s:19     .data:00000000000000fd fu
                 1.s:21     .data:00000000000000fe zheng
                 1.s:23     .data:00000000000000ff dianzu
                 1.s:25     .data:0000000000000101 dianrong
                 1.s:27     .data:0000000000000103 pinlv
                 1.s:29     .data:0000000000000108 qianou
                 1.s:31     .data:0000000000000109 ou
                 1.s:33     .data:000000000000010d qingping
                 1.s:35     .data:0000000000000111 xiaomai
                 1.s:37     *ABS*:0000000020001000 STACKINIT
                 1.s:38     *ABS*:0000000020000000 asciimabiao
                 1.s:39     *ABS*:0000000020000030 liangcheng
                 1.s:40     *ABS*:0000000020000034 jishu
                 1.s:41     *ABS*:0000000020000038 jianbo
                 1.s:42     *ABS*:0000000020000040 dianyabiao
                 1.s:43     *ABS*:0000000020000600 lvboqizhizhen
                 1.s:44     *ABS*:0000000020000604 lvboqihuanchong
                 1.s:45     *ABS*:0000000020000700 lvboqizhizhen1
                 1.s:46     *ABS*:0000000020000704 lvboqihuanchong1
                 1.s:47     *ABS*:0000000020000800 lvboqizhizhen2
                 1.s:48     *ABS*:0000000020000804 lvboqihuanchong2
                 1.s:49     *ABS*:0000000020000900 lvboqizhizhen3
                 1.s:50     *ABS*:0000000020000904 lvboqihuanchong3
                 1.s:51     *ABS*:0000000020000a00 xia_bi_shi_bu
                 1.s:52     *ABS*:0000000020000a04 shang_bi_shi_bu
                 1.s:53     *ABS*:0000000020000a08 xia_bi_xu_bu
                 1.s:54     *ABS*:0000000020000a0c shang_bi_xu_bu
                 1.s:55     *ABS*:0000000020000a10 bu_chang_100r
                 1.s:56     *ABS*:0000000020000a14 zidongliangchengyanshi
                 1.s:57     *ABS*:0000000020000a18 dianzuzhi
                 1.s:58     *ABS*:0000000020000a1c dianrongzhi
                 1.s:60     .text:0000000000000000 vectors
                 1.s:107    .text:00000000000000b0 _start
                 1.s:870    .text:00000000000006b0 _nmi_handler
                 1.s:872    .text:00000000000006b2 _hard_fault
                 1.s:874    .text:00000000000006b4 _svc_handler
                 1.s:876    .text:00000000000006b6 _pendsv_handler
                 1.s:878    .text:00000000000006b8 _systickzhongduan
                 1.s:886    .text:00000000000006c6 aaa
                            .text:0000000000000000 $d
                 1.s:105    .text:00000000000000b0 $t
                 1.s:109    .text:00000000000000b2 yanshi111
                 1.s:113    .text:00000000000000b6 shizhong
                 1.s:120    .text:00000000000000c2 denghse
                 1.s:124    .text:00000000000000c8 dengpllguan
                 1.s:132    .text:00000000000000d6 dengpll
                 1.s:139    .text:00000000000000e0 dengdai14mshizhongwending
                 1.s:144    .text:00000000000000e6 _neicunqingling
                 1.s:148    .text:00000000000000ec _neicunqinglingxunhuan
                 1.s:153    .text:00000000000000f2 _waisheshizhong
                 1.s:171    .text:0000000000000100 _waishezhongduan
ARM GAS  1.s 			page 19


                 1.s:186    .text:0000000000000100 io_she_zhi
                 1.s:215    .text:000000000000010a _adcchushihua
                 1.s:219    .text:0000000000000110 _dengadcjiaozhun
                 1.s:223    .text:0000000000000116 _kaiadc
                 1.s:228    .text:000000000000011e _dengdaiadcwending
                 1.s:232    .text:0000000000000124 _tongdaoxuanze
                 1.s:246    .text:0000000000000138 dmachushihua
                 1.s:278    .text:000000000000015c tim1chushiha
                 1.s:304    .text:0000000000000186 _lcdchushihua
                 1.s:740    .text:00000000000005d2 _xielcd
                 1.s:732    .text:00000000000005c8 _lcdyanshi
                 1.s:335    .text:00000000000001c8 ting
                 1.s:610    .text:000000000000048c __zi_dong_liang_cheng
                 1.s:647    .text:00000000000004c2 _jianbo
                 1.s:575    .text:0000000000000448 __zhen_fu_lv_bo
                 1.s:447    .text:0000000000000348 __zu_kang_ji_suan
                 1.s:812    .text:000000000000064a _zhuanascii
                 1.s:715    .text:00000000000005ac _lcdxianshi
                 1.s:365    .text:000000000000020e __xian_shi_qi_ta
                 1.s:386    .text:000000000000023c __xian_shi_dian_rong
                 1.s:393    .text:0000000000000248 $d
                 1.s:395    .text:00000000000002e8 dd
                 1.s:396    .text:00000000000002e8 $t
                 1.s:522    .text:00000000000003d0 __xian_shi_shang_xia_bi
                 1.s:416    .text:0000000000000318 __dian_zu_ji_suan
                 1.s:426    .text:0000000000000326 __liang_cheng_100k
                 1.s:431    .text:000000000000032e __liang_cheng10k
                 1.s:443    .text:0000000000000340 __ji_suan_dian_zu
                 1.s:436    .text:0000000000000336 __liang_cheng1k
                 1.s:441    .text:000000000000033e __liang_cheng100ou
                 1.s:843    .text:000000000000067c _chufa
                 1.s:459    .text:000000000000035e __c_liang_cheng_100k
                 1.s:464    .text:0000000000000366 __c_liang_cheng10k
                 1.s:476    .text:0000000000000378 __ji_suan_dian_rong
                 1.s:469    .text:000000000000036e __c_liang_cheng1k
                 1.s:474    .text:0000000000000376 __c_liang_cheng100ou
                 1.s:685    .text:000000000000050c _lvboqi
                 1.s:644    .text:00000000000004c0 __liang_cheng_fan_hui
                 1.s:637    .text:00000000000004b6 __xuan_kong
                 1.s:629    .text:00000000000004ac __pan_duan_liang_cheng
                 1.s:635    .text:00000000000004b4 __bao_cun_liang_cheng
                 1.s:633    .text:00000000000004b2 __gai_liang_cheng
                 1.s:641    .text:00000000000004bc __liang_cheng_chong_zhi
                 1.s:678    .text:0000000000000502 _jianboyanshi
                 1.s:681    .text:0000000000000506 _jianboyanshixunhuan
                 1.s:697    .text:000000000000051c _lvboqimeidaohuanchongquding
                 1.s:700    .text:0000000000000520 _lvboqixunhuan
                 1.s:704    .text:0000000000000526 _lvbozonghe
                 1.s:712    .text:0000000000000534 $d
                 1.s:716    .text:00000000000005ac $t
                 1.s:724    .text:00000000000005ba _lcdxianshixunhuan
                 1.s:735    .text:00000000000005cc _lcdyanshixunhuan
                 1.s:754    .text:00000000000005ea __lcd_ming_ling
                 1.s:751    .text:00000000000005e6 __lcd_shu_ju
                 1.s:756    .text:00000000000005ec __xie_lcd_shu_ju
                 1.s:771    .text:000000000000060e __74hc595
                 1.s:778    .text:000000000000061a __595_yiweixunhuan
ARM GAS  1.s 			page 20


                 1.s:782    .text:0000000000000620 __595_yanshi
                 1.s:791    .text:000000000000062e __ser_0
                 1.s:788    .text:000000000000062a __ser_1
                 1.s:793    .text:0000000000000630 __595_yiwei
                 1.s:796    .text:0000000000000634 __595_yanshi1
                 1.s:804    .text:0000000000000642 __595_yanshi2
                 1.s:819    .text:0000000000000654 _xunhuanqiuma
                 1.s:838    .text:0000000000000678 _qiumafanhui
                 1.s:833    .text:0000000000000670 _meidaoxiaoshudian
                 1.s:865    .text:00000000000006a0 _chufafanhui
                 1.s:855    .text:0000000000000690 _chufaxunhuan
                 1.s:862    .text:000000000000069c _chufaweishubudao0
                 1.s:867    .text:00000000000006a2 $d
                 1.s:867    .text:00000000000006a4 $d
                 1.s:871    .text:00000000000006b0 $t
                 1.s:887    .text:00000000000006c8 $d

NO UNDEFINED SYMBOLS
