ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@@ 阻抗桥
   3              		@作者：yjmwxwx
   4              		@时间：2019-08-12
   5              		@编译器：ARM-NONE-EABI
   6              		 .thumb
   7              		         .syntax unified
   8              	.section .data
   9              	zheng_xian_biao:
  10 0000 18001900 		.short 0x18,0x19,0x1a,0x1c,0x1d,0x1f,0x20,0x22,0x23,0x24,0x25,0x26,0x28,0x29,0x2a,0x2b,0x2b,0x2c,0
  10      1A001C00 
  10      1D001F00 
  10      20002200 
  10      23002400 
  11 00ca 00000000 		.align 4
  11      0000
  12              	xuan_zhuan_yin_zi:
  13 00d0 00800000 		.int 0x8000,0x0000,0x7EFD,0xFFFFEFF6,0x7BFA,0xFFFFE02B,0x7702,0xFFFFD0E2,0x702A,0xFFFFC256,0x678D,
  13      00000000 
  13      FD7E0000 
  13      F6EFFFFF 
  13      FA7B0000 
  14              	liang_cheng_biao:
  15 03f0 0003C000 		.int 0x00c00300,0x00c00201,0x00c00102,0x00c00003,0x00800300,0x00800201,0x00800102,0x00800003,0x004
  15      0102C000 
  15      0201C000 
  15      0300C000 
  15      00038000 
  16              		
  17              	lcdshuju:
  18 0430 796A6D77 		.ascii  "yjmwxwx-20190812"
  18      7877782D 
  18      32303139 
  18      30383132 
  19              	dianhua:	
  20 0440 20202020 		.ascii	"     15552208295"
  20      20313535 
  20      35323230 
  20      38323935 
  21              	qq:
  22 0450 20202051 		.ascii	"   QQ:3341656346"
  22      513A3333 
  22      34313635 
  22      36333436 
  23              	xushu:
  24 0460 69       		.ascii "i"
  25              	fu:
  26 0461 2D       		.ascii "-"
  27              	zheng:
  28 0462 2B       		.ascii "+"
  29              	zukang:
  30 0463 5A3D     		.ascii	"Z="
  31              	dianrong:
  32 0465 433D     		.ascii	"C="
  33              	pinlv10k:
  34 0467 31304B48 		.ascii	"10KHZ"
  34      5A
ARM GAS  1.s 			page 2


  35              	qianou:
  36 046c 4B       		.ascii	"K"
  37              	ou:
  38 046d F4000000 	        .int    0xf4
  39              	kong:
  40 0471 20202020 		.int 0x20202020
  41              	pifa:
  42 0475 5046     		.ascii "PF"
  43              	enfa:
  44 0477 4E46     		.ascii "NF"
  45              	_fu:	
  46 0479 2D       		.ascii "-"
  47              		
  48              		.equ STACKINIT,        	        0x20001000
  49              		.equ asciimabiao,		0x20000000
  50              		.equ liangcheng,		0x20000030
  51              		.equ jishu,			0x20000034
  52              		.equ jianbo,			0x20000038
  53              		.equ dianyabiao,		0x20000040
  54              		.equ zhengxiangbiao,		0x20000110
  55              		.equ fanxiangbiao,		0x200001e0
  56              		.equ lvboqizhizhen,		0x20000600
  57              		.equ lvboqihuanchong,		0x20000604
  58              		.equ lvboqizhizhen1,		0x20000700
  59              		.equ lvboqihuanchong1,		0x20000704
  60              		.equ lvboqizhizhen2,		0x20000800
  61              		.equ lvboqihuanchong2,		0x20000804
  62              		.equ lvboqizhizhen3,		0x20000900
  63              		.equ lvboqihuanchong3,		0x20000904
  64              		.equ xia_bi_shi_bu,		0x20000a00
  65              		.equ shang_bi_shi_bu,		0x20000a04
  66              		.equ xia_bi_xu_bu,		0x20000a08
  67              		.equ shang_bi_xu_bu,		0x20000a0c
  68              		.equ bu_chang_100r,		0x20000a10
  69              		.equ zidongliangchengyanshi,	0x20000a14
  70              		.equ dianzuzhi,			0x20000a18
  71              		.equ diankangzhi,		0x20000a1c
  72              		.equ shangbifangda,		0x20000a20
  73              		.equ xiabifangda,		0x20000a24
  74              		.equ anjian,			0x20000a28
  75              		.equ bu_chang_1k,		0x20000a2c
  76              		.equ dianrongzhi,		0x20000a30
  77              		.equ shang,			0x20000a34
  78              		.section .text
  79              	vectors:
  80 0000 00100020 		.word STACKINIT
  81 0004 B1000000 		.word _start + 1
  82 0008 6B0A0000 		.word _nmi_handler + 1
  83 000c 6D0A0000 		.word _hard_fault  + 1
  84 0010 00000000 		.word 0
  85 0014 00000000 		.word 0
  86 0018 00000000 		.word 0
  87 001c 00000000 		.word 0
  88 0020 00000000 		.word 0
  89 0024 00000000 		.word 0
  90 0028 00000000 		.word 0
  91 002c 6F0A0000 		.word _svc_handler +1
ARM GAS  1.s 			page 3


  92 0030 00000000 		.word 0
  93 0034 00000000 		.word 0
  94 0038 710A0000 		.word _pendsv_handler +1
  95 003c 730A0000 		.word _systickzhongduan +1               @ 15
  96 0040 810A0000 		.word aaa +1     @ _wwdg +1          @ 0
  97 0044 810A0000 		.word aaa +1     @_pvd +1            @ 1
  98 0048 810A0000 		.word aaa +1     @_rtc +1            @ 2
  99 004c 810A0000 		.word aaa +1     @_flash +1          @ 3
 100 0050 810A0000 		.word aaa +1	@ _rcc + 1          @ 4
 101 0054 810A0000 		.word aaa +1      @_exti0_1  +1      @ 5
 102 0058 810A0000 		.word aaa +1      @ _exti2_3 +1      @ 6
 103 005c 810A0000 		.word aaa +1       @_exti4_15 +1     @ 7
 104 0060 810A0000 		.word aaa +1                         @ 8
 105 0064 810A0000 		.word aaa +1 	@_dma1_1  +1    @ 9
 106 0068 810A0000 		.word aaa +1    @_dma1_2_3 +1        @ 10
 107 006c 810A0000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 108 0070 810A0000 		.word aaa +1	 @_adc1 +1          @ 12
 109 0074 810A0000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 110 0078 810A0000 		.word aaa +1        @ _tim1_cc +1    @ 14
 111 007c 810A0000 		.word aaa +1         @_tim2 +1       @ 15
 112 0080 810A0000 		.word aaa +1          @_tim3 +1      @ 16
 113 0084 810A0000 		.word aaa +1                         @ 17
 114 0088 810A0000 		.word aaa +1		                @ 18
 115 008c 810A0000 		.word aaa +1	@_tim14 +1    @ 19
 116 0090 810A0000 		.word aaa +1                         @ 20
 117 0094 810A0000 		.word aaa +1         @_tim16 +1      @ 21
 118 0098 810A0000 		.word aaa +1         @_tim17 +1      @ 22
 119 009c 810A0000 		.word aaa +1          @_i2c   +1     @ 23
 120 00a0 810A0000 		.word aaa +1                         @ 24
 121 00a4 810A0000 		.word aaa +1           @_spi   +1    @ 25
 122 00a8 810A0000 		.word aaa +1                         @ 26
 123 00ac 810A0000 		.word aaa +1         @_usart1 +1     @ 27
 124              		.align 2
 125              	_start:
 126 00b0 C048     		ldr r0, = 0xffff
 127              	yanshi111:
 128 00b2 0138     		subs r0, r0, # 1
 129 00b4 FDD1     		bne yanshi111	
 130              	shizhong:
 131 00b6 C04A     		ldr r2, = 0x40022000   @FLASH访问控制
 132 00b8 3221     		movs r1, # 0x32
 133 00ba 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 134 00bc BF48     		ldr r0, = 0x40021000 @ rcc
 135 00be C049     		ldr r1, = 0x10001
 136 00c0 0160     		str r1, [r0]
 137              	denghse:
 138 00c2 0168     		ldr r1, [r0]
 139 00c4 8903     		lsls r1, r1, # 14
 140 00c6 FCD5     		bpl denghse
 141              	dengpllguan:
 142 00c8 0168     		ldr r1, [r0]
 143 00ca 8901     		lsls r1, r1, # 6
 144 00cc FCD4     		bmi dengpllguan
 145 00ce BD49     	        ldr r1, = 0x110002
 146 00d0 4160     	        str r1, [r0, # 0x04]
 147 00d2 BD49     		ldr r1, = 0x1010001
 148 00d4 0160     		str r1, [r0]
ARM GAS  1.s 			page 4


 149              	dengpll:
 150 00d6 0168     		ldr r1, [r0]
 151 00d8 8901     		lsls r1, # 6
 152 00da FCD5     		bpl dengpll
 153              		@0x34时钟控制寄存器 2 (RCC_CR2)
 154 00dc 0121     		movs r1, # 0x01
 155 00de 4163     		str r1, [r0, # 0x34]  @ HSI开14M时钟
 156              	dengdai14mshizhongwending:
 157 00e0 416B     		ldr r1, [r0, # 0x34]
 158 00e2 8907     		lsls r1, r1, # 30     @ 左移30位
 159 00e4 FCD5     		bpl dengdai14mshizhongwending  @ 等待14M时钟稳定
 160              	
 161              	_neicunqingling:
 162 00e6 B948     		ldr r0, = 0x20000000
 163 00e8 0021     		movs r1, # 0
 164 00ea B94B     		ldr r3, = 0x1000
 165              	_neicunqinglingxunhuan:
 166 00ec 043B     		subs r3, # 4
 167 00ee C150     		str r1, [r0, r3]
 168 00f0 FCD1     		bne _neicunqinglingxunhuan
 169              	
 170              	_waisheshizhong:			 @ 外设时钟
 171              		@+0x14=RCC_AHBENR
 172              		@0=DMA @2=SRAM @4=FLITF@6=CRC @17=PA @18=PB @19=PC @20=PD @22=PF
 173 00f2 B248     		ldr r0, = 0x40021000
 174 00f4 B749     		ldr r1, = 0x460005
 175 00f6 4161     		str r1, [r0, # 0x14]
 176              	
 177              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 178              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 179 00f8 B749     		ldr r1, = 0xa00
 180 00fa 8161     		str r1, [r0, # 0x18]
 181              		@+0X1C=RCC_APB1ENR
 182              		@1=TIM3 @4=TIM6 @5=TIM7 @8=TIM14 @11=WWDG @14=SPI @17=USRT2 @18=USART3 @20=USART5 @21=I2C1
 183              		@22=I2C2 @23=USB @28=PWR
 184              	
 185              	_waishezhongduan:				@外设中断
 186              		@0xE000E100    0-31  写1开，写0没效
 187              		@0XE000E180    0-31 写1关，写0没效
 188              		@0XE000E200    0-31 挂起，写0没效
 189              		@0XE000E280    0-31 清除， 写0没效
 190              	
 191              	@_systick:				@ systick定时器初始化
 192              	@
 193              	@	ldr r0, = 0xe000e010
 194              	@	ldr r1, = 0xffffff
 195              	@	str r1, [r0, # 4]
 196              	@	str r1, [r0, # 8]
 197              	@	movs r1, # 0x07
 198              	@	str r1, [r0]
 199              		
 200              	io_she_zhi:
 201              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 202              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 203              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 204              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 205              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
ARM GAS  1.s 			page 5


 206              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 207              		@偏移0x10 = 输入数据寄存器
 208              		@偏移0x14 = 输出数据寄存器
 209              		@偏移0x18 = 端口开  0-15置位
 210              		@偏移0x28 = 端口关
 211              		@0X20 = 复用低
 212              		@GPIO口0（0-3位）每个IO口占用4位
 213              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 214              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 215              		@0x24 = 复用高
 216              		@GPIO口8 （0-3位）每个IO口占用4位
 217              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 218              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 219              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 220              	
 221 00fc B748     		ldr r0, = 0x48000000
 222 00fe B849     		ldr r1, = 0x2824550f
 223 0100 0160     		str r1, [r0]
 224 0102 B849     		ldr r1, = 0x200
 225 0104 4162     		str r1, [r0, # 0x24]
 226              	
 227 0106 5021     		movs r1, # 0x50 @ pa2 pa3上拉
 228 0108 C160     		str r1, [r0, # 0x0c]
 229              	
 230 010a B748     		ldr r0, = 0x48000400
 231 010c B749     		ldr r1, = 0x00000004
 232 010e 0160     		str r1, [r0]
 233              	
 234              	_adcchushihua:
 235 0110 B748     	        ldr r0, = 0x40012400  @ adc基地址
 236 0112 B849     	        ldr r1, = 0x80000000
 237 0114 8160     	        str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 238              	_dengadcjiaozhun:
 239 0116 8168     	        ldr r1, [r0, # 0x08]
 240 0118 0900     	        movs r1, r1
 241 011a FCD4     	        bmi _dengadcjiaozhun   @ 等ADC校准
 242              	_kaiadc:
 243 011c 8168     		ldr r1, [r0, # 0x08]
 244 011e 0122     	        movs r2, # 0x01
 245 0120 1143     		orrs r1, r1, r2
 246 0122 8160     	        str r1, [r0, # 0x08]
 247              	_dengdaiadcwending:
 248 0124 0168     		ldr r1, [r0]
 249 0126 C907     		lsls r1, r1, # 31
 250 0128 FCD5     		bpl _dengdaiadcwending @ 等ADC稳定
 251              	_tongdaoxuanze:
 252 012a B349     		ldr r1, = 2
 253 012c 8162     	        str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 254 012e B349     	        ldr r1, = 0x803
 255 0130 C160     	        str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 256 0132 0021     		movs r1, # 0
 257 0134 4161     	        str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 258 0136 8168     		ldr r1, [r0, # 0x08]
 259 0138 AC4A     	        ldr r2, = 0x04         @ 开始转换
 260 013a 1143     	        orrs r1, r1, r2
 261 013c 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 262              	
ARM GAS  1.s 			page 6


 263              	
 264              		
 265              	dmachushihua:
 266              	        @+0=LSR,+4=IFCR,
 267              	        @+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 268              	        @+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 269              	        @+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 270              	        @+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 271              	        @+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 272              	        @+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 273              	        @+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 274              	
 275              	        @tim1ch3DMA
 276 013e B048     	        ldr r0, = 0x40020000
 277 0140 B049     	        ldr r1, = 0x40012c3c @ 外设地址
 278 0142 0166     	        str r1, [r0, # 0x60]
 279 0144 B049     	        ldr r1, = zheng_xian_biao @ 储存器地址
 280 0146 4166     	        str r1, [r0, # 0x64]
 281 0148 B049     	        ldr r1, = 100             @点数
 282 014a C165     	        str r1, [r0, # 0x5c]
 283 014c B049     	        ldr r1, = 0x35b1         @ 储存到外设
 284 014e 8165     	        str r1, [r0, # 0x58]
 285              		@ adc dma
 286 0150 AB48     		ldr r0, = 0x40020000
 287 0152 B049     		ldr r1, = 0x40012440
 288 0154 0161     		str r1, [r0, # 0x10]
 289 0156 B049     		ldr r1, = dianyabiao
 290 0158 4161     		str r1, [r0, # 0x14]
 291 015a AC49     		ldr r1, =  100
 292 015c C160     		str r1, [r0, # 0x0c]
 293 015e AF49     		ldr r1, = 0x5a1		@ 5a1
 294 0160 8160     		str r1, [r0, # 0x08]
 295              	
 296              		
 297              	tim1chushiha:
 298 0162 AF48     	        ldr r0, = 0x40012c00 @ tim1_cr1
 299 0164 0021     	        movs r1, # 0
 300 0166 8162     	        str r1, [r0, # 0x28] @ psc
 301 0168 AE49     	        ldr r1, = 47
 302 016a C162     	        str r1, [r0, # 0x2c] @ ARR
 303              		@	movs r1, # 0x40
 304 016c 2021     		movs r1, # 0x20
 305 016e 4160     		str r1, [r0, # 0x04] @ TRGO
 306 0170 3821     		movs r1, # 0x38
 307 0172 8161     		str r1, [r0, # 0x18] @ ccmr1 cc1
 308 0174 2F21     		movs r1, # 47
 309 0176 4163     		str r1, [r0, # 0x34]
 310 0178 AB49     	        ldr r1, = 0x68
 311 017a C161     	        str r1, [r0, # 0x1c] @ ccmr2  CC3
 312 017c AB49     	        ldr r1, = 0x100    @  CC3
 313 017e 0162     	        str r1, [r0, # 0x20] @ ccer
 314 0180 AB49     	        ldr r1, = 0x8000
 315 0182 4164     	        str r1, [r0, # 0x44] @ BDTR
 316 0184 AB49     	        ldr r1, = 0x800 @ CC3 DMA
 317 0186 C160     	        str r1, [r0, # 0x0c] @ DIER
 318 0188 AB49     	        ldr r1, = 0x81
 319 018a 0160     	        str r1, [r0]
ARM GAS  1.s 			page 7


 320              	
 321              	
 322              	
 323              	_lcdchushihua:
 324 018c 3320     		movs r0, # 0x33
 325 018e 0021     		movs r1, # 0
 326 0190 00F0A1FB 		bl _xielcd
 327 0194 00F09AFB 		bl _lcdyanshi
 328 0198 3220     		movs r0, # 0x32
 329 019a 0021     		movs r1, # 0
 330 019c 00F09BFB 		bl _xielcd
 331 01a0 00F094FB 		bl _lcdyanshi
 332 01a4 2820     		movs r0, # 0x28
 333 01a6 0021     		movs r1, # 0
 334 01a8 00F095FB 		bl _xielcd
 335 01ac 00F08EFB 		bl _lcdyanshi
 336 01b0 0C20     		movs r0, # 0x0c
 337 01b2 0021     		movs r1, # 0
 338 01b4 00F08FFB 		bl _xielcd
 339 01b8 00F088FB 		bl _lcdyanshi
 340 01bc 0120     		movs r0, # 0x01
 341 01be 0021     		movs r1, # 0
 342 01c0 00F089FB 		bl _xielcd
 343 01c4 00F082FB 		bl _lcdyanshi
 344              	
 345 01c8 B2E0     		b dd
 346              		
 347 01ca 9C48     		ldr r0, = liangcheng
 348 01cc 0021     		movs r1, # 0x00
 349 01ce 0160     		str r1, [r0]
 350              	
 351              	shiyan:
 352 01d0 00F018FB 	        bl _jianbo
 353 01d4 00F055FA 	        bl __zhen_fu_lv_bo
 354 01d8 00F017F8 		bl aaaa
 355 01dc 0C46     		mov r4, r1
 356              		
 357 01de 1021     	        movs r1, # 16
 358 01e0 7A4A     	        ldr r2, = asciimabiao
 359 01e2 FF23     	        movs r3, # 0xff
 360 01e4 00F0B3FB 	        bl _zhuanascii
 361 01e8 8020     	        movs r0, # 0x80
 362 01ea 7849     	        ldr r1, = asciimabiao
 363 01ec 1022     	        movs r2, # 16
 364 01ee 00F05FFB 	        bl _lcdxianshi
 365              	
 366 01f2 2046     	        mov r0, r4
 367 01f4 1021     	        movs r1, # 16
 368 01f6 754A     	        ldr r2, = asciimabiao
 369 01f8 FF23     	        movs r3, # 0xff
 370 01fa 00F0A8FB 	        bl _zhuanascii
 371 01fe C020     	        movs r0, # 0xc0
 372 0200 7249     	        ldr r1, = asciimabiao
 373 0202 1022     	        movs r2, # 16
 374 0204 00F054FB 	        bl _lcdxianshi
 375 0208 E2E7     		b shiyan
 376              	
ARM GAS  1.s 			page 8


 377              	aaaa:
 378 020a F0B5     		push {r4-r7,lr}
 379 020c 8C48     		ldr r0, = shang_bi_shi_bu
 380 020e 8D49     		ldr r1, = shang_bi_xu_bu
 381 0210 8D4A     		ldr r2, = xia_bi_shi_bu
 382 0212 8E4B     		ldr r3, = xia_bi_xu_bu
 383 0214 894C     		ldr r4, = liangcheng
 384 0216 0068     		ldr r0, [r0]
 385 0218 0968     		ldr r1, [r1]
 386 021a 1268     		ldr r2, [r2]
 387 021c 1B68     		ldr r3, [r3]
 388 021e 2568     		ldr r5, [r4]
 389              	__c_liang_cheng_100ka:
 390 0220 002D     	        cmp r5, # 0x00
 391 0222 01D1     		bne __c_liang_cheng10ka
 392 0224 8A4C     	        ldr r4, = 100000
 393 0226 08E0     		b __ji_suan_dian_ronga
 394              	__c_liang_cheng10ka:
 395 0228 402D     	        cmp r5, # 0x40
 396 022a 01D1     	        bne __c_liang_cheng1ka
 397 022c 894C     	        ldr r4, = 10000
 398 022e 04E0     	        b __ji_suan_dian_ronga
 399              	__c_liang_cheng1ka:
 400 0230 802D     	        cmp r5, # 0x80
 401 0232 01D1     		bne __c_liang_cheng100oua
 402 0234 884C     	        ldr r4, = 1000
 403 0236 00E0     	        b __ji_suan_dian_ronga
 404              	__c_liang_cheng100oua:
 405 0238 6424     		movs r4, # 100
 406              	__ji_suan_dian_ronga:
 407              	@ Z=R+jx
 408              	@ Z=R*[(a+bi)/(c+di)]=R*[(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)]
 409              	@c=1/[(2*pi*f)*xc]
 410 023a 10B4     		push {r4}
 411 023c 0446     		mov r4, r0
 412 023e 0D46     		mov r5, r1
 413 0240 1646     		mov r6, r2
 414 0242 1F46     		mov r7, r3
 415 0244 5043     		muls r0, r0, r2		@ac
 416 0246 5943     		muls r1, r1, r3		@bd
 417 0248 4018     		adds r0, r0, r1		@ac+bd
 418 024a 5243     		muls r2, r2, r2		@c*c
 419 024c 5B43     		muls r3, r3, r3		@d*d
 420 024e D218     		adds r2, r2, r3		@c*c+d*d
 421 0250 05B4     		push {r0,r2}
 422 0252 7543     		muls r5, r5, r6		@ bc
 423 0254 7C43     		muls r4, r4, r7		@ ad
 424 0256 2D1B     		subs r5, r5, r4		@ bc-ad
 425 0258 05BC     		pop {r0,r2}
 426 025a 02BC     		pop {r1}
 427 025c 00F0C7FB 		bl __chengfa
 428 0260 00F0A1FB 		bl __chufa64
 429 0264 F0BD     		pop {r4-r7,pc}
 430              	ting:
 431 0266 00F0CDFA 		bl _jianbo
 432 026a 00F00AFA 		bl __zhen_fu_lv_bo
 433 026e 00F058F9 		bl __zu_kang_ji_suan
ARM GAS  1.s 			page 9


 434 0272 00F00BF9 		bl __dian_rong_ji_suan
 435 0276 00F001F8 		bl __cai_dan1
 436 027a F4E7     		b ting
 437              	__cai_dan1:
 438 027c 00B5     		push {lr}
 439 027e 7749     		ldr r1, = dianzuzhi
 440 0280 0C68     		ldr r4, [r1]
 441 0282 2400     		movs r4, r4
 442 0284 07D5     	        bpl __dian_zu_zheng
 443 0286 8220     	        movs r0, # 0x82
 444 0288 7549     	        ldr r1, = _fu
 445 028a 0122     	        movs r2, # 1
 446 028c 00F010FB 		bl _lcdxianshi
 447 0290 E443     	        mvns r4, r4
 448 0292 0134     	        adds r4, r4, # 1
 449 0294 04E0     	        b __xian_shi_dian_zu
 450              	__dian_zu_zheng:
 451 0296 8220     	        movs r0, # 0x82
 452 0298 7249     	        ldr r1, = kong
 453 029a 0122     	        movs r2, # 1
 454 029c 00F008FB 	        bl _lcdxianshi
 455              	__xian_shi_dian_zu:
 456 02a0 2046     		mov r0, r4
 457 02a2 0521     	        movs r1, # 5
 458 02a4 494A     	        ldr r2, = asciimabiao
 459 02a6 FF23     	        movs r3, # 0xff
 460 02a8 00F051FB 	        bl _zhuanascii
 461 02ac 8320     	        movs r0, # 0x83
 462 02ae 4749     	        ldr r1, = asciimabiao
 463 02b0 0522     	        movs r2, # 5
 464 02b2 00F0FDFA 	        bl _lcdxianshi
 465 02b6 6C49     		ldr r1, = diankangzhi
 466 02b8 0C68     		ldr r4, [r1]
 467 02ba 2400     		movs r4, r4
 468 02bc 07D5     	        bpl __dian_kang_zheng
 469 02be 8820     	        movs r0, # 0x88
 470 02c0 6749     	        ldr r1, = _fu
 471 02c2 0122     	        movs r2, # 1
 472 02c4 00F0F4FA 		bl _lcdxianshi
 473 02c8 E443     	        mvns r4, r4
 474 02ca 0134     	        adds r4, r4, # 1
 475 02cc 04E0     	        b __xian_shi_dian_kang
 476              	__dian_kang_zheng:
 477 02ce 8820     	        movs r0, # 0x88
 478 02d0 6649     	        ldr r1, = zheng
 479 02d2 0122     	        movs r2, # 1
 480 02d4 00F0ECFA 	        bl _lcdxianshi
 481              	__xian_shi_dian_kang:
 482 02d8 2046     	        mov r0, r4
 483 02da 0521     	        movs r1, # 5
 484 02dc 3B4A     	        ldr r2, = asciimabiao
 485 02de FF23     	        movs r3, # 0xff
 486 02e0 00F035FB 	        bl _zhuanascii
 487 02e4 8920     	        movs r0, # 0x89
 488 02e6 3949     	        ldr r1, = asciimabiao
 489 02e8 0522     	        movs r2, # 5
 490 02ea 00F0E1FA 	        bl _lcdxianshi
ARM GAS  1.s 			page 10


 491 02ee 8F20     	        movs r0, # 0x8f
 492 02f0 5F49     	        ldr r1, = ou
 493 02f2 0122     	        movs r2, # 1
 494 02f4 00F0DCFA 	        bl _lcdxianshi
 495              	__xian_shi_z:
 496 02f8 8020     		movs r0, # 0x80
 497 02fa 5E49     		ldr r1, = zukang
 498 02fc 0222     		movs r2, # 2
 499 02fe 00F0D7FA 		bl _lcdxianshi
 500              	__xian_shi_pin_lv:
 501 0302 CB20     	        movs r0, # 0xcb
 502 0304 5C49     	        ldr r1, = pinlv10k
 503 0306 0522     	        movs r2, # 5
 504 0308 00F0D2FA 	        bl _lcdxianshi
 505              	__xian_shi_dian_rong:
 506 030c 5B48     		ldr r0, = dianrongzhi
 507 030e 0821     	        movs r1, # 8
 508 0310 0068     		ldr r0, [r0]
 509 0312 2E4A     	        ldr r2, = asciimabiao
 510 0314 FF23     	        movs r3, # 0xff
 511 0316 00F01AFB 	        bl _zhuanascii
 512 031a C020     		movs r0, # 0xc0
 513 031c 2B49     	        ldr r1, = asciimabiao
 514 031e 0822     		movs r2, # 8
 515 0320 00F0C6FA 	        bl _lcdxianshi
 516 0324 C820     	        movs r0, # 0xc8
 517 0326 5649     		ldr r1, = pifa
 518 0328 0222     		movs r2, # 2
 519 032a 00F0C1FA 	        bl _lcdxianshi
 520 032e 00BD     		pop {pc}
 521              		
 522              		
 523              	dd:
 524 0330 4248     		ldr r0, = liangcheng
 525 0332 C021     		movs r1, # 0xc0
 526 0334 0160     		str r1, [r0]
 527 0336 5348     		ldr r0, = shangbifangda
 528 0338 5349     		ldr r1, = xiabifangda
 529 033a 0022     		movs r2, # 0
 530 033c 0260     		str r2, [r0]
 531 033e 0022     		movs r2, # 0
 532 0340 0A60     		str r2, [r1]
 533              		
 534              	ddd:
 535 0342 00F0B4F8 		bl __an_jian
 536 0346 4F49     		ldr r1, = shangbifangda
 537 0348 0860     		str r0, [r1]
 538 034a 00F05BFA 		bl _jianbo
 539 034e 00F098F9 	        bl __zhen_fu_lv_bo
 540 0352 3D48     	        ldr r0, = xia_bi_shi_bu
 541 0354 3A49     	        ldr r1, = shang_bi_shi_bu
 542 0356 3D4A     	        ldr r2, = xia_bi_xu_bu
 543 0358 3A4B     	        ldr r3, = shang_bi_xu_bu
 544 035a 0068     	        ldr r0, [r0]
 545 035c 0968     	        ldr r1, [r1]
 546 035e 1268     	        ldr r2, [r2]
 547 0360 1B68     	        ldr r3, [r3]
ARM GAS  1.s 			page 11


 548 0362 00F01DF9 	        bl __xian_shi_shang_xia_bi
 549              	
 550 0366 3548     		ldr r0, = liangcheng
 551 0368 0068     	        ldr r0, [r0]
 552 036a 8009     		lsrs r0, r0, # 6
 553 036c 0121     		movs r1, # 1
 554 036e 174A     	        ldr r2, = asciimabiao
 555 0370 FF23     	        movs r3, # 0xff
 556 0372 00F0ECFA 	        bl _zhuanascii
 557 0376 C720     	        movs r0, # 0xc7
 558 0378 1449     	        ldr r1, = asciimabiao
 559 037a 0122     	        movs r2, # 1
 560 037c 00F098FA 		bl _lcdxianshi
 561              	
 562 0380 4048     	        ldr r0, = shangbifangda
 563 0382 0068     	        ldr r0, [r0]
 564 0384 0121     	        movs r1, # 1
 565 0386 114A     	        ldr r2, = asciimabiao
 566 0388 FF23     	        movs r3, # 0xff
 567 038a 00F0E0FA 	        bl _zhuanascii
 568 038e 8720     	        movs r0, # 0x87
 569 0390 0E49     	        ldr r1, = asciimabiao
 570 0392 0122     	        movs r2, # 1
 571 0394 00F08CFA 		bl _lcdxianshi
 572              	
 573 0398 3B48     	        ldr r0, = xiabifangda
 574 039a 0068     	        ldr r0, [r0]
 575 039c 0121     	        movs r1, # 1
 576 039e 0B4A     	        ldr r2, = asciimabiao
 577 03a0 FF23     	        movs r3, # 0xff
 578 03a2 00F0D4FA 	        bl _zhuanascii
 579 03a6 C820     	        movs r0, # 0xc8
 580 03a8 0849     	        ldr r1, = asciimabiao
 581 03aa 0122     	        movs r2, # 1
 582 03ac 00F080FA 		bl _lcdxianshi
 583              	
 584 03b0 C7E7     		b ddd
 585 03b2 0000FFFF 		.ltorg
 585      00000020 
 585      02400010 
 585      02400100 
 585      01000200 
 586              	
 587              	
 588              	__dian_rong_ji_suan:
 589 048c 1FB5     		push {r0-r4,lr}
 590 048e 8E48     		ldr r0, = dianzuzhi
 591 0490 8E49     		ldr r1, = diankangzhi
 592 0492 0068     		ldr r0, [r0]
 593 0494 0968     		ldr r1, [r1]
 594 0496 00F022F8 		bl __ji_suan_fu_du
 595 049a 0246     		mov r2, r0
 596 049c 8C49     		ldr r1, = 62831
 597 049e 4A43     		muls r2, r2, r1
 598 04a0 8C49     		ldr r1, = 0xe4a51000
 599 04a2 E820     		movs r0, # 0xe8
 600 04a4 00F07FFA 		bl __chufa64
ARM GAS  1.s 			page 12


 601 04a8 8B4B     		ldr r3, = dianrongzhi
 602 04aa 1960     		str r1, [r3]
 603 04ac 1FBD     		pop {r0-r4,pc}
 604              	__an_jian:
 605 04ae 02B4     		push {r1}
 606 04b0 8A49     		ldr r1, = 0x48000010
 607 04b2 0868     		ldr r0, [r1]
 608 04b4 C043     		mvns r0, r0
 609 04b6 0007     		lsls r0, r0, # 28
 610 04b8 800F     		lsrs r0, r0, # 30
 611 04ba 02BC     		pop {r1}
 612 04bc 7047     		bx lr
 613              	__fang_da:
 614              		@ 入口r0=0(放大0)，1（放大2），2（放大8.8）,3（放大44）
 615 04be 1EB5     		push {r1-r4,lr}
 616 04c0 874A     	        ldr r2, = 0x48000000
 617 04c2 8849     	        ldr r1, = 0x48000400
 618 04c4 0223     		movs r3, # 0x02
 619 04c6 1024     		movs r4, # 0x10
 620 04c8 8007     		lsls r0, r0, # 30
 621 04ca 01D4     		bmi __pa4_guan
 622 04cc 9461     		str r4, [r2, # 0x18]
 623 04ce 00E0     		b __pan_duan_pb1
 624              	__pa4_guan:
 625 04d0 9462     		str r4, [r2, # 0x28]
 626              	__pan_duan_pb1:
 627 04d2 4000     	        lsls r0, r0, # 1
 628 04d4 01D4     	        bmi __pb1_guan
 629 04d6 8B61     	        str r3, [r1, # 0x18]
 630 04d8 1EBD     		pop {r1-r4,pc}
 631              	__pb1_guan:
 632 04da 8B62     		str r3, [r1, # 0x28]
 633 04dc 1EBD     		pop {r1-r4,pc}
 634              		
 635              	__ji_suan_fu_du:    @ 计算幅度
 636              	                @ 入r0= 实部，r1= 虚部
 637              	                @ 出r0 = 幅度
 638              	                @ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
 639              	                @ Alpha * Max + Beta * Min
 640 04de 0EB5     	        push {r1-r3,lr}
 641 04e0 0000     	        movs r0, r0
 642 04e2 01D5     	        bpl _shibubushifushu
 643 04e4 C043     	        mvns r0, r0                             @ 是负数转成正数
 644 04e6 0130     	        adds r0, r0, # 1
 645              	_shibubushifushu:                               @ 实部不是负数
 646 04e8 0900     	        movs r1, r1
 647 04ea 01D5     	        bpl _xububushifushu
 648 04ec C943     	        mvns r1, r1                             @ 是负数转成正数
 649 04ee 0131     	        adds r1, r1, # 1
 650              	_xububushifushu:                                @ 虚部不是负数
 651 04f0 0028     	        cmp r0, # 0
 652 04f2 01D1     	        bne _panduanxubushibushi0
 653 04f4 0846     	        mov r0, r1
 654 04f6 0EBD     	        pop {r1-r3,pc}
 655              	_panduanxubushibushi0:	
 656 04f8 0029     		cmp r1, # 0
 657 04fa 00D1     		bne _jisuanfudu1
ARM GAS  1.s 			page 13


 658 04fc 0EBD     		pop {r1-r3,pc}
 659              	_jisuanfudu1:
 660 04fe 7A4A     		ldr r2, = 31066		@ Alpha q15 0.948059448969
 661 0500 7A4B     		ldr r3, = 12867		@ Beta q15 0.392699081699
 662 0502 8142     		cmp r1, r0
 663 0504 06D8     		bhi _alpha_min_beta_max
 664              	_alpha_max_beta_min:
 665 0506 5043     		muls r0, r0, r2
 666 0508 5943     		muls r1, r1, r3
 667 050a C013     		asrs r0, r0, # 15
 668 050c C913     		asrs r1, r1, # 15
 669 050e 4018     		adds r0, r0, r1
 670 0510 0121     		movs r1, # 1
 671 0512 0EBD     		pop {r1-r3,pc}
 672              	_alpha_min_beta_max:
 673 0514 5843     		muls r0, r0, r3
 674 0516 5143     		muls r1, r1, r2
 675 0518 C013     		asrs r0, r0, # 15
 676 051a C913     		asrs r1, r1, # 15
 677 051c 4018     		adds r0, r0, r1
 678 051e 0021     		movs r1, # 0
 679 0520 0EBD     		pop {r1-r3,pc}
 680              		
 681              	__zu_kang_ji_suan:
 682 0522 FFB5     		push {r0-r7,lr}
 683 0524 7248     		ldr r0, = shang_bi_shi_bu
 684 0526 7349     		ldr r1, = shang_bi_xu_bu
 685 0528 734A     		ldr r2, = xia_bi_shi_bu
 686 052a 744B     		ldr r3, = xia_bi_xu_bu
 687 052c 744C     		ldr r4, = liangcheng
 688 052e 0068     		ldr r0, [r0]
 689 0530 0968     		ldr r1, [r1]
 690 0532 1268     		ldr r2, [r2]
 691 0534 1B68     		ldr r3, [r3]
 692 0536 2568     		ldr r5, [r4]
 693              	__c_liang_cheng_100k:
 694 0538 002D     	        cmp r5, # 0x00
 695 053a 01D1     		bne __c_liang_cheng10k
 696 053c 714C     	        ldr r4, = 100000
 697 053e 08E0     		b __ji_suan_zu_kang
 698              	__c_liang_cheng10k:
 699 0540 402D     	        cmp r5, # 0x40
 700 0542 01D1     	        bne __c_liang_cheng1k
 701 0544 704C     	        ldr r4, = 10000
 702 0546 04E0     	        b __ji_suan_zu_kang
 703              	__c_liang_cheng1k:
 704 0548 802D     	        cmp r5, # 0x80
 705 054a 01D1     		bne __c_liang_cheng100ou
 706 054c 6F4C     	        ldr r4, = 1000
 707 054e 00E0     	        b __ji_suan_zu_kang
 708              	__c_liang_cheng100ou:
 709 0550 6424     		movs r4, # 100
 710              	__ji_suan_zu_kang:
 711              	@ Z=R+jx
 712              	@ Z=R*[(a+bi)/(c+di)]=R*[(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)]
 713              	@c=1/[(2*pi*f)*xc]
 714 0552 10B4     		push {r4}
ARM GAS  1.s 			page 14


 715 0554 0446     		mov r4, r0
 716 0556 0D46     		mov r5, r1
 717 0558 1646     		mov r6, r2
 718 055a 1F46     		mov r7, r3
 719 055c 5043     		muls r0, r0, r2		@ac
 720 055e 5943     		muls r1, r1, r3		@bd
 721 0560 4018     		adds r0, r0, r1		@ac+bd
 722 0562 5243     		muls r2, r2, r2		@c*c
 723 0564 5B43     		muls r3, r3, r3		@d*d
 724 0566 D218     		adds r2, r2, r3		@c*c+d*d
 725 0568 1146     		mov r1, r2
 726 056a 08BC     		pop {r3}
 727 056c 5843     		muls r0, r0, r3
 728 056e 00F05AFA 		bl __chu_fa		@(ac+bd)/(c*c+d*d)
 729 0572 01B4     		push {r0}
 730 0574 7543     		muls r5, r5, r6		@ bc
 731 0576 7C43     		muls r4, r4, r7		@ ad
 732 0578 2D1B     		subs r5, r5, r4		@ bc-ad
 733 057a 2846     		mov r0, r5
 734 057c 5843     		muls r0, r0, r3
 735 057e 1146     		mov r1, r2
 736 0580 00F051FA 		bl __chu_fa
 737 0584 02BC     		pop {r1}		@实
 738 0586 504B     		ldr r3, = dianzuzhi
 739 0588 504C     		ldr r4, = diankangzhi
 740 058a 1960     		str r1, [r3]
 741 058c 2060     		str r0, [r4]
 742 058e FFBD     		pop {r0-r7,pc}
 743              	
 744              	__fu_zhi_nei_cun:
 745              		@ 入口 R0 = 要复制的地址，R1=目标地址，R2=复制的数量
 746 0590 10B5     		push {r4,lr}
 747 0592 0024     		movs r4, # 0
 748              	__fu_zhi_xun_huan:	
 749 0594 035B     		ldrh r3, [r0, r4]
 750 0596 0B53     		strh r3, [r1, r4]
 751 0598 0234     		adds r4, r4, # 2
 752 059a 013A     		subs r2, r2, # 1
 753 059c FAD1     		bne __fu_zhi_xun_huan
 754 059e 10BD     		pop {r4,pc}
 755              	
 756              	__xian_shi_shang_xia_bi:
 757              	@入口 R0= 下臂实部，R1=上臂实部，R2=下臂虚部，R3=上臂虚部
 758 05a0 FFB5     		push {r0-r7,lr}
 759 05a2 8046     		mov r8, r0
 760 05a4 8946     		mov r9, r1
 761 05a6 9246     		mov r10, r2
 762 05a8 9B46     		mov r11, r3
 763              	@显示上臂实部
 764 05aa 0C00     		movs r4, r1
 765 05ac 07D5     		bpl __shang_bi_shi_bu_zheng
 766 05ae 8020     	        movs r0, # 0x80
 767 05b0 5749     	        ldr r1, = _fu
 768 05b2 0122     	        movs r2, # 1
 769 05b4 00F07CF9 	        bl _lcdxianshi
 770 05b8 E443     		mvns r4, r4
 771 05ba 0134     		adds r4, r4, # 1
ARM GAS  1.s 			page 15


 772 05bc 04E0     		b __xian_shi_shang_bi_shi_bu
 773              	__shang_bi_shi_bu_zheng:	
 774 05be 8020     	        movs r0, # 0x80
 775 05c0 5449     		ldr r1, = kong
 776 05c2 0122     	        movs r2, # 1
 777 05c4 00F074F9 	        bl _lcdxianshi
 778              	__xian_shi_shang_bi_shi_bu:
 779 05c8 2046     		mov r0, r4
 780 05ca 0521     		movs r1, # 5
 781 05cc 524A     		ldr r2, = asciimabiao
 782 05ce FF23     		movs r3, # 0xff
 783 05d0 00F0BDF9 		bl _zhuanascii
 784 05d4 8120     		movs r0, # 0x81
 785 05d6 5049     		ldr r1, = asciimabiao
 786 05d8 0522     		movs r2, # 5
 787 05da 00F069F9 		bl _lcdxianshi
 788              	@显示上臂虚部
 789 05de 5C46     	        mov r4, r11
 790 05e0 2400     		movs r4, r4
 791 05e2 07D5     	        bpl __shang_bi_xu_bu_zheng
 792 05e4 C020     	        movs r0, # 0xc0
 793 05e6 4A49     	        ldr r1, = _fu
 794 05e8 0122     	        movs r2, # 1
 795 05ea 00F061F9 	        bl _lcdxianshi
 796 05ee E443     	        mvns r4, r4
 797 05f0 0134     	        adds r4, r4, # 1
 798 05f2 04E0     	        b __xian_shi_shang_bi_xu_bu
 799              	__shang_bi_xu_bu_zheng:
 800 05f4 C020     	        movs r0, # 0xc0
 801 05f6 4749     		ldr r1, = kong
 802 05f8 0122     	        movs r2, # 1
 803 05fa 00F059F9 	        bl _lcdxianshi
 804              	__xian_shi_shang_bi_xu_bu:
 805 05fe 2046     	        mov r0, r4
 806 0600 0521     	        movs r1, # 5
 807 0602 454A     	        ldr r2, = asciimabiao
 808 0604 FF23     	        movs r3, # 0xff
 809 0606 00F0A2F9 		bl _zhuanascii
 810 060a C120     		movs r0, # 0xc1
 811 060c 4249     	        ldr r1, = asciimabiao
 812 060e 0522     	        movs r2, # 5
 813 0610 00F04EF9 		bl _lcdxianshi
 814              	@显示下臂实部：
 815 0614 4446     	        mov r4, r8
 816 0616 2400     		movs r4, r4
 817 0618 07D5     	        bpl __xia_bi_shi_bu_zheng
 818 061a 8A20     	        movs r0, # 0x8a
 819 061c 3C49     	        ldr r1, = _fu
 820 061e 0122     	        movs r2, # 1
 821 0620 00F046F9 	        bl _lcdxianshi
 822 0624 E443     	        mvns r4, r4
 823 0626 0134     		adds r4, r4, # 1
 824 0628 04E0     		b __xian_shi_xia_bi_shi_bu
 825              	__xia_bi_shi_bu_zheng:
 826 062a 8A20     	        movs r0, # 0x8a
 827 062c 3949     	        ldr r1, = kong
 828 062e 0122     	        movs r2, # 1
ARM GAS  1.s 			page 16


 829 0630 00F03EF9 		bl _lcdxianshi
 830              	__xian_shi_xia_bi_shi_bu:
 831 0634 2046     		mov r0, r4
 832 0636 0521     		movs r1, # 5
 833 0638 374A     		ldr r2, = asciimabiao
 834 063a FF23     		movs r3, # 0xff
 835 063c 00F087F9 		bl _zhuanascii
 836 0640 8B20     	        movs r0, # 0x8b
 837 0642 3549     	        ldr r1, = asciimabiao
 838 0644 0522     	        movs r2, # 5
 839 0646 00F033F9 	        bl _lcdxianshi
 840              	
 841              	@显示下臂虚部
 842 064a 5446     		mov r4, r10
 843 064c 2400     		movs r4, r4
 844 064e 07D5     	        bpl __xia_bi_xu_bu_zheng
 845 0650 CA20     	        movs r0, # 0xca
 846 0652 2F49     	        ldr r1, = _fu
 847 0654 0122     	        movs r2, # 1
 848 0656 00F02BF9 	        bl _lcdxianshi
 849 065a E443     	        mvns r4, r4
 850 065c 0134     	        adds r4, r4, # 1
 851 065e 04E0     	        b __xian_shi_xia_bi_xu_bu
 852              	__xia_bi_xu_bu_zheng:
 853 0660 CA20     	        movs r0, # 0xca
 854 0662 2C49     	        ldr r1, = kong
 855 0664 0122     	        movs r2, # 1
 856 0666 00F023F9 	        bl _lcdxianshi
 857              	__xian_shi_xia_bi_xu_bu:
 858 066a 2046     	        mov r0, r4
 859 066c 0521     	        movs r1, # 5
 860 066e 2A4A     	        ldr r2, = asciimabiao
 861 0670 FF23     	        movs r3, # 0xff
 862 0672 00F06CF9 	        bl _zhuanascii
 863 0676 CB20     	        movs r0, # 0xcb
 864 0678 2749     	        ldr r1, = asciimabiao
 865 067a 0522     	        movs r2, # 5
 866 067c 00F018F9 	        bl _lcdxianshi
 867 0680 FFBD     		pop {r0-r7,pc}
 868              	
 869              	
 870              	__zhen_fu_lv_bo:
 871              		@ 入口 R0= 下臂实部，R1=上臂实部，R2=下臂虚部，R3=上臂虚部
 872 0682 FFB5     		push {r0-r7,lr}
 873 0684 1C4F     		ldr r7, = xia_bi_shi_bu
 874 0686 1546     		mov r5, r2
 875 0688 1E46     		mov r6, r3
 876 068a 0C46     		mov r4, r1
 877 068c 0346     		mov r3, r0
 878 068e 2348     		ldr r0, = lvboqihuanchong
 879 0690 2349     		ldr r1, = 32
 880 0692 244A     		ldr r2, = lvboqizhizhen
 881 0694 00F0E3F8 		bl _lvboqi
 882 0698 3860     		str r0, [r7]			@保存下臂实部
 883 069a 2346     	        mov r3, r4
 884 069c 2248     	        ldr r0, = lvboqihuanchong1
 885 069e 2049     		ldr r1, = 32
ARM GAS  1.s 			page 17


 886 06a0 224A     		ldr r2, = lvboqizhizhen1
 887 06a2 00F0DCF8 	        bl _lvboqi
 888 06a6 7860     	        str r0, [r7, # 0x04]		@保存上臂实部
 889 06a8 2B46     		mov r3, r5
 890 06aa 2148     		ldr r0, = lvboqihuanchong2
 891 06ac 1C49     	        ldr r1, = 32
 892 06ae 214A     	        ldr r2, = lvboqizhizhen2
 893 06b0 00F0D5F8 		bl _lvboqi
 894 06b4 B860     		str r0, [r7, # 0x08]		@保存下臂虚部
 895              	
 896 06b6 3346     	        mov r3, r6
 897 06b8 1F48     		ldr r0, = lvboqihuanchong3
 898 06ba 1949     		ldr r1, = 32
 899 06bc 1F4A     		ldr r2, = lvboqizhizhen3
 900 06be 00F0CEF8 	        bl _lvboqi
 901 06c2 F860     		str r0, [r7, # 0x0c]		@保存上臂虚部
 902 06c4 FFBD     		pop {r0-r7,pc}
 903              	
 904 06c6 0000180A 		.ltorg
 904      00201C0A 
 904      00206FF5 
 904      00000010 
 904      A5E4300A 
 905              	__jianbo:
 906              		@入口R0=0（上臂）1（下臂）
 907              		@出口R0=实部 R1=虚部
 908 0740 FCB5     		push {r2-r7,lr}
 909 0742 514C     		ldr r4, = 0x48000000
 910 0744 514D     		ldr r5, = 0x200
 911 0746 524E     		ldr r6, = 0x40012428
 912 0748 0028     		cmp r0, # 0
 913 074a 17D1     		bne __xia_bi_kai
 914 074c A561     		str r5, [r4, # 0x18]	@上臂开
 915 074e 0124     	        movs r4, # 1
 916 0750 3460     	        str r4, [r6]            @ 反相通道开
 917 0752 00F07FF8 	        bl _jianboyanshi
 918 0756 4F48     	        ldr r0, = dianyabiao
 919 0758 4F49     	        ldr r1, = fanxiangbiao
 920 075a 6422     	        movs r2, # 100
 921 075c FFF718FF 	        bl __fu_zhi_nei_cun
 922 0760 0224     	        movs r4, # 2
 923 0762 3460     	        str r4, [r6]            @ 正相通道开
 924 0764 00F076F8 		bl _jianboyanshi
 925 0768 4A48     	        ldr r0, = dianyabiao
 926 076a 4C49     	        ldr r1, = zhengxiangbiao
 927 076c 6422     	        movs r2, # 100
 928 076e FFF70FFF 	        bl __fu_zhi_nei_cun
 929 0772 4A49     	        ldr r1, = zhengxiangbiao
 930 0774 4848     	        ldr r0, = fanxiangbiao
 931 0776 00F019F8 		bl __DFT_ji_suan
 932 077a FCBD     	        pop {r2-r7,pc}
 933              	__xia_bi_kai:
 934 077c A562     		str r5, [r4, # 0x28]	@ 下臂开
 935 077e 0124     		movs r4, # 1
 936 0780 3460     		str r4, [r6]		@ 反相通道开
 937 0782 00F067F8 		bl _jianboyanshi
 938 0786 4348     		ldr r0, = dianyabiao
ARM GAS  1.s 			page 18


 939 0788 4349     		ldr r1, = fanxiangbiao
 940 078a 6422     		movs r2, # 100
 941 078c FFF700FF 		bl __fu_zhi_nei_cun
 942 0790 0224     		movs r4, # 2
 943 0792 3460     		str r4, [r6]		@ 正相通道开
 944 0794 00F05EF8 		bl _jianboyanshi
 945 0798 3E48     		ldr r0, = dianyabiao
 946 079a 4049     		ldr r1, = zhengxiangbiao
 947 079c 6422     		movs r2, # 100
 948 079e FFF7F7FE 		bl __fu_zhi_nei_cun
 949 07a2 3E48     		ldr r0, = zhengxiangbiao
 950 07a4 3C49     		ldr r1, = fanxiangbiao
 951 07a6 00F001F8 		bl __DFT_ji_suan
 952 07aa FCBD     		pop {r2-r7,pc}
 953              	
 954              		
 955              	__DFT_ji_suan:
 956              		@入口R0=正相表，R1=反相表
 957 07ac FCB5     		push {r2-r7,lr}
 958 07ae 4446     		mov r4, r8
 959 07b0 4D46     		mov r5, r9
 960 07b2 5646     		mov r6, r10
 961 07b4 70B4     		push {r4-r6}
 962 07b6 0026     		movs r6, # 0
 963 07b8 B046     		mov r8, r6
 964 07ba B146     		mov r9, r6
 965 07bc C822     		movs r2, # 200
 966 07be 9246     		mov r10, r2
 967 07c0 3246     		mov r2, r6
 968              	__ji_suan_dft_xun_huan:
 969 07c2 835A     		ldrh r3, [r0, r2]
 970 07c4 8C5A     		ldrh r4, [r1, r2]
 971 07c6 002B     		cmp r3, # 0
 972 07c8 00D0     		beq __qu_fan_r4
 973 07ca 02E0     		b __ji_suan_dft
 974              	__qu_fan_r4:
 975 07cc E443     		mvns r4, r4
 976 07ce 0134     		adds r4, r4, # 1
 977 07d0 2346     		mov r3, r4
 978              	__ji_suan_dft:
 979 07d2 334D     		ldr r5, = xuan_zhuan_yin_zi
 980 07d4 AF59     		ldr r7, [r5, r6]
 981 07d6 0436     		adds r6, r6, # 4
 982 07d8 5F43     		muls r7, r7, r3		@ 实部
 983 07da FF13     		asrs r7, r7, # 15
 984 07dc 4446     		mov r4, r8
 985 07de E419     		adds r4, r4, r7
 986 07e0 A046     		mov r8, r4
 987 07e2 AF59     		ldr r7, [r5, r6]
 988 07e4 0436     		adds r6, r6, # 4
 989 07e6 5F43     		muls r7, r7, r3		@ 虚部
 990 07e8 FF13     		asrs r7, r7, # 15
 991 07ea 4C46     		mov r4, r9
 992 07ec E419     		adds r4, r4, r7
 993 07ee A146     		mov r9, r4
 994 07f0 0232     		adds r2, r2, # 2
 995 07f2 5245     		cmp r2, r10
ARM GAS  1.s 			page 19


 996 07f4 E5D1     		bne __ji_suan_dft_xun_huan
 997 07f6 4046     		mov r0, r8
 998 07f8 4946     		mov r1, r9
 999 07fa 70BC     		pop {r4-r6}
 1000 07fc A046     		mov r8, r4
 1001 07fe A946     		mov r9, r5
 1002 0800 B246     		mov r10, r6
 1003 0802 FCBD     		pop {r2-r7,pc}
 1004              	_jianbo:
 1005 0804 30B5     		push {r4-r5,lr}
 1006 0806 2748     		ldr r0, = shangbifangda		@上臂放大
 1007 0808 0068     		ldr r0, [r0]
 1008 080a FFF758FE 		bl __fang_da
 1009 080e 0020     		movs r0, # 0		@上臂开
 1010 0810 FFF796FF 		bl __jianbo		
 1011 0814 03B4     		push {r0,r1}
 1012 0816 2448     		ldr r0, = xiabifangda		@下臂放大
 1013 0818 0068     		ldr r0, [r0]
 1014 081a FFF750FE 		bl __fang_da
 1015 081e 0120     		movs r0, # 1		@下臂开
 1016 0820 FFF78EFF 		bl __jianbo
 1017 0824 30BC     		pop {r4,r5}	
 1018 0826 2B00     		movs r3, r5
 1019 0828 0A00     		movs r2, r1
 1020 082a 2600     		movs r6, r4
 1021 082c 3221     		movs r1, # 50
 1022 082e 00F0FAF8 		bl __chu_fa
 1023 0832 01B4     		push {r0}
 1024 0834 1046     		mov r0, r2
 1025 0836 00F0F6F8 		bl __chu_fa
 1026 083a 01B4     		push {r0}
 1027 083c 3046     		mov r0, r6
 1028 083e 00F0F2F8 		bl __chu_fa
 1029 0842 01B4     		push {r0}
 1030 0844 1846     		mov r0, r3
 1031 0846 00F0EEF8 		bl __chu_fa
 1032 084a 0346     		mov r3, r0
 1033 084c 02BC     		pop {r1}
 1034 084e 04BC     		pop {r2}
 1035 0850 01BC     		pop {r0}
 1036 0852 30BD     		pop {r4-r5,pc}
 1037              	_jianboyanshi:
 1038 0854 80B5     		push {r7,lr}
 1039 0856 154F     		ldr r7, = 0xffff
 1040              	_jianboyanshixunhuan:
 1041 0858 013F     		subs r7, r7, # 1
 1042 085a FDD1     		bne _jianboyanshixunhuan
 1043 085c 80BD     		pop {r7,pc}	
 1044              	_lvboqi:
 1045              				@滤波器
 1046              				@R0=地址，R1=长度,r2=表指针地址,r3=ADC数值
 1047              				@出R0=结果
 1048 085e FEB5     		push {r1-r7,lr}	
 1049 0860 1568     		ldr r5, [r2]		@读出表指针
 1050 0862 8E00     		lsls r6, r1, # 2	
 1051 0864 4351     		str r3, [r0, r5]	@数值写到滤波器缓冲区
 1052 0866 0435     		adds r5, r5, # 4
ARM GAS  1.s 			page 20


 1053 0868 B542     		cmp r5, r6
 1054 086a 00D1     		bne _lvboqimeidaohuanchongquding
 1055 086c 0025     		movs r5, # 0
 1056              	_lvboqimeidaohuanchongquding:
 1057 086e 1560     		str r5, [r2]
 1058 0870 0027     		movs r7, # 0
 1059              	_lvboqixunhuan:
 1060 0872 B542     		cmp r5, r6
 1061 0874 00D1     		bne _lvbozonghe
 1062 0876 0025     		movs r5, # 0
 1063              	_lvbozonghe:
 1064 0878 4459     		ldr r4, [r0, r5]
 1065 087a 0435     		adds r5, r5, # 4
 1066 087c 3F19     		adds r7, r7, r4
 1067 087e 0139     		subs r1, r1, # 1
 1068 0880 F7D1     		bne _lvboqixunhuan
 1069 0882 7811     		asrs r0, r7, # 5	@修改
 1070 0884 FEBD     		pop {r1-r7,pc}
 1071 0886 00000000 		.ltorg
 1071      00480002 
 1071      00002824 
 1071      01404000 
 1071      0020E001 
 1072              	
 1073              		
 1074              	_lcdxianshi:	  		@r0=LCD位置，r1=数据地址，r2=长度
 1075 08b0 1FB5     		push {r0-r4,lr}
 1076 08b2 0C46     		mov r4, r1
 1077              	
 1078 08b4 0021     		movs r1, # 0
 1079 08b6 00F00EF8 		bl _xielcd
 1080              	
 1081 08ba 0121     		movs r1, # 1
 1082 08bc 0023     		movs r3, # 0
 1083              	_lcdxianshixunhuan:
 1084 08be E05C     		ldrb r0, [r4,r3]
 1085 08c0 00F009F8 		bl _xielcd
 1086 08c4 0133     		adds r3, r3, # 1
 1087 08c6 9342     		cmp r3, r2
 1088 08c8 F9D1     		bne _lcdxianshixunhuan
 1089 08ca 1FBD     		pop {r0-r4,pc}
 1090              	
 1091              	_lcdyanshi:
 1092 08cc 20B5     		push {r5,lr}
 1093 08ce 6D4D     		ldr r5, = 0x2000
 1094              	_lcdyanshixunhuan:
 1095 08d0 013D     		subs r5, r5, # 1
 1096 08d2 FDD1     		bne _lcdyanshixunhuan
 1097 08d4 20BD     		pop {r5,pc}
 1098              	
 1099              	_xielcd:			@入R0=8位,r1=0命令,r1=1数据
 1100 08d6 3FB5     		push {r0-r5,lr}
 1101 08d8 6B4C     		ldr r4, = liangcheng  @ 量程开关 (第6位和第7位)
 1102 08da 0246     		mov r2, r0
 1103 08dc 2568     		ldr r5, [r4]
 1104 08de 1209     		lsrs r2, r2, # 4
 1105 08e0 9200     		lsls r2, r2, # 2	@ 高四位
ARM GAS  1.s 			page 21


 1106 08e2 0007     		lsls r0, r0, # 28
 1107 08e4 800E     		lsrs r0, r0, # 26	@ 低四位
 1108 08e6 C907     		lsls r1, r1, # 31
 1109 08e8 01D5     		bpl __lcd_ming_ling
 1110              	__lcd_shu_ju:
 1111 08ea 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 1112 08ec 00E0     		b __xie_lcd_shu_ju
 1113              	__lcd_ming_ling:
 1114 08ee 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 1115              	__xie_lcd_shu_ju:
 1116 08f0 5B19     		adds r3, r3, r5
 1117 08f2 0146     		mov r1, r0
 1118 08f4 D218     		adds r2, r2, r3
 1119 08f6 1000     		movs r0, r2
 1120 08f8 00F00BF8 		bl __74hc595
 1121 08fc 0238     		subs r0, r0, # 0x02
 1122 08fe 00F008F8 		bl __74hc595
 1123 0902 0846     		mov r0, r1
 1124 0904 C018     		adds r0, r0, r3
 1125 0906 00F004F8 		bl __74hc595
 1126 090a 0238     		subs r0, r0, # 0x02
 1127 090c 00F001F8 		bl __74hc595
 1128 0910 3FBD     		pop {r0-r5,pc}
 1129              		
 1130              	__74hc595:			@ 入R0=8位
 1131 0912 FFB5     		push {r0-r7,lr}
 1132 0914 5D4E     		ldr r6, = 0x48000000
 1133 0916 2025     		movs r5, # 0x20		@ SRCLK
 1134 0918 4022     		movs r2, # 0x40		@ RCLK
 1135 091a 8023     		movs r3, # 0x80		@ SER
 1136 091c 1824     		movs r4, # 24
 1137              	__595_yiweixunhuan:
 1138 091e B261     		str r2, [r6, # 0x18]	@ rclk=0
 1139 0920 B561     		str r5, [r6, # 0x18]	@ srclk=0
 1140 0922 FF27     		movs r7, # 0xff
 1141              	__595_yanshi:
 1142 0924 013F     		subs r7, r7, # 1
 1143 0926 FDD1     		bne __595_yanshi
 1144 0928 0146     		mov r1, r0
 1145 092a A140     		lsls r1, r1, r4
 1146 092c 01D5     		bpl __ser_0
 1147              	__ser_1:
 1148 092e B362     		str r3, [r6, # 0x28]	@ ser=1
 1149 0930 00E0     		b __595_yiwei
 1150              	__ser_0:
 1151 0932 B361     		str r3, [r6, # 0x18]	@ ser=0
 1152              	__595_yiwei:
 1153 0934 B562     		str r5, [r6, # 0x28]
 1154 0936 FF27     		movs r7, # 0xff
 1155              	__595_yanshi1:
 1156 0938 013F     		subs r7, r7, # 1
 1157 093a FDD1     		bne __595_yanshi1
 1158 093c 0134     		adds r4, r4, # 1
 1159 093e 202C     		cmp r4, # 32
 1160 0940 EDD1     		bne __595_yiweixunhuan
 1161 0942 B262     		str r2, [r6, # 0x28]	@ rclk=1
 1162 0944 FF27     		movs r7, # 0xff
ARM GAS  1.s 			page 22


 1163              	__595_yanshi2:
 1164 0946 013F     		subs r7, r7, # 1
 1165 0948 FDD1     		bne __595_yanshi2
 1166 094a B261     		str r2, [r6, # 0x18]	@ rclk = 0
 1167 094c FFBD     		pop {r0-r7,pc}
 1168              	
 1169              	
 1170              	
 1171              	_zhuanascii:					@ 16进制转ASCII
 1172              			@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 1173 094e FFB5     		push {r0-r7,lr}
 1174 0950 1F46     		mov r7, r3
 1175 0952 0546     		mov r5, r0
 1176 0954 0E46     		mov r6, r1
 1177 0956 0A21     		movs r1, # 10
 1178              	_xunhuanqiuma:
 1179 0958 00F012F8 		bl _chufa
 1180 095c 0446     		mov r4, r0
 1181 095e 4C43     		muls r4, r1
 1182 0960 2B1B     		subs r3, r5, r4
 1183 0962 3033     		adds r3, r3, # 0x30
 1184 0964 0546     		mov r5, r0
 1185 0966 013E     		subs r6, r6, # 1
 1186 0968 08D0     		beq _qiumafanhui
 1187 096a BE42     		cmp r6, r7
 1188 096c 02D1     		bne _meidaoxiaoshudian
 1189 096e 2E24     		movs r4, # 0x2e		@小数点
 1190 0970 9455     		strb r4, [r2,r6]	@插入小数点
 1191 0972 013E     		subs r6, r6, # 1
 1192              	_meidaoxiaoshudian:
 1193 0974 9355     		strb r3, [r2,r6]
 1194 0976 3600     		movs r6, r6
 1195 0978 EED1     		bne _xunhuanqiuma
 1196 097a FFBD     		pop {r0-r7,pc}
 1197              	_qiumafanhui:
 1198 097c 9355     		strb r3, [r2, r6]
 1199 097e FFBD     		pop {r0-r7,pc}
 1200              	
 1201              	_chufa:				@软件除法
 1202              		@ r0 除以 r1 等于 商(r0)余数R1
 1203 0980 1EB5     		push {r1-r4,lr}
 1204 0982 0028     		cmp r0, # 0
 1205 0984 0ED0     		beq _chufafanhui
 1206 0986 0029     		cmp r1, # 0
 1207 0988 0CD0     		beq _chufafanhui
 1208 098a 0246     		mov r2, r0
 1209 098c 0123     		movs r3, # 1
 1210 098e DB07     		lsls r3, r3, # 31
 1211 0990 0020     		movs r0, # 0
 1212 0992 0446     		mov r4, r0
 1213              	_chufaxunhuan:
 1214 0994 5200     		lsls r2, r2, # 1
 1215 0996 6441     		adcs r4, r4, r4
 1216 0998 8C42     		cmp r4, r1
 1217 099a 01D3     		bcc _chufaweishubudao0
 1218 099c C018     		adds r0, r0, r3
 1219 099e 641A     		subs r4, r4, r1
ARM GAS  1.s 			page 23


 1220              	_chufaweishubudao0:
 1221 09a0 5B08     		lsrs r3, r3, # 1
 1222 09a2 F7D1     		bne _chufaxunhuan
 1223              	_chufafanhui:
 1224 09a4 1EBD     		pop {r1-r4,pc}
 1225              	__chufa64:
 1226              	        @64位除32位
 1227              	        @ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1228 09a6 F8B5     	        push {r3-r7,lr}
 1229 09a8 002A     	        cmp r2, # 0
 1230 09aa 1DD0     	        beq __chu_fa64_fan_hui0
 1231 09ac 0029     	        cmp r1, # 0
 1232 09ae 01D1     	        bne __chu_fa64_ji_suan
 1233 09b0 0028     	        cmp r0, # 0
 1234 09b2 19D0     	        beq __chu_fa64_fan_hui0
 1235              	__chu_fa64_ji_suan:	
 1236 09b4 0024     	        movs r4, # 0
 1237 09b6 2746     	        mov r7, r4
 1238 09b8 2346     	        mov r3, r4
 1239 09ba 2546     	        mov r5, r4
 1240 09bc 0126     	        movs r6, # 1
 1241 09be F607     	        lsls r6, r6, # 31
 1242              	__chu_fa64_xun_huan:
 1243 09c0 4900     	        lsls r1, r1, # 1
 1244 09c2 4041     	        adcs r0, r0, r0
 1245 09c4 6441     	        adcs r4, r4, r4
 1246 09c6 9442     	        cmp r4, r2
 1247 09c8 02D3     	        bcc __chu_fa_yi_wei
 1248 09ca 9B19     	        adds r3, r3, r6
 1249 09cc 7D41     	        adcs r5, r5, r7
 1250 09ce A41A     	        subs r4, r4, r2
 1251              	__chu_fa_yi_wei:
 1252 09d0 3600     	        movs r6, r6
 1253 09d2 04D0     	        beq __di_yi_wei
 1254 09d4 7608     	        lsrs r6, r6, # 1        @高32位移位
 1255 09d6 F3D1     	        bne __chu_fa64_xun_huan
 1256 09d8 0127     	        movs r7, # 1
 1257 09da FF07     	        lsls r7, r7, # 31
 1258 09dc F0E7     	        b __chu_fa64_xun_huan
 1259              	__di_yi_wei:            @低32位移位
 1260 09de 7F08     		lsrs r7, r7, # 1
 1261 09e0 EED1     	        bne __chu_fa64_xun_huan
 1262 09e2 1846     	        mov r0, r3
 1263 09e4 2946     	        mov r1, r5
 1264 09e6 F8BD     	        pop {r3-r7,pc}
 1265              	__chu_fa64_fan_hui0:
 1266 09e8 0020     		movs r0, # 0
 1267 09ea 0021     		movs r1, # 0
 1268 09ec F8BD     		pop {r3-r7,pc}
 1269              	__chengfa:
 1270              	        @入R0 乘以 R1
 1271              	        @出 R0高32 ， R1低32
 1272              		@0xffffffff*0xffffffff
 1273              	        @4        F F F E 0 0 0 1
 1274              	        @3                F F F E 0 0 0 1
 1275              	        @2                F F F E 0 0 0 1
 1276              	        @1                        F F F E 0 0 0 1
ARM GAS  1.s 			page 24


 1277              	        @         F F F F F F F E 0 0 0 0 0 0 0 1
 1278 09ee FCB5     		push {r2-r7,lr}
 1279 09f0 0246     		mov r2, r0
 1280 09f2 0B46     		mov r3, r1
 1281 09f4 000C     		lsrs r0, r0, # 16	@高16
 1282 09f6 1204     		lsls r2, r2, # 16	@ 低16
 1283 09f8 120C     		lsrs r2, r2, # 16
 1284 09fa 090C     	        lsrs r1, r1, # 16	@高16
 1285 09fc 1B04     		lsls r3, r3, # 16	@低16
 1286 09fe 1B0C     		lsrs r3, r3, # 16
 1287 0a00 1446     		mov r4, r2		
 1288 0a02 0546     		mov r5, r0		
 1289 0a04 5A43     		muls r2, r2, r3		@1
 1290 0a06 5843     		muls r0, r0, r3		@2
 1291 0a08 4C43     		muls r4, r4, r1		@3
 1292 0a0a 4D43     		muls r5, r5, r1		@4
 1293 0a0c 0646     		mov r6, r0		@2
 1294 0a0e 2746     		mov r7, r4		@3
 1295 0a10 0004     		lsls r0, r0, # 16	@2低
 1296 0a12 2404     		lsls r4, r4, # 16	@3低
 1297 0a14 360C     		lsrs r6, r6, # 16	@2高
 1298 0a16 3F0C     		lsrs r7, r7, # 16	@3高
 1299 0a18 1218     		adds r2, r2, r0
 1300 0a1a 6241     		adcs r2, r2, r4
 1301 0a1c 7541     		adcs r5, r5, r6
 1302 0a1e 7D41     		adcs r5, r5, r7
 1303 0a20 2846     		mov r0, r5
 1304 0a22 1146     		mov r1, r2
 1305 0a24 FCBD     		pop {r2-r7,pc}
 1306              	
 1307              	__chu_fa:
 1308 0a26 FEB5     		push {r1-r7,lr}
 1309 0a28 0028     	        cmp r0, # 0
 1310 0a2a 1DD0     	        beq _chufafanhui1
 1311 0a2c 0029     	        cmp r1, # 0
 1312 0a2e 1BD0     	        beq _chufafanhui1
 1313 0a30 0025     		movs r5, # 0
 1314 0a32 0000     		movs r0, r0
 1315 0a34 02D5     		bpl __pan_duan_bei_chu_shu
 1316 0a36 0135     		adds r5, r5, # 1
 1317 0a38 C043     		mvns r0, r0
 1318 0a3a 0130     		adds r0, r0, # 1
 1319              	__pan_duan_bei_chu_shu:
 1320 0a3c 0900     		movs r1, r1
 1321 0a3e 02D5     		bpl __ji_suan_chu_fa11
 1322 0a40 0135     		adds r5, r5, # 1
 1323 0a42 C043     		mvns r0, r0
 1324 0a44 0130     		adds r0, r0, # 1
 1325              	__ji_suan_chu_fa11:	
 1326 0a46 0246     	        mov r2, r0
 1327 0a48 0123     	        movs r3, # 1
 1328 0a4a DB07     	        lsls r3, r3, # 31
 1329 0a4c 0020     	        movs r0, # 0
 1330 0a4e 0446     	        mov r4, r0
 1331              	_chufaxunhuan1:
 1332 0a50 5200     	        lsls r2, r2, # 1
 1333 0a52 6441     	        adcs r4, r4, r4
ARM GAS  1.s 			page 25


 1334 0a54 8C42     	        cmp r4, r1
 1335 0a56 01D3     		bcc _chufaweishubudao00
 1336 0a58 C018     		adds r0, r0, r3
 1337 0a5a 641A     		subs r4, r4, r1
 1338              	_chufaweishubudao00:
 1339 0a5c 5B08     		lsrs r3, r3, # 1
 1340 0a5e F7D1     		bne _chufaxunhuan1
 1341 0a60 012D     		cmp r5, # 1
 1342 0a62 01D1     		bne _chufafanhui1
 1343 0a64 C043     		mvns r0, r0
 1344 0a66 0130     		adds r0, r0, # 1
 1345              	_chufafanhui1:
 1346 0a68 FEBD     		pop {r1-r7,pc}
 1347              		
 1348              	_nmi_handler:
 1349 0a6a 7047     		bx lr
 1350              	_hard_fault:
 1351 0a6c 7047     		bx lr
 1352              	_svc_handler:
 1353 0a6e 7047     		bx lr
 1354              	_pendsv_handler:
 1355 0a70 7047     		bx lr
 1356              	_systickzhongduan:
 1357 0a72 074A     		ldr r2, = jishu
 1358 0a74 0748     		ldr r0, = 0xe0000d04
 1359 0a76 1368     		ldr r3, [r2]
 1360 0a78 0749     		ldr r1, = 0x02000000
 1361 0a7a 0133     		adds r3, r3, # 1
 1362 0a7c 1360     		str r3, [r2]
 1363 0a7e 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 1364              	aaa:
 1365 0a80 7047     		bx lr
 1366 0a82 00000020 		.ltorg
 1366      00003000 
 1366      00200000 
 1366      00483400 
 1366      0020040D 
 1367              		.end
ARM GAS  1.s 			page 26


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 zheng_xian_biao
                 1.s:11     .data:00000000000000ca $d
                 1.s:12     .data:00000000000000d0 xuan_zhuan_yin_zi
                 1.s:14     .data:00000000000003f0 liang_cheng_biao
                 1.s:17     .data:0000000000000430 lcdshuju
                 1.s:19     .data:0000000000000440 dianhua
                 1.s:21     .data:0000000000000450 qq
                 1.s:23     .data:0000000000000460 xushu
                 1.s:25     .data:0000000000000461 fu
                 1.s:27     .data:0000000000000462 zheng
                 1.s:29     .data:0000000000000463 zukang
                 1.s:31     .data:0000000000000465 dianrong
                 1.s:33     .data:0000000000000467 pinlv10k
                 1.s:35     .data:000000000000046c qianou
                 1.s:37     .data:000000000000046d ou
                 1.s:39     .data:0000000000000471 kong
                 1.s:41     .data:0000000000000475 pifa
                 1.s:43     .data:0000000000000477 enfa
                 1.s:45     .data:0000000000000479 _fu
                 1.s:48     *ABS*:0000000020001000 STACKINIT
                 1.s:49     *ABS*:0000000020000000 asciimabiao
                 1.s:50     *ABS*:0000000020000030 liangcheng
                 1.s:51     *ABS*:0000000020000034 jishu
                 1.s:52     *ABS*:0000000020000038 jianbo
                 1.s:53     *ABS*:0000000020000040 dianyabiao
                 1.s:54     *ABS*:0000000020000110 zhengxiangbiao
                 1.s:55     *ABS*:00000000200001e0 fanxiangbiao
                 1.s:56     *ABS*:0000000020000600 lvboqizhizhen
                 1.s:57     *ABS*:0000000020000604 lvboqihuanchong
                 1.s:58     *ABS*:0000000020000700 lvboqizhizhen1
                 1.s:59     *ABS*:0000000020000704 lvboqihuanchong1
                 1.s:60     *ABS*:0000000020000800 lvboqizhizhen2
                 1.s:61     *ABS*:0000000020000804 lvboqihuanchong2
                 1.s:62     *ABS*:0000000020000900 lvboqizhizhen3
                 1.s:63     *ABS*:0000000020000904 lvboqihuanchong3
                 1.s:64     *ABS*:0000000020000a00 xia_bi_shi_bu
                 1.s:65     *ABS*:0000000020000a04 shang_bi_shi_bu
                 1.s:66     *ABS*:0000000020000a08 xia_bi_xu_bu
                 1.s:67     *ABS*:0000000020000a0c shang_bi_xu_bu
                 1.s:68     *ABS*:0000000020000a10 bu_chang_100r
                 1.s:69     *ABS*:0000000020000a14 zidongliangchengyanshi
                 1.s:70     *ABS*:0000000020000a18 dianzuzhi
                 1.s:71     *ABS*:0000000020000a1c diankangzhi
                 1.s:72     *ABS*:0000000020000a20 shangbifangda
                 1.s:73     *ABS*:0000000020000a24 xiabifangda
                 1.s:74     *ABS*:0000000020000a28 anjian
                 1.s:75     *ABS*:0000000020000a2c bu_chang_1k
                 1.s:76     *ABS*:0000000020000a30 dianrongzhi
                 1.s:77     *ABS*:0000000020000a34 shang
                 1.s:79     .text:0000000000000000 vectors
                 1.s:125    .text:00000000000000b0 _start
                 1.s:1348   .text:0000000000000a6a _nmi_handler
                 1.s:1350   .text:0000000000000a6c _hard_fault
                 1.s:1352   .text:0000000000000a6e _svc_handler
                 1.s:1354   .text:0000000000000a70 _pendsv_handler
                 1.s:1356   .text:0000000000000a72 _systickzhongduan
ARM GAS  1.s 			page 27


                 1.s:1364   .text:0000000000000a80 aaa
                            .text:0000000000000000 $d
                 1.s:124    .text:00000000000000b0 $t
                 1.s:127    .text:00000000000000b2 yanshi111
                 1.s:130    .text:00000000000000b6 shizhong
                 1.s:137    .text:00000000000000c2 denghse
                 1.s:141    .text:00000000000000c8 dengpllguan
                 1.s:149    .text:00000000000000d6 dengpll
                 1.s:156    .text:00000000000000e0 dengdai14mshizhongwending
                 1.s:161    .text:00000000000000e6 _neicunqingling
                 1.s:165    .text:00000000000000ec _neicunqinglingxunhuan
                 1.s:170    .text:00000000000000f2 _waisheshizhong
                 1.s:185    .text:00000000000000fc _waishezhongduan
                 1.s:200    .text:00000000000000fc io_she_zhi
                 1.s:234    .text:0000000000000110 _adcchushihua
                 1.s:238    .text:0000000000000116 _dengadcjiaozhun
                 1.s:242    .text:000000000000011c _kaiadc
                 1.s:247    .text:0000000000000124 _dengdaiadcwending
                 1.s:251    .text:000000000000012a _tongdaoxuanze
                 1.s:265    .text:000000000000013e dmachushihua
                 1.s:297    .text:0000000000000162 tim1chushiha
                 1.s:323    .text:000000000000018c _lcdchushihua
                 1.s:1099   .text:00000000000008d6 _xielcd
                 1.s:1091   .text:00000000000008cc _lcdyanshi
                 1.s:523    .text:0000000000000330 dd
                 1.s:351    .text:00000000000001d0 shiyan
                 1.s:1004   .text:0000000000000804 _jianbo
                 1.s:870    .text:0000000000000682 __zhen_fu_lv_bo
                 1.s:377    .text:000000000000020a aaaa
                 1.s:1171   .text:000000000000094e _zhuanascii
                 1.s:1074   .text:00000000000008b0 _lcdxianshi
                 1.s:389    .text:0000000000000220 __c_liang_cheng_100ka
                 1.s:394    .text:0000000000000228 __c_liang_cheng10ka
                 1.s:406    .text:000000000000023a __ji_suan_dian_ronga
                 1.s:399    .text:0000000000000230 __c_liang_cheng1ka
                 1.s:404    .text:0000000000000238 __c_liang_cheng100oua
                 1.s:1269   .text:00000000000009ee __chengfa
                 1.s:1225   .text:00000000000009a6 __chufa64
                 1.s:430    .text:0000000000000266 ting
                 1.s:681    .text:0000000000000522 __zu_kang_ji_suan
                 1.s:588    .text:000000000000048c __dian_rong_ji_suan
                 1.s:437    .text:000000000000027c __cai_dan1
                 1.s:450    .text:0000000000000296 __dian_zu_zheng
                 1.s:455    .text:00000000000002a0 __xian_shi_dian_zu
                 1.s:476    .text:00000000000002ce __dian_kang_zheng
                 1.s:481    .text:00000000000002d8 __xian_shi_dian_kang
                 1.s:495    .text:00000000000002f8 __xian_shi_z
                 1.s:500    .text:0000000000000302 __xian_shi_pin_lv
                 1.s:505    .text:000000000000030c __xian_shi_dian_rong
                 1.s:534    .text:0000000000000342 ddd
                 1.s:604    .text:00000000000004ae __an_jian
                 1.s:756    .text:00000000000005a0 __xian_shi_shang_xia_bi
                 1.s:585    .text:00000000000003b2 $d
                 1.s:585    .text:00000000000003b4 $d
                 1.s:589    .text:000000000000048c $t
                 1.s:635    .text:00000000000004de __ji_suan_fu_du
                 1.s:613    .text:00000000000004be __fang_da
ARM GAS  1.s 			page 28


                 1.s:624    .text:00000000000004d0 __pa4_guan
                 1.s:626    .text:00000000000004d2 __pan_duan_pb1
                 1.s:631    .text:00000000000004da __pb1_guan
                 1.s:645    .text:00000000000004e8 _shibubushifushu
                 1.s:650    .text:00000000000004f0 _xububushifushu
                 1.s:655    .text:00000000000004f8 _panduanxubushibushi0
                 1.s:659    .text:00000000000004fe _jisuanfudu1
                 1.s:672    .text:0000000000000514 _alpha_min_beta_max
                 1.s:664    .text:0000000000000506 _alpha_max_beta_min
                 1.s:693    .text:0000000000000538 __c_liang_cheng_100k
                 1.s:698    .text:0000000000000540 __c_liang_cheng10k
                 1.s:710    .text:0000000000000552 __ji_suan_zu_kang
                 1.s:703    .text:0000000000000548 __c_liang_cheng1k
                 1.s:708    .text:0000000000000550 __c_liang_cheng100ou
                 1.s:1307   .text:0000000000000a26 __chu_fa
                 1.s:744    .text:0000000000000590 __fu_zhi_nei_cun
                 1.s:748    .text:0000000000000594 __fu_zhi_xun_huan
                 1.s:773    .text:00000000000005be __shang_bi_shi_bu_zheng
                 1.s:778    .text:00000000000005c8 __xian_shi_shang_bi_shi_bu
                 1.s:799    .text:00000000000005f4 __shang_bi_xu_bu_zheng
                 1.s:804    .text:00000000000005fe __xian_shi_shang_bi_xu_bu
                 1.s:825    .text:000000000000062a __xia_bi_shi_bu_zheng
                 1.s:830    .text:0000000000000634 __xian_shi_xia_bi_shi_bu
                 1.s:852    .text:0000000000000660 __xia_bi_xu_bu_zheng
                 1.s:857    .text:000000000000066a __xian_shi_xia_bi_xu_bu
                 1.s:1044   .text:000000000000085e _lvboqi
                 1.s:904    .text:00000000000006c6 $d
                 1.s:904    .text:00000000000006c8 $d
                 1.s:905    .text:0000000000000740 __jianbo
                 1.s:908    .text:0000000000000740 $t
                 1.s:933    .text:000000000000077c __xia_bi_kai
                 1.s:1037   .text:0000000000000854 _jianboyanshi
                 1.s:955    .text:00000000000007ac __DFT_ji_suan
                 1.s:968    .text:00000000000007c2 __ji_suan_dft_xun_huan
                 1.s:974    .text:00000000000007cc __qu_fan_r4
                 1.s:978    .text:00000000000007d2 __ji_suan_dft
                 1.s:1040   .text:0000000000000858 _jianboyanshixunhuan
                 1.s:1056   .text:000000000000086e _lvboqimeidaohuanchongquding
                 1.s:1059   .text:0000000000000872 _lvboqixunhuan
                 1.s:1063   .text:0000000000000878 _lvbozonghe
                 1.s:1071   .text:0000000000000886 $d
                 1.s:1071   .text:0000000000000888 $d
                 1.s:1075   .text:00000000000008b0 $t
                 1.s:1083   .text:00000000000008be _lcdxianshixunhuan
                 1.s:1094   .text:00000000000008d0 _lcdyanshixunhuan
                 1.s:1113   .text:00000000000008ee __lcd_ming_ling
                 1.s:1110   .text:00000000000008ea __lcd_shu_ju
                 1.s:1115   .text:00000000000008f0 __xie_lcd_shu_ju
                 1.s:1130   .text:0000000000000912 __74hc595
                 1.s:1137   .text:000000000000091e __595_yiweixunhuan
                 1.s:1141   .text:0000000000000924 __595_yanshi
                 1.s:1150   .text:0000000000000932 __ser_0
                 1.s:1147   .text:000000000000092e __ser_1
                 1.s:1152   .text:0000000000000934 __595_yiwei
                 1.s:1155   .text:0000000000000938 __595_yanshi1
                 1.s:1163   .text:0000000000000946 __595_yanshi2
                 1.s:1178   .text:0000000000000958 _xunhuanqiuma
ARM GAS  1.s 			page 29


                 1.s:1201   .text:0000000000000980 _chufa
                 1.s:1197   .text:000000000000097c _qiumafanhui
                 1.s:1192   .text:0000000000000974 _meidaoxiaoshudian
                 1.s:1223   .text:00000000000009a4 _chufafanhui
                 1.s:1213   .text:0000000000000994 _chufaxunhuan
                 1.s:1220   .text:00000000000009a0 _chufaweishubudao0
                 1.s:1265   .text:00000000000009e8 __chu_fa64_fan_hui0
                 1.s:1235   .text:00000000000009b4 __chu_fa64_ji_suan
                 1.s:1242   .text:00000000000009c0 __chu_fa64_xun_huan
                 1.s:1251   .text:00000000000009d0 __chu_fa_yi_wei
                 1.s:1259   .text:00000000000009de __di_yi_wei
                 1.s:1345   .text:0000000000000a68 _chufafanhui1
                 1.s:1319   .text:0000000000000a3c __pan_duan_bei_chu_shu
                 1.s:1325   .text:0000000000000a46 __ji_suan_chu_fa11
                 1.s:1331   .text:0000000000000a50 _chufaxunhuan1
                 1.s:1338   .text:0000000000000a5c _chufaweishubudao00
                 1.s:1366   .text:0000000000000a82 $d
                 1.s:1366   .text:0000000000000a84 $d

NO UNDEFINED SYMBOLS
