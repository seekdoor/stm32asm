ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@@ 阻抗桥
   3              		@作者：yjmwxwx
   4              		@时间：2019-08-12
   5              		@编译器：ARM-NONE-EABI
   6              		 .thumb
   7              		         .syntax unified
   8              	.section .data
   9              	zheng_xian_biao:
  10 0000 18001900 		.short 0x18,0x19,0x1a,0x1c,0x1d,0x1f,0x20,0x22,0x23,0x24,0x25,0x26,0x28,0x29,0x2a,0x2b,0x2b,0x2c,0
  10      1A001C00 
  10      1D001F00 
  10      20002200 
  10      23002400 
  11 00ca 00000000 		.align 4
  11      0000
  12              	xuan_zhuan_yin_zi:
  13 00d0 00800000 		.int 0x8000,0x0000,0x7EFD,0xFFFFEFF6,0x7BFA,0xFFFFE02B,0x7702,0xFFFFD0E2,0x702A,0xFFFFC256,0x678D,
  13      00000000 
  13      FD7E0000 
  13      F6EFFFFF 
  13      FA7B0000 
  14              	liang_cheng_biao:
  15 03f0 0003C000 		.int 0x00c00300,0x00c00201,0x00c00102,0x00c00003,0x00800300,0x00800201,0x00800102,0x00800003,0x004
  15      0102C000 
  15      0201C000 
  15      0300C000 
  15      00038000 
  16              		
  17              	lcdshuju:
  18 0430 796A6D77 		.ascii  "yjmwxwx-20190812"
  18      7877782D 
  18      32303139 
  18      30383132 
  19              	dianhua:	
  20 0440 20202020 		.ascii	"     15552208295"
  20      20313535 
  20      35323230 
  20      38323935 
  21              	qq:
  22 0450 20202051 		.ascii	"   QQ:3341656346"
  22      513A3333 
  22      34313635 
  22      36333436 
  23              	xushu:
  24 0460 69       		.ascii "i"
  25              	fu:
  26 0461 2D       		.ascii "-"
  27              	zheng:
  28 0462 2B       		.ascii "+"
  29              	zukang:
  30 0463 5A3D     		.ascii	"Z="
  31              	dianrong:
  32 0465 433D     		.ascii	"C="
  33              	pinlv10k:
  34 0467 6D       		.ascii	"m"
  35 0468 4D       	zhaoou:	.ascii "M"
ARM GAS  1.s 			page 2


  36              	qianou:
  37 0469 4B       		.ascii	"K"
  38              	ou:
  39 046a F4000000 	        .int    0xf4
  40              	kong:
  41 046e 20202020 		.int 0x20202020
  42              	pifa:
  43 0472 5046     		.ascii "PF"
  44              	enfa:
  45 0474 4E46     		.ascii "NF"
  46              	_fu:	
  47 0476 2D       		.ascii "-"
  48              	xiaoshu:
  49 0477 2E       		.ascii "."
  50              		.equ STACKINIT,        	        0x20001000
  51              		.equ asciimabiao,		0x20000000
  52              		.equ liangcheng,		0x20000030
  53              		.equ jishu,			0x20000034
  54              		.equ jianbo,			0x20000038
  55              		.equ dianyabiao,		0x20000040
  56              		.equ zhengxiangbiao,		0x20000110
  57              		.equ fanxiangbiao,		0x200001e0
  58              		.equ lvboqizhizhen,		0x20000600
  59              		.equ lvboqihuanchong,		0x20000604
  60              		.equ lvboqizhizhen1,		0x20000700
  61              		.equ lvboqihuanchong1,		0x20000704
  62              		.equ lvboqizhizhen2,		0x20000800
  63              		.equ lvboqihuanchong2,		0x20000804
  64              		.equ lvboqizhizhen3,		0x20000900
  65              		.equ lvboqihuanchong3,		0x20000904
  66              		.equ xia_bi_shi_bu,		0x20000a00
  67              		.equ shang_bi_shi_bu,		0x20000a04
  68              		.equ xia_bi_xu_bu,		0x20000a08
  69              		.equ shang_bi_xu_bu,		0x20000a0c
  70              		.equ bu_chang_100r,		0x20000a10
  71              		.equ zidongliangchengyanshi,	0x20000a14
  72              		.equ dianzuzhi,			0x20000a18
  73              		.equ diankangzhi,		0x20000a20
  74              		.equ shangbifangda,		0x20000a28
  75              		.equ xiabifangda,		0x20000a2c
  76              		.equ anjian,			0x20000a30
  77              		.equ bu_chang_1k,		0x20000a34
  78              		.equ dianrongzhi,		0x20000a38
  79              		.equ shang,			0x20000a40
  80              		.equ xiaoshudian,		0x20000a44
  81              		.section .text
  82              	vectors:
  83 0000 00100020 		.word STACKINIT
  84 0004 B1000000 		.word _start + 1
  85 0008 EB0A0000 		.word _nmi_handler + 1
  86 000c ED0A0000 		.word _hard_fault  + 1
  87 0010 00000000 		.word 0
  88 0014 00000000 		.word 0
  89 0018 00000000 		.word 0
  90 001c 00000000 		.word 0
  91 0020 00000000 		.word 0
  92 0024 00000000 		.word 0
ARM GAS  1.s 			page 3


  93 0028 00000000 		.word 0
  94 002c EF0A0000 		.word _svc_handler +1
  95 0030 00000000 		.word 0
  96 0034 00000000 		.word 0
  97 0038 F10A0000 		.word _pendsv_handler +1
  98 003c F30A0000 		.word _systickzhongduan +1               @ 15
  99 0040 010B0000 		.word aaa +1     @ _wwdg +1          @ 0
 100 0044 010B0000 		.word aaa +1     @_pvd +1            @ 1
 101 0048 010B0000 		.word aaa +1     @_rtc +1            @ 2
 102 004c 010B0000 		.word aaa +1     @_flash +1          @ 3
 103 0050 010B0000 		.word aaa +1	@ _rcc + 1          @ 4
 104 0054 010B0000 		.word aaa +1      @_exti0_1  +1      @ 5
 105 0058 010B0000 		.word aaa +1      @ _exti2_3 +1      @ 6
 106 005c 010B0000 		.word aaa +1       @_exti4_15 +1     @ 7
 107 0060 010B0000 		.word aaa +1                         @ 8
 108 0064 010B0000 		.word aaa +1 	@_dma1_1  +1    @ 9
 109 0068 010B0000 		.word aaa +1    @_dma1_2_3 +1        @ 10
 110 006c 010B0000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 111 0070 010B0000 		.word aaa +1	 @_adc1 +1          @ 12
 112 0074 010B0000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 113 0078 010B0000 		.word aaa +1        @ _tim1_cc +1    @ 14
 114 007c 010B0000 		.word aaa +1         @_tim2 +1       @ 15
 115 0080 010B0000 		.word aaa +1          @_tim3 +1      @ 16
 116 0084 010B0000 		.word aaa +1                         @ 17
 117 0088 010B0000 		.word aaa +1		                @ 18
 118 008c 010B0000 		.word aaa +1	@_tim14 +1    @ 19
 119 0090 010B0000 		.word aaa +1                         @ 20
 120 0094 010B0000 		.word aaa +1         @_tim16 +1      @ 21
 121 0098 010B0000 		.word aaa +1         @_tim17 +1      @ 22
 122 009c 010B0000 		.word aaa +1          @_i2c   +1     @ 23
 123 00a0 010B0000 		.word aaa +1                         @ 24
 124 00a4 010B0000 		.word aaa +1           @_spi   +1    @ 25
 125 00a8 010B0000 		.word aaa +1                         @ 26
 126 00ac 010B0000 		.word aaa +1         @_usart1 +1     @ 27
 127              		.align 2
 128              	_start:
 129 00b0 9C48     		ldr r0, = 0xffff
 130              	yanshi111:
 131 00b2 0138     		subs r0, r0, # 1
 132 00b4 FDD1     		bne yanshi111	
 133              	shizhong:
 134 00b6 9C4A     		ldr r2, = 0x40022000   @FLASH访问控制
 135 00b8 3221     		movs r1, # 0x32
 136 00ba 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 137 00bc 9B48     		ldr r0, = 0x40021000 @ rcc
 138 00be 9C49     		ldr r1, = 0x10001
 139 00c0 0160     		str r1, [r0]
 140              	denghse:
 141 00c2 0168     		ldr r1, [r0]
 142 00c4 8903     		lsls r1, r1, # 14
 143 00c6 FCD5     		bpl denghse
 144              	dengpllguan:
 145 00c8 0168     		ldr r1, [r0]
 146 00ca 8901     		lsls r1, r1, # 6
 147 00cc FCD4     		bmi dengpllguan
 148 00ce 9949     	        ldr r1, = 0x110002
 149 00d0 4160     	        str r1, [r0, # 0x04]
ARM GAS  1.s 			page 4


 150 00d2 9949     		ldr r1, = 0x1010001
 151 00d4 0160     		str r1, [r0]
 152              	dengpll:
 153 00d6 0168     		ldr r1, [r0]
 154 00d8 8901     		lsls r1, # 6
 155 00da FCD5     		bpl dengpll
 156              		@0x34时钟控制寄存器 2 (RCC_CR2)
 157 00dc 0121     		movs r1, # 0x01
 158 00de 4163     		str r1, [r0, # 0x34]  @ HSI开14M时钟
 159              	dengdai14mshizhongwending:
 160 00e0 416B     		ldr r1, [r0, # 0x34]
 161 00e2 8907     		lsls r1, r1, # 30     @ 左移30位
 162 00e4 FCD5     		bpl dengdai14mshizhongwending  @ 等待14M时钟稳定
 163              	
 164              	_neicunqingling:
 165 00e6 9548     		ldr r0, = 0x20000000
 166 00e8 0021     		movs r1, # 0
 167 00ea 954B     		ldr r3, = 0x1000
 168              	_neicunqinglingxunhuan:
 169 00ec 043B     		subs r3, # 4
 170 00ee C150     		str r1, [r0, r3]
 171 00f0 FCD1     		bne _neicunqinglingxunhuan
 172              	
 173              	_waisheshizhong:			 @ 外设时钟
 174              		@+0x14=RCC_AHBENR
 175              		@0=DMA @2=SRAM @4=FLITF@6=CRC @17=PA @18=PB @19=PC @20=PD @22=PF
 176 00f2 8E48     		ldr r0, = 0x40021000
 177 00f4 9349     		ldr r1, = 0x460005
 178 00f6 4161     		str r1, [r0, # 0x14]
 179              	
 180              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 181              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 182 00f8 9349     		ldr r1, = 0xa00
 183 00fa 8161     		str r1, [r0, # 0x18]
 184              		@+0X1C=RCC_APB1ENR
 185              		@1=TIM3 @4=TIM6 @5=TIM7 @8=TIM14 @11=WWDG @14=SPI @17=USRT2 @18=USART3 @20=USART5 @21=I2C1
 186              		@22=I2C2 @23=USB @28=PWR
 187              	
 188              	_waishezhongduan:				@外设中断
 189              		@0xE000E100    0-31  写1开，写0没效
 190              		@0XE000E180    0-31 写1关，写0没效
 191              		@0XE000E200    0-31 挂起，写0没效
 192              		@0XE000E280    0-31 清除， 写0没效
 193              	
 194              	@_systick:				@ systick定时器初始化
 195              	@
 196              	@	ldr r0, = 0xe000e010
 197              	@	ldr r1, = 0xffffff
 198              	@	str r1, [r0, # 4]
 199              	@	str r1, [r0, # 8]
 200              	@	movs r1, # 0x07
 201              	@	str r1, [r0]
 202              		
 203              	io_she_zhi:
 204              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 205              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 206              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
ARM GAS  1.s 			page 5


 207              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 208              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 209              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 210              		@偏移0x10 = 输入数据寄存器
 211              		@偏移0x14 = 输出数据寄存器
 212              		@偏移0x18 = 端口开  0-15置位
 213              		@偏移0x28 = 端口关
 214              		@0X20 = 复用低
 215              		@GPIO口0（0-3位）每个IO口占用4位
 216              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 217              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 218              		@0x24 = 复用高
 219              		@GPIO口8 （0-3位）每个IO口占用4位
 220              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 221              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 222              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 223              	
 224 00fc 9348     		ldr r0, = 0x48000000
 225 00fe 9449     		ldr r1, = 0x2824550f
 226 0100 0160     		str r1, [r0]
 227 0102 9449     		ldr r1, = 0x200
 228 0104 4162     		str r1, [r0, # 0x24]
 229              	
 230 0106 5021     		movs r1, # 0x50 @ pa2 pa3上拉
 231 0108 C160     		str r1, [r0, # 0x0c]
 232              	
 233 010a 9348     		ldr r0, = 0x48000400
 234 010c 9349     		ldr r1, = 0x00000004
 235 010e 0160     		str r1, [r0]
 236              	
 237              	_adcchushihua:
 238 0110 9348     	        ldr r0, = 0x40012400  @ adc基地址
 239 0112 9449     	        ldr r1, = 0x80000000
 240 0114 8160     	        str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 241              	_dengadcjiaozhun:
 242 0116 8168     	        ldr r1, [r0, # 0x08]
 243 0118 0900     	        movs r1, r1
 244 011a FCD4     	        bmi _dengadcjiaozhun   @ 等ADC校准
 245              	_kaiadc:
 246 011c 8168     		ldr r1, [r0, # 0x08]
 247 011e 0122     	        movs r2, # 0x01
 248 0120 1143     		orrs r1, r1, r2
 249 0122 8160     	        str r1, [r0, # 0x08]
 250              	_dengdaiadcwending:
 251 0124 0168     		ldr r1, [r0]
 252 0126 C907     		lsls r1, r1, # 31
 253 0128 FCD5     		bpl _dengdaiadcwending @ 等ADC稳定
 254              	_tongdaoxuanze:
 255 012a 8F49     		ldr r1, = 2
 256 012c 8162     	        str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 257 012e 8F49     	        ldr r1, = 0x803
 258 0130 C160     	        str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 259 0132 0021     		movs r1, # 0
 260 0134 4161     	        str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 261 0136 8168     		ldr r1, [r0, # 0x08]
 262 0138 884A     	        ldr r2, = 0x04         @ 开始转换
 263 013a 1143     	        orrs r1, r1, r2
ARM GAS  1.s 			page 6


 264 013c 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 265              	
 266              	
 267              		
 268              	dmachushihua:
 269              	        @+0=LSR,+4=IFCR,
 270              	        @+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 271              	        @+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 272              	        @+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 273              	        @+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 274              	        @+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 275              	        @+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 276              	        @+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 277              	
 278              	        @tim1ch3DMA
 279 013e 8C48     	        ldr r0, = 0x40020000
 280 0140 8C49     	        ldr r1, = 0x40012c3c @ 外设地址
 281 0142 0166     	        str r1, [r0, # 0x60]
 282 0144 8C49     	        ldr r1, = zheng_xian_biao @ 储存器地址
 283 0146 4166     	        str r1, [r0, # 0x64]
 284 0148 8C49     	        ldr r1, = 100             @点数
 285 014a C165     	        str r1, [r0, # 0x5c]
 286 014c 8C49     	        ldr r1, = 0x35b1         @ 储存到外设
 287 014e 8165     	        str r1, [r0, # 0x58]
 288              		@ adc dma
 289 0150 8748     		ldr r0, = 0x40020000
 290 0152 8C49     		ldr r1, = 0x40012440
 291 0154 0161     		str r1, [r0, # 0x10]
 292 0156 8C49     		ldr r1, = dianyabiao
 293 0158 4161     		str r1, [r0, # 0x14]
 294 015a 8849     		ldr r1, =  100
 295 015c C160     		str r1, [r0, # 0x0c]
 296 015e 8B49     		ldr r1, = 0x5a1		@ 5a1
 297 0160 8160     		str r1, [r0, # 0x08]
 298              	
 299              		
 300              	tim1chushiha:
 301 0162 8B48     	        ldr r0, = 0x40012c00 @ tim1_cr1
 302 0164 0021     	        movs r1, # 0
 303 0166 8162     	        str r1, [r0, # 0x28] @ psc
 304 0168 8A49     	        ldr r1, = 47
 305 016a C162     	        str r1, [r0, # 0x2c] @ ARR
 306              		@	movs r1, # 0x40
 307 016c 2021     		movs r1, # 0x20
 308 016e 4160     		str r1, [r0, # 0x04] @ TRGO
 309 0170 3821     		movs r1, # 0x38
 310 0172 8161     		str r1, [r0, # 0x18] @ ccmr1 cc1
 311 0174 2F21     		movs r1, # 47
 312 0176 4163     		str r1, [r0, # 0x34]
 313 0178 8749     	        ldr r1, = 0x68
 314 017a C161     	        str r1, [r0, # 0x1c] @ ccmr2  CC3
 315 017c 8749     	        ldr r1, = 0x100    @  CC3
 316 017e 0162     	        str r1, [r0, # 0x20] @ ccer
 317 0180 8749     	        ldr r1, = 0x8000
 318 0182 4164     	        str r1, [r0, # 0x44] @ BDTR
 319 0184 8749     	        ldr r1, = 0x800 @ CC3 DMA
 320 0186 C160     	        str r1, [r0, # 0x0c] @ DIER
ARM GAS  1.s 			page 7


 321 0188 8749     	        ldr r1, = 0x81
 322 018a 0160     	        str r1, [r0]
 323              	
 324              	
 325              	
 326              	_lcdchushihua:
 327 018c 3320     		movs r0, # 0x33
 328 018e 0021     		movs r1, # 0
 329 0190 00F0A1FB 		bl _xielcd
 330 0194 00F09AFB 		bl _lcdyanshi
 331 0198 3220     		movs r0, # 0x32
 332 019a 0021     		movs r1, # 0
 333 019c 00F09BFB 		bl _xielcd
 334 01a0 00F094FB 		bl _lcdyanshi
 335 01a4 2820     		movs r0, # 0x28
 336 01a6 0021     		movs r1, # 0
 337 01a8 00F095FB 		bl _xielcd
 338 01ac 00F08EFB 		bl _lcdyanshi
 339 01b0 0C20     		movs r0, # 0x0c
 340 01b2 0021     		movs r1, # 0
 341 01b4 00F08FFB 		bl _xielcd
 342 01b8 00F088FB 		bl _lcdyanshi
 343 01bc 0120     		movs r0, # 0x01
 344 01be 0021     		movs r1, # 0
 345 01c0 00F089FB 		bl _xielcd
 346 01c4 00F082FB 		bl _lcdyanshi
 347              	
 348              	
 349 01c8 7848     		ldr r0, = liangcheng
 350 01ca 0021     		movs r1, # 0x00
 351 01cc 0160     		str r1, [r0]
 352 01ce 7848     	        ldr r0, = shangbifangda
 353 01d0 7849     	        ldr r1, = xiabifangda
 354 01d2 0022     	        movs r2, # 0
 355 01d4 0260     	        str r2, [r0]
 356 01d6 0022     		movs r2, # 0
 357 01d8 0A60     	        str r2, [r1]
 358              	ting:
 359 01da 00F013FB 	        bl _jianbo
 360 01de 00F04BFA 	        bl __zhen_fu_lv_bo
 361 01e2 00F08BF9 		bl __zu_kang_ji_suan
 362 01e6 00F03EF9 		bl __dian_rong_ji_suan
 363 01ea 00F010F9 		bl __zi_dong_liang_cheng
 364 01ee 00F0FBF8 		bl __xiao_shu_dian_wei_zhi
 365 01f2 7148     		ldr r0, = dianzuzhi
 366 01f4 0468     		ldr r4, [r0]
 367 01f6 2400     		movs r4, r4
 368 01f8 07D5     	        bpl __dian_zu_zheng
 369 01fa 8220     	        movs r0, # 0x82
 370 01fc 6F49     	        ldr r1, = _fu
 371 01fe 0122     	        movs r2, # 1
 372 0200 00F056FB 		bl _lcdxianshi
 373 0204 E443     	        mvns r4, r4
 374 0206 0134     	        adds r4, r4, # 1
 375 0208 04E0     	        b __xian_shi_dian_zu
 376              	__dian_zu_zheng:
 377 020a 8220     	        movs r0, # 0x82
ARM GAS  1.s 			page 8


 378 020c 6C49     	        ldr r1, = kong
 379 020e 0122     	        movs r2, # 1
 380 0210 00F04EFB 	        bl _lcdxianshi
 381              	__xian_shi_dian_zu:
 382 0214 2046     		mov r0, r4
 383 0216 0521     	        movs r1, # 5
 384 0218 6A4B     		ldr r3, = xiaoshudian
 385 021a 484A     	        ldr r2, = asciimabiao
 386 021c 1B68     	        ldr r3, [r3]
 387 021e 00F096FB 		bl _zhuanascii
 388 0222 8320     		movs r0, # 0x83
 389 0224 4549     		ldr r1, = asciimabiao
 390 0226 0522     	        movs r2, # 5
 391 0228 00F042FB 	        bl _lcdxianshi
 392              	
 393 022c 6648     	        ldr r0, = diankangzhi
 394 022e 0468     	        ldr r4, [r0]
 395 0230 2400     	        movs r4, r4
 396 0232 07D5     	        bpl __dian_kang_zheng
 397 0234 8820     		movs r0, # 0x88
 398 0236 6149     	        ldr r1, = _fu
 399 0238 0122     	        movs r2, # 1
 400 023a 00F039FB 		bl _lcdxianshi
 401 023e E443     	        mvns r4, r4
 402 0240 0134     	        adds r4, r4, # 1
 403 0242 04E0     	        b __xian_shi_dian_kang
 404              	__dian_kang_zheng:
 405 0244 8820     		movs r0, # 0x88
 406 0246 5E49     	        ldr r1, = kong
 407 0248 0122     	        movs r2, # 1
 408 024a 00F031FB 	        bl _lcdxianshi
 409              	__xian_shi_dian_kang:
 410 024e 2046     	        mov r0, r4
 411 0250 0521     	        movs r1, # 5
 412 0252 5C4B     		ldr r3, = xiaoshudian
 413 0254 394A     	        ldr r2, = asciimabiao
 414 0256 1B68     	        ldr r3, [r3]
 415 0258 00F079FB 	        bl _zhuanascii
 416 025c 8920     	        movs r0, # 0x89
 417 025e 3749     		ldr r1, = asciimabiao
 418 0260 0522     		movs r2, # 5
 419 0262 00F025FB 	        bl _lcdxianshi
 420              	
 421              	
 422 0266 5148     		ldr r0, = liangcheng
 423 0268 0121     	        movs r1, # 1
 424 026a 0068     		ldr r0, [r0]
 425 026c 8009     		lsrs r0, r0, # 6
 426 026e 334A     		ldr r2, = asciimabiao
 427 0270 FF23     	        movs r3, # 0xff
 428 0272 00F06CFB 		bl _zhuanascii
 429 0276 8F20     		movs r0, # 0x8f
 430 0278 3049     		ldr r1, = asciimabiao
 431 027a 0122     		movs r2, # 1
 432 027c 00F018FB 		bl _lcdxianshi
 433 0280 8020     	        movs r0, # 0x80
 434 0282 5249     	        ldr r1, = zukang
ARM GAS  1.s 			page 9


 435 0284 0222     	        movs r2, # 2
 436 0286 00F013FB 		bl _lcdxianshi
 437              	
 438              	__xian_shi_pin_lv:
 439 028a CF20     	        movs r0, # 0xcf
 440 028c 5049     	        ldr r1, = pinlv10k
 441 028e 0122     	        movs r2, # 1
 442 0290 00F00EFB 	        bl _lcdxianshi
 443              	__xian_shi_dian_rong:
 444 0294 4F48     		ldr r0, = dianrongzhi
 445 0296 0D21     	        movs r1, # 13
 446 0298 0068     		ldr r0, [r0]
 447 029a 284A     	        ldr r2, = asciimabiao
 448 029c FF23     	        movs r3, # 0xff
 449 029e 00F056FB 	        bl _zhuanascii
 450 02a2 C020     		movs r0, # 0xc0
 451 02a4 2549     	        ldr r1, = asciimabiao
 452 02a6 0D22     		movs r2, # 13
 453 02a8 00F002FB 	        bl _lcdxianshi
 454 02ac 95E7     		b ting	
 455              	ddd:
 456 02ae 00F0AEF8 		bl __zi_dong_liang_cheng
 457 02b2 00F0E9F8 		bl __an_jian
 458 02b6 3E49     		ldr r1, = shangbifangda
 459 02b8 0860     		str r0, [r1]
 460 02ba 00F0A3FA 		bl _jianbo
 461 02be 00F0DBF9 	        bl __zhen_fu_lv_bo
 462 02c2 4548     	        ldr r0, = xia_bi_shi_bu
 463 02c4 4549     	        ldr r1, = shang_bi_shi_bu
 464 02c6 464A     	        ldr r2, = xia_bi_xu_bu
 465 02c8 464B     	        ldr r3, = shang_bi_xu_bu
 466 02ca 0068     	        ldr r0, [r0]
 467 02cc 0968     	        ldr r1, [r1]
 468 02ce 1268     	        ldr r2, [r2]
 469 02d0 1B68     	        ldr r3, [r3]
 470 02d2 00F060F9 	        bl __xian_shi_shang_xia_bi
 471              	
 472 02d6 3548     		ldr r0, = liangcheng
 473 02d8 0068     	        ldr r0, [r0]
 474 02da 8009     		lsrs r0, r0, # 6
 475 02dc 0121     		movs r1, # 1
 476 02de 174A     	        ldr r2, = asciimabiao
 477 02e0 FF23     	        movs r3, # 0xff
 478 02e2 00F034FB 	        bl _zhuanascii
 479 02e6 C720     	        movs r0, # 0xc7
 480 02e8 1449     	        ldr r1, = asciimabiao
 481 02ea 0122     	        movs r2, # 1
 482 02ec 00F0E0FA 		bl _lcdxianshi
 483              	
 484 02f0 2F48     	        ldr r0, = shangbifangda
 485 02f2 0068     	        ldr r0, [r0]
 486 02f4 0121     	        movs r1, # 1
 487 02f6 114A     	        ldr r2, = asciimabiao
 488 02f8 FF23     	        movs r3, # 0xff
 489 02fa 00F028FB 	        bl _zhuanascii
 490 02fe 8720     	        movs r0, # 0x87
 491 0300 0E49     	        ldr r1, = asciimabiao
ARM GAS  1.s 			page 10


 492 0302 0122     	        movs r2, # 1
 493 0304 00F0D4FA 		bl _lcdxianshi
 494              	
 495 0308 2A48     	        ldr r0, = xiabifangda
 496 030a 0068     	        ldr r0, [r0]
 497 030c 0121     	        movs r1, # 1
 498 030e 0B4A     	        ldr r2, = asciimabiao
 499 0310 FF23     	        movs r3, # 0xff
 500 0312 00F01CFB 	        bl _zhuanascii
 501 0316 C820     	        movs r0, # 0xc8
 502 0318 0849     	        ldr r1, = asciimabiao
 503 031a 0122     	        movs r2, # 1
 504 031c 00F0C8FA 		bl _lcdxianshi
 505              	
 506 0320 C5E7     		b ddd
 507 0322 0000FFFF 		.ltorg
 507      00000020 
 507      02400010 
 507      02400100 
 507      01000200 
 508              	__xiao_shu_dian_wei_zhi:
 509 03e8 03B5     		push {r0-r1,lr}
 510 03ea B448     		ldr r0, = liangcheng
 511 03ec 0068     		ldr r0, [r0]
 512 03ee 0028     		cmp r0, # 0
 513 03f0 01D1     		bne __pan_duan_10k
 514 03f2 0321     		movs r1, # 3
 515 03f4 08E0     		b __xiao_shu_dian_fan_hui
 516              	__pan_duan_10k:	
 517 03f6 4028     		cmp r0, # 0x40
 518 03f8 01D1     		bne __pan_duan_1k
 519 03fa 0221     		movs r1, # 2
 520 03fc 04E0     		b __xiao_shu_dian_fan_hui
 521              	__pan_duan_1k:	
 522 03fe 8028     		cmp r0, # 0x80
 523 0400 01D1     		bne __pan_duan_100
 524 0402 0121     		movs r1, # 1
 525 0404 00E0     		b __xiao_shu_dian_fan_hui
 526              	__pan_duan_100:
 527 0406 0321     		movs r1, # 3
 528              	__xiao_shu_dian_fan_hui:
 529 0408 AD48     		ldr r0, = xiaoshudian
 530 040a 0160     		str r1, [r0]
 531 040c 03BD     		pop {r0-r1,pc}
 532              		
 533              	__zi_dong_liang_cheng:
 534 040e 3FB5     		push {r0-r5,lr}	
 535 0410 AC48     		ldr r0, = zidongliangchengyanshi
 536 0412 AD4A     		ldr r2, = 100
 537 0414 0168     		ldr r1, [r0]
 538 0416 0131     		adds r1, r1, # 1
 539 0418 0160     		str r1, [r0]
 540 041a 9142     		cmp r1, r2
 541 041c 00D0     		beq __liang_cheng_ji_suan
 542 041e 3FBD     		pop {r0-r5,pc}
 543              	__liang_cheng_ji_suan:
 544 0420 0021     		movs r1, # 0
ARM GAS  1.s 			page 11


 545 0422 0160     		str r1, [r0]
 546 0424 A94C     		ldr r4, = 2000
 547 0426 A548     		ldr r0, = liangcheng
 548 0428 A949     		ldr r1, = xia_bi_shi_bu
 549 042a AA4D     		ldr r5, = xia_bi_xu_bu
 550 042c 0368     		ldr r3, [r0]
 551 042e 0A68     		ldr r2, [r1]
 552 0430 2D68     		ldr r5, [r5]
 553 0432 1200     		movs r2, r2
 554 0434 01D5     		bpl __pan_duan_xu_bu_liang_cheng
 555 0436 D243     		mvns r2, r2
 556 0438 0132     		adds r2, r2, # 1
 557              	__pan_duan_xu_bu_liang_cheng:	
 558 043a 2D00     		movs r5, r5
 559 043c 01D5     		bpl __xia_bi_da_xiao_pan_duan
 560 043e ED43     		mvns r5, r5
 561 0440 0135     		adds r5, r5, # 1
 562              	__xia_bi_da_xiao_pan_duan:	
 563 0442 A242     		cmp r2, r4
 564 0444 00D3     		bcc __pan_duan_xu_bu
 565 0446 02E0     		b __gai_liang_cheng
 566              	__pan_duan_xu_bu:
 567 0448 A34C     		ldr r4, = 3000
 568 044a A542     		cmp r5, r4
 569 044c 04D3     		bcc __pan_duan_xuan_kong
 570              	__gai_liang_cheng:
 571 044e 4033     		adds r3, r3, # 0x40
 572 0450 C02B     		cmp r3, # 0xc0
 573 0452 00D9     		bls __bao_cun_liang_cheng
 574 0454 C023     		movs r3, # 0xc0
 575              	__bao_cun_liang_cheng:
 576 0456 0360     		str r3, [r0]
 577              	__pan_duan_xuan_kong:
 578 0458 142A     		cmp r2, # 20
 579 045a 03D2     		bcs __liang_cheng_fan_hui
 580 045c 142D     		cmp r5, # 20
 581 045e 01D2     		bcs __liang_cheng_fan_hui
 582 0460 0023     		movs r3, # 0
 583 0462 0360     		str r3, [r0]
 584              	__liang_cheng_fan_hui:
 585 0464 3FBD     		pop {r0-r5,pc}
 586              		
 587              	__dian_rong_ji_suan:
 588 0466 1FB5     		push {r0-r4,lr}
 589 0468 9C48     		ldr r0, = dianzuzhi
 590 046a 9D49     		ldr r1, = diankangzhi
 591 046c 0068     		ldr r0, [r0]
 592 046e 0968     		ldr r1, [r1]
 593 0470 00F022F8 		bl __ji_suan_fu_du
 594 0474 0246     		mov r2, r0
 595 0476 9B49     		ldr r1, = 62831
 596 0478 4A43     		muls r2, r2, r1
 597 047a 9B49     		ldr r1, = 0xd4a51000
 598 047c E820     		movs r0, # 0xe8
 599 047e 00F092FA 		bl __chufa64
 600 0482 9A4B     		ldr r3, = dianrongzhi
 601 0484 1960     		str r1, [r3]
ARM GAS  1.s 			page 12


 602 0486 1FBD     		pop {r0-r4,pc}
 603              	__an_jian:
 604 0488 02B4     		push {r1}
 605 048a 9949     		ldr r1, = 0x48000010
 606 048c 0868     		ldr r0, [r1]
 607 048e C043     		mvns r0, r0
 608 0490 0007     		lsls r0, r0, # 28
 609 0492 800F     		lsrs r0, r0, # 30
 610 0494 02BC     		pop {r1}
 611 0496 7047     		bx lr
 612              	__fang_da:
 613              		@ 入口r0=0(放大1)，1（放大2.75），2（放大9）,3（放大29）
 614 0498 1EB5     		push {r1-r4,lr}
 615 049a 964A     	        ldr r2, = 0x48000000
 616 049c 9649     	        ldr r1, = 0x48000400
 617 049e 0223     		movs r3, # 0x02
 618 04a0 1024     		movs r4, # 0x10
 619 04a2 8007     		lsls r0, r0, # 30
 620 04a4 01D4     		bmi __pa4_guan
 621 04a6 9461     		str r4, [r2, # 0x18]
 622 04a8 00E0     		b __pan_duan_pb1
 623              	__pa4_guan:
 624 04aa 9462     		str r4, [r2, # 0x28]
 625              	__pan_duan_pb1:
 626 04ac 4000     	        lsls r0, r0, # 1
 627 04ae 01D4     	        bmi __pb1_guan
 628 04b0 8B61     	        str r3, [r1, # 0x18]
 629 04b2 1EBD     		pop {r1-r4,pc}
 630              	__pb1_guan:
 631 04b4 8B62     		str r3, [r1, # 0x28]
 632 04b6 1EBD     		pop {r1-r4,pc}
 633              		
 634              	__ji_suan_fu_du:    @ 计算幅度
 635              	                @ 入r0= 实部，r1= 虚部
 636              	                @ 出r0 = 幅度
 637              	                @ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
 638              	                @ Alpha * Max + Beta * Min
 639 04b8 0EB5     	        push {r1-r3,lr}
 640 04ba 0000     	        movs r0, r0
 641 04bc 01D5     	        bpl _shibubushifushu
 642 04be C043     	        mvns r0, r0                             @ 是负数转成正数
 643 04c0 0130     	        adds r0, r0, # 1
 644              	_shibubushifushu:                               @ 实部不是负数
 645 04c2 0900     	        movs r1, r1
 646 04c4 01D5     	        bpl _xububushifushu
 647 04c6 C943     	        mvns r1, r1                             @ 是负数转成正数
 648 04c8 0131     	        adds r1, r1, # 1
 649              	_xububushifushu:                                @ 虚部不是负数
 650 04ca 0028     	        cmp r0, # 0
 651 04cc 01D1     	        bne _panduanxubushibushi0
 652 04ce 0846     	        mov r0, r1
 653 04d0 0EBD     	        pop {r1-r3,pc}
 654              	_panduanxubushibushi0:	
 655 04d2 0029     		cmp r1, # 0
 656 04d4 00D1     		bne _jisuanfudu1
 657 04d6 0EBD     		pop {r1-r3,pc}
 658              	_jisuanfudu1:
ARM GAS  1.s 			page 13


 659 04d8 884A     		ldr r2, = 31066		@ Alpha q15 0.948059448969
 660 04da 894B     		ldr r3, = 12867		@ Beta q15 0.392699081699
 661 04dc 8142     		cmp r1, r0
 662 04de 06D8     		bhi _alpha_min_beta_max
 663              	_alpha_max_beta_min:
 664 04e0 5043     		muls r0, r0, r2
 665 04e2 5943     		muls r1, r1, r3
 666 04e4 C013     		asrs r0, r0, # 15
 667 04e6 C913     		asrs r1, r1, # 15
 668 04e8 4018     		adds r0, r0, r1
 669 04ea 0121     		movs r1, # 1
 670 04ec 0EBD     		pop {r1-r3,pc}
 671              	_alpha_min_beta_max:
 672 04ee 5843     		muls r0, r0, r3
 673 04f0 5143     		muls r1, r1, r2
 674 04f2 C013     		asrs r0, r0, # 15
 675 04f4 C913     		asrs r1, r1, # 15
 676 04f6 4018     		adds r0, r0, r1
 677 04f8 0021     		movs r1, # 0
 678 04fa 0EBD     		pop {r1-r3,pc}
 679              		
 680              	__zu_kang_ji_suan:
 681 04fc FFB5     		push {r0-r7,lr}
 682 04fe 8148     		ldr r0, = shang_bi_shi_bu
 683 0500 8149     		ldr r1, = shang_bi_xu_bu
 684 0502 734A     		ldr r2, = xia_bi_shi_bu
 685 0504 734B     		ldr r3, = xia_bi_xu_bu
 686 0506 0068     		ldr r0, [r0]
 687 0508 0968     		ldr r1, [r1]
 688 050a 1268     		ldr r2, [r2]
 689 050c 1B68     		ldr r3, [r3]
 690              	__ji_suan_zu_kang:
 691              	@ Z=R+jx
 692              	@ Z=R*[(a+bi)/(c+di)]=R*[(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)]
 693              	@c=1/[(2*pi*f)*xc]
 694 050e 0446     		mov r4, r0
 695 0510 0D46     		mov r5, r1
 696 0512 1646     		mov r6, r2
 697 0514 1F46     		mov r7, r3
 698 0516 5043     		muls r0, r0, r2		@ac
 699 0518 5943     		muls r1, r1, r3		@bd
 700 051a 4018     		adds r0, r0, r1		@ac+bd
 701 051c 5243     		muls r2, r2, r2		@c*c
 702 051e 5B43     		muls r3, r3, r3		@d*d
 703 0520 D218     		adds r2, r2, r3		@c*c+d*d
 704 0522 7A49     		ldr r1, = 1000
 705 0524 0023     		movs r3, # 0
 706 0526 0000     		movs r0, r0
 707 0528 02D5     		bpl a1
 708 052a C043     		mvns r0, r0
 709 052c 0130     		adds r0, r0, # 1
 710 052e 0133     		adds r3, r3, # 1
 711              	a1:
 712 0530 1200     		movs r2, r2
 713 0532 02D5     		bpl a2
 714 0534 D243     		mvns r2, r2
 715 0536 0132     		adds r2, r2, # 1
ARM GAS  1.s 			page 14


 716 0538 0133     		adds r3, r3, # 1
 717              	a2:
 718 053a 00F058FA 		bl __chengfa
 719 053e 00F032FA 		bl __chufa64		@(ac+bd)/(c*c+d*d)
 720 0542 012B     		cmp r3, # 1
 721 0544 01D1     		bne a3
 722 0546 C943     		mvns r1, r1
 723 0548 0131     		adds r1, r1, # 1
 724              	a3:	
 725 054a 02B4     		push {r1}
 726 054c 7543     		muls r5, r5, r6		@ bc
 727 054e 7C43     		muls r4, r4, r7		@ ad
 728 0550 2D1B     		subs r5, r5, r4		@ bc-ad
 729 0552 6E49     		ldr r1, = 1000
 730 0554 0023     		movs r3, # 0
 731 0556 2800     		movs r0, r5
 732 0558 02D5     		bpl a4
 733 055a C043     		mvns r0, r0
 734 055c 0130     		adds r0, r0, # 1
 735 055e 0133     		adds r3, r3, # 1
 736              	a4:
 737 0560 1200     		movs r2, r2
 738 0562 02D5     		bpl a5
 739 0564 D243     		mvns r2, r2
 740 0566 0132     		adds r2, r2, # 1
 741 0568 0133     		adds r3, r3, # 1
 742              	a5:
 743 056a 00F040FA 		bl __chengfa
 744 056e 00F01AFA 		bl __chufa64
 745 0572 012B     		cmp r3, # 1
 746 0574 01D1     		bne __a6
 747 0576 C943     		mvns r1, r1
 748 0578 0131     		adds r1, r1, # 1
 749              	__a6:	
 750 057a 04BC     		pop {r2}		@实
 751 057c 574C     		ldr r4, = dianzuzhi
 752 057e 584D     		ldr r5, = diankangzhi
 753 0580 2960     		str r1, [r5]
 754 0582 2260     		str r2, [r4]
 755 0584 FFBD     		pop {r0-r7,pc}
 756              	__fu_zhi_nei_cun:
 757              		@ 入口 R0 = 要复制的地址，R1=目标地址，R2=复制的数量
 758 0586 10B5     		push {r4,lr}
 759 0588 0024     		movs r4, # 0
 760              	__fu_zhi_xun_huan:	
 761 058a 035B     		ldrh r3, [r0, r4]
 762 058c 0B53     		strh r3, [r1, r4]
 763 058e 0234     		adds r4, r4, # 2
 764 0590 013A     		subs r2, r2, # 1
 765 0592 FAD1     		bne __fu_zhi_xun_huan
 766 0594 10BD     		pop {r4,pc}
 767              	
 768              	__xian_shi_shang_xia_bi:
 769              	@入口 R0= 下臂实部，R1=上臂实部，R2=下臂虚部，R3=上臂虚部
 770 0596 FFB5     		push {r0-r7,lr}
 771 0598 8046     		mov r8, r0
 772 059a 8946     		mov r9, r1
ARM GAS  1.s 			page 15


 773 059c 9246     		mov r10, r2
 774 059e 9B46     		mov r11, r3
 775              	@显示上臂实部
 776 05a0 0C00     		movs r4, r1
 777 05a2 07D5     		bpl __shang_bi_shi_bu_zheng
 778 05a4 8020     	        movs r0, # 0x80
 779 05a6 5A49     	        ldr r1, = _fu
 780 05a8 0122     	        movs r2, # 1
 781 05aa 00F081F9 	        bl _lcdxianshi
 782 05ae E443     		mvns r4, r4
 783 05b0 0134     		adds r4, r4, # 1
 784 05b2 04E0     		b __xian_shi_shang_bi_shi_bu
 785              	__shang_bi_shi_bu_zheng:	
 786 05b4 8020     	        movs r0, # 0x80
 787 05b6 5749     		ldr r1, = kong
 788 05b8 0122     	        movs r2, # 1
 789 05ba 00F079F9 	        bl _lcdxianshi
 790              	__xian_shi_shang_bi_shi_bu:
 791 05be 2046     		mov r0, r4
 792 05c0 0521     		movs r1, # 5
 793 05c2 554A     		ldr r2, = asciimabiao
 794 05c4 FF23     		movs r3, # 0xff
 795 05c6 00F0C2F9 		bl _zhuanascii
 796 05ca 8120     		movs r0, # 0x81
 797 05cc 5249     		ldr r1, = asciimabiao
 798 05ce 0522     		movs r2, # 5
 799 05d0 00F06EF9 		bl _lcdxianshi
 800              	@显示上臂虚部
 801 05d4 5C46     	        mov r4, r11
 802 05d6 2400     		movs r4, r4
 803 05d8 07D5     	        bpl __shang_bi_xu_bu_zheng
 804 05da C020     	        movs r0, # 0xc0
 805 05dc 4C49     	        ldr r1, = _fu
 806 05de 0122     	        movs r2, # 1
 807 05e0 00F066F9 	        bl _lcdxianshi
 808 05e4 E443     	        mvns r4, r4
 809 05e6 0134     	        adds r4, r4, # 1
 810 05e8 04E0     	        b __xian_shi_shang_bi_xu_bu
 811              	__shang_bi_xu_bu_zheng:
 812 05ea C020     	        movs r0, # 0xc0
 813 05ec 4949     		ldr r1, = kong
 814 05ee 0122     	        movs r2, # 1
 815 05f0 00F05EF9 	        bl _lcdxianshi
 816              	__xian_shi_shang_bi_xu_bu:
 817 05f4 2046     	        mov r0, r4
 818 05f6 0521     	        movs r1, # 5
 819 05f8 474A     	        ldr r2, = asciimabiao
 820 05fa FF23     	        movs r3, # 0xff
 821 05fc 00F0A7F9 		bl _zhuanascii
 822 0600 C120     		movs r0, # 0xc1
 823 0602 4549     	        ldr r1, = asciimabiao
 824 0604 0522     	        movs r2, # 5
 825 0606 00F053F9 		bl _lcdxianshi
 826              	@显示下臂实部：
 827 060a 4446     	        mov r4, r8
 828 060c 2400     		movs r4, r4
 829 060e 07D5     	        bpl __xia_bi_shi_bu_zheng
ARM GAS  1.s 			page 16


 830 0610 8A20     	        movs r0, # 0x8a
 831 0612 3F49     	        ldr r1, = _fu
 832 0614 0122     	        movs r2, # 1
 833 0616 00F04BF9 	        bl _lcdxianshi
 834 061a E443     	        mvns r4, r4
 835 061c 0134     		adds r4, r4, # 1
 836 061e 04E0     		b __xian_shi_xia_bi_shi_bu
 837              	__xia_bi_shi_bu_zheng:
 838 0620 8A20     	        movs r0, # 0x8a
 839 0622 3C49     	        ldr r1, = kong
 840 0624 0122     	        movs r2, # 1
 841 0626 00F043F9 		bl _lcdxianshi
 842              	__xian_shi_xia_bi_shi_bu:
 843 062a 2046     		mov r0, r4
 844 062c 0521     		movs r1, # 5
 845 062e 3A4A     		ldr r2, = asciimabiao
 846 0630 FF23     		movs r3, # 0xff
 847 0632 00F08CF9 		bl _zhuanascii
 848 0636 8B20     	        movs r0, # 0x8b
 849 0638 3749     	        ldr r1, = asciimabiao
 850 063a 0522     	        movs r2, # 5
 851 063c 00F038F9 	        bl _lcdxianshi
 852              	
 853              	@显示下臂虚部
 854 0640 5446     		mov r4, r10
 855 0642 2400     		movs r4, r4
 856 0644 07D5     	        bpl __xia_bi_xu_bu_zheng
 857 0646 CA20     	        movs r0, # 0xca
 858 0648 3149     	        ldr r1, = _fu
 859 064a 0122     	        movs r2, # 1
 860 064c 00F030F9 	        bl _lcdxianshi
 861 0650 E443     	        mvns r4, r4
 862 0652 0134     	        adds r4, r4, # 1
 863 0654 04E0     	        b __xian_shi_xia_bi_xu_bu
 864              	__xia_bi_xu_bu_zheng:
 865 0656 CA20     	        movs r0, # 0xca
 866 0658 2E49     	        ldr r1, = kong
 867 065a 0122     	        movs r2, # 1
 868 065c 00F028F9 	        bl _lcdxianshi
 869              	__xian_shi_xia_bi_xu_bu:
 870 0660 2046     	        mov r0, r4
 871 0662 0521     	        movs r1, # 5
 872 0664 2C4A     	        ldr r2, = asciimabiao
 873 0666 FF23     	        movs r3, # 0xff
 874 0668 00F071F9 	        bl _zhuanascii
 875 066c CB20     	        movs r0, # 0xcb
 876 066e 2A49     	        ldr r1, = asciimabiao
 877 0670 0522     	        movs r2, # 5
 878 0672 00F01DF9 	        bl _lcdxianshi
 879 0676 FFBD     		pop {r0-r7,pc}
 880              	
 881              	
 882              	__zhen_fu_lv_bo:
 883              		@ 入口 R0= 下臂实部，R1=上臂实部，R2=下臂虚部，R3=上臂虚部
 884 0678 FFB5     		push {r0-r7,lr}
 885 067a 154F     		ldr r7, = xia_bi_shi_bu
 886 067c 1546     		mov r5, r2
ARM GAS  1.s 			page 17


 887 067e 1E46     		mov r6, r3
 888 0680 0C46     		mov r4, r1
 889 0682 0346     		mov r3, r0
 890 0684 2548     		ldr r0, = lvboqihuanchong
 891 0686 2649     		ldr r1, = 32
 892 0688 264A     		ldr r2, = lvboqizhizhen
 893 068a 00F0E8F8 		bl _lvboqi
 894 068e 3860     		str r0, [r7]			@保存下臂实部
 895 0690 2346     	        mov r3, r4
 896 0692 2548     	        ldr r0, = lvboqihuanchong1
 897 0694 2249     		ldr r1, = 32
 898 0696 254A     		ldr r2, = lvboqizhizhen1
 899 0698 00F0E1F8 	        bl _lvboqi
 900 069c 7860     	        str r0, [r7, # 0x04]		@保存上臂实部
 901 069e 2B46     		mov r3, r5
 902 06a0 2348     		ldr r0, = lvboqihuanchong2
 903 06a2 1F49     	        ldr r1, = 32
 904 06a4 234A     	        ldr r2, = lvboqizhizhen2
 905 06a6 00F0DAF8 		bl _lvboqi
 906 06aa B860     		str r0, [r7, # 0x08]		@保存下臂虚部
 907              	
 908 06ac 3346     	        mov r3, r6
 909 06ae 2248     		ldr r0, = lvboqihuanchong3
 910 06b0 1B49     		ldr r1, = 32
 911 06b2 224A     		ldr r2, = lvboqizhizhen3
 912 06b4 00F0D3F8 	        bl _lvboqi
 913 06b8 F860     		str r0, [r7, # 0x0c]		@保存上臂虚部
 914 06ba FFBD     		pop {r0-r7,pc}
 915              	
 916 06bc 30000020 		.ltorg
 916      440A0020 
 916      140A0020 
 916      64000000 
 916      D0070000 
 917              	__jianbo:
 918              		@入口R0=0（上臂）1（下臂）
 919              		@出口R0=实部 R1=虚部
 920 0740 FCB5     		push {r2-r7,lr}
 921 0742 514C     		ldr r4, = 0x48000000
 922 0744 514D     		ldr r5, = 0x200
 923 0746 524E     		ldr r6, = 0x40012428
 924 0748 0028     		cmp r0, # 0
 925 074a 17D1     		bne __xia_bi_kai
 926 074c A561     		str r5, [r4, # 0x18]	@上臂开
 927 074e 0124     	        movs r4, # 1
 928 0750 3460     	        str r4, [r6]            @ 反相通道开
 929 0752 00F07FF8 	        bl _jianboyanshi
 930 0756 4F48     	        ldr r0, = dianyabiao
 931 0758 4F49     	        ldr r1, = fanxiangbiao
 932 075a 6422     	        movs r2, # 100
 933 075c FFF713FF 	        bl __fu_zhi_nei_cun
 934 0760 0224     	        movs r4, # 2
 935 0762 3460     	        str r4, [r6]            @ 正相通道开
 936 0764 00F076F8 		bl _jianboyanshi
 937 0768 4A48     	        ldr r0, = dianyabiao
 938 076a 4C49     	        ldr r1, = zhengxiangbiao
 939 076c 6422     	        movs r2, # 100
ARM GAS  1.s 			page 18


 940 076e FFF70AFF 	        bl __fu_zhi_nei_cun
 941 0772 4A49     	        ldr r1, = zhengxiangbiao
 942 0774 4848     	        ldr r0, = fanxiangbiao
 943 0776 00F019F8 		bl __DFT_ji_suan
 944 077a FCBD     	        pop {r2-r7,pc}
 945              	__xia_bi_kai:
 946 077c A562     		str r5, [r4, # 0x28]	@ 下臂开
 947 077e 0124     		movs r4, # 1
 948 0780 3460     		str r4, [r6]		@ 反相通道开
 949 0782 00F067F8 		bl _jianboyanshi
 950 0786 4348     		ldr r0, = dianyabiao
 951 0788 4349     		ldr r1, = fanxiangbiao
 952 078a 6422     		movs r2, # 100
 953 078c FFF7FBFE 		bl __fu_zhi_nei_cun
 954 0790 0224     		movs r4, # 2
 955 0792 3460     		str r4, [r6]		@ 正相通道开
 956 0794 00F05EF8 		bl _jianboyanshi
 957 0798 3E48     		ldr r0, = dianyabiao
 958 079a 4049     		ldr r1, = zhengxiangbiao
 959 079c 6422     		movs r2, # 100
 960 079e FFF7F2FE 		bl __fu_zhi_nei_cun
 961 07a2 3E48     		ldr r0, = zhengxiangbiao
 962 07a4 3C49     		ldr r1, = fanxiangbiao
 963 07a6 00F001F8 		bl __DFT_ji_suan
 964 07aa FCBD     		pop {r2-r7,pc}
 965              	
 966              		
 967              	__DFT_ji_suan:
 968              		@入口R0=正相表，R1=反相表
 969 07ac FCB5     		push {r2-r7,lr}
 970 07ae 4446     		mov r4, r8
 971 07b0 4D46     		mov r5, r9
 972 07b2 5646     		mov r6, r10
 973 07b4 70B4     		push {r4-r6}
 974 07b6 0026     		movs r6, # 0
 975 07b8 B046     		mov r8, r6
 976 07ba B146     		mov r9, r6
 977 07bc C822     		movs r2, # 200
 978 07be 9246     		mov r10, r2
 979 07c0 3246     		mov r2, r6
 980              	__ji_suan_dft_xun_huan:
 981 07c2 835A     		ldrh r3, [r0, r2]
 982 07c4 8C5A     		ldrh r4, [r1, r2]
 983 07c6 002B     		cmp r3, # 0
 984 07c8 00D0     		beq __qu_fan_r4
 985 07ca 02E0     		b __ji_suan_dft
 986              	__qu_fan_r4:
 987 07cc E443     		mvns r4, r4
 988 07ce 0134     		adds r4, r4, # 1
 989 07d0 2346     		mov r3, r4
 990              	__ji_suan_dft:
 991 07d2 334D     		ldr r5, = xuan_zhuan_yin_zi
 992 07d4 AF59     		ldr r7, [r5, r6]
 993 07d6 0436     		adds r6, r6, # 4
 994 07d8 5F43     		muls r7, r7, r3		@ 实部
 995 07da FF13     		asrs r7, r7, # 15
 996 07dc 4446     		mov r4, r8
ARM GAS  1.s 			page 19


 997 07de E419     		adds r4, r4, r7
 998 07e0 A046     		mov r8, r4
 999 07e2 AF59     		ldr r7, [r5, r6]
 1000 07e4 0436     		adds r6, r6, # 4
 1001 07e6 5F43     		muls r7, r7, r3		@ 虚部
 1002 07e8 FF13     		asrs r7, r7, # 15
 1003 07ea 4C46     		mov r4, r9
 1004 07ec E419     		adds r4, r4, r7
 1005 07ee A146     		mov r9, r4
 1006 07f0 0232     		adds r2, r2, # 2
 1007 07f2 5245     		cmp r2, r10
 1008 07f4 E5D1     		bne __ji_suan_dft_xun_huan
 1009 07f6 4046     		mov r0, r8
 1010 07f8 4946     		mov r1, r9
 1011 07fa 70BC     		pop {r4-r6}
 1012 07fc A046     		mov r8, r4
 1013 07fe A946     		mov r9, r5
 1014 0800 B246     		mov r10, r6
 1015 0802 FCBD     		pop {r2-r7,pc}
 1016              	_jianbo:
 1017 0804 30B5     		push {r4-r5,lr}
 1018 0806 2748     		ldr r0, = shangbifangda		@上臂放大
 1019 0808 0068     		ldr r0, [r0]
 1020 080a FFF745FE 		bl __fang_da
 1021 080e 0020     		movs r0, # 0		@上臂开
 1022 0810 FFF796FF 		bl __jianbo		
 1023 0814 03B4     		push {r0,r1}
 1024 0816 2448     		ldr r0, = xiabifangda		@下臂放大
 1025 0818 0068     		ldr r0, [r0]
 1026 081a FFF73DFE 		bl __fang_da
 1027 081e 0120     		movs r0, # 1		@下臂开
 1028 0820 FFF78EFF 		bl __jianbo
 1029 0824 30BC     		pop {r4,r5}	
 1030 0826 2B00     		movs r3, r5
 1031 0828 0A00     		movs r2, r1
 1032 082a 2600     		movs r6, r4
 1033 082c 3221     		movs r1, # 50
 1034 082e 00F03AF9 		bl __chu_fa
 1035 0832 01B4     		push {r0}
 1036 0834 1046     		mov r0, r2
 1037 0836 00F036F9 		bl __chu_fa
 1038 083a 01B4     		push {r0}
 1039 083c 3046     		mov r0, r6
 1040 083e 00F032F9 		bl __chu_fa
 1041 0842 01B4     		push {r0}
 1042 0844 1846     		mov r0, r3
 1043 0846 00F02EF9 		bl __chu_fa
 1044 084a 0346     		mov r3, r0
 1045 084c 02BC     		pop {r1}
 1046 084e 04BC     		pop {r2}
 1047 0850 01BC     		pop {r0}
 1048 0852 30BD     		pop {r4-r5,pc}
 1049              	_jianboyanshi:
 1050 0854 80B5     		push {r7,lr}
 1051 0856 154F     		ldr r7, = 0xffff
 1052              	_jianboyanshixunhuan:
 1053 0858 013F     		subs r7, r7, # 1
ARM GAS  1.s 			page 20


 1054 085a FDD1     		bne _jianboyanshixunhuan
 1055 085c 80BD     		pop {r7,pc}	
 1056              	_lvboqi:
 1057              				@滤波器
 1058              				@R0=地址，R1=长度,r2=表指针地址,r3=ADC数值
 1059              				@出R0=结果
 1060 085e FEB5     		push {r1-r7,lr}	
 1061 0860 1568     		ldr r5, [r2]		@读出表指针
 1062 0862 8E00     		lsls r6, r1, # 2	
 1063 0864 4351     		str r3, [r0, r5]	@数值写到滤波器缓冲区
 1064 0866 0435     		adds r5, r5, # 4
 1065 0868 B542     		cmp r5, r6
 1066 086a 00D1     		bne _lvboqimeidaohuanchongquding
 1067 086c 0025     		movs r5, # 0
 1068              	_lvboqimeidaohuanchongquding:
 1069 086e 1560     		str r5, [r2]
 1070 0870 0027     		movs r7, # 0
 1071              	_lvboqixunhuan:
 1072 0872 B542     		cmp r5, r6
 1073 0874 00D1     		bne _lvbozonghe
 1074 0876 0025     		movs r5, # 0
 1075              	_lvbozonghe:
 1076 0878 4459     		ldr r4, [r0, r5]
 1077 087a 0435     		adds r5, r5, # 4
 1078 087c 3F19     		adds r7, r7, r4
 1079 087e 0139     		subs r1, r1, # 1
 1080 0880 F7D1     		bne _lvboqixunhuan
 1081 0882 7811     		asrs r0, r7, # 5	@修改
 1082 0884 FEBD     		pop {r1-r7,pc}
 1083 0886 00000000 		.ltorg
 1083      00480002 
 1083      00002824 
 1083      01404000 
 1083      0020E001 
 1084              		
 1085              	_lcdxianshi:	  		@r0=LCD位置，r1=数据地址，r2=长度
 1086 08b0 1FB5     		push {r0-r4,lr}
 1087 08b2 0C46     		mov r4, r1
 1088              	
 1089 08b4 0021     		movs r1, # 0
 1090 08b6 00F00EF8 		bl _xielcd
 1091              	
 1092 08ba 0121     		movs r1, # 1
 1093 08bc 0023     		movs r3, # 0
 1094              	_lcdxianshixunhuan:
 1095 08be E05C     		ldrb r0, [r4,r3]
 1096 08c0 00F009F8 		bl _xielcd
 1097 08c4 0133     		adds r3, r3, # 1
 1098 08c6 9342     		cmp r3, r2
 1099 08c8 F9D1     		bne _lcdxianshixunhuan
 1100 08ca 1FBD     		pop {r0-r4,pc}
 1101              	
 1102              	_lcdyanshi:
 1103 08cc 20B5     		push {r5,lr}
 1104 08ce 8D4D     		ldr r5, = 0x2000
 1105              	_lcdyanshixunhuan:
 1106 08d0 013D     		subs r5, r5, # 1
ARM GAS  1.s 			page 21


 1107 08d2 FDD1     		bne _lcdyanshixunhuan
 1108 08d4 20BD     		pop {r5,pc}
 1109              	
 1110              	_xielcd:			@入R0=8位,r1=0命令,r1=1数据
 1111 08d6 3FB5     		push {r0-r5,lr}
 1112 08d8 8B4C     		ldr r4, = liangcheng  @ 量程开关 (第6位和第7位)
 1113 08da 0246     		mov r2, r0
 1114 08dc 2568     		ldr r5, [r4]
 1115 08de 1209     		lsrs r2, r2, # 4
 1116 08e0 9200     		lsls r2, r2, # 2	@ 高四位
 1117 08e2 0007     		lsls r0, r0, # 28
 1118 08e4 800E     		lsrs r0, r0, # 26	@ 低四位
 1119 08e6 C907     		lsls r1, r1, # 31
 1120 08e8 01D5     		bpl __lcd_ming_ling
 1121              	__lcd_shu_ju:
 1122 08ea 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 1123 08ec 00E0     		b __xie_lcd_shu_ju
 1124              	__lcd_ming_ling:
 1125 08ee 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 1126              	__xie_lcd_shu_ju:
 1127 08f0 5B19     		adds r3, r3, r5
 1128 08f2 0146     		mov r1, r0
 1129 08f4 D218     		adds r2, r2, r3
 1130 08f6 1000     		movs r0, r2
 1131 08f8 00F00BF8 		bl __74hc595
 1132 08fc 0238     		subs r0, r0, # 0x02
 1133 08fe 00F008F8 		bl __74hc595
 1134 0902 0846     		mov r0, r1
 1135 0904 C018     		adds r0, r0, r3
 1136 0906 00F004F8 		bl __74hc595
 1137 090a 0238     		subs r0, r0, # 0x02
 1138 090c 00F001F8 		bl __74hc595
 1139 0910 3FBD     		pop {r0-r5,pc}
 1140              		
 1141              	__74hc595:			@ 入R0=8位
 1142 0912 FFB5     		push {r0-r7,lr}
 1143 0914 7D4E     		ldr r6, = 0x48000000
 1144 0916 2025     		movs r5, # 0x20		@ SRCLK
 1145 0918 4022     		movs r2, # 0x40		@ RCLK
 1146 091a 8023     		movs r3, # 0x80		@ SER
 1147 091c 1824     		movs r4, # 24
 1148              	__595_yiweixunhuan:
 1149 091e B261     		str r2, [r6, # 0x18]	@ rclk=0
 1150 0920 B561     		str r5, [r6, # 0x18]	@ srclk=0
 1151 0922 FF27     		movs r7, # 0xff
 1152              	__595_yanshi:
 1153 0924 013F     		subs r7, r7, # 1
 1154 0926 FDD1     		bne __595_yanshi
 1155 0928 0146     		mov r1, r0
 1156 092a A140     		lsls r1, r1, r4
 1157 092c 01D5     		bpl __ser_0
 1158              	__ser_1:
 1159 092e B362     		str r3, [r6, # 0x28]	@ ser=1
 1160 0930 00E0     		b __595_yiwei
 1161              	__ser_0:
 1162 0932 B361     		str r3, [r6, # 0x18]	@ ser=0
 1163              	__595_yiwei:
ARM GAS  1.s 			page 22


 1164 0934 B562     		str r5, [r6, # 0x28]
 1165 0936 FF27     		movs r7, # 0xff
 1166              	__595_yanshi1:
 1167 0938 013F     		subs r7, r7, # 1
 1168 093a FDD1     		bne __595_yanshi1
 1169 093c 0134     		adds r4, r4, # 1
 1170 093e 202C     		cmp r4, # 32
 1171 0940 EDD1     		bne __595_yiweixunhuan
 1172 0942 B262     		str r2, [r6, # 0x28]	@ rclk=1
 1173 0944 FF27     		movs r7, # 0xff
 1174              	__595_yanshi2:
 1175 0946 013F     		subs r7, r7, # 1
 1176 0948 FDD1     		bne __595_yanshi2
 1177 094a B261     		str r2, [r6, # 0x18]	@ rclk = 0
 1178 094c FFBD     		pop {r0-r7,pc}
 1179              	
 1180              	
 1181              	
 1182              	_zhuanascii:					@ 16进制转ASCII
 1183              			@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 1184 094e FFB5     		push {r0-r7,lr}
 1185 0950 1F46     		mov r7, r3
 1186 0952 0546     		mov r5, r0
 1187 0954 0E46     		mov r6, r1
 1188 0956 0A21     		movs r1, # 10
 1189              	_xunhuanqiuma:
 1190 0958 00F012F8 		bl _chufa
 1191 095c 0446     		mov r4, r0
 1192 095e 4C43     		muls r4, r1
 1193 0960 2B1B     		subs r3, r5, r4
 1194 0962 3033     		adds r3, r3, # 0x30
 1195 0964 0546     		mov r5, r0
 1196 0966 013E     		subs r6, r6, # 1
 1197 0968 08D0     		beq _qiumafanhui
 1198 096a BE42     		cmp r6, r7
 1199 096c 02D1     		bne _meidaoxiaoshudian
 1200 096e 2E24     		movs r4, # 0x2e		@小数点
 1201 0970 9455     		strb r4, [r2,r6]	@插入小数点
 1202 0972 013E     		subs r6, r6, # 1
 1203              	_meidaoxiaoshudian:
 1204 0974 9355     		strb r3, [r2,r6]
 1205 0976 3600     		movs r6, r6
 1206 0978 EED1     		bne _xunhuanqiuma
 1207 097a FFBD     		pop {r0-r7,pc}
 1208              	_qiumafanhui:
 1209 097c 9355     		strb r3, [r2, r6]
 1210 097e FFBD     		pop {r0-r7,pc}
 1211              	
 1212              	_chufa:				@软件除法
 1213              		@ r0 除以 r1 等于 商(r0)余数R1
 1214 0980 1EB5     		push {r1-r4,lr}
 1215 0982 0028     		cmp r0, # 0
 1216 0984 0ED0     		beq _chufafanhui
 1217 0986 0029     		cmp r1, # 0
 1218 0988 0CD0     		beq _chufafanhui
 1219 098a 0246     		mov r2, r0
 1220 098c 0123     		movs r3, # 1
ARM GAS  1.s 			page 23


 1221 098e DB07     		lsls r3, r3, # 31
 1222 0990 0020     		movs r0, # 0
 1223 0992 0446     		mov r4, r0
 1224              	_chufaxunhuan:
 1225 0994 5200     		lsls r2, r2, # 1
 1226 0996 6441     		adcs r4, r4, r4
 1227 0998 8C42     		cmp r4, r1
 1228 099a 01D3     		bcc _chufaweishubudao0
 1229 099c C018     		adds r0, r0, r3
 1230 099e 641A     		subs r4, r4, r1
 1231              	_chufaweishubudao0:
 1232 09a0 5B08     		lsrs r3, r3, # 1
 1233 09a2 F7D1     		bne _chufaxunhuan
 1234              	_chufafanhui:
 1235 09a4 1EBD     		pop {r1-r4,pc}
 1236              	__chufa64:
 1237              	        @64位除32位
 1238              	        @ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1239 09a6 F8B5     	        push {r3-r7,lr}
 1240 09a8 002A     	        cmp r2, # 0
 1241 09aa 1DD0     	        beq __chu_fa64_fan_hui0
 1242 09ac 0029     	        cmp r1, # 0
 1243 09ae 01D1     	        bne __chu_fa64_ji_suan
 1244 09b0 0028     	        cmp r0, # 0
 1245 09b2 19D0     	        beq __chu_fa64_fan_hui0
 1246              	__chu_fa64_ji_suan:	
 1247 09b4 0024     	        movs r4, # 0
 1248 09b6 2746     	        mov r7, r4
 1249 09b8 2346     	        mov r3, r4
 1250 09ba 2546     	        mov r5, r4
 1251 09bc 0126     	        movs r6, # 1
 1252 09be F607     	        lsls r6, r6, # 31
 1253              	__chu_fa64_xun_huan:
 1254 09c0 4900     	        lsls r1, r1, # 1
 1255 09c2 4041     	        adcs r0, r0, r0
 1256 09c4 6441     	        adcs r4, r4, r4
 1257 09c6 9442     	        cmp r4, r2
 1258 09c8 02D3     	        bcc __chu_fa_yi_wei
 1259 09ca 9B19     	        adds r3, r3, r6
 1260 09cc 7D41     	        adcs r5, r5, r7
 1261 09ce A41A     	        subs r4, r4, r2
 1262              	__chu_fa_yi_wei:
 1263 09d0 3600     	        movs r6, r6
 1264 09d2 04D0     	        beq __di_yi_wei
 1265 09d4 7608     	        lsrs r6, r6, # 1        @高32位移位
 1266 09d6 F3D1     	        bne __chu_fa64_xun_huan
 1267 09d8 0127     	        movs r7, # 1
 1268 09da FF07     	        lsls r7, r7, # 31
 1269 09dc F0E7     	        b __chu_fa64_xun_huan
 1270              	__di_yi_wei:            @低32位移位
 1271 09de 7F08     		lsrs r7, r7, # 1
 1272 09e0 EED1     	        bne __chu_fa64_xun_huan
 1273 09e2 1846     	        mov r0, r3
 1274 09e4 2946     	        mov r1, r5
 1275 09e6 F8BD     	        pop {r3-r7,pc}
 1276              	__chu_fa64_fan_hui0:
 1277 09e8 0020     		movs r0, # 0
ARM GAS  1.s 			page 24


 1278 09ea 0021     		movs r1, # 0
 1279 09ec F8BD     		pop {r3-r7,pc}
 1280              	__chengfa:
 1281              	        @入R0 乘以 R1
 1282              	        @出 R0高32 ， R1低32
 1283              		@0xffffffff*0xffffffff
 1284              	        @4        F F F E 0 0 0 1
 1285              	        @3                F F F E 0 0 0 1
 1286              	        @2                F F F E 0 0 0 1
 1287              	        @1                        F F F E 0 0 0 1
 1288              	        @         F F F F F F F E 0 0 0 0 0 0 0 1
 1289 09ee FCB5     		push {r2-r7,lr}
 1290 09f0 0028     	        cmp r0, # 0
 1291 09f2 1CD0     	        beq __cheng_fa_fan_hui
 1292 09f4 0029     	        cmp r1, # 0
 1293 09f6 1AD0     	        beq __cheng_fa_fan_hui
 1294              	__ji_suan_cheng_fa:	
 1295 09f8 0246     		mov r2, r0
 1296 09fa 0B46     		mov r3, r1
 1297 09fc 000C     		lsrs r0, r0, # 16	@高16
 1298 09fe 1204     		lsls r2, r2, # 16	@ 低16
 1299 0a00 120C     		lsrs r2, r2, # 16
 1300 0a02 090C     	        lsrs r1, r1, # 16	@高16
 1301 0a04 1B04     		lsls r3, r3, # 16	@低16
 1302 0a06 1B0C     		lsrs r3, r3, # 16
 1303 0a08 1446     		mov r4, r2		
 1304 0a0a 0546     		mov r5, r0		
 1305 0a0c 5A43     		muls r2, r2, r3		@1
 1306 0a0e 5843     		muls r0, r0, r3		@2
 1307 0a10 4C43     		muls r4, r4, r1		@3
 1308 0a12 4D43     		muls r5, r5, r1		@4
 1309 0a14 0646     		mov r6, r0		@2
 1310 0a16 2746     		mov r7, r4		@3
 1311 0a18 0004     		lsls r0, r0, # 16	@2低
 1312 0a1a 2404     		lsls r4, r4, # 16	@3低
 1313 0a1c 360C     		lsrs r6, r6, # 16	@2高
 1314 0a1e 3F0C     		lsrs r7, r7, # 16	@3高
 1315 0a20 1218     		adds r2, r2, r0
 1316 0a22 6241     		adcs r2, r2, r4
 1317 0a24 7541     		adcs r5, r5, r6
 1318 0a26 7D41     		adcs r5, r5, r7
 1319 0a28 2846     		mov r0, r5
 1320 0a2a 1146     		mov r1, r2
 1321 0a2c FCBD     		pop {r2-r7,pc}
 1322              	__cheng_fa_fan_hui:
 1323 0a2e 0020     		movs r0, # 0
 1324 0a30 0021     		movs r1, # 0
 1325 0a32 FCBD     		pop {r2-r7,pc}
 1326              	
 1327              	__chu_fa_xiao_shu:
 1328              		@入口R0=除数，R1=被除数
 1329              		@出口R0=整数，R1=小数(5位)
 1330 0a34 FCB5     		push {r2-r7,lr}
 1331 0a36 0028     	        cmp r0, # 0
 1332 0a38 34D0     	        beq _chufafanhui_1
 1333 0a3a 0029     	        cmp r1, # 0
 1334 0a3c 32D0     	        beq _chufafanhui_1
ARM GAS  1.s 			page 25


 1335 0a3e 0025     		movs r5, # 0
 1336 0a40 0626     		movs r6, # 6
 1337 0a42 0000     		movs r0, r0
 1338 0a44 02D5     		bpl __pan_duan_bei_chu_shu_1
 1339 0a46 0135     		adds r5, r5, # 1
 1340 0a48 C043     		mvns r0, r0
 1341 0a4a 0130     		adds r0, r0, # 1
 1342              	__pan_duan_bei_chu_shu_1:
 1343 0a4c 0900     		movs r1, r1
 1344 0a4e 02D5     		bpl __bao_cun_fu_hao
 1345 0a50 0135     		adds r5, r5, # 1
 1346 0a52 C943     		mvns r1, r1
 1347 0a54 0131     		adds r1, r1, # 1
 1348              	__bao_cun_fu_hao:
 1349 0a56 20B4     		push {r5}
 1350              	__ji_suan_chu_fa_11:	
 1351 0a58 0246     	        mov r2, r0
 1352 0a5a 0123     	        movs r3, # 1
 1353 0a5c DB07     	        lsls r3, r3, # 31
 1354 0a5e 0020     	        movs r0, # 0
 1355 0a60 0446     	        mov r4, r0
 1356              	_chufaxunhuan_1:
 1357 0a62 5200     	        lsls r2, r2, # 1
 1358 0a64 6441     	        adcs r4, r4, r4
 1359 0a66 8C42     	        cmp r4, r1
 1360 0a68 01D3     		bcc _chufaweishubudao0_0
 1361 0a6a C018     		adds r0, r0, r3
 1362 0a6c 641A     		subs r4, r4, r1
 1363              	_chufaweishubudao0_0:
 1364 0a6e 5B08     		lsrs r3, r3, # 1
 1365 0a70 F7D1     		bne _chufaxunhuan_1
 1366 0a72 01B4     		push {r0}
 1367 0a74 2046     		mov r0, r4
 1368 0a76 0A22     		movs r2, # 10
 1369 0a78 5043     		muls r0, r0, r2
 1370 0a7a 013E     		subs r6, r6, # 1
 1371 0a7c ECD1     		bne __ji_suan_chu_fa_11
 1372 0a7e 3FBC     		pop {r0-r5}
 1373 0a80 234F     		ldr r7, = 10000
 1374 0a82 244E     		ldr r6, = 1000
 1375 0a84 7C43     		muls r4, r4, r7
 1376 0a86 7343     		muls r3, r3, r6
 1377 0a88 234F     		ldr r7, = 100
 1378 0a8a 0A26     		movs r6, # 10
 1379 0a8c 7A43     		muls r2, r2, r7
 1380 0a8e 7143     		muls r1, r1, r6
 1381 0a90 0918     		adds r1, r1, r0
 1382 0a92 8918     		adds r1, r1, r2
 1383 0a94 C918     		adds r1, r1, r3
 1384 0a96 0919     		adds r1, r1, r4
 1385 0a98 2846     		mov r0, r5
 1386 0a9a 20BC     		pop {r5}
 1387 0a9c 012D     		cmp r5, # 1
 1388 0a9e 01D1     		bne _chufafanhui_1
 1389 0aa0 C043     		mvns r0, r0
 1390 0aa2 0130     		adds r0, r0, # 1
 1391              	_chufafanhui_1:
ARM GAS  1.s 			page 26


 1392 0aa4 FCBD     		pop {r2-r7,pc}
 1393              	
 1394              	__chu_fa:
 1395 0aa6 FEB5     		push {r1-r7,lr}
 1396 0aa8 0028     	        cmp r0, # 0
 1397 0aaa 1DD0     	        beq _chufafanhui1
 1398 0aac 0029     	        cmp r1, # 0
 1399 0aae 1BD0     	        beq _chufafanhui1
 1400 0ab0 0025     		movs r5, # 0
 1401 0ab2 0000     		movs r0, r0
 1402 0ab4 02D5     		bpl __pan_duan_bei_chu_shu
 1403 0ab6 0135     		adds r5, r5, # 1
 1404 0ab8 C043     		mvns r0, r0
 1405 0aba 0130     		adds r0, r0, # 1
 1406              	__pan_duan_bei_chu_shu:
 1407 0abc 0900     		movs r1, r1
 1408 0abe 02D5     		bpl __ji_suan_chu_fa11
 1409 0ac0 0135     		adds r5, r5, # 1
 1410 0ac2 C943     		mvns r1, r1
 1411 0ac4 0131     		adds r1, r1, # 1
 1412              	__ji_suan_chu_fa11:	
 1413 0ac6 0246     	        mov r2, r0
 1414 0ac8 0123     	        movs r3, # 1
 1415 0aca DB07     	        lsls r3, r3, # 31
 1416 0acc 0020     	        movs r0, # 0
 1417 0ace 0446     	        mov r4, r0
 1418              	_chufaxunhuan1:
 1419 0ad0 5200     	        lsls r2, r2, # 1
 1420 0ad2 6441     	        adcs r4, r4, r4
 1421 0ad4 8C42     	        cmp r4, r1
 1422 0ad6 01D3     		bcc _chufaweishubudao00
 1423 0ad8 C018     		adds r0, r0, r3
 1424 0ada 641A     		subs r4, r4, r1
 1425              	_chufaweishubudao00:
 1426 0adc 5B08     		lsrs r3, r3, # 1
 1427 0ade F7D1     		bne _chufaxunhuan1
 1428 0ae0 012D     		cmp r5, # 1
 1429 0ae2 01D1     		bne _chufafanhui1
 1430 0ae4 C043     		mvns r0, r0
 1431 0ae6 0130     		adds r0, r0, # 1
 1432              	_chufafanhui1:
 1433 0ae8 FEBD     		pop {r1-r7,pc}
 1434              	_nmi_handler:
 1435 0aea 7047     		bx lr
 1436              	_hard_fault:
 1437 0aec 7047     		bx lr
 1438              	_svc_handler:
 1439 0aee 7047     		bx lr
 1440              	_pendsv_handler:
 1441 0af0 7047     		bx lr
 1442              	_systickzhongduan:
 1443 0af2 0A4A     		ldr r2, = jishu
 1444 0af4 0A48     		ldr r0, = 0xe0000d04
 1445 0af6 1368     		ldr r3, [r2]
 1446 0af8 0A49     		ldr r1, = 0x02000000
 1447 0afa 0133     		adds r3, r3, # 1
 1448 0afc 1360     		str r3, [r2]
ARM GAS  1.s 			page 27


 1449 0afe 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 1450              	aaa:
 1451 0b00 7047     		bx lr
 1452 0b02 00000020 		.ltorg
 1452      00003000 
 1452      00200000 
 1452      00481027 
 1452      0000E803 
 1453              		.end
ARM GAS  1.s 			page 28


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 zheng_xian_biao
                 1.s:11     .data:00000000000000ca $d
                 1.s:12     .data:00000000000000d0 xuan_zhuan_yin_zi
                 1.s:14     .data:00000000000003f0 liang_cheng_biao
                 1.s:17     .data:0000000000000430 lcdshuju
                 1.s:19     .data:0000000000000440 dianhua
                 1.s:21     .data:0000000000000450 qq
                 1.s:23     .data:0000000000000460 xushu
                 1.s:25     .data:0000000000000461 fu
                 1.s:27     .data:0000000000000462 zheng
                 1.s:29     .data:0000000000000463 zukang
                 1.s:31     .data:0000000000000465 dianrong
                 1.s:33     .data:0000000000000467 pinlv10k
                 1.s:35     .data:0000000000000468 zhaoou
                 1.s:36     .data:0000000000000469 qianou
                 1.s:38     .data:000000000000046a ou
                 1.s:40     .data:000000000000046e kong
                 1.s:42     .data:0000000000000472 pifa
                 1.s:44     .data:0000000000000474 enfa
                 1.s:46     .data:0000000000000476 _fu
                 1.s:48     .data:0000000000000477 xiaoshu
                 1.s:50     *ABS*:0000000020001000 STACKINIT
                 1.s:51     *ABS*:0000000020000000 asciimabiao
                 1.s:52     *ABS*:0000000020000030 liangcheng
                 1.s:53     *ABS*:0000000020000034 jishu
                 1.s:54     *ABS*:0000000020000038 jianbo
                 1.s:55     *ABS*:0000000020000040 dianyabiao
                 1.s:56     *ABS*:0000000020000110 zhengxiangbiao
                 1.s:57     *ABS*:00000000200001e0 fanxiangbiao
                 1.s:58     *ABS*:0000000020000600 lvboqizhizhen
                 1.s:59     *ABS*:0000000020000604 lvboqihuanchong
                 1.s:60     *ABS*:0000000020000700 lvboqizhizhen1
                 1.s:61     *ABS*:0000000020000704 lvboqihuanchong1
                 1.s:62     *ABS*:0000000020000800 lvboqizhizhen2
                 1.s:63     *ABS*:0000000020000804 lvboqihuanchong2
                 1.s:64     *ABS*:0000000020000900 lvboqizhizhen3
                 1.s:65     *ABS*:0000000020000904 lvboqihuanchong3
                 1.s:66     *ABS*:0000000020000a00 xia_bi_shi_bu
                 1.s:67     *ABS*:0000000020000a04 shang_bi_shi_bu
                 1.s:68     *ABS*:0000000020000a08 xia_bi_xu_bu
                 1.s:69     *ABS*:0000000020000a0c shang_bi_xu_bu
                 1.s:70     *ABS*:0000000020000a10 bu_chang_100r
                 1.s:71     *ABS*:0000000020000a14 zidongliangchengyanshi
                 1.s:72     *ABS*:0000000020000a18 dianzuzhi
                 1.s:73     *ABS*:0000000020000a20 diankangzhi
                 1.s:74     *ABS*:0000000020000a28 shangbifangda
                 1.s:75     *ABS*:0000000020000a2c xiabifangda
                 1.s:76     *ABS*:0000000020000a30 anjian
                 1.s:77     *ABS*:0000000020000a34 bu_chang_1k
                 1.s:78     *ABS*:0000000020000a38 dianrongzhi
                 1.s:79     *ABS*:0000000020000a40 shang
                 1.s:80     *ABS*:0000000020000a44 xiaoshudian
                 1.s:82     .text:0000000000000000 vectors
                 1.s:128    .text:00000000000000b0 _start
                 1.s:1434   .text:0000000000000aea _nmi_handler
                 1.s:1436   .text:0000000000000aec _hard_fault
ARM GAS  1.s 			page 29


                 1.s:1438   .text:0000000000000aee _svc_handler
                 1.s:1440   .text:0000000000000af0 _pendsv_handler
                 1.s:1442   .text:0000000000000af2 _systickzhongduan
                 1.s:1450   .text:0000000000000b00 aaa
                            .text:0000000000000000 $d
                 1.s:127    .text:00000000000000b0 $t
                 1.s:130    .text:00000000000000b2 yanshi111
                 1.s:133    .text:00000000000000b6 shizhong
                 1.s:140    .text:00000000000000c2 denghse
                 1.s:144    .text:00000000000000c8 dengpllguan
                 1.s:152    .text:00000000000000d6 dengpll
                 1.s:159    .text:00000000000000e0 dengdai14mshizhongwending
                 1.s:164    .text:00000000000000e6 _neicunqingling
                 1.s:168    .text:00000000000000ec _neicunqinglingxunhuan
                 1.s:173    .text:00000000000000f2 _waisheshizhong
                 1.s:188    .text:00000000000000fc _waishezhongduan
                 1.s:203    .text:00000000000000fc io_she_zhi
                 1.s:237    .text:0000000000000110 _adcchushihua
                 1.s:241    .text:0000000000000116 _dengadcjiaozhun
                 1.s:245    .text:000000000000011c _kaiadc
                 1.s:250    .text:0000000000000124 _dengdaiadcwending
                 1.s:254    .text:000000000000012a _tongdaoxuanze
                 1.s:268    .text:000000000000013e dmachushihua
                 1.s:300    .text:0000000000000162 tim1chushiha
                 1.s:326    .text:000000000000018c _lcdchushihua
                 1.s:1110   .text:00000000000008d6 _xielcd
                 1.s:1102   .text:00000000000008cc _lcdyanshi
                 1.s:358    .text:00000000000001da ting
                 1.s:1016   .text:0000000000000804 _jianbo
                 1.s:882    .text:0000000000000678 __zhen_fu_lv_bo
                 1.s:680    .text:00000000000004fc __zu_kang_ji_suan
                 1.s:587    .text:0000000000000466 __dian_rong_ji_suan
                 1.s:533    .text:000000000000040e __zi_dong_liang_cheng
                 1.s:508    .text:00000000000003e8 __xiao_shu_dian_wei_zhi
                 1.s:376    .text:000000000000020a __dian_zu_zheng
                 1.s:1085   .text:00000000000008b0 _lcdxianshi
                 1.s:381    .text:0000000000000214 __xian_shi_dian_zu
                 1.s:1182   .text:000000000000094e _zhuanascii
                 1.s:404    .text:0000000000000244 __dian_kang_zheng
                 1.s:409    .text:000000000000024e __xian_shi_dian_kang
                 1.s:438    .text:000000000000028a __xian_shi_pin_lv
                 1.s:443    .text:0000000000000294 __xian_shi_dian_rong
                 1.s:455    .text:00000000000002ae ddd
                 1.s:603    .text:0000000000000488 __an_jian
                 1.s:768    .text:0000000000000596 __xian_shi_shang_xia_bi
                 1.s:507    .text:0000000000000322 $d
                 1.s:507    .text:0000000000000324 $d
                 1.s:509    .text:00000000000003e8 $t
                 1.s:516    .text:00000000000003f6 __pan_duan_10k
                 1.s:528    .text:0000000000000408 __xiao_shu_dian_fan_hui
                 1.s:521    .text:00000000000003fe __pan_duan_1k
                 1.s:526    .text:0000000000000406 __pan_duan_100
                 1.s:543    .text:0000000000000420 __liang_cheng_ji_suan
                 1.s:557    .text:000000000000043a __pan_duan_xu_bu_liang_cheng
                 1.s:562    .text:0000000000000442 __xia_bi_da_xiao_pan_duan
                 1.s:566    .text:0000000000000448 __pan_duan_xu_bu
                 1.s:570    .text:000000000000044e __gai_liang_cheng
ARM GAS  1.s 			page 30


                 1.s:577    .text:0000000000000458 __pan_duan_xuan_kong
                 1.s:575    .text:0000000000000456 __bao_cun_liang_cheng
                 1.s:584    .text:0000000000000464 __liang_cheng_fan_hui
                 1.s:634    .text:00000000000004b8 __ji_suan_fu_du
                 1.s:1236   .text:00000000000009a6 __chufa64
                 1.s:612    .text:0000000000000498 __fang_da
                 1.s:623    .text:00000000000004aa __pa4_guan
                 1.s:625    .text:00000000000004ac __pan_duan_pb1
                 1.s:630    .text:00000000000004b4 __pb1_guan
                 1.s:644    .text:00000000000004c2 _shibubushifushu
                 1.s:649    .text:00000000000004ca _xububushifushu
                 1.s:654    .text:00000000000004d2 _panduanxubushibushi0
                 1.s:658    .text:00000000000004d8 _jisuanfudu1
                 1.s:671    .text:00000000000004ee _alpha_min_beta_max
                 1.s:663    .text:00000000000004e0 _alpha_max_beta_min
                 1.s:690    .text:000000000000050e __ji_suan_zu_kang
                 1.s:711    .text:0000000000000530 a1
                 1.s:717    .text:000000000000053a a2
                 1.s:1280   .text:00000000000009ee __chengfa
                 1.s:724    .text:000000000000054a a3
                 1.s:736    .text:0000000000000560 a4
                 1.s:742    .text:000000000000056a a5
                 1.s:749    .text:000000000000057a __a6
                 1.s:756    .text:0000000000000586 __fu_zhi_nei_cun
                 1.s:760    .text:000000000000058a __fu_zhi_xun_huan
                 1.s:785    .text:00000000000005b4 __shang_bi_shi_bu_zheng
                 1.s:790    .text:00000000000005be __xian_shi_shang_bi_shi_bu
                 1.s:811    .text:00000000000005ea __shang_bi_xu_bu_zheng
                 1.s:816    .text:00000000000005f4 __xian_shi_shang_bi_xu_bu
                 1.s:837    .text:0000000000000620 __xia_bi_shi_bu_zheng
                 1.s:842    .text:000000000000062a __xian_shi_xia_bi_shi_bu
                 1.s:864    .text:0000000000000656 __xia_bi_xu_bu_zheng
                 1.s:869    .text:0000000000000660 __xian_shi_xia_bi_xu_bu
                 1.s:1056   .text:000000000000085e _lvboqi
                 1.s:916    .text:00000000000006bc $d
                 1.s:917    .text:0000000000000740 __jianbo
                 1.s:920    .text:0000000000000740 $t
                 1.s:945    .text:000000000000077c __xia_bi_kai
                 1.s:1049   .text:0000000000000854 _jianboyanshi
                 1.s:967    .text:00000000000007ac __DFT_ji_suan
                 1.s:980    .text:00000000000007c2 __ji_suan_dft_xun_huan
                 1.s:986    .text:00000000000007cc __qu_fan_r4
                 1.s:990    .text:00000000000007d2 __ji_suan_dft
                 1.s:1394   .text:0000000000000aa6 __chu_fa
                 1.s:1052   .text:0000000000000858 _jianboyanshixunhuan
                 1.s:1068   .text:000000000000086e _lvboqimeidaohuanchongquding
                 1.s:1071   .text:0000000000000872 _lvboqixunhuan
                 1.s:1075   .text:0000000000000878 _lvbozonghe
                 1.s:1083   .text:0000000000000886 $d
                 1.s:1083   .text:0000000000000888 $d
                 1.s:1086   .text:00000000000008b0 $t
                 1.s:1094   .text:00000000000008be _lcdxianshixunhuan
                 1.s:1105   .text:00000000000008d0 _lcdyanshixunhuan
                 1.s:1124   .text:00000000000008ee __lcd_ming_ling
                 1.s:1121   .text:00000000000008ea __lcd_shu_ju
                 1.s:1126   .text:00000000000008f0 __xie_lcd_shu_ju
                 1.s:1141   .text:0000000000000912 __74hc595
ARM GAS  1.s 			page 31


                 1.s:1148   .text:000000000000091e __595_yiweixunhuan
                 1.s:1152   .text:0000000000000924 __595_yanshi
                 1.s:1161   .text:0000000000000932 __ser_0
                 1.s:1158   .text:000000000000092e __ser_1
                 1.s:1163   .text:0000000000000934 __595_yiwei
                 1.s:1166   .text:0000000000000938 __595_yanshi1
                 1.s:1174   .text:0000000000000946 __595_yanshi2
                 1.s:1189   .text:0000000000000958 _xunhuanqiuma
                 1.s:1212   .text:0000000000000980 _chufa
                 1.s:1208   .text:000000000000097c _qiumafanhui
                 1.s:1203   .text:0000000000000974 _meidaoxiaoshudian
                 1.s:1234   .text:00000000000009a4 _chufafanhui
                 1.s:1224   .text:0000000000000994 _chufaxunhuan
                 1.s:1231   .text:00000000000009a0 _chufaweishubudao0
                 1.s:1276   .text:00000000000009e8 __chu_fa64_fan_hui0
                 1.s:1246   .text:00000000000009b4 __chu_fa64_ji_suan
                 1.s:1253   .text:00000000000009c0 __chu_fa64_xun_huan
                 1.s:1262   .text:00000000000009d0 __chu_fa_yi_wei
                 1.s:1270   .text:00000000000009de __di_yi_wei
                 1.s:1322   .text:0000000000000a2e __cheng_fa_fan_hui
                 1.s:1294   .text:00000000000009f8 __ji_suan_cheng_fa
                 1.s:1327   .text:0000000000000a34 __chu_fa_xiao_shu
                 1.s:1391   .text:0000000000000aa4 _chufafanhui_1
                 1.s:1342   .text:0000000000000a4c __pan_duan_bei_chu_shu_1
                 1.s:1348   .text:0000000000000a56 __bao_cun_fu_hao
                 1.s:1350   .text:0000000000000a58 __ji_suan_chu_fa_11
                 1.s:1356   .text:0000000000000a62 _chufaxunhuan_1
                 1.s:1363   .text:0000000000000a6e _chufaweishubudao0_0
                 1.s:1432   .text:0000000000000ae8 _chufafanhui1
                 1.s:1406   .text:0000000000000abc __pan_duan_bei_chu_shu
                 1.s:1412   .text:0000000000000ac6 __ji_suan_chu_fa11
                 1.s:1418   .text:0000000000000ad0 _chufaxunhuan1
                 1.s:1425   .text:0000000000000adc _chufaweishubudao00
                 1.s:1452   .text:0000000000000b02 $d
                 1.s:1452   .text:0000000000000b04 $d

NO UNDEFINED SYMBOLS
