ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@pmsm电机
   3              		@作者：yjmwxwx
   4              		@时间：2021-04-22
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              	yjmwxwx:
  10 0000 796A6D77 		.ascii "yjmwxwx-20210422"
  10      7877782D 
  10      32303231 
  10      30343232 
  11              	kong:
  12 0010 20202020 		.int 0x20202020
  13              	_fu:
  14 0014 2D       		.ascii "-"
  15              	jiaodu1:
  16 0015 F23D0000 		.int 0x3df2
  17              	jiaodufuhao:
  18 0019 DF000000 		.int 0xdf
  19              		
  20 001d 000000   		.align 4
  21              	zheng_xian_biao:
  22 0020 1C001D00 		.short 28,29,31,33,34,36,38,39,41,42,44,45,46,48,49,50,51,52,52,53,54,54,55,55,55,55,55,55,55,54,5
  22      1F002100 
  22      22002400 
  22      26002700 
  22      29002A00 
  23 00ea 00000000 		.align 4
  23      0000
  24              	cordic_yong_cos_sin:
  25 00f0 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
  25      00400000 
  25      412D0000 
  25      412D0000 
  25      203B0000 
  26              	cordic_yong_atan_biao:
  27 0170 87640000 		.int 0x00006487,0x00003B58,0x00001F5B,0x00000FEA,0x000007FD,0x000003FF,0x000001FF,0x000000FF,0x000
  27      583B0000 
  27      5B1F0000 
  27      EA0F0000 
  27      FD070000 
  28              		.align 4
  29              		.equ STACKINIT,        	        0x20001000
  30              		.equ asciimabiao,		0x20000000
  31              		.equ liangcheng,		0x20000020
  32              		.equ dianji_huanxiang,		0x200000c4
  33              		.equ zhengfan_zhuan,		0x200000c8
  34              		.equ jiaodu_cha,		0x200000cc
  35              		.equ shangci_jiaodu,		0x200000d0
  36              		.equ shang_ci_i,		0x200000d4
  37              		.equ jiaodu_b,			0x200000d8
  38              		.equ jiaodu_a,			0x200000dc
  39              		.equ jiaodu,			0x200000e0
  40              		.equ cos,			0x200000e4
  41              		.equ sin,			0x200000e8
ARM GAS  1.s 			page 2


  42              		.equ sin_cha,			0x200000ec
  43              		.equ cos_cha,			0x200000f0
  44              		.equ sin_jiaozheng,		0x200000f4
  45              		.equ cos_jiaozheng,		0x200000f8
  46              		.equ jiaodu_jiaozheng,		0x200000fc
  47              		.equ dianyabiao,		0x20000100
  48              		.equ lvboqizhizhen,		0x20000300
  49              		.equ lvboqihuanchong,		0x20000308
  50              		.equ lvboqizhizhen1,		0x20000510
  51              		.equ lvboqihuanchong1,		0x20000518
  52              		.equ lvboqizhizhen2,		0x20000900
  53              		.equ lvboqihuanchong2,		0x20000908
  54              		.equ lvboqizhizhen3,		0x20000b10
  55              		.equ lvboqihuanchong3,		0x20000b18
  56              		.equ tim3_ch1,			0x40000434
  57              		.equ tim3_ch2,			0x40000438
  58              		.equ tim14_ch1,			0x40002034
  59              		.section .text
  60              	
  61              	vectors:
  62 0000 00100020 		.word STACKINIT
  63 0004 B1000000 		.word _start + 1
  64 0008 E3080000 		.word _nmi_handler + 1
  65 000c E5080000 		.word _hard_fault  + 1
  66 0010 00000000 		.word 0
  67 0014 00000000 		.word 0
  68 0018 00000000 		.word 0
  69 001c 00000000 		.word 0
  70 0020 00000000 		.word 0
  71 0024 00000000 		.word 0
  72 0028 00000000 		.word 0
  73 002c E7080000 		.word _svc_handler +1
  74 0030 00000000 		.word 0
  75 0034 00000000 		.word 0
  76 0038 E9080000 		.word _pendsv_handler +1
  77 003c EB080000 		.word _systickzhongduan +1           @ 15
  78 0040 050A0000 		.word aaa +1     @ _wwdg +1          @ 0
  79 0044 050A0000 		.word aaa +1     @_pvd +1            @ 1
  80 0048 050A0000 		.word aaa +1     @_rtc +1            @ 2
  81 004c 050A0000 		.word aaa +1     @_flash +1          @ 3
  82 0050 050A0000 		.word aaa +1	@ _rcc + 1           @ 4
  83 0054 050A0000 		.word aaa +1      @_exti0_1  +1      @ 5
  84 0058 050A0000 		.word aaa +1      @ _exti2_3 +1      @ 6
  85 005c 050A0000 		.word aaa +1       @_exti4_15 +1     @ 7
  86 0060 050A0000 		.word aaa +1                         @ 8
  87 0064 050A0000 		.word aaa +1	@__dma_wan  +1	     @ 9
  88 0068 050A0000 		.word aaa +1    @_dma1_2_3 +1        @ 10
  89 006c 050A0000 		.word aaa +1       @_dma1_4_5 +1     @ 11
  90 0070 050A0000 		.word aaa +1	 @_adc1 +1           @ 12
  91 0074 050A0000 		.word aaa +1       @_tim1_brk_up +1  @ 13
  92 0078 050A0000 		.word aaa +1        @ _tim1_cc +1    @ 14
  93 007c 050A0000 		.word aaa +1         @_tim2 +1       @ 15
  94 0080 050A0000 		.word aaa +1          @_tim3 +1      @ 16
  95 0084 050A0000 		.word aaa +1                         @ 17
  96 0088 050A0000 		.word aaa +1		             @ 18
  97 008c 050A0000 		.word aaa +1	@_tim14 +1           @ 19
  98 0090 050A0000 		.word aaa +1                         @ 20
ARM GAS  1.s 			page 3


  99 0094 050A0000 		.word aaa +1         @_tim16 +1      @ 21
 100 0098 050A0000 		.word aaa +1         @_tim17 +1      @ 22
 101 009c 050A0000 		.word aaa +1          @_i2c   +1     @ 23
 102 00a0 050A0000 		.word aaa +1                         @ 24
 103 00a4 050A0000 		.word aaa +1           @_spi   +1    @ 25
 104 00a8 050A0000 		.word aaa +1                         @ 26
 105 00ac 050A0000 		.word aaa +1         @_usart1 +1     @ 27
 106              		.align 2
 107              	_start:
 108              	shizhong:
 109 00b0 6C4A     		ldr r2, = 0x40022000   @FLASH访问控制
 110 00b2 3221     		movs r1, # 0x32
 111 00b4 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 112 00b6 6C48     		ldr r0, = 0x40021000 @ rcc
 113 00b8 6C49     		ldr r1, = 0x10001
 114 00ba 0160     		str r1, [r0]
 115              	denghse:
 116 00bc 0168     		ldr r1, [r0]
 117 00be 8903     		lsls r1, r1, # 14
 118 00c0 FCD5     		bpl denghse
 119              	dengpllguan:
 120 00c2 0168     		ldr r1, [r0]
 121 00c4 8901     		lsls r1, r1, # 6
 122 00c6 FCD4     		bmi dengpllguan
 123 00c8 6949     		ldr r1, = 0x150002	@0x150002
 124 00ca 0046     		mov r0, r0
 125 00cc 4160     		str r1, [r0, # 0x04]
 126 00ce 0046     		mov r0, r0
 127 00d0 6849     		ldr r1, = 0x1010000
 128 00d2 0046     		mov r0, r0
 129 00d4 0160     		str r1, [r0]
 130              	
 131              	dengpll:
 132 00d6 0168     		ldr r1, [r0]
 133 00d8 8901     		lsls r1, # 6
 134 00da FCD5     		bpl dengpll
 135              	
 136              	
 137 00dc 6649     		ldr r1, = 100
 138 00de 0163     		str r1, [r0, # 0x30]
 139              	
 140              	_waisheshizhong:	                         @ 外设时钟
 141              		@+0x14=RCC_AHBENR
 142              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 143 00e0 6148     		ldr r0, = 0x40021000
 144 00e2 6649     		ldr r1, = 0x60001
 145 00e4 4161     		str r1, [r0, # 0x14]
 146              	
 147              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 148              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 149 00e6 6649     		ldr r1, = 0x1a00
 150 00e8 8161     		str r1, [r0, # 0x18]
 151              		@+0X1C=RCC_APB1ENR
 152              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 153              		@ 22=I2C2 @ 23=USB @ 28=PWR
 154 00ea 664A     		ldr r2, = 0x902
 155 00ec C261     		str r2, [r0, # 0x1c]
ARM GAS  1.s 			page 4


 156              	
 157              	_neicunqingling:
 158 00ee 6648     		ldr r0, = 0x20000000
 159 00f0 0021     		movs r1, # 0
 160 00f2 664B     		ldr r3, = 0x1000
 161              	_neicunqinglingxunhuan:
 162 00f4 043B     		subs r3, # 4
 163 00f6 C150     		str r1, [r0, r3]
 164 00f8 FCD1     		bne _neicunqinglingxunhuan
 165              	
 166              	_waishezhongduan:					@外设中断
 167              		@0xE000E100    0-31  写1开，写0没效
 168              		@0XE000E180    0-31 写1关，写0没效
 169              		@0XE000E200    0-31 挂起，写0没效
 170              		@0XE000E280    0-31 清除， 写0没效
 171 00fa 6548     		ldr r0, =  0xe000e100
 172 00fc 6549     		ldr r1, = 0x200 @0x10200  @ 0x10000
 173 00fe 0160     		str r1, [r0]
 174              		
 175              	@_kanmengou:
 176              	@	ldr r0, = 0x40003000
 177              	@	ldr r1, = 0x5555
 178              	@	str r1, [r0]
 179              	@	movs r1, # 7
 180              	@	str r1, [r0, # 4]
 181              	@	ldr r1, = 0xfff
 182              	@	str r1, [r0, # 8]
 183              	@	ldr r1, = 0xaaaa
 184              	@	str r1, [r0]
 185              	@	ldr r1, = 0xcccc
 186              	@	str r1, [r0]
 187              		
 188              	io_she_zhi:
 189              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 190              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 191              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 192              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 193              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 194              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 195              		@偏移0x10 = 输入数据寄存器
 196              		@偏移0x14 = 输出数据寄存器
 197              		@偏移0x18 = 端口开  0-15置位
 198              		@偏移0x28 = 端口关
 199              		@0X20 = 复用低
 200              		@GPIO口0（0-3位）每个IO口占用4位
 201              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 202              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 203              		@0x24 = 复用高
 204              		@GPIO口8 （0-3位）每个IO口占用4位
 205              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 206              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 207              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 208              	
 209 0100 6548     		ldr r0, = 0x48000000
 210 0102 6649     		ldr r1, = 0x2820aed5 
 211 0104 0160     		str r1, [r0]
 212 0106 0721     		movs r1, # 0x07
ARM GAS  1.s 			page 5


 213 0108 4160     		str r1, [r0, # 0x04]
 214 010a 6549     		ldr r1, = 0x11040000
 215 010c 0162     		str r1, [r0, # 0x20]
 216 010e 6149     		ldr r1, = 0x200
 217 0110 4162     		str r1, [r0, # 0x24]
 218              	
 219              	
 220              		
 221 0112 6448     		ldr r0, = 0x48000400
 222 0114 0821     		movs r1, # 0x08 @ pb1
 223 0116 0160     		str r1, [r0]
 224 0118 2021     		movs r1, # 0x20
 225 011a 0162     		str r1, [r0, # 0x20]
 226              			
 227              	
 228              	_adcchushihua:
 229 011c 6248     		ldr r0, = 0x40012400  @ adc基地址
 230 011e 6349     		ldr r1, = 0x80000000
 231 0120 8160     		str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 232              	_dengadcjiaozhun:
 233 0122 8168     		ldr r1, [r0, # 0x08]
 234 0124 0900     		movs r1, r1
 235 0126 FCD4     		bmi _dengadcjiaozhun   @ 等ADC校准
 236 0128 0121     		movs r1, # 1
 237 012a 0160     		str r1, [r0]
 238              	_kaiadc:
 239 012c 8168     		ldr r1, [r0, # 0x08]
 240 012e 0122     		movs r2, # 0x01
 241 0130 1143     		orrs r1, r1, r2
 242 0132 8160     		str r1, [r0, # 0x08]
 243              	_deng_adc_wen_ding:
 244 0134 0168     		ldr r1, [r0]
 245 0136 C907     		lsls r1, r1, # 31
 246 0138 FCD5     		bpl _deng_adc_wen_ding @ 等ADC稳定
 247              	_tongdaoxuanze:
 248 013a 5D49     		ldr r1, = 0x40000000
 249 013c 0161     		str r1, [r0, # 0x10]
 250 013e 2821     		movs r1, # 0x28
 251 0140 8162     		str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 252 0142 5C49     		ldr r1, = 0x803
 253 0144 C160     		str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 254 0146 0021     		movs r1, # 0
 255 0148 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 256 014a 8168     		ldr r1, [r0, # 0x08]
 257 014c 5A4A     		ldr r2, = 0x04         @ 开始转换
 258 014e 1143     		orrs r1, r1, r2
 259 0150 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 260              	
 261              		
 262              	_lcdchushihua:
 263 0152 3320     		movs r0, # 0x33
 264 0154 0021     		movs r1, # 0
 265 0156 00F000FB 		bl _xielcd
 266 015a 00F0F9FA 		bl _lcdyanshi
 267              	
 268 015e 3220     		movs r0, # 0x32
 269 0160 0021     		movs r1, # 0
ARM GAS  1.s 			page 6


 270 0162 00F0FAFA 		bl _xielcd
 271 0166 00F0F3FA 		bl _lcdyanshi
 272 016a 2820     		movs r0, # 0x28
 273 016c 0021     		movs r1, # 0
 274 016e 00F0F4FA 		bl _xielcd
 275 0172 00F0EDFA 		bl _lcdyanshi
 276 0176 0C20     		movs r0, # 0x0c
 277 0178 0021     		movs r1, # 0
 278 017a 00F0EEFA 		bl _xielcd
 279 017e 00F0E7FA 		bl _lcdyanshi
 280 0182 0120     		movs r0, # 0x01
 281 0184 0021     		movs r1, # 0
 282 0186 00F0E8FA 		bl _xielcd
 283 018a 00F0E1FA 		bl _lcdyanshi
 284              	
 285 018e 8020     		movs r0, # 0x80
 286 0190 4A49     		ldr r1, = yjmwxwx
 287 0192 1022     		movs r2, # 16
 288 0194 00F0CEFA 		bl _lcdxianshi
 289 0198 4948     		ldr r0, = 0xffffff
 290              	yjmwxwx_yanshi:
 291 019a 0138     		subs r0, r0, # 1
 292 019c FDD1     		bne yjmwxwx_yanshi
 293              	
 294 019e 0120     		movs r0, # 0x01
 295 01a0 0021     		movs r1, # 0
 296 01a2 00F0DAFA 		bl _xielcd
 297 01a6 00F0D3FA 		bl _lcdyanshi
 298              		
 299              	
 300              	dmachushihua:
 301              		@+0=LSR,+4=IFCR,
 302              		@+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 303              		@+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 304              		@+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 305              		@+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 306              		@+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 307              		@+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 308              		@+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 309              	
 310              		@tim1ch3DMA
 311 01aa 4648     		ldr r0, = 0x40020000
 312 01ac 4649     		ldr r1, = 0x40012c3c @ 外设地址
 313 01ae 0166     		str r1, [r0, # 0x60]
 314 01b0 4649     		ldr r1, = zheng_xian_biao @ 储存器地址
 315 01b2 4166     		str r1, [r0, # 0x64]
 316 01b4 3049     		ldr r1, = 100             @点数
 317 01b6 C165     		str r1, [r0, # 0x5c]
 318 01b8 4549     		ldr r1, = 0x35b1         @ 储存到外设
 319 01ba 8165     		str r1, [r0, # 0x58]
 320              	
 321              		@ adc dma
 322 01bc 4148     		ldr r0, = 0x40020000
 323 01be 4549     		ldr r1, = 0x40012440
 324 01c0 0161     		str r1, [r0, # 0x10]
 325 01c2 4549     		ldr r1, = dianyabiao
 326 01c4 4161     		str r1, [r0, # 0x14]
ARM GAS  1.s 			page 7


 327 01c6 2C49     		ldr r1, =  100
 328 01c8 C160     		str r1, [r0, # 0x0c]
 329 01ca 4449     		ldr r1, = 0xaa1		@ 5a1
 330 01cc 8160     		str r1, [r0, # 0x08]
 331              	
 332              	_systick:		@ systick定时器初始化
 333              	
 334 01ce 444F     		ldr r7, = 0xe000e010
 335 01d0 444E     		ldr r6, = 5600
 336 01d2 7E60     		str r6, [r7, # 4]
 337 01d4 BE60     		str r6, [r7, # 8]
 338 01d6 0726     		movs r6, # 0x07
 339              	
 340              	tim14chushihua:
 341 01d8 434B     		ldr r3, = 0x40002000 @ tim14_cr1
 342 01da 0021     		movs r1, # 0
 343 01dc 9962     		str r1, [r3, # 0x28] @ psc
 344 01de 4349     		ldr r1, = 2799
 345 01e0 D962     		str r1, [r3, # 0x2c] @ ARR
 346 01e2 7821     		movs r1, # 0x78
 347 01e4 9961     		str r1, [r3, # 0x18]
 348 01e6 4249     		ldr r1, = 500
 349 01e8 5963     		str r1, [r3, # 0x34]
 350 01ea 0121     		movs r1, # 0x01
 351 01ec 1962     		str r1, [r3, # 0x20]
 352              		
 353              	tim3chushihua:
 354 01ee 4148     		ldr r0, = 0x40000400 @ tim3_cr1
 355 01f0 0021     		movs r1, # 0
 356 01f2 8162     		str r1, [r0, # 0x28] @ psc
 357 01f4 3D49     		ldr r1, = 2799
 358 01f6 C162     		str r1, [r0, # 0x2c] @ ARR
 359 01f8 3F49     		ldr r1, = 0x7878
 360 01fa 8161     		str r1, [r0, # 0x18]
 361 01fc 3C49     		ldr r1, = 500
 362 01fe 4163     		str r1, [r0, # 0x34]
 363 0200 8163     		str r1, [r0, # 0x38]
 364 0202 1121     		movs r1, # 0x11
 365 0204 0162     		str r1, [r0, # 0x20]
 366 0206 3D49     		ldr r1, = 0x81
 367 0208 1960     		str r1, [r3]
 368 020a 0160     		str r1, [r0]
 369              		
 370              	tim1chushiha:
 371 020c 3C48     		ldr r0, = 0x40012c00 @ tim1_cr1
 372 020e 0021     		movs r1, # 0
 373 0210 8162     		str r1, [r0, # 0x28] @ psc
 374 0212 3C49     		ldr r1, = 56
 375 0214 C162     		str r1, [r0, # 0x2c] @ ARR
 376 0216 2021     		movs r1, # 0x20
 377 0218 4160     		str r1, [r0, # 0x04] @ TRGO
 378 021a 3821     		movs r1, # 0x38
 379 021c 8161     		str r1, [r0, # 0x18] @ ccmr1 cc1
 380 021e 3821     		movs r1, # 56
 381 0220 4163     		str r1, [r0, # 0x34]
 382 0222 3949     		ldr r1, = 0x68
 383 0224 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
ARM GAS  1.s 			page 8


 384 0226 3949     		ldr r1, = 0x500    @  CC3
 385 0228 0162     		str r1, [r0, # 0x20] @ ccer
 386 022a 3949     		ldr r1, = 0x8000
 387 022c 4164     		str r1, [r0, # 0x44] @ BDTR
 388 022e 3949     		ldr r1, = 0x800 @ CC3 DMA
 389 0230 C160     		str r1, [r0, # 0x0c] @ DIER
 390 0232 3249     		ldr r1, = 0x81
 391 0234 0160     		str r1, [r0]
 392 0236 3E60     		str r6, [r7]	@systick 开
 393              	
 394              	ting:
 395              	
 396 0238 3748     		ldr r0, = 0x20000030
 397 023a 0068     		ldr r0, [r0]
 398 023c 00F046F9 		bl __xian_shi_jiao_du
 399              	
 400 0240 3648     		ldr r0, = 0x2000002c
 401 0242 0068     		ldr r0, [r0]
 402 0244 0621     		movs r1, # 6
 403 0246 104A     		ldr r2, = asciimabiao
 404 0248 FF23     		movs r3, # 0xff
 405 024a 00F0C2FA 		bl _zhuanascii
 406 024e 8020     		movs r0, # 0x80
 407 0250 0D49     		ldr r1, = asciimabiao
 408 0252 0622     		movs r2, # 6
 409 0254 00F06EFA 		bl _lcdxianshi
 410              		
 411 0258 EEE7     		b ting
 412              		
 413 025a 3148     		ldr r0, = 0x20000024
 414 025c 0068     		ldr r0, [r0]
 415 025e 00F061F8 		bl __svpwm
 416 0262 E9E7     		b ting
 417              	
 418              	
 419 0264 00200240 		.ltorg
 419      00100240 
 419      01000100 
 419      02001500 
 419      00000101 
 420              	__svpwm:
 421              		@入口R0=实部，R1=虚部
 422 0324 FEB5     		push {r1-r7,lr}
 423 0326 0446     		mov r4, r0
 424 0328 5B4E     		ldr r6, = 18000
 425 032a B042     		cmp r0, r6
 426 032c 01D9     		bls asd
 427 032e 801B     		subs r0, r0, r6
 428 0330 801B     		subs r0, r0, r6
 429              	asd:	
 430 0332 00F08BF8 		bl __jisuan_cos_sin
 431 0336 0646     		mov r6, r0	@r
 432 0338 0F46     		mov r7, r1	@i
 433 033a 2046     		mov r0, r4
 434 033c 5749     		ldr r1, = 6000
 435 033e 00F061FA 		bl _chufa
 436 0342 A042     		cmp r0, r4
ARM GAS  1.s 			page 9


 437 0344 00D1     		bne __bushi_0_60
 438 0346 0020     		movs r0, # 0
 439              	__bushi_0_60:
 440 0348 8000     		lsls r0, r0, # 2
 441 034a 5549     		ldr r1, = __dianji_xiangwei
 442 034c 0958     		ldr r1, [r1, r0]
 443 034e 8F46     		mov pc, r1
 444              		.align 4
 445              	__dianji_xiangwei:
 446 0350 69030000 		.word __xiangwei_0_60 +1, __xiangwei_60_120 +1, __xiangwei_120_180 +1, __xiangwei_180_240 +1, __xi
 446      7B030000 
 446      A9030000 
 446      D7030000 
 446      F1030000 
 447              	__xiangwei_0_60:
 448 0368 4E4D     		ldr r5, = tim3_ch1
 449 036a 4F4E     		ldr r6, = tim3_ch2
 450 036c 4F4F     		ldr r7, = tim14_ch1
 451 036e 504C     		ldr r4, = 1000
 452 0370 0022     		movs r2, # 0
 453 0372 3A60     		str r2, [r7]
 454 0374 3260     		str r2, [r6]
 455 0376 2C60     		str r4, [r5]
 456 0378 67E0     		b __svpwm_fanhui
 457              	__xiangwei_60_120:
 458 037a 4E48     		ldr r0, = 16384	@r
 459 037c 4E49     		ldr r1, = 28377	@i
 460 037e 3446     		mov r4, r6	@r
 461 0380 3D46     		mov r5, r7	@i
 462 0382 4443     		muls r4, r4, r0	
 463 0384 4543     		muls r5, r5, r0
 464 0386 4F43     		muls r7, r7, r1
 465 0388 4E43     		muls r6, r6, r1
 466 038a E413     		asrs r4, r4, # 15
 467 038c ED13     		asrs r5, r5, # 15
 468 038e FF13     		asrs r7, r7, # 15
 469 0390 F613     		asrs r6, r6, # 15
 470 0392 AE1B     		subs r6, r5, r6
 471 0394 E719     		adds r7, r4, r7
 472              	
 473 0396 434D     	        ldr r5, = tim3_ch1
 474 0398 434E     		ldr r6, = tim3_ch2
 475 039a 444F     		ldr r7, = tim14_ch1
 476 039c 444C     		ldr r4, = 1000
 477 039e 0022     		movs r2, # 0
 478 03a0 3A60     		str r2, [r7]
 479 03a2 3460     		str r4, [r6]
 480 03a4 2C60     		str r4, [r5]
 481 03a6 50E0     	       	b __svpwm_fanhui
 482              	__xiangwei_120_180:
 483 03a8 4448     	        ldr r0, = -16384 @r
 484 03aa 4349     		ldr r1, = 28377 @i
 485 03ac 3446     		mov r4, r6      @r
 486 03ae 3D46     		mov r5, r7      @i
 487 03b0 4443     		muls r4, r4, r0
 488 03b2 4543     		muls r5, r5, r0
 489 03b4 4F43     		muls r7, r7, r1
ARM GAS  1.s 			page 10


 490 03b6 4E43     		muls r6, r6, r1
 491 03b8 E413     		asrs r4, r4, # 15
 492 03ba ED13     		asrs r5, r5, # 15
 493 03bc FF13     		asrs r7, r7, # 15
 494 03be F613     		asrs r6, r6, # 15
 495 03c0 AF1B     		subs r7, r5, r6		@i
 496 03c2 E619     		adds r6, r4, r7         @r
 497              	
 498 03c4 374D     	        ldr r5, = tim3_ch1
 499 03c6 384E     		ldr r6, = tim3_ch2
 500 03c8 384F     		ldr r7, = tim14_ch1
 501 03ca 394C     		ldr r4, = 1000
 502 03cc 0022     		movs r2, # 0
 503 03ce 3A60     		str r2, [r7]
 504 03d0 3460     		str r4, [r6]
 505 03d2 2A60     		str r2, [r5]
 506 03d4 39E0     		b __svpwm_fanhui
 507              	__xiangwei_180_240:
 508 03d6 F643     		mvns r6, r6
 509 03d8 FF43     		mvns r7, r7
 510 03da 0136     		adds r6, r6, # 1
 511 03dc 0137     		adds r7, r7, # 1
 512              	
 513 03de 314D     	        ldr r5, = tim3_ch1
 514 03e0 314E     		ldr r6, = tim3_ch2
 515 03e2 324F     		ldr r7, = tim14_ch1
 516 03e4 324C     		ldr r4, = 1000
 517 03e6 0022     		movs r2, # 0
 518 03e8 3C60     		str r4, [r7]
 519 03ea 3460     		str r4, [r6]
 520 03ec 2A60     		str r2, [r5]
 521 03ee 2CE0     		b __svpwm_fanhui
 522              	__xiangwei_240_300:
 523 03f0 3248     	        ldr r0, = -16384 @r
 524 03f2 3149     		ldr r1, = 28377 @i
 525 03f4 3446     		mov r4, r6      @r
 526 03f6 3D46     		mov r5, r7      @i
 527 03f8 4443     		muls r4, r4, r0
 528 03fa 4543     		muls r5, r5, r0
 529 03fc 4F43     		muls r7, r7, r1
 530 03fe 4E43     		muls r6, r6, r1
 531 0400 E413     		asrs r4, r4, # 15
 532 0402 ED13     		asrs r5, r5, # 15
 533 0404 FF13     		asrs r7, r7, # 15
 534 0406 F613     		asrs r6, r6, # 15
 535 0408 AF19     		adds r7, r5, r6         @i
 536 040a E61B     		subs r6, r4, r7         @r
 537              	
 538 040c 254D     	        ldr r5, = tim3_ch1
 539 040e 264E     		ldr r6, = tim3_ch2
 540 0410 264F     		ldr r7, = tim14_ch1
 541 0412 274C     		ldr r4, = 1000
 542 0414 0022     		movs r2, # 0
 543 0416 3C60     		str r4, [r7]
 544 0418 3260     		str r2, [r6]
 545 041a 2A60     		str r2, [r5]
 546 041c 15E0     		b __svpwm_fanhui
ARM GAS  1.s 			page 11


 547              	__xiangwei_300_360:
 548 041e 2548     	        ldr r0, = 16384 @r
 549 0420 2549     		ldr r1, = 28377 @i
 550 0422 3446     		mov r4, r6      @r
 551 0424 3D46     		mov r5, r7      @i
 552 0426 4443     		muls r4, r4, r0
 553 0428 4543     		muls r5, r5, r0
 554 042a 4F43     		muls r7, r7, r1
 555 042c 4E43     		muls r6, r6, r1
 556 042e E413     		asrs r4, r4, # 15
 557 0430 ED13     		asrs r5, r5, # 15
 558 0432 FF13     		asrs r7, r7, # 15
 559 0434 F613     		asrs r6, r6, # 15
 560 0436 AE1B     		subs r6, r5, r6
 561 0438 E719     		adds r7, r4, r7
 562              	
 563 043a 1A4D     	        ldr r5, = tim3_ch1
 564 043c 1A4E     		ldr r6, = tim3_ch2
 565 043e 1B4F     		ldr r7, = tim14_ch1
 566 0440 1B4C     		ldr r4, = 1000
 567 0442 0022     		movs r2, # 0
 568 0444 3C60     		str r4, [r7]
 569 0446 3260     		str r2, [r6]
 570 0448 2C60     		str r4, [r5]
 571              	__svpwm_fanhui:	
 572 044a FEBD     		pop {r1-r7,pc}
 573              		
 574              	__jisuan_cos_sin:
 575              		@入口R0=角度 （-18000到+18000）
 576              		@出口R0=COS，R1=SIN
 577 044c 7CB5     		push {r2-r6,lr}
 578 044e 1C49     		ldr r1, = 9000
 579 0450 1C4A     		ldr r2, = 51471
 580 0452 0000     		movs r0, r0
 581 0454 03D5     		bpl __jisuan_jiaodu_bushi0
 582 0456 C043     		mvns r0, r0
 583 0458 0130     		adds r0, r0, # 1
 584 045a 0124     		movs r4, # 1
 585 045c 00E0     		b __jiance_dayu_90
 586              	__jisuan_jiaodu_bushi0:
 587 045e 0024     		movs r4, # 0
 588              	__jiance_dayu_90:
 589 0460 8842     		cmp r0, r1
 590 0462 03D9     		bls __xiaoyu_90
 591 0464 0C4E     		ldr r6, = 18000
 592 0466 301A     		subs r0, r6, r0
 593 0468 0126     		movs r6, # 1
 594 046a 00E0     		b __suan_cossin
 595              	__xiaoyu_90:
 596 046c 0026     		movs r6, # 0
 597              	__suan_cossin:
 598 046e 164D     		ldr r5, = 10000
 599 0470 6843     		muls r0, r0, r5
 600 0472 00F0C7F9 		bl _chufa
 601 0476 5043     		muls r0, r0, r2
 602 0478 2946     		mov r1, r5
 603 047a 00F0C3F9 		bl _chufa
ARM GAS  1.s 			page 12


 604 047e 012C     		cmp r4, # 1
 605 0480 01D1     		bne __suan_cos_sin1
 606 0482 C043     		mvns r0, r0
 607 0484 0130     		adds r0, r0, # 1
 608              	__suan_cos_sin1:
 609 0486 00F066F8 		bl __cordic_cos_sin
 610 048a 002C     		cmp r4, # 0
 611 048c 03D0     		beq __cos_sin_fanhui
 612 048e 012E     		cmp r6, # 1
 613 0490 01D1     		bne __cos_sin_fanhui
 614 0492 C043     		mvns r0, r0
 615 0494 0130     		adds r0, r0, # 1
 616              	__cos_sin_fanhui:
 617 0496 7CBD     		pop {r2-r6,pc}
 618 0498 50460000 		.ltorg
 618      70170000 
 618      50030000 
 618      34040040 
 618      38040040 
 619              		
 620              	__xian_shi_jiao_du:
 621              		@入口R0=角度
 622 04cc 1FB5     		push {r0-r4,lr}
 623 04ce 0446     		mov r4, r0
 624 04d0 8F20     		movs r0, # 0x8f
 625 04d2 4D49     		ldr r1, = jiaodufuhao
 626 04d4 0122     		movs r2, # 1
 627 04d6 00F02DF9 		bl _lcdxianshi
 628              	
 629 04da 2400     		movs r4, r4
 630 04dc 07D5     		bpl __jiaodu_bu_shi_zheng
 631 04de 8820     		movs r0, # 0x88
 632 04e0 4A49     		ldr r1, = _fu
 633 04e2 0122     		movs r2, # 1
 634 04e4 00F026F9 		bl _lcdxianshi
 635 04e8 E443     		mvns r4, r4
 636 04ea 0134     		adds r4, r4, # 1
 637 04ec 04E0     		b __xian_shi_jiaodu
 638              	__jiaodu_bu_shi_zheng:
 639 04ee 8820     		movs r0, # 0x88
 640 04f0 4749     		ldr r1, = kong
 641 04f2 0122     		movs r2, # 1
 642 04f4 00F01EF9 		bl _lcdxianshi
 643              	__xian_shi_jiaodu:
 644 04f8 2046     		mov r0, r4
 645 04fa 0621     		movs r1, # 6
 646 04fc 454A     		ldr r2, = asciimabiao
 647 04fe 0323     		movs r3, # 3
 648 0500 00F067F9 		bl _zhuanascii
 649 0504 8920     		movs r0, # 0x89
 650 0506 4349     		ldr r1, = asciimabiao
 651 0508 0622     		movs r2, # 6
 652 050a 00F013F9 		bl _lcdxianshi
 653 050e 1FBD     		pop {r0-r4,pc}
 654              	
 655              	__xiang_wei_xuan_zhuan:
 656 0510 FCB5     		push {r2-r7,lr}
ARM GAS  1.s 			page 13


 657              		@R0=R,R1=I
 658 0512 0346     		mov r3, r0
 659 0514 0846     		mov r0, r1
 660 0516 404C     		ldr r4, = cos_jiaozheng         @cos
 661 0518 404D     		ldr r5, = sin_jiaozheng         @sin
 662 051a 2468     		ldr r4, [r4]
 663 051c 2D68     		ldr r5, [r5]
 664 051e 002C     		cmp r4, # 0
 665 0520 04D1     		bne __xuanzhuan_fangxiang_jiance
 666 0522 002D     		cmp r5, # 0
 667 0524 02D1     		bne __xuanzhuan_fangxiang_jiance
 668 0526 0146     		mov r1, r0
 669 0528 1846     		mov r0, r3
 670 052a FCBD     		pop {r2-r7,pc}
 671              	__xuanzhuan_fangxiang_jiance:
 672 052c 2400     		movs r4, r4
 673 052e 03D5     		bpl __xuan_zhuan_xiang_wei
 674 0530 2646     		mov r6, r4
 675 0532 2F46     		mov r7, r5
 676 0534 3C46     		mov r4, r7
 677 0536 3546     		mov r5, r6
 678              	__xuan_zhuan_xiang_wei:
 679 0538 2646     		mov r6, r4
 680 053a 2F46     		mov r7, r5
 681 053c 5C43     		muls r4, r4, r3         @x*cos
 682 053e 4643     		muls r6, r6, r0         @y*cos
 683 0540 5D43     		muls r5, r5, r3         @x*sin
 684 0542 4743     		muls r7, r7, r0         @y*sin
 685 0544 E413     		asrs r4, r4, # 15
 686 0546 ED13     		asrs r5, r5, # 15
 687 0548 F613     		asrs r6, r6, # 15
 688 054a FF13     		asrs r7, r7, # 15
 689              	
 690 054c E41B     		subs r4, r4, r7         @x
 691 054e 7619     		adds r6, r6, r5         @y
 692 0550 3146     		mov r1, r6		@i
 693 0552 2046     		mov r0, r4		@r
 694 0554 FCBD     		pop {r2-r7,pc}
 695              	__cordic_cos_sin:
 696              		@入口R0
 697              		@出口R0=COS，R1=SIN
 698              		@ x= 0x4dba
 699              		@ r1=x,r2=y,r0=z,r4=d,r5=k,r6=cordic_mabiao
 700              	
 701 0556 FCB5     		push {r2-r7,lr}
 702 0558 4246     		mov r2, r8
 703 055a 4B46     		mov r3, r9
 704 055c 0CB4     		push {r2-r3}
 705 055e 0025     		movs r5, # 0
 706 0560 2A46     		mov r2, r5
 707 0562 2C46     		mov r4, r5
 708 0564 2E49     		ldr r1, = 0x4dba
 709              	cordicxunhuan:			 @ 循环
 710 0566 C413     		asrs r4, r0, # 15
 711              		@ x
 712 0568 1746     		mov r7, r2
 713 056a 2A41     		asrs r2, r2, r5
ARM GAS  1.s 			page 14


 714 056c 6240     		eors r2, r2, r4
 715 056e 121B     		subs r2, r2, r4
 716 0570 8B1A     		subs r3, r1, r2
 717              		@ y
 718 0572 0E46     		mov r6, r1
 719 0574 2941     		asrs r1, r1, r5
 720 0576 6140     		eors r1, r1, r4
 721 0578 091B     		subs r1, r1, r4
 722 057a 7F18     		adds r7, r7, r1
 723              		@ z
 724 057c 294E     		ldr r6, = cordic_yong_atan_biao
 725 057e AA00     		lsls r2, r5, # 2
 726 0580 B158     		ldr r1, [r6, r2]
 727 0582 6140     		eors r1, r1, r4
 728 0584 091B     		subs r1, r1, r4
 729 0586 401A     		subs r0, r0, r1
 730 0588 1946     		mov r1, r3
 731 058a 3A46     		mov r2, r7
 732 058c 0135     		adds r5, # 1
 733 058e 102D     		cmp r5, # 16
 734 0590 E9D1     		bne cordicxunhuan
 735 0592 1846     		mov r0, r3
 736 0594 3946     		mov r1, r7
 737 0596 0CBC     		pop {r2-r3}
 738 0598 9046     		mov r8, r2
 739 059a 9946     		mov r9, r3
 740 059c FCBD     		pop {r2-r7,pc}
 741              	__atan2_ji_suan:
 742              		@入口R0=实部，R1=虚部，结果=R0
 743 059e FCB5     		push {r2-r7,lr}
 744 05a0 4246     		mov r2, r8
 745 05a2 04B4     		push {r2}
 746 05a4 204B     		ldr r3, = cordic_yong_cos_sin
 747 05a6 0A22     		movs r2, # 10
 748 05a8 5043     		muls r0, r0, r2
 749 05aa 5143     		muls r1, r1, r2
 750 05ac 0022     		movs r2, # 0
 751 05ae 9046     		mov r8, r2
 752 05b0 1E4C     		ldr r4, = 9000
 753 05b2 E403     		lsls r4, r4, # 15
 754              	__cordic_atan2_xun_huan:
 755              	__du_cos_sin:
 756 05b4 1D68     		ldr r5, [r3]	@cos
 757 05b6 0433     		adds r3, r3, # 4
 758 05b8 2F46     		mov r7, r5
 759 05ba 1E68     		ldr r6, [r3]	@sin
 760 05bc 0433     		adds r3, r3, # 4
 761 05be 3246     		mov r2, r6
 762 05c0 4543     		muls r5, r5, r0         @x*cos
 763 05c2 4243     		muls r2, r2, r0         @x*sin
 764 05c4 4E43     		muls r6, r6, r1         @y*sin
 765 05c6 4F43     		muls r7, r7, r1         @y*cos
 766 05c8 0900     		movs r1, r1
 767 05ca 05D5     		bpl __ni_shi_zhen_zhuan
 768              	__shun_shi_zhen_zhuan:
 769 05cc AD1B     		subs r5, r5, r6
 770 05ce BF18     		adds r7, r7, r2
ARM GAS  1.s 			page 15


 771 05d0 4646     		mov r6, r8
 772 05d2 3619     		adds r6, r6, r4
 773 05d4 B046     		mov r8, r6
 774 05d6 04E0     		b __xuan_zhuan_wan
 775              	__ni_shi_zhen_zhuan:
 776 05d8 AD19     		adds r5, r5, r6
 777 05da BF1A     		subs r7, r7, r2
 778 05dc 4646     		mov r6, r8
 779 05de 361B     		subs r6, r6, r4
 780 05e0 B046     		mov r8, r6
 781              	__xuan_zhuan_wan:
 782 05e2 114E     		ldr r6, = cordic_yong_cos_sin
 783 05e4 2022     		movs r2, # 32
 784 05e6 9200     		lsls r2, r2, # 2
 785 05e8 B618     		adds r6, r6, r2
 786 05ea AD13     		asrs r5, r5, # 14
 787 05ec BF13     		asrs r7, r7, # 14
 788 05ee 2846     		mov r0, r5
 789 05f0 3946     		mov r1, r7
 790 05f2 6408     		lsrs r4, r4, # 1	@旋转
 791 05f4 B342     		cmp r3,	r6
 792 05f6 DDD1     		bne __cordic_atan2_xun_huan
 793 05f8 4046     		mov r0, r8
 794 05fa C043     		mvns r0, r0
 795 05fc 0130     		adds r0, r0, # 1
 796 05fe C013     		asrs r0, r0, # 15      @除32768等于角度
 797 0600 04BC     		pop {r2}
 798 0602 9046     		mov r8, r2
 799 0604 FCBD     		pop {r2-r7,pc}
 800 0606 00001900 		.ltorg
 800      00001400 
 800      00001000 
 800      00000000 
 800      0020F800 
 801              	
 802              	
 803              	
 804              	__xiangwei_jiaozheng:
 805 0630 3FB5     		push {r0-r5,lr}
 806 0632 2648     		ldr r0, = jiaodu_jiaozheng
 807 0634 2649     		ldr r1, = 9000
 808 0636 0068     		ldr r0, [r0]
 809 0638 264A     		ldr r2, = 51471
 810 063a 0000     		movs r0, r0
 811 063c 03D5     		bpl __jiaozheng_jiaodu_bushi0
 812 063e C043     		mvns r0, r0
 813 0640 0130     		adds r0, r0, # 1
 814 0642 0124     		movs r4, # 1
 815 0644 00E0     		b __ji_suan_jiaozheng_jiaodu
 816              	__jiaozheng_jiaodu_bushi0:
 817 0646 0024     		movs r4, # 0
 818              	__ji_suan_jiaozheng_jiaodu:
 819 0648 234D     		ldr r5, = 10000
 820 064a 6843     		muls r0, r0, r5
 821 064c 00F0DAF8 		bl _chufa
 822 0650 5043     		muls r0, r0, r2
 823 0652 2946     		mov r1, r5
ARM GAS  1.s 			page 16


 824 0654 00F0D6F8 		bl _chufa
 825 0658 012C     		cmp r4, # 1
 826 065a 01D1     		bne __suan_cos_sin
 827 065c C043     		mvns r0, r0
 828 065e 0130     		adds r0, r0, # 1
 829              	__suan_cos_sin:
 830 0660 FFF779FF 		bl __cordic_cos_sin
 831 0664 1D4A     		ldr r2, = cos_jiaozheng
 832 0666 1E4B     		ldr r3, = sin_jiaozheng
 833 0668 1060     		str r0, [r2]
 834 066a 1960     		str r1, [r3]
 835 066c 3FBD     		pop {r0-r5,pc}
 836              	
 837              	
 838              	__chuan_gan_qi_lvbo:
 839              		@50*4偏移=0XC8
 840 066e FCB5     		push {r2-r7,lr}
 841 0670 4446     		mov r4, r8
 842 0672 4D46     		mov r5, r9
 843 0674 30B4     		push {r4-r5}
 844 0676 1B48     		ldr r0, = 0x200001b4 @sin_zheng
 845 0678 1B49     		ldr r1, = 0x2000027c @sin_fu
 846 067a 1C4A     		ldr r2, = 0x200001b0 @cos_zheng
 847 067c 1C4B     		ldr r3, = 0x20000278 @cos_fu
 848 067e 0468     		ldr r4, [r0]
 849 0680 0D68     		ldr r5, [r1]
 850 0682 1668     		ldr r6, [r2]
 851 0684 1F68     		ldr r7, [r3]
 852 0686 641B     		subs r4, r4, r5
 853 0688 F61B     		subs r6, r6, r7
 854 068a B046     		mov r8, r6
 855 068c A146     		mov r9, r4
 856 068e FFF7CFFF 		bl __xiangwei_jiaozheng
 857 0692 3046     		mov r0, r6
 858 0694 2146     		mov r1, r4
 859 0696 FFF73BFF 		bl __xiang_wei_xuan_zhuan
 860 069a 0646     		mov r6, r0
 861 069c 0C46     		mov r4, r1
 862 069e 2146     		mov r1, r4
 863 06a0 144A     		ldr r2, = lvboqizhizhen
 864 06a2 1548     		ldr r0, =lvboqihuanchong
 865 06a4 00F032F8 		bl __lv_bo_qi
 866 06a8 3146     		mov r1, r6
 867 06aa 0446     		mov r4, r0
 868 06ac 134A     		ldr r2, = lvboqizhizhen1
 869 06ae 1448     		ldr r0, = lvboqihuanchong1
 870 06b0 00F02CF8 		bl __lv_bo_qi
 871 06b4 2146     		mov r1, r4
 872 06b6 134A     		ldr r2, = cos_cha
 873 06b8 134B     		ldr r3, = sin_cha
 874 06ba 4446     		mov r4, r8
 875 06bc 4D46     		mov r5, r9
 876 06be 1460     		str r4, [r2]
 877 06c0 1D60     		str r5, [r3]
 878 06c2 30BC     		pop {r4-r5}
 879 06c4 A046     		mov r8, r4
 880 06c6 A946     		mov r9, r5
ARM GAS  1.s 			page 17


 881 06c8 FCBD     		pop {r2-r7,pc}
 882 06ca 0000FC00 		.ltorg
 882      00202823 
 882      00000FC9 
 882      00001027 
 882      0000F800 
 883              	
 884              	__lv_bo_qi:
 885              		@地址顺序：指针，累加值，缓冲区
 886              		@入口R0=缓冲区，R1=数据, r2,=指针
 887              		@出口R0
 888 070c 78B5     		push {r3-r6,lr}
 889 070e 8024     		movs r4, # 128
 890 0710 1568     		ldr r5, [r2]
 891 0712 2B46     		mov r3, r5
 892 0714 AB00     		lsls r3, r5, # 2
 893 0716 C658     		ldr r6, [r0, r3]
 894 0718 C150     		str r1, [r0, r3]
 895 071a 0135     		adds r5, r5, # 1
 896 071c 1560     		str r5, [r2]
 897 071e A542     		cmp r5, r4
 898 0720 01D1     		bne __huanchong_leijia
 899 0722 0025     		movs r5, # 0
 900 0724 1560     		str r5, [r2]
 901              	__huanchong_leijia:
 902 0726 0438     		subs r0, r0, # 4
 903 0728 0568     		ldr r5, [r0]
 904 072a 4919     		adds r1, r1, r5
 905 072c 891B     		subs r1, r1, r6
 906 072e 0160     		str r1, [r0]
 907 0730 C811     		asrs r0, r1, # 7	@128
 908 0732 78BD     		pop {r3-r6,pc}
 909              		.ltorg
 910              	
 911              	
 912              		
 913              	
 914              	_lcdxianshi:		  		@r0=LCD位置，r1=数据地址，r2=长度
 915 0734 1FB5     		push {r0-r4,lr}
 916 0736 0C46     		mov r4, r1
 917              	
 918 0738 0021     		movs r1, # 0
 919 073a 00F00EF8 		bl _xielcd
 920              	
 921 073e 0121     		movs r1, # 1
 922 0740 0023     		movs r3, # 0
 923              	_lcdxianshixunhuan:
 924 0742 E05C     		ldrb r0, [r4,r3]
 925 0744 00F009F8 		bl _xielcd
 926 0748 0133     		adds r3, r3, # 1
 927 074a 9342     		cmp r3, r2
 928 074c F9D1     		bne _lcdxianshixunhuan
 929 074e 1FBD     		pop {r0-r4,pc}
 930              	
 931              	_lcdyanshi:
 932 0750 20B5     		push {r5,lr}
 933 0752 AD4D     		ldr r5, = 0x1000
ARM GAS  1.s 			page 18


 934              	_lcdyanshixunhuan:
 935 0754 013D     		subs r5, r5, # 1
 936 0756 FDD1     		bne _lcdyanshixunhuan
 937 0758 20BD     		pop {r5,pc}
 938              	
 939              	_xielcd:				@入R0=8位,r1=0命令,r1=1数据
 940 075a 3FB5     		push {r0-r5,lr}
 941 075c AB4C     		ldr r4, = liangcheng  @ 量程开关 (第6位和第7位)
 942 075e 0246     		mov r2, r0
 943 0760 2568     		ldr r5, [r4]
 944 0762 1209     		lsrs r2, r2, # 4
 945 0764 9200     		lsls r2, r2, # 2	@ 高四位
 946 0766 0007     		lsls r0, r0, # 28
 947 0768 800E     		lsrs r0, r0, # 26	@ 低四位
 948 076a C907     		lsls r1, r1, # 31
 949 076c 01D5     		bpl __lcd_ming_ling
 950              	__lcd_shu_ju:
 951 076e 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 952 0770 00E0     		b __xie_lcd_shu_ju
 953              	__lcd_ming_ling:
 954 0772 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 955              	__xie_lcd_shu_ju:
 956 0774 5B19     		adds r3, r3, r5
 957 0776 0146     		mov r1, r0
 958 0778 D218     		adds r2, r2, r3
 959 077a 1000     		movs r0, r2
 960 077c 00F00BF8 		bl __74hc595
 961 0780 0238     		subs r0, r0, # 0x02
 962 0782 00F008F8 		bl __74hc595
 963 0786 0846     		mov r0, r1
 964 0788 C018     		adds r0, r0, r3
 965 078a 00F004F8 		bl __74hc595
 966 078e 0238     		subs r0, r0, # 0x02
 967 0790 00F001F8 		bl __74hc595
 968 0794 3FBD     		pop {r0-r5,pc}
 969              	
 970              	__74hc595:				@ 入R0=8位
 971 0796 FFB5     		push {r0-r7,lr}
 972 0798 9D4E     		ldr r6, = 0x48000000
 973 079a 0125     		movs r5, # 0x01		@ SRCLK
 974 079c 0222     		movs r2, # 0x02		@ RCLK
 975 079e 0423     		movs r3, # 0x04		@ SER
 976 07a0 1824     		movs r4, # 24
 977              	__595_yiweixunhuan:
 978 07a2 B262     		str r2, [r6, # 0x28]	@ rclk=0
 979 07a4 B562     		str r5, [r6, # 0x28]	@ srclk=0
 980              		@ovs r7, # 0xff
 981 07a6 9B4F     		ldr r7, = 0x1ff
 982              	__595_yanshi:
 983 07a8 013F     		subs r7, r7, # 1
 984 07aa FDD1     		bne __595_yanshi
 985 07ac 0146     		mov r1, r0
 986 07ae A140     		lsls r1, r1, r4
 987 07b0 01D5     		bpl __ser_0
 988              	__ser_1:
 989 07b2 B361     		str r3, [r6, # 0x18]	@ ser=1
 990 07b4 00E0     		b __595_yiwei
ARM GAS  1.s 			page 19


 991              	__ser_0:
 992 07b6 B362     		str r3, [r6, # 0x28]	@ ser=0
 993              	__595_yiwei:
 994 07b8 B561     		str r5, [r6, # 0x18]
 995              		@movs r7, # 0xff
 996 07ba 964F     		ldr r7, = 0x1ff
 997              	__595_yanshi1:
 998 07bc 013F     		subs r7, r7, # 1
 999 07be FDD1     		bne __595_yanshi1
 1000 07c0 0134     		adds r4, r4, # 1
 1001 07c2 202C     		cmp r4, # 32
 1002 07c4 EDD1     		bne __595_yiweixunhuan
 1003 07c6 B261     		str r2, [r6, # 0x18]	@ rclk=1
 1004              		@movs r7, # 0xff
 1005 07c8 924F     		ldr r7, = 0x1ff
 1006              	__595_yanshi2:
 1007 07ca 013F     		subs r7, r7, # 1
 1008 07cc FDD1     		bne __595_yanshi2
 1009 07ce B262     		str r2, [r6, # 0x28]	@ rclk = 0
 1010 07d0 FFBD     		pop {r0-r7,pc}
 1011              	
 1012              	
 1013              	
 1014              	_zhuanascii:						@ 16进制转ASCII
 1015              		@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 1016 07d2 FFB5     		push {r0-r7,lr}
 1017 07d4 1F46     		mov r7, r3
 1018 07d6 0546     		mov r5, r0
 1019 07d8 0E46     		mov r6, r1
 1020 07da 0A21     		movs r1, # 10
 1021              	_xunhuanqiuma:
 1022 07dc 00F012F8 		bl _chufa
 1023 07e0 0446     		mov r4, r0
 1024 07e2 4C43     		muls r4, r1
 1025 07e4 2B1B     		subs r3, r5, r4
 1026 07e6 3033     		adds r3, r3, # 0x30
 1027 07e8 0546     		mov r5, r0
 1028 07ea 013E     		subs r6, r6, # 1
 1029 07ec 08D0     		beq _qiumafanhui
 1030 07ee BE42     		cmp r6, r7
 1031 07f0 02D1     		bne _meidaoxiaoshudian
 1032 07f2 2E24     		movs r4, # 0x2e		@小数点
 1033 07f4 9455     		strb r4, [r2,r6]	@插入小数点
 1034 07f6 013E     		subs r6, r6, # 1
 1035              	_meidaoxiaoshudian:
 1036 07f8 9355     		strb r3, [r2,r6]
 1037 07fa 3600     		movs r6, r6
 1038 07fc EED1     		bne _xunhuanqiuma
 1039 07fe FFBD     		pop {r0-r7,pc}
 1040              	_qiumafanhui:
 1041 0800 9355     		strb r3, [r2, r6]
 1042 0802 FFBD     		pop {r0-r7,pc}
 1043              	
 1044              	
 1045              	
 1046              		
 1047              	
ARM GAS  1.s 			page 20


 1048              	_chufa:				@软件除法
 1049              		@ r0 除以 r1 等于 商(r0)
 1050 0804 1EB5     		push {r1-r4,lr}
 1051 0806 0028     		cmp r0, # 0
 1052 0808 0ED0     		beq _chufafanhui
 1053 080a 0029     		cmp r1, # 0
 1054 080c 0CD0     		beq _chufafanhui
 1055 080e 0246     		mov r2, r0
 1056 0810 0123     		movs r3, # 1
 1057 0812 DB07     		lsls r3, r3, # 31
 1058 0814 0020     		movs r0, # 0
 1059 0816 0446     		mov r4, r0
 1060              	_chufaxunhuan:
 1061 0818 5200     		lsls r2, r2, # 1
 1062 081a 6441     		adcs r4, r4, r4
 1063 081c 8C42     		cmp r4, r1
 1064 081e 01D3     		bcc _chufaweishubudao0
 1065 0820 C018     		adds r0, r0, r3
 1066 0822 641A     		subs r4, r4, r1
 1067              	_chufaweishubudao0:
 1068 0824 5B08     		lsrs r3, r3, # 1
 1069 0826 F7D1     		bne _chufaxunhuan
 1070              	_chufafanhui:
 1071 0828 1EBD     		pop {r1-r4,pc}
 1072              	__chufa64:
 1073              		@64位除32位
 1074              		@ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1075 082a F8B5     		push {r3-r7,lr}
 1076 082c 002A     		cmp r2, # 0
 1077 082e 1DD0     		beq __chu_fa64_fan_hui0
 1078 0830 0029     		cmp r1, # 0
 1079 0832 01D1     		bne __chu_fa64_ji_suan
 1080 0834 0028     		cmp r0, # 0
 1081 0836 19D0     		beq __chu_fa64_fan_hui0
 1082              	__chu_fa64_ji_suan:
 1083 0838 0024     		movs r4, # 0
 1084 083a 2746     		mov r7, r4
 1085 083c 2346     		mov r3, r4
 1086 083e 2546     		mov r5, r4
 1087 0840 0126     		movs r6, # 1
 1088 0842 F607     		lsls r6, r6, # 31
 1089              	__chu_fa64_xun_huan:
 1090 0844 4900     		lsls r1, r1, # 1
 1091 0846 4041     		adcs r0, r0, r0
 1092 0848 6441     		adcs r4, r4, r4
 1093 084a 9442     		cmp r4, r2
 1094 084c 02D3     		bcc __chu_fa_yi_wei
 1095 084e 9B19     		adds r3, r3, r6
 1096 0850 7D41     		adcs r5, r5, r7
 1097 0852 A41A     		subs r4, r4, r2
 1098              	__chu_fa_yi_wei:
 1099 0854 3600     		movs r6, r6
 1100 0856 04D0     		beq __di_yi_wei
 1101 0858 7608     		lsrs r6, r6, # 1        @高32位移位
 1102 085a F3D1     		bne __chu_fa64_xun_huan
 1103 085c 0127     		movs r7, # 1
 1104 085e FF07     		lsls r7, r7, # 31
ARM GAS  1.s 			page 21


 1105 0860 F0E7     		b __chu_fa64_xun_huan
 1106              	__di_yi_wei:	            @低32位移位
 1107 0862 7F08     		lsrs r7, r7, # 1
 1108 0864 EED1     		bne __chu_fa64_xun_huan
 1109 0866 1846     		mov r0, r3
 1110 0868 2946     		mov r1, r5
 1111 086a F8BD     		pop {r3-r7,pc}
 1112              	__chu_fa64_fan_hui0:
 1113 086c 0020     		movs r0, # 0
 1114 086e 0021     		movs r1, # 0
 1115 0870 F8BD     		pop {r3-r7,pc}
 1116              	__chengfa:
 1117              		@入R0 乘以 R1
 1118              		@出 R0高32 ， R1低32
 1119              		@0xffffffff*0xffffffff
 1120              		@4        F F F E 0 0 0 1			@4
 1121              		@3                F F F E 0 0 0 1		@3
 1122              		@2                F F F E 0 0 0 1		@2
 1123              		@1                        F F F E 0 0 0 1	@1
 1124              		@         F F F F F F F E 0 0 0 0 0 0 0 1
 1125 0872 FCB5     		push {r2-r7,lr}
 1126 0874 0028     		cmp r0, # 0
 1127 0876 1ED0     		beq __cheng_fa_fan_hui
 1128 0878 0029     		cmp r1, # 0
 1129 087a 1CD0     		beq __cheng_fa_fan_hui
 1130              	__ji_suan_cheng_fa:
 1131 087c 0246     		mov r2, r0
 1132 087e 0B46     		mov r3, r1
 1133 0880 000C     		lsrs r0, r0, # 16	@高16
 1134 0882 1204     		lsls r2, r2, # 16	@ 低16
 1135 0884 120C     		lsrs r2, r2, # 16
 1136 0886 090C     		lsrs r1, r1, # 16	@高16
 1137 0888 1B04     		lsls r3, r3, # 16	@低16
 1138 088a 1B0C     		lsrs r3, r3, # 16
 1139 088c 1446     		mov r4, r2
 1140 088e 0546     		mov r5, r0
 1141 0890 5A43     		muls r2, r2, r3		@1
 1142 0892 5843     		muls r0, r0, r3		@2
 1143 0894 4C43     		muls r4, r4, r1		@3
 1144 0896 4D43     		muls r5, r5, r1		@4
 1145 0898 0646     		mov r6, r0
 1146 089a 2746     		mov r7, r4
 1147 089c 0004     		lsls r0, r0, # 16	@2低32
 1148 089e 2404     		lsls r4, r4, # 16	@3低32
 1149 08a0 360C     		lsrs r6, r6, # 16	@2高32
 1150 08a2 3F0C     		lsrs r7, r7, # 16	@3高32
 1151 08a4 0021     		movs r1, # 0
 1152 08a6 1218     		adds r2, r2, r0		@低32
 1153 08a8 4E41     		adcs r6, r6, r1		@高32
 1154 08aa 1219     		adds r2, r2, r4
 1155 08ac 7E41     		adcs r6, r6, r7
 1156 08ae 7619     		adds r6, r6, r5
 1157 08b0 3046     		mov r0, r6
 1158 08b2 1146     		mov r1, r2
 1159 08b4 FCBD     		pop {r2-r7,pc}
 1160              	__cheng_fa_fan_hui:
 1161 08b6 0020     		movs r0, # 0
ARM GAS  1.s 			page 22


 1162 08b8 0021     		movs r1, # 0
 1163 08ba FCBD     		pop {r2-r7,pc}
 1164              	__dai_yu_shu_chufa:	                         @软件除法
 1165              		@ r0 除以 r1 等于 商(r0)余R1
 1166 08bc 1CB5     		push {r2-r4,lr}
 1167 08be 0028     		cmp r0, # 0
 1168 08c0 0ED0     		beq __dai_yu_shu_chufafanhui
 1169 08c2 0029     		cmp r1, # 0
 1170 08c4 0CD0     		beq __dai_yu_shu_chufafanhui
 1171 08c6 0246     		mov r2, r0
 1172 08c8 0123     		movs r3, # 1
 1173 08ca DB07     		lsls r3, r3, # 31
 1174 08cc 0020     		movs r0, # 0
 1175 08ce 0446     		mov r4, r0
 1176              	__dai_yu_shu_chufaxunhuan:
 1177 08d0 5200     		lsls r2, r2, # 1
 1178 08d2 6441     		adcs r4, r4, r4
 1179 08d4 8C42     		cmp r4, r1
 1180 08d6 01D3     		bcc __dai_yu_shu_chufaweishubudao0
 1181 08d8 C018     		adds r0, r0, r3
 1182 08da 641A     		subs r4, r4, r1
 1183              	__dai_yu_shu_chufaweishubudao0:
 1184 08dc 5B08     		lsrs r3, r3, # 1
 1185 08de F7D1     		bne __dai_yu_shu_chufaxunhuan
 1186              	__dai_yu_shu_chufafanhui:
 1187 08e0 1CBD     		        pop {r2-r4,pc}
 1188              	_nmi_handler:
 1189 08e2 7047     		bx lr
 1190              	_hard_fault:
 1191 08e4 7047     		bx lr
 1192              	_svc_handler:
 1193 08e6 7047     		bx lr
 1194              	_pendsv_handler:
 1195 08e8 7047     		bx lr
 1196              	_systickzhongduan:
 1197 08ea F0B5     		push {r4-r7,lr}
 1198 08ec 4346     		mov r3, r8
 1199 08ee 4C46     		mov r4, r9
 1200 08f0 5546     		mov r5, r10
 1201 08f2 5E46     		mov r6, r11
 1202 08f4 6746     		mov r7, r12
 1203 08f6 F8B4     		push {r3-r7}
 1204 08f8 4748     		ldr r0, = 0xe0000d04
 1205 08fa 4849     		ldr r1, = 0x02000000
 1206 08fc 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 1207 08fe FFF7B6FE 		bl __chuan_gan_qi_lvbo
 1208 0902 474A     		ldr r2, = cos
 1209 0904 474B     		ldr r3, = sin
 1210 0906 1060     		str r0, [r2]		@r
 1211 0908 1960     		str r1, [r3]		@i
 1212              	
 1213 090a FFF748FE 		bl __atan2_ji_suan
 1214 090e 464C     		ldr r4, = jiaodu
 1215 0910 464D     		ldr r5, = jiaodu_a
 1216 0912 0200     		movs r2, r0
 1217 0914 03D5     		bpl __jiaodu_bushi_fu
 1218 0916 4649     		ldr r1, = 36000
ARM GAS  1.s 			page 23


 1219 0918 D243     		mvns r2, r2
 1220 091a 0132     		adds r2, r2, # 1
 1221 091c 8A1A     		subs r2, r1, r2
 1222              	__jiaodu_bushi_fu:
 1223 091e 2060     		str r0, [r4]
 1224 0920 2860     		str r0, [r5]
 1225 0922 8046     		mov r8, r0
 1226              	
 1227 0924 4349     		ldr r1, = 0x4001300c
 1228 0926 0A80     		strh r2, [r1]
 1229              	
 1230 0928 4348     		ldr r0, = cos_cha
 1231 092a 4449     		ldr r1, = sin_cha
 1232 092c 0068     		ldr r0, [r0]
 1233 092e 0968     		ldr r1, [r1]
 1234 0930 FFF735FE 		bl __atan2_ji_suan
 1235 0934 4249     		ldr r1, = jiaodu_b
 1236 0936 0860     		str r0, [r1]
 1237              	
 1238              	
 1239              	
 1240 0938 0746     		mov r7, r0
 1241 093a 4046     		mov r0, r8
 1242 093c B846     		mov r8, r7
 1243              	
 1244              	__jiaodu_buchang_jisuan:
 1245              	
 1246 093e 414F     		ldr r7, = 18000
 1247 0940 4546     		mov r5, r8
 1248 0942 0646     		mov r6, r0
 1249 0944 761B     		subs r6, r6, r5
 1250 0946 F643     		mvns r6, r6
 1251 0948 0136     		adds r6, r6, # 1
 1252 094a 3F4B     		ldr r3, = 0x200000d0
 1253 094c 3F4C     		ldr r4, = 0x200000d4
 1254 094e 3500     		movs r5, r6
 1255 0950 02D5     		bpl __bao_cun_jiaodu_cha
 1256 0952 ED43     		mvns r5, r5
 1257 0954 0135     		adds r5, r5, # 1
 1258 0956 FFE7     		b __bao_cun_jiaodu_cha
 1259              	__bao_cun_jiaodu_cha:
 1260 0958 BD42     		cmp r5, r7
 1261 095a 11D8     		bhi __systick_fanhui
 1262 095c 1860     		str r0, [r3]
 1263 095e 2560     		str r5, [r4]
 1264 0960 3B4B     		ldr r3, = 0x200000c8
 1265 0962 1E60     		str r6, [r3]
 1266              	__pid:
 1267 0964 3746     		mov r7, r6
 1268 0966 3446     		mov r4, r6
 1269              	__pid_bi_li:
 1270 0968 3A4B     		ldr r3, = 32768         @ KP
 1271 096a 5F43     		muls r7, r7, r3
 1272 096c FF13     		asrs r7, r7, # 15
 1273              	__pid_ji_fen:
 1274 096e 374E     		ldr r6, = shang_ci_i
 1275 0970 394A     		ldr r2, = 20		@ KI
ARM GAS  1.s 			page 24


 1276 0972 3368     		ldr r3, [r6]
 1277 0974 5443     		muls r4, r4, r2
 1278 0976 E413     		asrs r4, r4, # 15
 1279 0978 E418     		adds r4, r4, r3
 1280 097a 3460     		str r4, [r6]
 1281              		@	adds r7, r7, r4
 1282              	__zhengzhuan_buchang:
 1283 097c 374D     		ldr r5, = jiaodu_jiaozheng
 1284 097e 2F60     		str r7, [r5]
 1285              	
 1286              	__systick_fanhui:
 1287              	
 1288              	__jiaodu_cha_jisuan:
 1289 0980 314B     		ldr r3, = shangci_jiaodu
 1290 0982 304F     		ldr r7, = 18000
 1291 0984 1C68     		ldr r4, [r3]
 1292 0986 8146     		mov r9, r0
 1293 0988 0646     		mov r6, r0
 1294 098a 361B     		subs r6, r6, r4
 1295 098c 3200     		movs r2, r6
 1296 098e 01D5     		bpl __baocun_jiaodu_cha
 1297 0990 D243     		mvns r2, r2
 1298 0992 0132     		adds r2, r2, # 1
 1299              	__baocun_jiaodu_cha:
 1300 0994 BA42     		cmp r2, r7
 1301 0996 14D8     		bhi __tick_fanhui
 1302 0998 3148     		ldr r0, = lvboqihuanchong3
 1303 099a 324A     		ldr r2, = lvboqizhizhen3
 1304 099c 3146     		mov r1, r6
 1305 099e FFF7B5FE 		bl __lv_bo_qi
 1306 09a2 314B     		ldr r3, = jiaodu_cha
 1307 09a4 1860     		str r0, [r3]
 1308 09a6 0000     		movs r0, r0
 1309 09a8 00D5     		bpl __jiance_zhuangtai
 1310 09aa 0124     		movs r4, # 1
 1311              	__jiance_zhuangtai:
 1312 09ac 0028     		cmp r0, # 0
 1313 09ae 01D1     		bne __zai_zhuan
 1314 09b0 0021     		movs r1, # 0
 1315 09b2 04E0     		b __baocun_zhengfan_zhuan
 1316              	__zai_zhuan:
 1317 09b4 012C     		cmp r4, # 1
 1318 09b6 01D1     		bne __fan_zhuan
 1319 09b8 C321     		movs r1, # 0xc3
 1320 09ba 00E0     		b __baocun_zhengfan_zhuan
 1321              	__fan_zhuan:
 1322 09bc 3C21     		movs r1, # 0x3c
 1323              	__baocun_zhengfan_zhuan:
 1324 09be 244B     		ldr r3, = zhengfan_zhuan
 1325 09c0 1960     		str r1, [r3]
 1326              	__tick_fanhui:
 1327 09c2 214B     		ldr r3, = shangci_jiaodu
 1328 09c4 4846     		mov r0, r9
 1329 09c6 1860     		str r0, [r3]
 1330              	
 1331              	
 1332 09c8 284B     		ldr r3, = 500
ARM GAS  1.s 			page 25


 1333              	
 1334 09ca 2948     		ldr r0, = 0x20000024
 1335 09cc 0168     		ldr r1, [r0]
 1336 09ce 0131     		adds r1, r1, # 1
 1337 09d0 0160     		str r1, [r0]
 1338 09d2 9942     		cmp r1, r3
 1339 09d4 0FD1     		bne zz
 1340 09d6 0021     		movs r1, # 0
 1341 09d8 0160     		str r1, [r0]
 1342 09da 264D     		ldr r5, = 6000
 1343 09dc 144E     		ldr r6, = 36000
 1344 09de 2649     		ldr r1, = 0x20000028
 1345 09e0 0868     		ldr r0, [r1]
 1346 09e2 0246     		mov r2, r0
 1347 09e4 B042     		cmp r0, r6
 1348 09e6 02D1     		bne __ss
 1349 09e8 0020     		movs r0, # 0
 1350 09ea 0246     		mov r2, r0
 1351 09ec 0A60     		str r2, [r1]
 1352              	__ss:
 1353 09ee FFF799FC 		bl __svpwm
 1354 09f2 5219     		adds r2, r2, r5
 1355 09f4 0A60     		str r2, [r1]
 1356              	
 1357              	zz:
 1358              	
 1359 09f6 F8BC     		pop {r3-r7}
 1360 09f8 9846     		mov r8, r3
 1361 09fa A146     		mov r9, r4
 1362 09fc AA46     		mov r10, r5
 1363 09fe B346     		mov r11, r6
 1364 0a00 BC46     		mov r12, r7
 1365 0a02 F0BD     		pop {r4-r7,pc}
 1366              	
 1367              	
 1368              	aaa:
 1369 0a04 7047     		bx lr
 1370 0a06 00000010 		.ltorg
 1370      00002000 
 1370      00200000 
 1370      0048FF01 
 1370      0000040D 
 1371              		.end
ARM GAS  1.s 			page 26


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 yjmwxwx
                 1.s:11     .data:0000000000000010 kong
                 1.s:13     .data:0000000000000014 _fu
                 1.s:15     .data:0000000000000015 jiaodu1
                 1.s:17     .data:0000000000000019 jiaodufuhao
                 1.s:20     .data:000000000000001d $d
                 1.s:21     .data:0000000000000020 zheng_xian_biao
                 1.s:24     .data:00000000000000f0 cordic_yong_cos_sin
                 1.s:26     .data:0000000000000170 cordic_yong_atan_biao
                 1.s:29     *ABS*:0000000020001000 STACKINIT
                 1.s:30     *ABS*:0000000020000000 asciimabiao
                 1.s:31     *ABS*:0000000020000020 liangcheng
                 1.s:32     *ABS*:00000000200000c4 dianji_huanxiang
                 1.s:33     *ABS*:00000000200000c8 zhengfan_zhuan
                 1.s:34     *ABS*:00000000200000cc jiaodu_cha
                 1.s:35     *ABS*:00000000200000d0 shangci_jiaodu
                 1.s:36     *ABS*:00000000200000d4 shang_ci_i
                 1.s:37     *ABS*:00000000200000d8 jiaodu_b
                 1.s:38     *ABS*:00000000200000dc jiaodu_a
                 1.s:39     *ABS*:00000000200000e0 jiaodu
                 1.s:40     *ABS*:00000000200000e4 cos
                 1.s:41     *ABS*:00000000200000e8 sin
                 1.s:42     *ABS*:00000000200000ec sin_cha
                 1.s:43     *ABS*:00000000200000f0 cos_cha
                 1.s:44     *ABS*:00000000200000f4 sin_jiaozheng
                 1.s:45     *ABS*:00000000200000f8 cos_jiaozheng
                 1.s:46     *ABS*:00000000200000fc jiaodu_jiaozheng
                 1.s:47     *ABS*:0000000020000100 dianyabiao
                 1.s:48     *ABS*:0000000020000300 lvboqizhizhen
                 1.s:49     *ABS*:0000000020000308 lvboqihuanchong
                 1.s:50     *ABS*:0000000020000510 lvboqizhizhen1
                 1.s:51     *ABS*:0000000020000518 lvboqihuanchong1
                 1.s:52     *ABS*:0000000020000900 lvboqizhizhen2
                 1.s:53     *ABS*:0000000020000908 lvboqihuanchong2
                 1.s:54     *ABS*:0000000020000b10 lvboqizhizhen3
                 1.s:55     *ABS*:0000000020000b18 lvboqihuanchong3
                 1.s:56     *ABS*:0000000040000434 tim3_ch1
                 1.s:57     *ABS*:0000000040000438 tim3_ch2
                 1.s:58     *ABS*:0000000040002034 tim14_ch1
                 1.s:61     .text:0000000000000000 vectors
                 1.s:107    .text:00000000000000b0 _start
                 1.s:1188   .text:00000000000008e2 _nmi_handler
                 1.s:1190   .text:00000000000008e4 _hard_fault
                 1.s:1192   .text:00000000000008e6 _svc_handler
                 1.s:1194   .text:00000000000008e8 _pendsv_handler
                 1.s:1196   .text:00000000000008ea _systickzhongduan
                 1.s:1368   .text:0000000000000a04 aaa
                            .text:0000000000000000 $d
                 1.s:106    .text:00000000000000b0 $t
                 1.s:108    .text:00000000000000b0 shizhong
                 1.s:115    .text:00000000000000bc denghse
                 1.s:119    .text:00000000000000c2 dengpllguan
                 1.s:131    .text:00000000000000d6 dengpll
                 1.s:140    .text:00000000000000e0 _waisheshizhong
                 1.s:157    .text:00000000000000ee _neicunqingling
                 1.s:161    .text:00000000000000f4 _neicunqinglingxunhuan
ARM GAS  1.s 			page 27


                 1.s:166    .text:00000000000000fa _waishezhongduan
                 1.s:188    .text:0000000000000100 io_she_zhi
                 1.s:228    .text:000000000000011c _adcchushihua
                 1.s:232    .text:0000000000000122 _dengadcjiaozhun
                 1.s:238    .text:000000000000012c _kaiadc
                 1.s:243    .text:0000000000000134 _deng_adc_wen_ding
                 1.s:247    .text:000000000000013a _tongdaoxuanze
                 1.s:262    .text:0000000000000152 _lcdchushihua
                 1.s:939    .text:000000000000075a _xielcd
                 1.s:931    .text:0000000000000750 _lcdyanshi
                 1.s:914    .text:0000000000000734 _lcdxianshi
                 1.s:290    .text:000000000000019a yjmwxwx_yanshi
                 1.s:300    .text:00000000000001aa dmachushihua
                 1.s:332    .text:00000000000001ce _systick
                 1.s:340    .text:00000000000001d8 tim14chushihua
                 1.s:353    .text:00000000000001ee tim3chushihua
                 1.s:370    .text:000000000000020c tim1chushiha
                 1.s:394    .text:0000000000000238 ting
                 1.s:620    .text:00000000000004cc __xian_shi_jiao_du
                 1.s:1014   .text:00000000000007d2 _zhuanascii
                 1.s:420    .text:0000000000000324 __svpwm
                 1.s:419    .text:0000000000000264 $d
                 1.s:422    .text:0000000000000324 $t
                 1.s:429    .text:0000000000000332 asd
                 1.s:574    .text:000000000000044c __jisuan_cos_sin
                 1.s:1048   .text:0000000000000804 _chufa
                 1.s:439    .text:0000000000000348 __bushi_0_60
                 1.s:445    .text:0000000000000350 __dianji_xiangwei
                 1.s:446    .text:0000000000000350 $d
                 1.s:447    .text:0000000000000368 __xiangwei_0_60
                 1.s:457    .text:000000000000037a __xiangwei_60_120
                 1.s:482    .text:00000000000003a8 __xiangwei_120_180
                 1.s:507    .text:00000000000003d6 __xiangwei_180_240
                 1.s:522    .text:00000000000003f0 __xiangwei_240_300
                 1.s:547    .text:000000000000041e __xiangwei_300_360
                 1.s:448    .text:0000000000000368 $t
                 1.s:571    .text:000000000000044a __svpwm_fanhui
                 1.s:586    .text:000000000000045e __jisuan_jiaodu_bushi0
                 1.s:588    .text:0000000000000460 __jiance_dayu_90
                 1.s:595    .text:000000000000046c __xiaoyu_90
                 1.s:597    .text:000000000000046e __suan_cossin
                 1.s:608    .text:0000000000000486 __suan_cos_sin1
                 1.s:695    .text:0000000000000556 __cordic_cos_sin
                 1.s:616    .text:0000000000000496 __cos_sin_fanhui
                 1.s:618    .text:0000000000000498 $d
                 1.s:622    .text:00000000000004cc $t
                 1.s:638    .text:00000000000004ee __jiaodu_bu_shi_zheng
                 1.s:643    .text:00000000000004f8 __xian_shi_jiaodu
                 1.s:655    .text:0000000000000510 __xiang_wei_xuan_zhuan
                 1.s:671    .text:000000000000052c __xuanzhuan_fangxiang_jiance
                 1.s:678    .text:0000000000000538 __xuan_zhuan_xiang_wei
                 1.s:709    .text:0000000000000566 cordicxunhuan
                 1.s:741    .text:000000000000059e __atan2_ji_suan
                 1.s:754    .text:00000000000005b4 __cordic_atan2_xun_huan
                 1.s:755    .text:00000000000005b4 __du_cos_sin
                 1.s:775    .text:00000000000005d8 __ni_shi_zhen_zhuan
                 1.s:768    .text:00000000000005cc __shun_shi_zhen_zhuan
ARM GAS  1.s 			page 28


                 1.s:781    .text:00000000000005e2 __xuan_zhuan_wan
                 1.s:800    .text:0000000000000606 $d
                 1.s:800    .text:0000000000000608 $d
                 1.s:804    .text:0000000000000630 __xiangwei_jiaozheng
                 1.s:805    .text:0000000000000630 $t
                 1.s:816    .text:0000000000000646 __jiaozheng_jiaodu_bushi0
                 1.s:818    .text:0000000000000648 __ji_suan_jiaozheng_jiaodu
                 1.s:829    .text:0000000000000660 __suan_cos_sin
                 1.s:838    .text:000000000000066e __chuan_gan_qi_lvbo
                 1.s:884    .text:000000000000070c __lv_bo_qi
                 1.s:882    .text:00000000000006ca $d
                 1.s:882    .text:00000000000006cc $d
                 1.s:888    .text:000000000000070c $t
                 1.s:901    .text:0000000000000726 __huanchong_leijia
                 1.s:923    .text:0000000000000742 _lcdxianshixunhuan
                 1.s:934    .text:0000000000000754 _lcdyanshixunhuan
                 1.s:953    .text:0000000000000772 __lcd_ming_ling
                 1.s:950    .text:000000000000076e __lcd_shu_ju
                 1.s:955    .text:0000000000000774 __xie_lcd_shu_ju
                 1.s:970    .text:0000000000000796 __74hc595
                 1.s:977    .text:00000000000007a2 __595_yiweixunhuan
                 1.s:982    .text:00000000000007a8 __595_yanshi
                 1.s:991    .text:00000000000007b6 __ser_0
                 1.s:988    .text:00000000000007b2 __ser_1
                 1.s:993    .text:00000000000007b8 __595_yiwei
                 1.s:997    .text:00000000000007bc __595_yanshi1
                 1.s:1006   .text:00000000000007ca __595_yanshi2
                 1.s:1021   .text:00000000000007dc _xunhuanqiuma
                 1.s:1040   .text:0000000000000800 _qiumafanhui
                 1.s:1035   .text:00000000000007f8 _meidaoxiaoshudian
                 1.s:1070   .text:0000000000000828 _chufafanhui
                 1.s:1060   .text:0000000000000818 _chufaxunhuan
                 1.s:1067   .text:0000000000000824 _chufaweishubudao0
                 1.s:1072   .text:000000000000082a __chufa64
                 1.s:1112   .text:000000000000086c __chu_fa64_fan_hui0
                 1.s:1082   .text:0000000000000838 __chu_fa64_ji_suan
                 1.s:1089   .text:0000000000000844 __chu_fa64_xun_huan
                 1.s:1098   .text:0000000000000854 __chu_fa_yi_wei
                 1.s:1106   .text:0000000000000862 __di_yi_wei
                 1.s:1116   .text:0000000000000872 __chengfa
                 1.s:1160   .text:00000000000008b6 __cheng_fa_fan_hui
                 1.s:1130   .text:000000000000087c __ji_suan_cheng_fa
                 1.s:1164   .text:00000000000008bc __dai_yu_shu_chufa
                 1.s:1186   .text:00000000000008e0 __dai_yu_shu_chufafanhui
                 1.s:1176   .text:00000000000008d0 __dai_yu_shu_chufaxunhuan
                 1.s:1183   .text:00000000000008dc __dai_yu_shu_chufaweishubudao0
                 1.s:1222   .text:000000000000091e __jiaodu_bushi_fu
                 1.s:1244   .text:000000000000093e __jiaodu_buchang_jisuan
                 1.s:1259   .text:0000000000000958 __bao_cun_jiaodu_cha
                 1.s:1286   .text:0000000000000980 __systick_fanhui
                 1.s:1266   .text:0000000000000964 __pid
                 1.s:1269   .text:0000000000000968 __pid_bi_li
                 1.s:1273   .text:000000000000096e __pid_ji_fen
                 1.s:1282   .text:000000000000097c __zhengzhuan_buchang
                 1.s:1288   .text:0000000000000980 __jiaodu_cha_jisuan
                 1.s:1299   .text:0000000000000994 __baocun_jiaodu_cha
                 1.s:1326   .text:00000000000009c2 __tick_fanhui
ARM GAS  1.s 			page 29


                 1.s:1311   .text:00000000000009ac __jiance_zhuangtai
                 1.s:1316   .text:00000000000009b4 __zai_zhuan
                 1.s:1323   .text:00000000000009be __baocun_zhengfan_zhuan
                 1.s:1321   .text:00000000000009bc __fan_zhuan
                 1.s:1357   .text:00000000000009f6 zz
                 1.s:1352   .text:00000000000009ee __ss
                 1.s:1370   .text:0000000000000a06 $d
                 1.s:1370   .text:0000000000000a08 $d

NO UNDEFINED SYMBOLS
