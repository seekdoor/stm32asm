ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@pmsm电机
   3              		@作者：yjmwxwx
   4              		@时间：2021-04-22
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              	yjmwxwx:
  10 0000 796A6D77 		.ascii "yjmwxwx-20210422"
  10      7877782D 
  10      32303231 
  10      30343232 
  11              	kong:
  12 0010 20202020 		.int 0x20202020
  13              	_fu:
  14 0014 2D       		.ascii "-"
  15              	jiaodu1:
  16 0015 F23D0000 		.int 0x3df2
  17              	jiaodufuhao:
  18 0019 DF000000 		.int 0xdf
  19              		
  20 001d 000000   		.align 4
  21              	zheng_xian_biao:
  22 0020 1C001D00 		.short 28,29,31,33,34,36,38,39,41,42,44,45,46,48,49,50,51,52,52,53,54,54,55,55,55,55,55,55,55,54,5
  22      1F002100 
  22      22002400 
  22      26002700 
  22      29002A00 
  23 00ea 00000000 		.align 4
  23      0000
  24              	zheng_xian_biao1:
  25 00f0 00000080 		.short 0x0000,0x8000,0x001A,0x7FF2,0x0034,0x7FE5,0x004F,0x7FD8,0x0069,0x7FCB,0x0084,0x7FBD,0x009E,
  25      1A00F27F 
  25      3400E57F 
  25      4F00D87F 
  25      6900CB7F 
  26 1864 00000000 		.align 4
  26      00000000 
  26      00000000 
  27              	cordic_yong_cos_sin:
  28 1870 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
  28      00400000 
  28      412D0000 
  28      412D0000 
  28      203B0000 
  29              	cordic_yong_atan_biao:
  30 18f0 87640000 		.int 0x00006487,0x00003B58,0x00001F5B,0x00000FEA,0x000007FD,0x000003FF,0x000001FF,0x000000FF,0x000
  30      583B0000 
  30      5B1F0000 
  30      EA0F0000 
  30      FD070000 
  31              		.align 4
  32              		.equ STACKINIT,        	        0x20001000
  33              		.equ asciimabiao,		0x20000000
  34              		.equ dianji_shang_ci_i,		0x200000b4
  35              		.equ jiaodu_360,		0x200000b8
ARM GAS  1.s 			page 2


  36              		.equ x,				0x200000bc
  37              		.equ y,				0x200000c0
  38              		.equ dianji_huanxiang,		0x200000c4
  39              		.equ zhengfan_zhuan,		0x200000c8
  40              		.equ jiaodu_cha,		0x200000cc
  41              		.equ shangci_jiaodu,		0x200000d0
  42              		.equ shang_ci_i,		0x200000d4
  43              		.equ jiaodu_b,			0x200000d8
  44              		.equ jiaodu_a,			0x200000dc
  45              		.equ jiaodu,			0x200000e0
  46              		.equ cos,			0x200000e4
  47              		.equ sin,			0x200000e8
  48              		.equ sin_cha,			0x200000ec
  49              		.equ cos_cha,			0x200000f0
  50              		.equ sin_jiaozheng,		0x200000f4
  51              		.equ cos_jiaozheng,		0x200000f8
  52              		.equ jiaodu_jiaozheng,		0x200000fc
  53              		.equ dianyabiao,		0x20000100
  54              		.equ lvboqizhizhen,		0x20000300
  55              		.equ lvboqihuanchong,		0x20000308
  56              		.equ lvboqizhizhen1,		0x20000510
  57              		.equ lvboqihuanchong1,		0x20000518
  58              		.equ lvboqizhizhen2,		0x20000900
  59              		.equ lvboqihuanchong2,		0x20000908
  60              		.equ lvboqizhizhen3,		0x20000b10
  61              		.equ lvboqihuanchong3,		0x20000b18
  62              		.equ tim3_ch1,			0x40000434
  63              		.equ tim3_ch2,			0x40000438
  64              		.equ tim14_ch1,			0x40002034
  65              		.section .text
  66              	
  67              	vectors:
  68 0000 00100020 		.word STACKINIT
  69 0004 B1000000 		.word _start + 1
  70 0008 A9090000 		.word _nmi_handler + 1
  71 000c AB090000 		.word _hard_fault  + 1
  72 0010 00000000 		.word 0
  73 0014 00000000 		.word 0
  74 0018 00000000 		.word 0
  75 001c 00000000 		.word 0
  76 0020 00000000 		.word 0
  77 0024 00000000 		.word 0
  78 0028 00000000 		.word 0
  79 002c AD090000 		.word _svc_handler +1
  80 0030 00000000 		.word 0
  81 0034 00000000 		.word 0
  82 0038 AF090000 		.word _pendsv_handler +1
  83 003c B1090000 		.word _systickzhongduan +1           @ 15
  84 0040 0D0B0000 		.word aaa +1     @ _wwdg +1          @ 0
  85 0044 0D0B0000 		.word aaa +1     @_pvd +1            @ 1
  86 0048 0D0B0000 		.word aaa +1     @_rtc +1            @ 2
  87 004c 0D0B0000 		.word aaa +1     @_flash +1          @ 3
  88 0050 0D0B0000 		.word aaa +1	@ _rcc + 1           @ 4
  89 0054 0D0B0000 		.word aaa +1      @_exti0_1  +1      @ 5
  90 0058 0D0B0000 		.word aaa +1      @ _exti2_3 +1      @ 6
  91 005c 0D0B0000 		.word aaa +1       @_exti4_15 +1     @ 7
  92 0060 0D0B0000 		.word aaa +1                         @ 8
ARM GAS  1.s 			page 3


  93 0064 0D0B0000 		.word aaa +1	@__dma_wan  +1	     @ 9
  94 0068 0D0B0000 		.word aaa +1    @_dma1_2_3 +1        @ 10
  95 006c 0D0B0000 		.word aaa +1       @_dma1_4_5 +1     @ 11
  96 0070 0D0B0000 		.word aaa +1	 @_adc1 +1           @ 12
  97 0074 0D0B0000 		.word aaa +1       @_tim1_brk_up +1  @ 13
  98 0078 0D0B0000 		.word aaa +1        @ _tim1_cc +1    @ 14
  99 007c 0D0B0000 		.word aaa +1         @_tim2 +1       @ 15
 100 0080 0D0B0000 		.word aaa +1          @_tim3 +1      @ 16
 101 0084 0D0B0000 		.word aaa +1                         @ 17
 102 0088 0D0B0000 		.word aaa +1		             @ 18
 103 008c 0D0B0000 		.word aaa +1	@_tim14 +1           @ 19
 104 0090 0D0B0000 		.word aaa +1                         @ 20
 105 0094 0D0B0000 		.word aaa +1         @_tim16 +1      @ 21
 106 0098 0D0B0000 		.word aaa +1         @_tim17 +1      @ 22
 107 009c 0D0B0000 		.word aaa +1          @_i2c   +1     @ 23
 108 00a0 0D0B0000 		.word aaa +1                         @ 24
 109 00a4 0D0B0000 		.word aaa +1           @_spi   +1    @ 25
 110 00a8 0D0B0000 		.word aaa +1                         @ 26
 111 00ac 0D0B0000 		.word aaa +1         @_usart1 +1     @ 27
 112              		.align 2
 113              	_start:
 114              		
 115              	shizhong:
 116 00b0 7E4A     		ldr r2, = 0x40022000   @FLASH访问控制
 117 00b2 3221     		movs r1, # 0x32
 118 00b4 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 119 00b6 7E48     		ldr r0, = 0x40021000 @ rcc
 120 00b8 7E49     		ldr r1, = 0x10001
 121 00ba 0160     		str r1, [r0]
 122              	denghse:
 123 00bc 0168     		ldr r1, [r0]
 124 00be 8903     		lsls r1, r1, # 14
 125 00c0 FCD5     		bpl denghse
 126              	dengpllguan:
 127 00c2 0168     		ldr r1, [r0]
 128 00c4 8901     		lsls r1, r1, # 6
 129 00c6 FCD4     		bmi dengpllguan
 130 00c8 7B49     		ldr r1, = 0x150002	@0x150002
 131 00ca 0046     		mov r0, r0
 132 00cc 4160     		str r1, [r0, # 0x04]
 133 00ce 0046     		mov r0, r0
 134 00d0 7A49     		ldr r1, = 0x1010000
 135 00d2 0046     		mov r0, r0
 136 00d4 0160     		str r1, [r0]
 137              	
 138              	dengpll:
 139 00d6 0168     		ldr r1, [r0]
 140 00d8 8901     		lsls r1, # 6
 141 00da FCD5     		bpl dengpll
 142              	
 143              	
 144 00dc 7849     		ldr r1, = 100
 145 00de 0163     		str r1, [r0, # 0x30]
 146              	
 147              	_waisheshizhong:	                         @ 外设时钟
 148              		@+0x14=RCC_AHBENR
 149              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
ARM GAS  1.s 			page 4


 150 00e0 7348     		ldr r0, = 0x40021000
 151 00e2 7849     		ldr r1, = 0x60001
 152 00e4 4161     		str r1, [r0, # 0x14]
 153              	
 154              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 155              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 156 00e6 7849     		ldr r1, = 0x1a00
 157 00e8 8161     		str r1, [r0, # 0x18]
 158              		@+0X1C=RCC_APB1ENR
 159              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 160              		@ 22=I2C2 @ 23=USB @ 28=PWR
 161 00ea 784A     		ldr r2, = 0x902
 162 00ec C261     		str r2, [r0, # 0x1c]
 163              	
 164              	_neicunqingling:
 165 00ee 7848     		ldr r0, = 0x20000000
 166 00f0 0021     		movs r1, # 0
 167 00f2 784B     		ldr r3, = 0x1000
 168              	_neicunqinglingxunhuan:
 169 00f4 043B     		subs r3, # 4
 170 00f6 C150     		str r1, [r0, r3]
 171 00f8 FCD1     		bne _neicunqinglingxunhuan
 172              	
 173              	_waishezhongduan:					@外设中断
 174              		@0xE000E100    0-31  写1开，写0没效
 175              		@0XE000E180    0-31 写1关，写0没效
 176              		@0XE000E200    0-31 挂起，写0没效
 177              		@0XE000E280    0-31 清除， 写0没效
 178 00fa 7748     		ldr r0, =  0xe000e100
 179 00fc 7749     		ldr r1, = 0x200 @0x10200  @ 0x10000
 180 00fe 0160     		str r1, [r0]
 181              		
 182              	@_kanmengou:
 183              	@	ldr r0, = 0x40003000
 184              	@	ldr r1, = 0x5555
 185              	@	str r1, [r0]
 186              	@	movs r1, # 7
 187              	@	str r1, [r0, # 4]
 188              	@	ldr r1, = 0xfff
 189              	@	str r1, [r0, # 8]
 190              	@	ldr r1, = 0xaaaa
 191              	@	str r1, [r0]
 192              	@	ldr r1, = 0xcccc
 193              	@	str r1, [r0]
 194              		
 195              	io_she_zhi:
 196              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 197              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 198              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 199              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 200              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 201              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 202              		@偏移0x10 = 输入数据寄存器
 203              		@偏移0x14 = 输出数据寄存器
 204              		@偏移0x18 = 端口开  0-15置位
 205              		@偏移0x28 = 端口关
 206              		@0X20 = 复用低
ARM GAS  1.s 			page 5


 207              		@GPIO口0（0-3位）每个IO口占用4位
 208              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 209              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 210              		@0x24 = 复用高
 211              		@GPIO口8 （0-3位）每个IO口占用4位
 212              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 213              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 214              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 215              	
 216 0100 7748     		ldr r0, = 0x48000000
 217 0102 7849     		ldr r1, = 0x2820aed5 
 218 0104 0160     		str r1, [r0]
 219 0106 0721     		movs r1, # 0x07
 220 0108 4160     		str r1, [r0, # 0x04]
 221 010a 7749     		ldr r1, = 0x11040000
 222 010c 0162     		str r1, [r0, # 0x20]
 223 010e 7349     		ldr r1, = 0x200
 224 0110 4162     		str r1, [r0, # 0x24]
 225              	
 226              	
 227              		
 228 0112 7648     		ldr r0, = 0x48000400
 229 0114 0821     		movs r1, # 0x08 @ pb1
 230 0116 0160     		str r1, [r0]
 231 0118 2021     		movs r1, # 0x20
 232 011a 0162     		str r1, [r0, # 0x20]
 233              			
 234              	
 235              	_adcchushihua:
 236 011c 7448     		ldr r0, = 0x40012400  @ adc基地址
 237 011e 7549     		ldr r1, = 0x80000000
 238 0120 8160     		str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 239              	_dengadcjiaozhun:
 240 0122 8168     		ldr r1, [r0, # 0x08]
 241 0124 0900     		movs r1, r1
 242 0126 FCD4     		bmi _dengadcjiaozhun   @ 等ADC校准
 243 0128 0121     		movs r1, # 1
 244 012a 0160     		str r1, [r0]
 245              	_kaiadc:
 246 012c 8168     		ldr r1, [r0, # 0x08]
 247 012e 0122     		movs r2, # 0x01
 248 0130 1143     		orrs r1, r1, r2
 249 0132 8160     		str r1, [r0, # 0x08]
 250              	_deng_adc_wen_ding:
 251 0134 0168     		ldr r1, [r0]
 252 0136 C907     		lsls r1, r1, # 31
 253 0138 FCD5     		bpl _deng_adc_wen_ding @ 等ADC稳定
 254              	_tongdaoxuanze:
 255 013a 6F49     		ldr r1, = 0x40000000
 256 013c 0161     		str r1, [r0, # 0x10]
 257 013e 2821     		movs r1, # 0x28
 258 0140 8162     		str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 259 0142 6E49     		ldr r1, = 0x803
 260 0144 C160     		str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 261 0146 0021     		movs r1, # 0
 262 0148 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 263 014a 8168     		ldr r1, [r0, # 0x08]
ARM GAS  1.s 			page 6


 264 014c 6C4A     		ldr r2, = 0x04         @ 开始转换
 265 014e 1143     		orrs r1, r1, r2
 266 0150 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 267              	
 268              		
 269              	_lcdchushihua:
 270 0152 3320     		movs r0, # 0x33
 271 0154 0021     		movs r1, # 0
 272 0156 00F066FB 		bl _xielcd
 273 015a 00F05FFB 		bl _lcdyanshi
 274              	
 275 015e 3220     		movs r0, # 0x32
 276 0160 0021     		movs r1, # 0
 277 0162 00F060FB 		bl _xielcd
 278 0166 00F059FB 		bl _lcdyanshi
 279 016a 2820     		movs r0, # 0x28
 280 016c 0021     		movs r1, # 0
 281 016e 00F05AFB 		bl _xielcd
 282 0172 00F053FB 		bl _lcdyanshi
 283 0176 0C20     		movs r0, # 0x0c
 284 0178 0021     		movs r1, # 0
 285 017a 00F054FB 		bl _xielcd
 286 017e 00F04DFB 		bl _lcdyanshi
 287 0182 0120     		movs r0, # 0x01
 288 0184 0021     		movs r1, # 0
 289 0186 00F04EFB 		bl _xielcd
 290 018a 00F047FB 		bl _lcdyanshi
 291              	
 292 018e 8020     		movs r0, # 0x80
 293 0190 5C49     		ldr r1, = yjmwxwx
 294 0192 1022     		movs r2, # 16
 295 0194 00F034FB 		bl _lcdxianshi
 296 0198 5B48     		ldr r0, = 0xffffff
 297              	yjmwxwx_yanshi:
 298 019a 0138     		subs r0, r0, # 1
 299 019c FDD1     		bne yjmwxwx_yanshi
 300              	
 301 019e 0120     		movs r0, # 0x01
 302 01a0 0021     		movs r1, # 0
 303 01a2 00F040FB 		bl _xielcd
 304 01a6 00F039FB 		bl _lcdyanshi
 305              		
 306              	
 307              	dmachushihua:
 308              		@+0=LSR,+4=IFCR,
 309              		@+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 310              		@+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 311              		@+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 312              		@+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 313              		@+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 314              		@+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 315              		@+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 316              	
 317              		@tim1ch3DMA
 318 01aa 5848     		ldr r0, = 0x40020000
 319 01ac 5849     		ldr r1, = 0x40012c3c @ 外设地址
 320 01ae 0166     		str r1, [r0, # 0x60]
ARM GAS  1.s 			page 7


 321 01b0 5849     		ldr r1, = zheng_xian_biao @ 储存器地址
 322 01b2 4166     		str r1, [r0, # 0x64]
 323 01b4 4249     		ldr r1, = 100             @点数
 324 01b6 C165     		str r1, [r0, # 0x5c]
 325 01b8 5749     		ldr r1, = 0x35b1         @ 储存到外设
 326 01ba 8165     		str r1, [r0, # 0x58]
 327              	
 328              		@ adc dma
 329 01bc 5348     		ldr r0, = 0x40020000
 330 01be 5749     		ldr r1, = 0x40012440
 331 01c0 0161     		str r1, [r0, # 0x10]
 332 01c2 5749     		ldr r1, = dianyabiao
 333 01c4 4161     		str r1, [r0, # 0x14]
 334 01c6 3E49     		ldr r1, =  100
 335 01c8 C160     		str r1, [r0, # 0x0c]
 336 01ca 5649     		ldr r1, = 0xaa1		@ 5a1
 337 01cc 8160     		str r1, [r0, # 0x08]
 338              	
 339              	_systick:		@ systick定时器初始化
 340              	
 341 01ce 564F     		ldr r7, = 0xe000e010
 342 01d0 564E     		ldr r6, = 5600
 343 01d2 7E60     		str r6, [r7, # 4]
 344 01d4 BE60     		str r6, [r7, # 8]
 345 01d6 0726     		movs r6, # 0x07
 346              	
 347              	tim14chushihua:
 348 01d8 554B     		ldr r3, = 0x40002000 @ tim14_cr1
 349 01da 0021     		movs r1, # 0
 350 01dc 9962     		str r1, [r3, # 0x28] @ psc
 351 01de 5549     		ldr r1, = 7000 @2799
 352 01e0 D962     		str r1, [r3, # 0x2c] @ ARR
 353 01e2 7821     		movs r1, # 0x78
 354 01e4 9961     		str r1, [r3, # 0x18]
 355 01e6 5449     		ldr r1, = 500
 356 01e8 5963     		str r1, [r3, # 0x34]
 357 01ea 0121     		movs r1, # 0x01
 358 01ec 1962     		str r1, [r3, # 0x20]
 359              		
 360              	tim3chushihua:
 361 01ee 5348     		ldr r0, = 0x40000400 @ tim3_cr1
 362 01f0 0021     		movs r1, # 0
 363 01f2 8162     		str r1, [r0, # 0x28] @ psc
 364 01f4 4F49     		ldr r1, = 7000 @2799
 365 01f6 C162     		str r1, [r0, # 0x2c] @ ARR
 366 01f8 5149     		ldr r1, = 0x7878
 367 01fa 8161     		str r1, [r0, # 0x18]
 368 01fc 4E49     		ldr r1, = 500
 369 01fe 4163     		str r1, [r0, # 0x34]
 370 0200 8163     		str r1, [r0, # 0x38]
 371 0202 1121     		movs r1, # 0x11
 372 0204 0162     		str r1, [r0, # 0x20]
 373 0206 4F49     		ldr r1, = 0x81
 374 0208 1960     		str r1, [r3]
 375 020a 0160     		str r1, [r0]
 376              		
 377              	tim1chushiha:
ARM GAS  1.s 			page 8


 378 020c 4E48     		ldr r0, = 0x40012c00 @ tim1_cr1
 379 020e 0021     		movs r1, # 0
 380 0210 8162     		str r1, [r0, # 0x28] @ psc
 381 0212 4E49     		ldr r1, = 56
 382 0214 C162     		str r1, [r0, # 0x2c] @ ARR
 383 0216 2021     		movs r1, # 0x20
 384 0218 4160     		str r1, [r0, # 0x04] @ TRGO
 385 021a 3821     		movs r1, # 0x38
 386 021c 8161     		str r1, [r0, # 0x18] @ ccmr1 cc1
 387 021e 3821     		movs r1, # 56
 388 0220 4163     		str r1, [r0, # 0x34]
 389 0222 4B49     		ldr r1, = 0x68
 390 0224 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 391 0226 4B49     		ldr r1, = 0x500    @  CC3
 392 0228 0162     		str r1, [r0, # 0x20] @ ccer
 393 022a 4B49     		ldr r1, = 0x8000
 394 022c 4164     		str r1, [r0, # 0x44] @ BDTR
 395 022e 4B49     		ldr r1, = 0x800 @ CC3 DMA
 396 0230 C160     		str r1, [r0, # 0x0c] @ DIER
 397 0232 4449     		ldr r1, = 0x81
 398 0234 0160     		str r1, [r0]
 399 0236 3E60     		str r6, [r7]	@systick 开
 400              	
 401 0238 494E     		ldr r6, = 0x20000034
 402 023a 0121     		movs r1, # 1
 403 023c 3160     		str r1, [r6]
 404              	
 405              	
 406              	
 407              	ting:
 408 023e 4948     		ldr r0, = 0x20000058
 409 0240 0068     		ldr r0, [r0]
 410 0242 0621     		movs r1, # 6
 411 0244 224A     		ldr r2, = asciimabiao
 412 0246 FF23     		movs r3, # 0xff
 413 0248 00F026FB 		bl _zhuanascii
 414 024c 8020     		movs r0, # 0x80
 415 024e 2049     		ldr r1, = asciimabiao
 416 0250 0622     		movs r2, # 6
 417 0252 00F0D5FA 		bl _lcdxianshi
 418              	
 419 0256 4448     	        ldr r0, = 0x20000050
 420 0258 0068     		ldr r0, [r0]
 421 025a 0621     		movs r1, # 6
 422 025c 1C4A     		ldr r2, = asciimabiao
 423 025e FF23     		movs r3, # 0xff
 424 0260 00F01AFB 		bl _zhuanascii
 425 0264 C020     		movs r0, # 0xc0
 426 0266 1A49     		ldr r1, = asciimabiao
 427 0268 0622     		movs r2, # 6
 428 026a 00F0C9FA 		bl _lcdxianshi
 429              		
 430 026e 3F48     		ldr r0, = 0x20000054
 431 0270 0068     		ldr r0, [r0]
 432 0272 0621     		movs r1, # 6
 433 0274 164A     		ldr r2, = asciimabiao
 434 0276 FF23     		movs r3, # 0xff
ARM GAS  1.s 			page 9


 435 0278 00F00EFB 		bl _zhuanascii
 436 027c C820     		movs r0, # 0xc8
 437 027e 1449     		ldr r1, = asciimabiao
 438 0280 0622     		movs r2, # 6
 439 0282 00F0BDFA 		bl _lcdxianshi
 440              		
 441              		
 442 0286 DAE7     		b ting
 443              		
 444 0288 3948     		ldr r0, = y
 445 028a 0068     		ldr r0, [r0]
 446 028c 0621     		movs r1, # 6
 447 028e 104A     		ldr r2, = asciimabiao
 448 0290 FF23     		movs r3, # 0xff
 449 0292 00F001FB 		bl _zhuanascii
 450 0296 C020     		movs r0, # 0xc0
 451 0298 0D49     		ldr r1, = asciimabiao
 452 029a 0622     		movs r2, # 6
 453 029c 00F0B0FA 		bl _lcdxianshi
 454              		
 455              		
 456 02a0 CDE7     		b ting
 457              		
 458 02a2 3448     		ldr r0, = 0x20000024
 459 02a4 0068     		ldr r0, [r0]
 460 02a6 00F067F8 		bl __svpwm
 461 02aa C8E7     		b ting
 462              	
 463              	
 464 02ac 00200240 		.ltorg
 464      00100240 
 464      01000100 
 464      02001500 
 464      00000101 
 465              	__svpwm:
 466              		@入口R0=角度
 467 0378 FEB5     		push {r1-r7,lr}
 468 037a 0446     		mov r4, r0
 469 037c 5C49     		ldr r1, = 1500 
 470 037e 00F0A4FA 		bl _chufa
 471 0382 A042     		cmp r0, r4
 472 0384 00D1     		bne __bushi_0_60
 473 0386 0020     		movs r0, # 0
 474              	__bushi_0_60:
 475 0388 5A49     		ldr r1, = 0x2000002c
 476 038a 0860     		str r0, [r1]
 477 038c 8000     		lsls r0, r0, # 2
 478 038e 5A49     		ldr r1, = __dianji_xiangwei
 479 0390 0958     		ldr r1, [r1, r0]
 480 0392 8F46     		mov pc, r1
 481 0394 C046C046 		.align 4
 481      C046C046 
 481      C046C046 
 482              	__dianji_xiangwei:
 483 03a0 BD030000 		.word __xiangwei_0_60 +1, __xiangwei_60_120 +1, __xiangwei_120_180 +1, __xiangwei_180_240 +1, __xi
 483      ED030000 
 483      21040000 
ARM GAS  1.s 			page 10


 483      55040000 
 483      89040000 
 484              	__xiangwei_0_60:
 485 03bc A400     		lsls r4, r4, # 2
 486 03be 4F48     		ldr r0, = zheng_xian_biao1
 487 03c0 0059     		ldr r0, [r0, r4]
 488 03c2 0246     		mov r2, r0
 489 03c4 1204     		lsls r2, r2, # 16
 490 03c6 120C     		lsrs r2, r2, # 16
 491 03c8 000C     		lsrs r0, r0, # 16
 492 03ca 4D4D     		ldr r5, = x
 493 03cc 4D4E     		ldr r6, = y
 494 03ce 2A60     		str r2, [r5]
 495 03d0 3060     		str r0, [r6]
 496              	
 497              		
 498 03d2 4D4D     		ldr r5, = tim3_ch1
 499 03d4 4D4E     		ldr r6, = tim3_ch2
 500 03d6 4E4F     		ldr r7, = tim14_ch1
 501 03d8 4E4C     		ldr r4, = 3000
 502 03da 6243     		muls r2, r2, r4
 503 03dc 6043     		muls r0, r0, r4
 504 03de D213     		asrs r2, r2, # 15	@x
 505 03e0 C013     		asrs r0, r0, # 15	@y
 506 03e2 0024     		movs r4, # 0
 507 03e4 3860     		str r0, [r7]	@3
 508 03e6 3460     		str r4, [r6]	@2
 509 03e8 2A60     		str r2, [r5]	@1
 510 03ea 80E0     		b __svpwm_fanhui
 511              	__xiangwei_60_120:
 512 03ec 404A     		ldr r2, = 1500
 513 03ee A41A     		subs r4, r4, r2
 514 03f0 A400     	        lsls r4, r4, # 2
 515 03f2 4248     		ldr r0, = zheng_xian_biao1
 516 03f4 0059     		ldr r0, [r0, r4]
 517 03f6 0246     		mov r2, r0
 518 03f8 1204     		lsls r2, r2, # 16
 519 03fa 120C     		lsrs r2, r2, # 16
 520 03fc 000C     		lsrs r0, r0, # 16
 521              		
 522 03fe 404D     	        ldr r5, = x
 523 0400 404E     		ldr r6, = y
 524 0402 2A60     		str r2, [r5]
 525 0404 3060     		str r0, [r6]
 526              		
 527              		
 528              	
 529 0406 404D     		ldr r5, = tim3_ch1
 530 0408 404E     		ldr r6, = tim3_ch2
 531 040a 414F     		ldr r7, = tim14_ch1
 532 040c 414C     		ldr r4, = 3000
 533 040e 6243     		muls r2, r2, r4
 534 0410 6043     		muls r0, r0, r4
 535 0412 D213     		asrs r2, r2, # 15       @x
 536 0414 C013     		asrs r0, r0, # 15       @y
 537 0416 0024     		movs r4, # 0
 538 0418 3C60     		str r4, [r7]
ARM GAS  1.s 			page 11


 539 041a 3260     		str r2, [r6]
 540 041c 2860     		str r0, [r5]
 541              		
 542 041e 66E0     	       	b __svpwm_fanhui
 543              	__xiangwei_120_180:
 544 0420 3C4A     	        ldr r2, = 3000
 545 0422 A41A     		subs r4, r4, r2
 546 0424 A400     		lsls r4, r4, # 2
 547 0426 3548     		ldr r0, = zheng_xian_biao1
 548 0428 0059     		ldr r0, [r0, r4]
 549 042a 0246     		mov r2, r0
 550 042c 1204     		lsls r2, r2, # 16
 551 042e 120C     		lsrs r2, r2, # 16
 552 0430 000C     		lsrs r0, r0, # 16
 553              		
 554              		
 555              		
 556 0432 334D     	        ldr r5, = x
 557 0434 334E     		ldr r6, = y
 558 0436 2A60     		str r2, [r5]
 559 0438 3060     		str r0, [r6]
 560              		
 561              		
 562 043a 334D     		ldr r5, = tim3_ch1
 563 043c 334E     		ldr r6, = tim3_ch2
 564 043e 344F     		ldr r7, = tim14_ch1
 565 0440 344C     		ldr r4, = 3000
 566 0442 6243     		muls r2, r2, r4
 567 0444 6043     		muls r0, r0, r4
 568 0446 D213     		asrs r2, r2, # 15       @x
 569 0448 C013     		asrs r0, r0, # 15       @y
 570 044a 0024     		movs r4, # 0
 571 044c 3A60     		str r2, [r7]
 572 044e 3060     		str r0, [r6]
 573 0450 2C60     		str r4, [r5]
 574              		
 575 0452 4CE0     		b __svpwm_fanhui
 576              	__xiangwei_180_240:
 577 0454 304A     	        ldr r2, = 4500
 578 0456 A41A     		subs r4, r4, r2
 579 0458 A400     		lsls r4, r4, # 2
 580 045a 2848     		ldr r0, = zheng_xian_biao1
 581 045c 0059     		ldr r0, [r0, r4]
 582 045e 0246     		mov r2, r0
 583 0460 1204     		lsls r2, r2, # 16
 584 0462 120C     		lsrs r2, r2, # 16
 585 0464 000C     		lsrs r0, r0, # 16
 586              		
 587              		
 588              	
 589 0466 264D     	        ldr r5, = x
 590 0468 264E     		ldr r6, = y
 591 046a 2A60     		str r2, [r5]
 592 046c 3060     		str r0, [r6]
 593              		
 594              		
 595 046e 264D     		ldr r5, = tim3_ch1
ARM GAS  1.s 			page 12


 596 0470 264E     		ldr r6, = tim3_ch2
 597 0472 274F     		ldr r7, = tim14_ch1
 598 0474 274C     		ldr r4, = 3000
 599 0476 6243     		muls r2, r2, r4
 600 0478 6043     		muls r0, r0, r4
 601 047a D213     		asrs r2, r2, # 15       @x
 602 047c C013     		asrs r0, r0, # 15       @y
 603 047e 0024     		movs r4, # 0
 604              		
 605 0480 3860     		str r0, [r7]    @2
 606 0482 3460     		str r4, [r6]    @3
 607 0484 2A60     		str r2, [r5]    @1
 608              		
 609              		
 610 0486 32E0     		b __svpwm_fanhui
 611              	__xiangwei_240_300:
 612 0488 244A     	        ldr r2, = 6000
 613 048a A41A     		subs r4, r4, r2
 614 048c A400     		lsls r4, r4, # 2
 615 048e 1B48     		ldr r0, = zheng_xian_biao1
 616 0490 0059     		ldr r0, [r0, r4]
 617 0492 0246     		mov r2, r0
 618 0494 1204     		lsls r2, r2, # 16
 619 0496 120C     		lsrs r2, r2, # 16
 620 0498 000C     		lsrs r0, r0, # 16
 621              		
 622              	
 623 049a 194D     	        ldr r5, = x
 624 049c 194E     		ldr r6, = y
 625 049e 2A60     		str r2, [r5]
 626 04a0 3060     		str r0, [r6]
 627              		
 628              		
 629 04a2 194D     		ldr r5, = tim3_ch1
 630 04a4 194E     		ldr r6, = tim3_ch2
 631 04a6 1A4F     		ldr r7, = tim14_ch1
 632 04a8 1A4C     		ldr r4, = 3000
 633 04aa 6243     		muls r2, r2, r4
 634 04ac 6043     		muls r0, r0, r4
 635 04ae D213     		asrs r2, r2, # 15       @x
 636 04b0 C013     		asrs r0, r0, # 15       @y
 637 04b2 0024     		movs r4, # 0
 638              	
 639 04b4 3C60     		str r4, [r7]
 640 04b6 3260     		str r2, [r6]
 641 04b8 2860     		str r0, [r5]
 642              			
 643 04ba 18E0     		b __svpwm_fanhui
 644              	__xiangwei_300_360:
 645 04bc 184A     	        ldr r2, = 7500
 646 04be A41A     		subs r4, r4, r2
 647 04c0 A400     		lsls r4, r4, # 2
 648 04c2 0E48     		ldr r0, = zheng_xian_biao1
 649 04c4 0059     		ldr r0, [r0, r4]
 650 04c6 0246     		mov r2, r0
 651 04c8 1204     		lsls r2, r2, # 16
 652 04ca 120C     		lsrs r2, r2, # 16
ARM GAS  1.s 			page 13


 653 04cc 000C     		lsrs r0, r0, # 16
 654              		
 655              		
 656              	
 657 04ce 0C4D     	        ldr r5, = x
 658 04d0 0C4E     		ldr r6, = y
 659 04d2 2A60     		str r2, [r5]
 660 04d4 3060     		str r0, [r6]
 661              		
 662              		
 663              	
 664 04d6 0C4D     		ldr r5, = tim3_ch1
 665 04d8 0C4E     		ldr r6, = tim3_ch2
 666 04da 0D4F     		ldr r7, = tim14_ch1
 667 04dc 0D4C     		ldr r4, = 3000
 668 04de 6243     		muls r2, r2, r4
 669 04e0 6043     		muls r0, r0, r4
 670 04e2 D213     		asrs r2, r2, # 15       @x
 671 04e4 C013     		asrs r0, r0, # 15       @y
 672 04e6 0024     		movs r4, # 0
 673              	
 674 04e8 3A60     	        str r2, [r7]
 675 04ea 3060     		str r0, [r6]
 676 04ec 2C60     		str r4, [r5]
 677              	__svpwm_fanhui:	
 678 04ee FEBD     		pop {r1-r7,pc}
 679              	
 680 04f0 DC050000 		.ltorg
 680      2C000020 
 680      A0030000 
 680      F0000000 
 680      BC000020 
 681              	__jisuan_cos_sin:
 682              		@入口R0=角度 （-18000到+18000）
 683              		@出口R0=COS，R1=SIN
 684 0524 FCB5     		push {r2-r7,lr}
 685 0526 1849     		ldr r1, = 18000
 686 0528 8842     		cmp r0, r1
 687 052a 02D9     		bls __xiaoyu_180
 688 052c 401A     		subs r0, r0, r1
 689 052e 0127     		movs r7, # 1
 690 0530 00E0     		b __js_cos_sin
 691              	__xiaoyu_180:
 692 0532 0027     		movs r7, # 0
 693              	__js_cos_sin:	
 694 0534 1549     		ldr r1, = 9000
 695 0536 164A     		ldr r2, = 51471
 696 0538 0000     		movs r0, r0
 697 053a 03D5     		bpl __jisuan_jiaodu_bushi0
 698 053c C043     		mvns r0, r0
 699 053e 0130     		adds r0, r0, # 1
 700 0540 0124     		movs r4, # 1
 701 0542 00E0     		b __jiance_chao90
 702              	__jisuan_jiaodu_bushi0:
 703 0544 0024     		movs r4, # 0
 704              	__jiance_chao90:
 705 0546 8842     		cmp r0, r1
ARM GAS  1.s 			page 14


 706 0548 03D9     		bls __xiaoyu_90
 707 054a 0F4E     		ldr r6, = 18000
 708 054c 301A     		subs r0, r6, r0
 709 054e 0126     		movs r6, # 1
 710 0550 00E0     		b __suan_cossin
 711              	__xiaoyu_90:
 712 0552 0026     		movs r6, # 0
 713              	__suan_cossin:
 714 0554 0F4D     		ldr r5, = 10000
 715 0556 6843     		muls r0, r0, r5
 716 0558 00F0B7F9 		bl _chufa
 717 055c 5043     		muls r0, r0, r2
 718 055e 2946     		mov r1, r5
 719 0560 00F0B3F9 		bl _chufa
 720 0564 012C     		cmp r4, # 1
 721 0566 01D1     		bne __suan_cos_sin1
 722 0568 C043     		mvns r0, r0
 723 056a 0130     		adds r0, r0, # 1
 724              	__suan_cos_sin1:
 725 056c 00F059F8 		bl __cordic_cos_sin
 726 0570 012E     		cmp r6, # 1
 727 0572 01D1     		bne __cos_sin_fanhui
 728 0574 C043     		mvns r0, r0
 729 0576 0130     		adds r0, r0, # 1
 730              	__cos_sin_fanhui:
 731 0578 012F     		cmp r7, # 1
 732 057a 03D1     		bne __cossin_fh
 733 057c C043     		mvns r0, r0
 734 057e C943     		mvns r1, r1
 735 0580 0130     		adds r0, r0, # 1
 736 0582 0131     		adds r1, r1, # 1
 737              	__cossin_fh:	
 738 0584 FCBD     		pop {r2-r7,pc}
 739 0586 00005046 		.ltorg
 739      00002823 
 739      00000FC9 
 739      00001027 
 739      0000
 740              		
 741              	__xian_shi_jiao_du:
 742              		@入口R0=角度
 743 0598 1FB5     		push {r0-r4,lr}
 744 059a 0446     		mov r4, r0
 745 059c 8F20     		movs r0, # 0x8f
 746 059e 4D49     		ldr r1, = jiaodufuhao
 747 05a0 0122     		movs r2, # 1
 748 05a2 00F02DF9 		bl _lcdxianshi
 749              	
 750 05a6 2400     		movs r4, r4
 751 05a8 07D5     		bpl __jiaodu_bu_shi_zheng
 752 05aa 8820     		movs r0, # 0x88
 753 05ac 4A49     		ldr r1, = _fu
 754 05ae 0122     		movs r2, # 1
 755 05b0 00F026F9 		bl _lcdxianshi
 756 05b4 E443     		mvns r4, r4
 757 05b6 0134     		adds r4, r4, # 1
 758 05b8 04E0     		b __xian_shi_jiaodu
ARM GAS  1.s 			page 15


 759              	__jiaodu_bu_shi_zheng:
 760 05ba 8820     		movs r0, # 0x88
 761 05bc 4749     		ldr r1, = kong
 762 05be 0122     		movs r2, # 1
 763 05c0 00F01EF9 		bl _lcdxianshi
 764              	__xian_shi_jiaodu:
 765 05c4 2046     		mov r0, r4
 766 05c6 0621     		movs r1, # 6
 767 05c8 454A     		ldr r2, = asciimabiao
 768 05ca 0323     		movs r3, # 3
 769 05cc 00F064F9 		bl _zhuanascii
 770 05d0 8920     		movs r0, # 0x89
 771 05d2 4349     		ldr r1, = asciimabiao
 772 05d4 0622     		movs r2, # 6
 773 05d6 00F013F9 		bl _lcdxianshi
 774 05da 1FBD     		pop {r0-r4,pc}
 775              	
 776              	__xiang_wei_xuan_zhuan:
 777 05dc FCB5     		push {r2-r7,lr}
 778              		@R0=R,R1=I
 779 05de 0346     		mov r3, r0
 780 05e0 0846     		mov r0, r1
 781 05e2 404C     		ldr r4, = cos_jiaozheng         @cos
 782 05e4 404D     		ldr r5, = sin_jiaozheng         @sin
 783 05e6 2468     		ldr r4, [r4]
 784 05e8 2D68     		ldr r5, [r5]
 785 05ea 002C     		cmp r4, # 0
 786 05ec 04D1     		bne __xuanzhuan_fangxiang_jiance
 787 05ee 002D     		cmp r5, # 0
 788 05f0 02D1     		bne __xuanzhuan_fangxiang_jiance
 789 05f2 0146     		mov r1, r0
 790 05f4 1846     		mov r0, r3
 791 05f6 FCBD     		pop {r2-r7,pc}
 792              	__xuanzhuan_fangxiang_jiance:
 793 05f8 2400     		movs r4, r4
 794 05fa 03D5     		bpl __xuan_zhuan_xiang_wei
 795 05fc 2646     		mov r6, r4
 796 05fe 2F46     		mov r7, r5
 797 0600 3C46     		mov r4, r7
 798 0602 3546     		mov r5, r6
 799              	__xuan_zhuan_xiang_wei:
 800 0604 2646     		mov r6, r4
 801 0606 2F46     		mov r7, r5
 802 0608 5C43     		muls r4, r4, r3         @x*cos
 803 060a 4643     		muls r6, r6, r0         @y*cos
 804 060c 5D43     		muls r5, r5, r3         @x*sin
 805 060e 4743     		muls r7, r7, r0         @y*sin
 806 0610 E413     		asrs r4, r4, # 15
 807 0612 ED13     		asrs r5, r5, # 15
 808 0614 F613     		asrs r6, r6, # 15
 809 0616 FF13     		asrs r7, r7, # 15
 810              	
 811 0618 E41B     		subs r4, r4, r7         @x
 812 061a 7619     		adds r6, r6, r5         @y
 813 061c 3146     		mov r1, r6		@i
 814 061e 2046     		mov r0, r4		@r
 815 0620 FCBD     		pop {r2-r7,pc}
ARM GAS  1.s 			page 16


 816              	__cordic_cos_sin:
 817              		@入口R0
 818              		@出口R0=COS，R1=SIN
 819              		@ x= 0x4dba
 820              		@ r1=x,r2=y,r0=z,r4=d,r5=k,r6=cordic_mabiao
 821              	
 822 0622 FCB5     		push {r2-r7,lr}
 823 0624 4246     		mov r2, r8
 824 0626 4B46     		mov r3, r9
 825 0628 0CB4     		push {r2-r3}
 826 062a 0025     		movs r5, # 0
 827 062c 2A46     		mov r2, r5
 828 062e 2C46     		mov r4, r5
 829 0630 2E49     		ldr r1, = 0x4dba
 830              	cordicxunhuan:			 @ 循环
 831 0632 C413     		asrs r4, r0, # 15
 832              		@ x
 833 0634 1746     		mov r7, r2
 834 0636 2A41     		asrs r2, r2, r5
 835 0638 6240     		eors r2, r2, r4
 836 063a 121B     		subs r2, r2, r4
 837 063c 8B1A     		subs r3, r1, r2
 838              		@ y
 839 063e 0E46     		mov r6, r1
 840 0640 2941     		asrs r1, r1, r5
 841 0642 6140     		eors r1, r1, r4
 842 0644 091B     		subs r1, r1, r4
 843 0646 7F18     		adds r7, r7, r1
 844              		@ z
 845 0648 294E     		ldr r6, = cordic_yong_atan_biao
 846 064a AA00     		lsls r2, r5, # 2
 847 064c B158     		ldr r1, [r6, r2]
 848 064e 6140     		eors r1, r1, r4
 849 0650 091B     		subs r1, r1, r4
 850 0652 401A     		subs r0, r0, r1
 851 0654 1946     		mov r1, r3
 852 0656 3A46     		mov r2, r7
 853 0658 0135     		adds r5, # 1
 854 065a 102D     		cmp r5, # 16
 855 065c E9D1     		bne cordicxunhuan
 856 065e 1846     		mov r0, r3
 857 0660 3946     		mov r1, r7
 858 0662 0CBC     		pop {r2-r3}
 859 0664 9046     		mov r8, r2
 860 0666 9946     		mov r9, r3
 861 0668 FCBD     		pop {r2-r7,pc}
 862              	__atan2_ji_suan:
 863              		@入口R0=实部，R1=虚部，结果=R0
 864 066a FCB5     		push {r2-r7,lr}
 865 066c 4246     		mov r2, r8
 866 066e 04B4     		push {r2}
 867 0670 204B     		ldr r3, = cordic_yong_cos_sin
 868 0672 0A22     		movs r2, # 10
 869 0674 5043     		muls r0, r0, r2
 870 0676 5143     		muls r1, r1, r2
 871 0678 0022     		movs r2, # 0
 872 067a 9046     		mov r8, r2
ARM GAS  1.s 			page 17


 873 067c 1E4C     		ldr r4, = 9000
 874 067e E403     		lsls r4, r4, # 15
 875              	__cordic_atan2_xun_huan:
 876              	__du_cos_sin:
 877 0680 1D68     		ldr r5, [r3]	@cos
 878 0682 0433     		adds r3, r3, # 4
 879 0684 2F46     		mov r7, r5
 880 0686 1E68     		ldr r6, [r3]	@sin
 881 0688 0433     		adds r3, r3, # 4
 882 068a 3246     		mov r2, r6
 883 068c 4543     		muls r5, r5, r0         @x*cos
 884 068e 4243     		muls r2, r2, r0         @x*sin
 885 0690 4E43     		muls r6, r6, r1         @y*sin
 886 0692 4F43     		muls r7, r7, r1         @y*cos
 887 0694 0900     		movs r1, r1
 888 0696 05D5     		bpl __ni_shi_zhen_zhuan
 889              	__shun_shi_zhen_zhuan:
 890 0698 AD1B     		subs r5, r5, r6
 891 069a BF18     		adds r7, r7, r2
 892 069c 4646     		mov r6, r8
 893 069e 3619     		adds r6, r6, r4
 894 06a0 B046     		mov r8, r6
 895 06a2 04E0     		b __xuan_zhuan_wan
 896              	__ni_shi_zhen_zhuan:
 897 06a4 AD19     		adds r5, r5, r6
 898 06a6 BF1A     		subs r7, r7, r2
 899 06a8 4646     		mov r6, r8
 900 06aa 361B     		subs r6, r6, r4
 901 06ac B046     		mov r8, r6
 902              	__xuan_zhuan_wan:
 903 06ae 114E     		ldr r6, = cordic_yong_cos_sin
 904 06b0 2022     		movs r2, # 32
 905 06b2 9200     		lsls r2, r2, # 2
 906 06b4 B618     		adds r6, r6, r2
 907 06b6 AD13     		asrs r5, r5, # 14
 908 06b8 BF13     		asrs r7, r7, # 14
 909 06ba 2846     		mov r0, r5
 910 06bc 3946     		mov r1, r7
 911 06be 6408     		lsrs r4, r4, # 1	@旋转
 912 06c0 B342     		cmp r3,	r6
 913 06c2 DDD1     		bne __cordic_atan2_xun_huan
 914 06c4 4046     		mov r0, r8
 915 06c6 C043     		mvns r0, r0
 916 06c8 0130     		adds r0, r0, # 1
 917 06ca C013     		asrs r0, r0, # 15      @除32768等于角度
 918 06cc 04BC     		pop {r2}
 919 06ce 9046     		mov r8, r2
 920 06d0 FCBD     		pop {r2-r7,pc}
 921 06d2 00001900 		.ltorg
 921      00001400 
 921      00001000 
 921      00000000 
 921      0020F800 
 922              	
 923              	
 924              	
 925              	__xiangwei_jiaozheng:
ARM GAS  1.s 			page 18


 926 06fc 3FB5     		push {r0-r5,lr}
 927 06fe 2648     		ldr r0, = jiaodu_jiaozheng
 928 0700 2649     		ldr r1, = 9000
 929 0702 0068     		ldr r0, [r0]
 930 0704 264A     		ldr r2, = 51471
 931 0706 0000     		movs r0, r0
 932 0708 03D5     		bpl __jiaozheng_jiaodu_bushi0
 933 070a C043     		mvns r0, r0
 934 070c 0130     		adds r0, r0, # 1
 935 070e 0124     		movs r4, # 1
 936 0710 00E0     		b __ji_suan_jiaozheng_jiaodu
 937              	__jiaozheng_jiaodu_bushi0:
 938 0712 0024     		movs r4, # 0
 939              	__ji_suan_jiaozheng_jiaodu:
 940 0714 234D     		ldr r5, = 10000
 941 0716 6843     		muls r0, r0, r5
 942 0718 00F0D7F8 		bl _chufa
 943 071c 5043     		muls r0, r0, r2
 944 071e 2946     		mov r1, r5
 945 0720 00F0D3F8 		bl _chufa
 946 0724 012C     		cmp r4, # 1
 947 0726 01D1     		bne __suan_cos_sin
 948 0728 C043     		mvns r0, r0
 949 072a 0130     		adds r0, r0, # 1
 950              	__suan_cos_sin:
 951 072c FFF779FF 		bl __cordic_cos_sin
 952 0730 1D4A     		ldr r2, = cos_jiaozheng
 953 0732 1E4B     		ldr r3, = sin_jiaozheng
 954 0734 1060     		str r0, [r2]
 955 0736 1960     		str r1, [r3]
 956 0738 3FBD     		pop {r0-r5,pc}
 957              	
 958              	
 959              	__chuan_gan_qi_lvbo:
 960              		@50*4偏移=0XC8
 961 073a FCB5     		push {r2-r7,lr}
 962 073c 4446     		mov r4, r8
 963 073e 4D46     		mov r5, r9
 964 0740 30B4     		push {r4-r5}
 965 0742 1B48     		ldr r0, = 0x200001b4 @sin_zheng
 966 0744 1B49     		ldr r1, = 0x2000027c @sin_fu
 967 0746 1C4A     		ldr r2, = 0x200001b0 @cos_zheng
 968 0748 1C4B     		ldr r3, = 0x20000278 @cos_fu
 969 074a 0468     		ldr r4, [r0]
 970 074c 0D68     		ldr r5, [r1]
 971 074e 1668     		ldr r6, [r2]
 972 0750 1F68     		ldr r7, [r3]
 973 0752 641B     		subs r4, r4, r5
 974 0754 F61B     		subs r6, r6, r7
 975 0756 B046     		mov r8, r6
 976 0758 A146     		mov r9, r4
 977 075a FFF7CFFF 		bl __xiangwei_jiaozheng
 978 075e 3046     		mov r0, r6
 979 0760 2146     		mov r1, r4
 980 0762 FFF73BFF 		bl __xiang_wei_xuan_zhuan
 981 0766 0646     		mov r6, r0
 982 0768 0C46     		mov r4, r1
ARM GAS  1.s 			page 19


 983 076a 2146     		mov r1, r4
 984 076c 144A     		ldr r2, = lvboqizhizhen
 985 076e 1548     		ldr r0, =lvboqihuanchong
 986 0770 00F032F8 		bl __lv_bo_qi
 987 0774 3146     		mov r1, r6
 988 0776 0446     		mov r4, r0
 989 0778 134A     		ldr r2, = lvboqizhizhen1
 990 077a 1448     		ldr r0, = lvboqihuanchong1
 991 077c 00F02CF8 		bl __lv_bo_qi
 992 0780 2146     		mov r1, r4
 993 0782 134A     		ldr r2, = cos_cha
 994 0784 134B     		ldr r3, = sin_cha
 995 0786 4446     		mov r4, r8
 996 0788 4D46     		mov r5, r9
 997 078a 1460     		str r4, [r2]
 998 078c 1D60     		str r5, [r3]
 999 078e 30BC     		pop {r4-r5}
 1000 0790 A046     		mov r8, r4
 1001 0792 A946     		mov r9, r5
 1002 0794 FCBD     		pop {r2-r7,pc}
 1003 0796 0000FC00 		.ltorg
 1003      00202823 
 1003      00000FC9 
 1003      00001027 
 1003      0000F800 
 1004              	
 1005              	__lv_bo_qi:
 1006              		@地址顺序：指针，累加值，缓冲区
 1007              		@入口R0=缓冲区，R1=数据, r2,=指针
 1008              		@出口R0
 1009 07d8 78B5     		push {r3-r6,lr}
 1010 07da 8024     		movs r4, # 128
 1011 07dc 1568     		ldr r5, [r2]
 1012 07de 2B46     		mov r3, r5
 1013 07e0 AB00     		lsls r3, r5, # 2
 1014 07e2 C658     		ldr r6, [r0, r3]
 1015 07e4 C150     		str r1, [r0, r3]
 1016 07e6 0135     		adds r5, r5, # 1
 1017 07e8 1560     		str r5, [r2]
 1018 07ea A542     		cmp r5, r4
 1019 07ec 01D1     		bne __huanchong_leijia
 1020 07ee 0025     		movs r5, # 0
 1021 07f0 1560     		str r5, [r2]
 1022              	__huanchong_leijia:
 1023 07f2 0438     		subs r0, r0, # 4
 1024 07f4 0568     		ldr r5, [r0]
 1025 07f6 4919     		adds r1, r1, r5
 1026 07f8 891B     		subs r1, r1, r6
 1027 07fa 0160     		str r1, [r0]
 1028 07fc C811     		asrs r0, r1, # 7	@128
 1029 07fe 78BD     		pop {r3-r6,pc}
 1030              		.ltorg
 1031              	
 1032              	
 1033              		
 1034              	
 1035              	_lcdxianshi:		  		@r0=LCD位置，r1=数据地址，r2=长度
ARM GAS  1.s 			page 20


 1036 0800 1FB5     		push {r0-r4,lr}
 1037 0802 0C46     		mov r4, r1
 1038              	
 1039 0804 0021     		movs r1, # 0
 1040 0806 00F00EF8 		bl _xielcd
 1041              	
 1042 080a 0121     		movs r1, # 1
 1043 080c 0023     		movs r3, # 0
 1044              	_lcdxianshixunhuan:
 1045 080e E05C     		ldrb r0, [r4,r3]
 1046 0810 00F009F8 		bl _xielcd
 1047 0814 0133     		adds r3, r3, # 1
 1048 0816 9342     		cmp r3, r2
 1049 0818 F9D1     		bne _lcdxianshixunhuan
 1050 081a 1FBD     		pop {r0-r4,pc}
 1051              	
 1052              	_lcdyanshi:
 1053 081c 20B5     		push {r5,lr}
 1054 081e BC4D     		ldr r5, = 0x1000
 1055              	_lcdyanshixunhuan:
 1056 0820 013D     		subs r5, r5, # 1
 1057 0822 FDD1     		bne _lcdyanshixunhuan
 1058 0824 20BD     		pop {r5,pc}
 1059              	
 1060              	_xielcd:				@入R0=8位,r1=0命令,r1=1数据
 1061 0826 3FB5     		push {r0-r5,lr}
 1062 0828 0246     		mov r2, r0
 1063 082a 1209     		lsrs r2, r2, # 4
 1064 082c 9200     		lsls r2, r2, # 2	@ 高四位
 1065 082e 0007     		lsls r0, r0, # 28
 1066 0830 800E     		lsrs r0, r0, # 26	@ 低四位
 1067 0832 C907     		lsls r1, r1, # 31
 1068 0834 01D5     		bpl __lcd_ming_ling
 1069              	__lcd_shu_ju:
 1070 0836 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 1071 0838 00E0     		b __xie_lcd_shu_ju
 1072              	__lcd_ming_ling:
 1073 083a 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 1074              	__xie_lcd_shu_ju:
 1075 083c 0146     		mov r1, r0
 1076 083e D218     		adds r2, r2, r3
 1077 0840 1000     		movs r0, r2
 1078 0842 00F00BF8 		bl __74hc595
 1079 0846 0238     		subs r0, r0, # 0x02
 1080 0848 00F008F8 		bl __74hc595
 1081 084c 0846     		mov r0, r1
 1082 084e C018     		adds r0, r0, r3
 1083 0850 00F004F8 		bl __74hc595
 1084 0854 0238     		subs r0, r0, # 0x02
 1085 0856 00F001F8 		bl __74hc595
 1086 085a 3FBD     		pop {r0-r5,pc}
 1087              	
 1088              	__74hc595:				@ 入R0=8位
 1089 085c FFB5     		push {r0-r7,lr}
 1090 085e AD4E     		ldr r6, = 0x48000000
 1091 0860 0125     		movs r5, # 0x01		@ SRCLK
 1092 0862 0222     		movs r2, # 0x02		@ RCLK
ARM GAS  1.s 			page 21


 1093 0864 0423     		movs r3, # 0x04		@ SER
 1094 0866 1824     		movs r4, # 24
 1095              	__595_yiweixunhuan:
 1096 0868 B262     		str r2, [r6, # 0x28]	@ rclk=0
 1097 086a B562     		str r5, [r6, # 0x28]	@ srclk=0
 1098              		@movs r7, # 0xff
 1099 086c AA4F     		ldr r7, = 0x1ff
 1100              	__595_yanshi:
 1101 086e 013F     		subs r7, r7, # 1
 1102 0870 FDD1     		bne __595_yanshi
 1103 0872 0146     		mov r1, r0
 1104 0874 A140     		lsls r1, r1, r4
 1105 0876 01D5     		bpl __ser_0
 1106              	__ser_1:
 1107 0878 B361     		str r3, [r6, # 0x18]	@ ser=1
 1108 087a 00E0     		b __595_yiwei
 1109              	__ser_0:
 1110 087c B362     		str r3, [r6, # 0x28]	@ ser=0
 1111              	__595_yiwei:
 1112 087e B561     		str r5, [r6, # 0x18]
 1113              		@movs r7, # 0xff
 1114 0880 A54F     		ldr r7, = 0x1ff
 1115              	__595_yanshi1:
 1116 0882 013F     		subs r7, r7, # 1
 1117 0884 FDD1     		bne __595_yanshi1
 1118 0886 0134     		adds r4, r4, # 1
 1119 0888 202C     		cmp r4, # 32
 1120 088a EDD1     		bne __595_yiweixunhuan
 1121 088c B261     		str r2, [r6, # 0x18]	@ rclk=1
 1122              		@movs r7, # 0xff
 1123 088e A24F     		ldr r7, = 0x1ff
 1124              	__595_yanshi2:
 1125 0890 013F     		subs r7, r7, # 1
 1126 0892 FDD1     		bne __595_yanshi2
 1127 0894 B262     		str r2, [r6, # 0x28]	@ rclk = 0
 1128 0896 FFBD     		pop {r0-r7,pc}
 1129              		
 1130              	
 1131              	_zhuanascii:						@ 16进制转ASCII
 1132              		@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 1133 0898 FFB5     		push {r0-r7,lr}
 1134 089a 1F46     		mov r7, r3
 1135 089c 0546     		mov r5, r0
 1136 089e 0E46     		mov r6, r1
 1137 08a0 0A21     		movs r1, # 10
 1138              	_xunhuanqiuma:
 1139 08a2 00F012F8 		bl _chufa
 1140 08a6 0446     		mov r4, r0
 1141 08a8 4C43     		muls r4, r1
 1142 08aa 2B1B     		subs r3, r5, r4
 1143 08ac 3033     		adds r3, r3, # 0x30
 1144 08ae 0546     		mov r5, r0
 1145 08b0 013E     		subs r6, r6, # 1
 1146 08b2 08D0     		beq _qiumafanhui
 1147 08b4 BE42     		cmp r6, r7
 1148 08b6 02D1     		bne _meidaoxiaoshudian
 1149 08b8 2E24     		movs r4, # 0x2e		@小数点
ARM GAS  1.s 			page 22


 1150 08ba 9455     		strb r4, [r2,r6]	@插入小数点
 1151 08bc 013E     		subs r6, r6, # 1
 1152              	_meidaoxiaoshudian:
 1153 08be 9355     		strb r3, [r2,r6]
 1154 08c0 3600     		movs r6, r6
 1155 08c2 EED1     		bne _xunhuanqiuma
 1156 08c4 FFBD     		pop {r0-r7,pc}
 1157              	_qiumafanhui:
 1158 08c6 9355     		strb r3, [r2, r6]
 1159 08c8 FFBD     		pop {r0-r7,pc}
 1160              	
 1161              	
 1162              	
 1163              		
 1164              	
 1165              	_chufa:				@软件除法
 1166              		@ r0 除以 r1 等于 商(r0)
 1167 08ca 1EB5     		push {r1-r4,lr}
 1168 08cc 0028     		cmp r0, # 0
 1169 08ce 0ED0     		beq _chufafanhui
 1170 08d0 0029     		cmp r1, # 0
 1171 08d2 0CD0     		beq _chufafanhui
 1172 08d4 0246     		mov r2, r0
 1173 08d6 0123     		movs r3, # 1
 1174 08d8 DB07     		lsls r3, r3, # 31
 1175 08da 0020     		movs r0, # 0
 1176 08dc 0446     		mov r4, r0
 1177              	_chufaxunhuan:
 1178 08de 5200     		lsls r2, r2, # 1
 1179 08e0 6441     		adcs r4, r4, r4
 1180 08e2 8C42     		cmp r4, r1
 1181 08e4 01D3     		bcc _chufaweishubudao0
 1182 08e6 C018     		adds r0, r0, r3
 1183 08e8 641A     		subs r4, r4, r1
 1184              	_chufaweishubudao0:
 1185 08ea 5B08     		lsrs r3, r3, # 1
 1186 08ec F7D1     		bne _chufaxunhuan
 1187              	_chufafanhui:
 1188 08ee 1EBD     		pop {r1-r4,pc}
 1189              	__chufa64:
 1190              		@64位除32位
 1191              		@ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1192 08f0 F8B5     		push {r3-r7,lr}
 1193 08f2 002A     		cmp r2, # 0
 1194 08f4 1DD0     		beq __chu_fa64_fan_hui0
 1195 08f6 0029     		cmp r1, # 0
 1196 08f8 01D1     		bne __chu_fa64_ji_suan
 1197 08fa 0028     		cmp r0, # 0
 1198 08fc 19D0     		beq __chu_fa64_fan_hui0
 1199              	__chu_fa64_ji_suan:
 1200 08fe 0024     		movs r4, # 0
 1201 0900 2746     		mov r7, r4
 1202 0902 2346     		mov r3, r4
 1203 0904 2546     		mov r5, r4
 1204 0906 0126     		movs r6, # 1
 1205 0908 F607     		lsls r6, r6, # 31
 1206              	__chu_fa64_xun_huan:
ARM GAS  1.s 			page 23


 1207 090a 4900     		lsls r1, r1, # 1
 1208 090c 4041     		adcs r0, r0, r0
 1209 090e 6441     		adcs r4, r4, r4
 1210 0910 9442     		cmp r4, r2
 1211 0912 02D3     		bcc __chu_fa_yi_wei
 1212 0914 9B19     		adds r3, r3, r6
 1213 0916 7D41     		adcs r5, r5, r7
 1214 0918 A41A     		subs r4, r4, r2
 1215              	__chu_fa_yi_wei:
 1216 091a 3600     		movs r6, r6
 1217 091c 04D0     		beq __di_yi_wei
 1218 091e 7608     		lsrs r6, r6, # 1        @高32位移位
 1219 0920 F3D1     		bne __chu_fa64_xun_huan
 1220 0922 0127     		movs r7, # 1
 1221 0924 FF07     		lsls r7, r7, # 31
 1222 0926 F0E7     		b __chu_fa64_xun_huan
 1223              	__di_yi_wei:	            @低32位移位
 1224 0928 7F08     		lsrs r7, r7, # 1
 1225 092a EED1     		bne __chu_fa64_xun_huan
 1226 092c 1846     		mov r0, r3
 1227 092e 2946     		mov r1, r5
 1228 0930 F8BD     		pop {r3-r7,pc}
 1229              	__chu_fa64_fan_hui0:
 1230 0932 0020     		movs r0, # 0
 1231 0934 0021     		movs r1, # 0
 1232 0936 F8BD     		pop {r3-r7,pc}
 1233              	__chengfa:
 1234              		@入R0 乘以 R1
 1235              		@出 R0高32 ， R1低32
 1236              		@0xffffffff*0xffffffff
 1237              		@4        F F F E 0 0 0 1			@4
 1238              		@3                F F F E 0 0 0 1		@3
 1239              		@2                F F F E 0 0 0 1		@2
 1240              		@1                        F F F E 0 0 0 1	@1
 1241              		@         F F F F F F F E 0 0 0 0 0 0 0 1
 1242 0938 FCB5     		push {r2-r7,lr}
 1243 093a 0028     		cmp r0, # 0
 1244 093c 1ED0     		beq __cheng_fa_fan_hui
 1245 093e 0029     		cmp r1, # 0
 1246 0940 1CD0     		beq __cheng_fa_fan_hui
 1247              	__ji_suan_cheng_fa:
 1248 0942 0246     		mov r2, r0
 1249 0944 0B46     		mov r3, r1
 1250 0946 000C     		lsrs r0, r0, # 16	@高16
 1251 0948 1204     		lsls r2, r2, # 16	@ 低16
 1252 094a 120C     		lsrs r2, r2, # 16
 1253 094c 090C     		lsrs r1, r1, # 16	@高16
 1254 094e 1B04     		lsls r3, r3, # 16	@低16
 1255 0950 1B0C     		lsrs r3, r3, # 16
 1256 0952 1446     		mov r4, r2
 1257 0954 0546     		mov r5, r0
 1258 0956 5A43     		muls r2, r2, r3		@1
 1259 0958 5843     		muls r0, r0, r3		@2
 1260 095a 4C43     		muls r4, r4, r1		@3
 1261 095c 4D43     		muls r5, r5, r1		@4
 1262 095e 0646     		mov r6, r0
 1263 0960 2746     		mov r7, r4
ARM GAS  1.s 			page 24


 1264 0962 0004     		lsls r0, r0, # 16	@2低32
 1265 0964 2404     		lsls r4, r4, # 16	@3低32
 1266 0966 360C     		lsrs r6, r6, # 16	@2高32
 1267 0968 3F0C     		lsrs r7, r7, # 16	@3高32
 1268 096a 0021     		movs r1, # 0
 1269 096c 1218     		adds r2, r2, r0		@低32
 1270 096e 4E41     		adcs r6, r6, r1		@高32
 1271 0970 1219     		adds r2, r2, r4
 1272 0972 7E41     		adcs r6, r6, r7
 1273 0974 7619     		adds r6, r6, r5
 1274 0976 3046     		mov r0, r6
 1275 0978 1146     		mov r1, r2
 1276 097a FCBD     		pop {r2-r7,pc}
 1277              	__cheng_fa_fan_hui:
 1278 097c 0020     		movs r0, # 0
 1279 097e 0021     		movs r1, # 0
 1280 0980 FCBD     		pop {r2-r7,pc}
 1281              	__dai_yu_shu_chufa:	                         @软件除法
 1282              		@ r0 除以 r1 等于 商(r0)余R1
 1283 0982 1CB5     		push {r2-r4,lr}
 1284 0984 0028     		cmp r0, # 0
 1285 0986 0ED0     		beq __dai_yu_shu_chufafanhui
 1286 0988 0029     		cmp r1, # 0
 1287 098a 0CD0     		beq __dai_yu_shu_chufafanhui
 1288 098c 0246     		mov r2, r0
 1289 098e 0123     		movs r3, # 1
 1290 0990 DB07     		lsls r3, r3, # 31
 1291 0992 0020     		movs r0, # 0
 1292 0994 0446     		mov r4, r0
 1293              	__dai_yu_shu_chufaxunhuan:
 1294 0996 5200     		lsls r2, r2, # 1
 1295 0998 6441     		adcs r4, r4, r4
 1296 099a 8C42     		cmp r4, r1
 1297 099c 01D3     		bcc __dai_yu_shu_chufaweishubudao0
 1298 099e C018     		adds r0, r0, r3
 1299 09a0 641A     		subs r4, r4, r1
 1300              	__dai_yu_shu_chufaweishubudao0:
 1301 09a2 5B08     		lsrs r3, r3, # 1
 1302 09a4 F7D1     		bne __dai_yu_shu_chufaxunhuan
 1303              	__dai_yu_shu_chufafanhui:
 1304 09a6 1CBD     		        pop {r2-r4,pc}
 1305              	_nmi_handler:
 1306 09a8 7047     		bx lr
 1307              	_hard_fault:
 1308 09aa 7047     		bx lr
 1309              	_svc_handler:
 1310 09ac 7047     		bx lr
 1311              	_pendsv_handler:
 1312 09ae 7047     		bx lr
 1313              	_systickzhongduan:
 1314 09b0 F0B5     		push {r4-r7,lr}
 1315 09b2 4346     		mov r3, r8
 1316 09b4 4C46     		mov r4, r9
 1317 09b6 5546     		mov r5, r10
 1318 09b8 5E46     		mov r6, r11
 1319 09ba 6746     		mov r7, r12
 1320 09bc F8B4     		push {r3-r7}
ARM GAS  1.s 			page 25


 1321 09be 5748     		ldr r0, = 0xe0000d04
 1322 09c0 5749     		ldr r1, = 0x02000000
 1323 09c2 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 1324              	
 1325              		
 1326 09c4 FFF7B9FE 		bl __chuan_gan_qi_lvbo
 1327 09c8 564A     		ldr r2, = cos
 1328 09ca 574B     		ldr r3, = sin
 1329 09cc 1060     		str r0, [r2]		@r
 1330 09ce 1960     		str r1, [r3]		@i
 1331              	
 1332 09d0 FFF74BFE 		bl __atan2_ji_suan
 1333 09d4 554C     		ldr r4, = jiaodu
 1334 09d6 564D     		ldr r5, = jiaodu_a
 1335 09d8 0200     		movs r2, r0
 1336 09da 03D5     		bpl __jiaodu_bushi_fu
 1337 09dc 5549     		ldr r1, = 36000
 1338 09de D243     		mvns r2, r2
 1339 09e0 0132     		adds r2, r2, # 1
 1340 09e2 8A1A     		subs r2, r1, r2
 1341              	__jiaodu_bushi_fu:
 1342 09e4 2060     		str r0, [r4]
 1343 09e6 2860     		str r0, [r5]
 1344 09e8 8046     		mov r8, r0
 1345              	
 1346              	@	ldr r1, = jiaodu_360
 1347              	@	str r2, [r1]
 1348              	
 1349 09ea 5348     		ldr r0, = cos_cha
 1350 09ec 5349     		ldr r1, = sin_cha
 1351 09ee 0068     		ldr r0, [r0]
 1352 09f0 0968     		ldr r1, [r1]
 1353 09f2 FFF73AFE 		bl __atan2_ji_suan
 1354 09f6 5249     		ldr r1, = jiaodu_b
 1355 09f8 0860     		str r0, [r1]
 1356 09fa 0200     		movs r2, r0
 1357 09fc 03D5     		bpl ___jiaodu_bushi_fu
 1358 09fe 4D49     		ldr r1, = 36000
 1359 0a00 D243     		mvns r2, r2
 1360 0a02 0132     		adds r2, r2, # 1
 1361 0a04 8A1A     		subs r2, r1, r2
 1362              	___jiaodu_bushi_fu:
 1363 0a06 4F49     		ldr r1, = jiaodu_360
 1364 0a08 0A60     		str r2, [r1]
 1365              	
 1366              	
 1367 0a0a 0746     		mov r7, r0
 1368 0a0c 4046     		mov r0, r8
 1369 0a0e B846     		mov r8, r7
 1370              	
 1371              	__jiaodu_buchang_jisuan:
 1372              	
 1373 0a10 4D4F     		ldr r7, = 18000
 1374 0a12 4546     		mov r5, r8
 1375 0a14 0646     		mov r6, r0
 1376 0a16 761B     		subs r6, r6, r5
 1377 0a18 F643     		mvns r6, r6
ARM GAS  1.s 			page 26


 1378 0a1a 0136     		adds r6, r6, # 1
 1379 0a1c 4B4B     		ldr r3, = 0x200000d0
 1380 0a1e 4C4C     		ldr r4, = 0x200000d4
 1381 0a20 3500     		movs r5, r6
 1382 0a22 02D5     		bpl __bao_cun_jiaodu_cha
 1383 0a24 ED43     		mvns r5, r5
 1384 0a26 0135     		adds r5, r5, # 1
 1385 0a28 FFE7     		b __bao_cun_jiaodu_cha
 1386              	__bao_cun_jiaodu_cha:
 1387 0a2a BD42     		cmp r5, r7
 1388 0a2c 11D8     		bhi __systick_fanhui
 1389 0a2e 1860     		str r0, [r3]
 1390 0a30 2560     		str r5, [r4]
 1391 0a32 484B     		ldr r3, = 0x200000c8
 1392 0a34 1E60     		str r6, [r3]
 1393              	__pid:
 1394 0a36 3746     		mov r7, r6
 1395 0a38 3446     		mov r4, r6
 1396              	__pid_bi_li:
 1397 0a3a 474B     		ldr r3, = 32768         @ KP
 1398 0a3c 5F43     		muls r7, r7, r3
 1399 0a3e FF13     		asrs r7, r7, # 15
 1400              	__pid_ji_fen:
 1401 0a40 434E     		ldr r6, = shang_ci_i
 1402 0a42 464A     		ldr r2, = 20		@ KI
 1403 0a44 3368     		ldr r3, [r6]
 1404 0a46 5443     		muls r4, r4, r2
 1405 0a48 E413     		asrs r4, r4, # 15
 1406 0a4a E418     		adds r4, r4, r3
 1407 0a4c 3460     		str r4, [r6]
 1408              		@	adds r7, r7, r4
 1409              	__zhengzhuan_buchang:
 1410 0a4e 444D     		ldr r5, = jiaodu_jiaozheng
 1411 0a50 2F60     		str r7, [r5]
 1412              	
 1413              	__systick_fanhui:
 1414 0a52 3E4B     		ldr r3, = shangci_jiaodu
 1415 0a54 4846     		mov r0, r9
 1416 0a56 1860     		str r0, [r3]
 1417              	
 1418              	@	b ddjian
 1419              		
 1420              	ddz:
 1421 0a58 424B     		ldr r3, = 100
 1422              	
 1423 0a5a 4348     		ldr r0, = 0x20000024
 1424 0a5c 0168     		ldr r1, [r0]
 1425 0a5e 0131     		adds r1, r1, # 1
 1426 0a60 0160     		str r1, [r0]
 1427 0a62 9942     		cmp r1, r3
 1428 0a64 19D1     		bne zz
 1429 0a66 0021     		movs r1, # 0
 1430 0a68 0160     		str r1, [r0]
 1431              	ddjian:
 1432 0a6a 404D     		ldr r5, = 0x20000028
 1433 0a6c 404F     		ldr r7, = 6000		@jd
 1434 0a6e 2C68     		ldr r4, [r5]
ARM GAS  1.s 			page 27


 1435 0a70 2046     		mov r0, r4
 1436              	@	ldr r0, = 3000 
 1437 0a72 00F01DF8 		bl __dianji
 1438 0a76 3F4B     		ldr r3, = 0x20000040
 1439 0a78 1968     		ldr r1, [r3]
 1440 0a7a 0129     		cmp r1, # 1
 1441 0a7c 06D1     		bne  ddz1
 1442 0a7e 013C     		subs r4, r4, # 1
 1443 0a80 2C60     		str r4, [r5]
 1444 0a82 002C     		cmp r4, # 0
 1445 0a84 09D1     		bne zz
 1446 0a86 0021     		movs r1, # 0
 1447 0a88 1960     		str r1, [r3]
 1448 0a8a 06E0     		b zz
 1449              	ddz1:	
 1450 0a8c 0134     		adds r4, r4, # 1
 1451 0a8e 2C60     		str r4, [r5]
 1452 0a90 BC42     		cmp r4, r7
 1453 0a92 02D9     		bls zz
 1454 0a94 374B     		ldr r3, = 0x20000040
 1455 0a96 0121     		movs r1, # 1
 1456 0a98 1960     		str r1, [r3]
 1457              		
 1458              		
 1459              	zz:
 1460 0a9a 3448     		ldr r0, = 0x20000028
 1461 0a9c 0068     		ldr r0, [r0]
 1462 0a9e 00F007F8 		bl __dianji
 1463 0aa2 F8BC     		pop {r3-r7}
 1464 0aa4 9846     		mov r8, r3
 1465 0aa6 A146     		mov r9, r4
 1466 0aa8 AA46     		mov r10, r5
 1467 0aaa B346     		mov r11, r6
 1468 0aac BC46     		mov r12, r7
 1469 0aae F0BD     		pop {r4-r7,pc}
 1470              	
 1471              	__dianji:
 1472              		@r0=入口角度
 1473 0ab0 FFB5     		push {r0-r7,lr}
 1474 0ab2 204A     	        ldr r2, = 36000
 1475 0ab4 304B     		ldr r3, = 32420
 1476 0ab6 234C     		ldr r4, = jiaodu_360
 1477 0ab8 2168     		ldr r1, [r4]
 1478 0aba 511A     		subs r1, r2, r1
 1479 0abc C91A     		subs r1, r1, r3
 1480 0abe 00D5     		bpl ____fei_fu
 1481 0ac0 8918     		adds r1, r1, r2
 1482              	____fei_fu:
 1483 0ac2 2E4C     		ldr r4, = 0x20000058
 1484 0ac4 2160     		str r1, [r4]
 1485 0ac6 0B46     		mov r3, r1
 1486 0ac8 2D4A     		ldr r2, = 24576
 1487 0aca 5343     		muls r3, r3, r2
 1488 0acc DB13     		asrs r3, r3, # 15
 1489 0ace 0146     		mov r1, r0
 1490 0ad0 5143     		muls r1, r1, r2
 1491 0ad2 C913     		asrs r1, r1, # 15
ARM GAS  1.s 			page 28


 1492 0ad4 5B1A     		subs r3, r3, r1
 1493 0ad6 03D5     		bpl __dianji_shiji_dayu_qiwang
 1494 0ad8 DB43     		mvns r3, r3
 1495 0ada 0133     		adds r3, r3, # 1
 1496 0adc C918     		adds r1, r1, r3
 1497 0ade 00E0     		b ____dd
 1498              	__dianji_shiji_dayu_qiwang:
 1499 0ae0 C91A     		subs r1, r1, r3
 1500              	____dd:	
 1501 0ae2 284A     		ldr r2, = 0x20000050
 1502 0ae4 0846     		mov r0, r1
 1503 0ae6 5360     		str r3, [r2, # 0x04]
 1504 0ae8 1060     		str r0, [r2]
 1505 0aea 274E     	        ldr r6, = dianji_shang_ci_i
 1506 0aec 274A     		ldr r2, = 60            @ KI
 1507 0aee 3468     		ldr r4, [r6]
 1508 0af0 5343     		muls r3, r3, r2
 1509 0af2 DB13     		asrs r3, r3, # 15
 1510 0af4 264A     		ldr r2, = 200
 1511 0af6 1B19     		adds r3, r3, r4
 1512 0af8 9342     		cmp r3, r2
 1513 0afa 00D9     		bls __baocun_shangci_i
 1514 0afc 0023     		movs r3, # 0
 1515              	__baocun_shangci_i:	
 1516 0afe 3360     		str r3, [r6]	
 1517 0b00 C018     		adds r0, r0, r3
 1518 0b02 0000     		movs r0, r0
 1519 0b04 01D4     		bmi __dianji_fanhui
 1520 0b06 FFF737FC 		bl __svpwm
 1521              	__dianji_fanhui:	
 1522 0b0a FFBD     		pop {r0-r7,pc}
 1523              		
 1524              	aaa:
 1525 0b0c 7047     		bx lr
 1526 0b0e 00000010 		.ltorg
 1526      00000000 
 1526      0048FF01 
 1526      0000040D 
 1526      00E00000 
 1527              		.end
ARM GAS  1.s 			page 29


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 yjmwxwx
                 1.s:11     .data:0000000000000010 kong
                 1.s:13     .data:0000000000000014 _fu
                 1.s:15     .data:0000000000000015 jiaodu1
                 1.s:17     .data:0000000000000019 jiaodufuhao
                 1.s:20     .data:000000000000001d $d
                 1.s:21     .data:0000000000000020 zheng_xian_biao
                 1.s:24     .data:00000000000000f0 zheng_xian_biao1
                 1.s:27     .data:0000000000001870 cordic_yong_cos_sin
                 1.s:29     .data:00000000000018f0 cordic_yong_atan_biao
                 1.s:32     *ABS*:0000000020001000 STACKINIT
                 1.s:33     *ABS*:0000000020000000 asciimabiao
                 1.s:34     *ABS*:00000000200000b4 dianji_shang_ci_i
                 1.s:35     *ABS*:00000000200000b8 jiaodu_360
                 1.s:36     *ABS*:00000000200000bc x
                 1.s:37     *ABS*:00000000200000c0 y
                 1.s:38     *ABS*:00000000200000c4 dianji_huanxiang
                 1.s:39     *ABS*:00000000200000c8 zhengfan_zhuan
                 1.s:40     *ABS*:00000000200000cc jiaodu_cha
                 1.s:41     *ABS*:00000000200000d0 shangci_jiaodu
                 1.s:42     *ABS*:00000000200000d4 shang_ci_i
                 1.s:43     *ABS*:00000000200000d8 jiaodu_b
                 1.s:44     *ABS*:00000000200000dc jiaodu_a
                 1.s:45     *ABS*:00000000200000e0 jiaodu
                 1.s:46     *ABS*:00000000200000e4 cos
                 1.s:47     *ABS*:00000000200000e8 sin
                 1.s:48     *ABS*:00000000200000ec sin_cha
                 1.s:49     *ABS*:00000000200000f0 cos_cha
                 1.s:50     *ABS*:00000000200000f4 sin_jiaozheng
                 1.s:51     *ABS*:00000000200000f8 cos_jiaozheng
                 1.s:52     *ABS*:00000000200000fc jiaodu_jiaozheng
                 1.s:53     *ABS*:0000000020000100 dianyabiao
                 1.s:54     *ABS*:0000000020000300 lvboqizhizhen
                 1.s:55     *ABS*:0000000020000308 lvboqihuanchong
                 1.s:56     *ABS*:0000000020000510 lvboqizhizhen1
                 1.s:57     *ABS*:0000000020000518 lvboqihuanchong1
                 1.s:58     *ABS*:0000000020000900 lvboqizhizhen2
                 1.s:59     *ABS*:0000000020000908 lvboqihuanchong2
                 1.s:60     *ABS*:0000000020000b10 lvboqizhizhen3
                 1.s:61     *ABS*:0000000020000b18 lvboqihuanchong3
                 1.s:62     *ABS*:0000000040000434 tim3_ch1
                 1.s:63     *ABS*:0000000040000438 tim3_ch2
                 1.s:64     *ABS*:0000000040002034 tim14_ch1
                 1.s:67     .text:0000000000000000 vectors
                 1.s:113    .text:00000000000000b0 _start
                 1.s:1305   .text:00000000000009a8 _nmi_handler
                 1.s:1307   .text:00000000000009aa _hard_fault
                 1.s:1309   .text:00000000000009ac _svc_handler
                 1.s:1311   .text:00000000000009ae _pendsv_handler
                 1.s:1313   .text:00000000000009b0 _systickzhongduan
                 1.s:1524   .text:0000000000000b0c aaa
                            .text:0000000000000000 $d
                 1.s:112    .text:00000000000000b0 $t
                 1.s:115    .text:00000000000000b0 shizhong
                 1.s:122    .text:00000000000000bc denghse
                 1.s:126    .text:00000000000000c2 dengpllguan
ARM GAS  1.s 			page 30


                 1.s:138    .text:00000000000000d6 dengpll
                 1.s:147    .text:00000000000000e0 _waisheshizhong
                 1.s:164    .text:00000000000000ee _neicunqingling
                 1.s:168    .text:00000000000000f4 _neicunqinglingxunhuan
                 1.s:173    .text:00000000000000fa _waishezhongduan
                 1.s:195    .text:0000000000000100 io_she_zhi
                 1.s:235    .text:000000000000011c _adcchushihua
                 1.s:239    .text:0000000000000122 _dengadcjiaozhun
                 1.s:245    .text:000000000000012c _kaiadc
                 1.s:250    .text:0000000000000134 _deng_adc_wen_ding
                 1.s:254    .text:000000000000013a _tongdaoxuanze
                 1.s:269    .text:0000000000000152 _lcdchushihua
                 1.s:1060   .text:0000000000000826 _xielcd
                 1.s:1052   .text:000000000000081c _lcdyanshi
                 1.s:1035   .text:0000000000000800 _lcdxianshi
                 1.s:297    .text:000000000000019a yjmwxwx_yanshi
                 1.s:307    .text:00000000000001aa dmachushihua
                 1.s:339    .text:00000000000001ce _systick
                 1.s:347    .text:00000000000001d8 tim14chushihua
                 1.s:360    .text:00000000000001ee tim3chushihua
                 1.s:377    .text:000000000000020c tim1chushiha
                 1.s:407    .text:000000000000023e ting
                 1.s:1131   .text:0000000000000898 _zhuanascii
                 1.s:465    .text:0000000000000378 __svpwm
                 1.s:464    .text:00000000000002ac $d
                 1.s:467    .text:0000000000000378 $t
                 1.s:1165   .text:00000000000008ca _chufa
                 1.s:474    .text:0000000000000388 __bushi_0_60
                 1.s:482    .text:00000000000003a0 __dianji_xiangwei
                 1.s:483    .text:00000000000003a0 $d
                 1.s:484    .text:00000000000003bc __xiangwei_0_60
                 1.s:511    .text:00000000000003ec __xiangwei_60_120
                 1.s:543    .text:0000000000000420 __xiangwei_120_180
                 1.s:576    .text:0000000000000454 __xiangwei_180_240
                 1.s:611    .text:0000000000000488 __xiangwei_240_300
                 1.s:644    .text:00000000000004bc __xiangwei_300_360
                 1.s:677    .text:00000000000004ee __svpwm_fanhui
                 1.s:485    .text:00000000000003bc $t
                 1.s:680    .text:00000000000004f0 $d
                 1.s:681    .text:0000000000000524 __jisuan_cos_sin
                 1.s:684    .text:0000000000000524 $t
                 1.s:691    .text:0000000000000532 __xiaoyu_180
                 1.s:693    .text:0000000000000534 __js_cos_sin
                 1.s:702    .text:0000000000000544 __jisuan_jiaodu_bushi0
                 1.s:704    .text:0000000000000546 __jiance_chao90
                 1.s:711    .text:0000000000000552 __xiaoyu_90
                 1.s:713    .text:0000000000000554 __suan_cossin
                 1.s:724    .text:000000000000056c __suan_cos_sin1
                 1.s:816    .text:0000000000000622 __cordic_cos_sin
                 1.s:730    .text:0000000000000578 __cos_sin_fanhui
                 1.s:737    .text:0000000000000584 __cossin_fh
                 1.s:739    .text:0000000000000586 $d
                 1.s:739    .text:0000000000000588 $d
                 1.s:741    .text:0000000000000598 __xian_shi_jiao_du
                 1.s:743    .text:0000000000000598 $t
                 1.s:759    .text:00000000000005ba __jiaodu_bu_shi_zheng
                 1.s:764    .text:00000000000005c4 __xian_shi_jiaodu
ARM GAS  1.s 			page 31


                 1.s:776    .text:00000000000005dc __xiang_wei_xuan_zhuan
                 1.s:792    .text:00000000000005f8 __xuanzhuan_fangxiang_jiance
                 1.s:799    .text:0000000000000604 __xuan_zhuan_xiang_wei
                 1.s:830    .text:0000000000000632 cordicxunhuan
                 1.s:862    .text:000000000000066a __atan2_ji_suan
                 1.s:875    .text:0000000000000680 __cordic_atan2_xun_huan
                 1.s:876    .text:0000000000000680 __du_cos_sin
                 1.s:896    .text:00000000000006a4 __ni_shi_zhen_zhuan
                 1.s:889    .text:0000000000000698 __shun_shi_zhen_zhuan
                 1.s:902    .text:00000000000006ae __xuan_zhuan_wan
                 1.s:921    .text:00000000000006d2 $d
                 1.s:921    .text:00000000000006d4 $d
                 1.s:925    .text:00000000000006fc __xiangwei_jiaozheng
                 1.s:926    .text:00000000000006fc $t
                 1.s:937    .text:0000000000000712 __jiaozheng_jiaodu_bushi0
                 1.s:939    .text:0000000000000714 __ji_suan_jiaozheng_jiaodu
                 1.s:950    .text:000000000000072c __suan_cos_sin
                 1.s:959    .text:000000000000073a __chuan_gan_qi_lvbo
                 1.s:1005   .text:00000000000007d8 __lv_bo_qi
                 1.s:1003   .text:0000000000000796 $d
                 1.s:1003   .text:0000000000000798 $d
                 1.s:1009   .text:00000000000007d8 $t
                 1.s:1022   .text:00000000000007f2 __huanchong_leijia
                 1.s:1044   .text:000000000000080e _lcdxianshixunhuan
                 1.s:1055   .text:0000000000000820 _lcdyanshixunhuan
                 1.s:1072   .text:000000000000083a __lcd_ming_ling
                 1.s:1069   .text:0000000000000836 __lcd_shu_ju
                 1.s:1074   .text:000000000000083c __xie_lcd_shu_ju
                 1.s:1088   .text:000000000000085c __74hc595
                 1.s:1095   .text:0000000000000868 __595_yiweixunhuan
                 1.s:1100   .text:000000000000086e __595_yanshi
                 1.s:1109   .text:000000000000087c __ser_0
                 1.s:1106   .text:0000000000000878 __ser_1
                 1.s:1111   .text:000000000000087e __595_yiwei
                 1.s:1115   .text:0000000000000882 __595_yanshi1
                 1.s:1124   .text:0000000000000890 __595_yanshi2
                 1.s:1138   .text:00000000000008a2 _xunhuanqiuma
                 1.s:1157   .text:00000000000008c6 _qiumafanhui
                 1.s:1152   .text:00000000000008be _meidaoxiaoshudian
                 1.s:1187   .text:00000000000008ee _chufafanhui
                 1.s:1177   .text:00000000000008de _chufaxunhuan
                 1.s:1184   .text:00000000000008ea _chufaweishubudao0
                 1.s:1189   .text:00000000000008f0 __chufa64
                 1.s:1229   .text:0000000000000932 __chu_fa64_fan_hui0
                 1.s:1199   .text:00000000000008fe __chu_fa64_ji_suan
                 1.s:1206   .text:000000000000090a __chu_fa64_xun_huan
                 1.s:1215   .text:000000000000091a __chu_fa_yi_wei
                 1.s:1223   .text:0000000000000928 __di_yi_wei
                 1.s:1233   .text:0000000000000938 __chengfa
                 1.s:1277   .text:000000000000097c __cheng_fa_fan_hui
                 1.s:1247   .text:0000000000000942 __ji_suan_cheng_fa
                 1.s:1281   .text:0000000000000982 __dai_yu_shu_chufa
                 1.s:1303   .text:00000000000009a6 __dai_yu_shu_chufafanhui
                 1.s:1293   .text:0000000000000996 __dai_yu_shu_chufaxunhuan
                 1.s:1300   .text:00000000000009a2 __dai_yu_shu_chufaweishubudao0
                 1.s:1341   .text:00000000000009e4 __jiaodu_bushi_fu
                 1.s:1362   .text:0000000000000a06 ___jiaodu_bushi_fu
ARM GAS  1.s 			page 32


                 1.s:1371   .text:0000000000000a10 __jiaodu_buchang_jisuan
                 1.s:1386   .text:0000000000000a2a __bao_cun_jiaodu_cha
                 1.s:1413   .text:0000000000000a52 __systick_fanhui
                 1.s:1393   .text:0000000000000a36 __pid
                 1.s:1396   .text:0000000000000a3a __pid_bi_li
                 1.s:1400   .text:0000000000000a40 __pid_ji_fen
                 1.s:1409   .text:0000000000000a4e __zhengzhuan_buchang
                 1.s:1420   .text:0000000000000a58 ddz
                 1.s:1459   .text:0000000000000a9a zz
                 1.s:1431   .text:0000000000000a6a ddjian
                 1.s:1471   .text:0000000000000ab0 __dianji
                 1.s:1449   .text:0000000000000a8c ddz1
                 1.s:1482   .text:0000000000000ac2 ____fei_fu
                 1.s:1498   .text:0000000000000ae0 __dianji_shiji_dayu_qiwang
                 1.s:1500   .text:0000000000000ae2 ____dd
                 1.s:1515   .text:0000000000000afe __baocun_shangci_i
                 1.s:1521   .text:0000000000000b0a __dianji_fanhui
                 1.s:1526   .text:0000000000000b0e $d
                 1.s:1526   .text:0000000000000b10 $d

NO UNDEFINED SYMBOLS
