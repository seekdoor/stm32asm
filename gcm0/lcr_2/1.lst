ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@lcr_2
   3              		@作者：yjmwxwx
   4              		@时间：2022-01-01
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              	jiaozhun_0.5555:
  10 0000 20353535 		.ascii " 555 "
  10      20
  11              	jiaozhun_1.666:
  12 0005 20313636 		.ascii " 1663"
  12      33
  13              	jiaozhun_3.333:
  14 000a 20333333 		.ascii " 3333"
  14      33
  15              	jiaozhun_5.555:
  16 000f 20353535 		.ascii " 5555"
  16      35
  17              	jiaozhun_10:
  18 0014 20313020 		.ascii " 10  "
  18      20
  19              	jiaozhun_16.66:
  20 0019 31362E36 		.ascii "16.66"
  20      36
  21              	jiaozhun_33.33:
  22 001e 33332E33 		.ascii "33.33"
  22      33
  23              	jiaozhun_100:
  24 0023 20313030 		.ascii " 100 "
  24      20
  25              	jiaozhun_300:
  26 0028 20333030 		.ascii " 300 "
  26      20
  27              	jiaozhun_600:
  28 002d 20363030 		.ascii " 600 "
  28      20
  29              	jiaozhun_1k:	
  30 0032 20313030 		.ascii " 1000"
  30      30
  31              	jiaozhun_3k:
  32 0037 20333030 		.ascii " 3000"
  32      30
  33              	jiaozhun_6k:
  34 003c 20363030 		.ascii " 6000"
  34      30
  35              	jiaozhun_10k:
  36 0041 20203130 		.ascii "  10 "
  36      20
  37              	jiaozhun_30k:
  38 0046 20203330 		.ascii "  30 "
  38      20
  39              	jiaozhun_60k:
  40 004b 20203630 		.ascii "  60 "
  40      20
  41              	jiaozhun_100k:
ARM GAS  1.s 			page 2


  42 0050 20313030 		.ascii " 100 "
  42      20
  43              	jiaozhun_300k:
  44 0055 20333030 		.ascii " 300 "
  44      20
  45              	jiaozhun_600k:
  46 005a 20363030 		.ascii " 600 "
  46      20
  47              	jiaozhun_1M:
  48 005f 20203120 		.ascii "  1  "
  48      20
  49              	jiaozhun_1.8M:
  50 0064 20312E38 		.ascii " 1.8 "
  50      20
  51              	jiaozhun_3M:
  52 0069 20203320 		.ascii "  3  "
  52      20
  53              	jiaozhun_6M:
  54 006e 20203620 		.ascii "  6  "
  54      20
  55              	jiaozhun_18M:
  56 0073 20203138 		.ascii "  18 "
  56      20
  57              	jiaozhun:	
  58 0078 6A69616F 		.ascii "jiaozhun"
  58      7A68756E 
  59              	pinlv_100hz:
  60 0080 20207069 		.ascii "  pin lv 100HZ  "
  60      6E206C76 
  60      20313030 
  60      485A2020 
  61              	pinlv_1khz:
  62 0090 20207069 		.ascii "  pin lv 1KHZ   "
  62      6E206C76 
  62      20314B48 
  62      5A202020 
  63              	pinlv_10khz:
  64 00a0 20207069 		.ascii "  pin lv 10KHZ  "
  64      6E206C76 
  64      2031304B 
  64      485A2020 
  65              	pinlv_100khz:
  66 00b0 20207069 		.ascii "  pin lv 100KHZ "
  66      6E206C76 
  66      20313030 
  66      4B485A20 
  67              	jiaozhun_xianshi_biao:
  68              		
  69              		.align 4
  70              	jiaodu_jiaozhun_yong_cordic:
  71 00c0 0080FFFF 		.int -32768,0,0,32768,23170,23170,30274,12540,32138,6393,32610,3212,32729,1608,32758,804,32766,402
  71      00000000 
  71      00000000 
  71      00800000 
  71      825A0000 
  72              	jiaozhun_yong_cordic:
  73 01b0 00800000 		.int 32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
ARM GAS  1.s 			page 3


  73      00400000 
  73      00200000 
  73      00100000 
  73      00080000 
  74              	cordic_yong_cos_sin:
  75 0228 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
  75      00400000 
  75      412D0000 
  75      412D0000 
  75      203B0000 
  76              	cordic_yong_atan_biao:	@弧度
  77 02a8 87640000 		.int 0x00006487,0x00003B58,0x00001F5B,0x00000FEA,0x000007FD,0x000003FF,0x000001FF,0x000000FF,0x000
  77      583B0000 
  77      5B1F0000 
  77      EA0F0000 
  77      FD070000 
  78 02e8 00000000 		.align 4
  78      00000000 
  79              	zheng_xian_100khz:
  80 02f0 0A0D1012 		.byte 10,13,16,18,20,20,20,18,16,13,10,7,4,2,0,0,0,2,4,7
  80      14141412 
  80      100D0A07 
  80      04020000 
  80      00020407 
  81 0304 00000000 		.align 4
  81      00000000 
  81      00000000 
  82              	zheng_xian_10khz:
  83 0310 38003E00 		.short 56,62,69,76,82,88,93,98,102,106,108,110,111,111,110,108,106,102,98,93,88,82,76,69,62,56,49,
  83      45004C00 
  83      52005800 
  83      5D006200 
  83      66006A00 
  84 0374 00000000 		.align 4
  84      00000000 
  84      00000000 
  85              	zheng_xian_1khz:
  86 0380 8C009000 		.short 140,144,148,153,157,161,166,170,174,178,183,187,191,195,199,203,207,211,214,218,221,225,228
  86      94009900 
  86      9D00A100 
  86      A600AA00 
  86      AE00B200 
  87              		
  88              		.align 4
  89              	zheng_xian_100hz:
  90 0510 18011901 		.short 280,281,283,285,287,288,290,292,294,295,297,299,301,302,304,306,308,309,311,313,315,316,318
  90      1B011D01 
  90      1F012001 
  90      22012401 
  90      26012701 
  91              		
  92              	
  93              		.align 4
  94              	cos_sin_biao_100k:
  95 0ce0 00800000 		.int 0x00008000,0x00000000,0x0000678D,0xFFFFB4C4,0x0000278D,0xFFFF8644,0xFFFFD873,0xFFFF8644,0xFFF
  95      00000000 
  95      8D670000 
ARM GAS  1.s 			page 4


  95      C4B4FFFF 
  95      8D270000 
  96              		
  97              	cos_sin_biao_10k:
  98              	cos_sin_biao_1k:
  99 0d84 00800000 		.int 0x8000,0x0000,0x79BC,0xFFFFD873,0x678D,0xFFFFB4C4,0x4B3C,0xFFFF9873,0x278D,0xFFFF8644,0x0000,
  99      00000000 
  99      BC790000 
  99      73D8FFFF 
  99      8D670000 
 100              	cos_sin_biao_100:
 101 0e28 00800000 		.int 0x8000,0x0000,0x7EFD,0xFFFFEFF6,0x7BFA,0xFFFFE02B,0x7702,0xFFFFD0E2,0x702A,0xFFFFC256,0x678D,
 101      00000000 
 101      FD7E0000 
 101      F6EFFFFF 
 101      FA7B0000 
 102              	shangbi_liangcheng:
 103 0fbc 0E000C00 		.short 0x0e,0x0c,0x0a,0x06,0x08,0x04,0x02,0x00
 103      0A000600 
 103      08000400 
 103      02000000 
 104 0fcc 00000000 		.short 0x00,0x00,0x200,0x200,0x200,0x40,0x40,0x40
 104      00020002 
 104      00024000 
 104      40004000 
 105 0fdc 40024002 		.short 0x240,0x240,0x240,0x240,0x240,0x240,0x240,0x240
 105      40024002 
 105      40024002 
 105      40024002 
 106              	xiabi_liangcheng:
 107 0fec 00000000 		.short 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
 107      00000000 
 107      00000000 
 107      00000000 
 108 0ffc 02000400 		.short 0x02,0x04,0x200,0x202,0x204,0x40,0x42,0x44
 108      00020202 
 108      04024000 
 108      42004400 
 109 100c 40024202 		.short 0x240,0x242,0x244,0x248,0x246,0x24a,0x24c,0x24e
 109      44024802 
 109      46024A02 
 109      4C024E02 
 110 101c 00000000 		.align 4
 111              	zukang_xiaoshu_dian:			@jdjd
 112 1020 03040404 		.byte 3,4,4,4,2,2,2,3
 112      02020203 
 113 1028 03040404 		.byte 3,4,4,4,4,2,2,3
 113      04020203 
 114 1030 03030401 		.byte 3,3,4,1,1,2,2,3
 114      01020203 
 115 1038 00000000 		.align 4
 115      00000000 
 116              	zukang_dianzu_biao:
 117 1040 03D90000 		.int 55555,16666,33333,55555,10000,16666,33333,10000
 117      1A410000 
 117      35820000 
 117      03D90000 
ARM GAS  1.s 			page 5


 117      10270000 
 118 1060 30750000 		.int 30000,6000,10000,30000,6000,10000,30000,6000
 118      70170000 
 118      10270000 
 118      30750000 
 118      70170000 
 119 1080 10270000 		.int 10000,30000,6000,10000,18000,3000,6000,1800
 119      30750000 
 119      70170000 
 119      10270000 
 119      50460000 
 120              	zukang_danwei:
 121              		@毫欧=0XF46D，欧=0XF420, 千欧=0XF44B，兆欧=0XF44D
 122 10a0 6DF40000 		.int 0xf46d,0xf46d,0xf46d,0xf46d,0xf420,0xf420,0xf420,0xf420
 122      6DF40000 
 122      6DF40000 
 122      6DF40000 
 122      20F40000 
 123 10c0 20F40000 		.int 0xf420,0xf420,0xf420,0xf420,0xf420,0xf44b,0xf44b,0xf44b
 123      20F40000 
 123      20F40000 
 123      20F40000 
 123      20F40000 
 124 10e0 4BF40000 		.int 0xf44b,0xf44b,0xf44b,0xf44d,0xf44d,0xf44d,0xf44d,0xf44d
 124      4BF40000 
 124      4BF40000 
 124      4DF40000 
 124      4DF40000 
 125              	pinlv_qiehuan_yanshi_biao:
 126 1100 F4010000 		.int 500,300,300,20
 126      2C010000 
 126      2C010000 
 126      14000000 
 127              	an_jian_biao:
 128 1110 29030000 		.word __an_jian0         	   	   +1
 129 1114 E3010000 		.word __dang_wei_jia     	   	   +1
 130 1118 A9010000 		.word __pin_lv_jia      	   	   +1
 131 111c A7010000 		.word __an_jian3         	           +1
 132              	pinlv_biao:
 133 1120 43070000 		.word __pinlv_100			+1
 134 1124 91080000 		.word __pinlv_1K			+1
 135 1128 85090000 		.word __pinlv_10K			+1
 136 112c 790A0000 		.word __pinlv_100K			+1
 137              		.align 4
 138              	pinlv_xianshi_biao:
 139 1130 80000000 		.word pinlv_100hz
 140 1134 90000000 		.word pinlv_1khz
 141 1138 A0000000 		.word pinlv_10khz
 142 113c B0000000 		.word pinlv_100khz
 143              	dangwei_xianshi_biao:
 144 1140 00000000 		.word jiaozhun_0.5555
 145 1144 05000000 		.word jiaozhun_1.666
 146 1148 0A000000 		.word jiaozhun_3.333
 147 114c 0F000000 		.word jiaozhun_5.555
 148 1150 14000000 		.word jiaozhun_10
 149 1154 19000000 		.word jiaozhun_16.66
 150 1158 1E000000 		.word jiaozhun_33.33
ARM GAS  1.s 			page 6


 151 115c 23000000 		.word jiaozhun_100
 152 1160 28000000 		.word jiaozhun_300
 153 1164 2D000000 		.word jiaozhun_600
 154 1168 32000000 		.word jiaozhun_1k
 155 116c 37000000 		.word jiaozhun_3k
 156 1170 3C000000 		.word jiaozhun_6k
 157 1174 41000000 		.word jiaozhun_10k
 158 1178 46000000 		.word jiaozhun_30k
 159 117c 4B000000 		.word jiaozhun_60k
 160 1180 50000000 		.word jiaozhun_100k
 161 1184 55000000 		.word jiaozhun_300k
 162 1188 5A000000 		.word jiaozhun_600k
 163 118c 5F000000 		.word jiaozhun_1M
 164 1190 64000000 		.word jiaozhun_1.8M
 165 1194 69000000 		.word jiaozhun_3M
 166 1198 6E000000 		.word jiaozhun_6M
 167 119c 73000000 		.word jiaozhun_18M
 168              		
 169              	kong:
 170 11a0 20202020 		.int 0x20202020
 171              	_fu:
 172 11a4 2D       		.ascii "-"
 173              	jiaodu1:
 174 11a5 F23D0000 		.int 0x3df2
 175              	jiaodufuhao:
 176 11a9 DF000000 		.int 0xdf
 177              	yjmwxwx:
 178 11ad 796A6D77 		.ascii "yjmwxwx-20220101"
 178      7877782D 
 178      32303232 
 178      30313031 
 179 11bd 000000   		.align 4
 180              		.equ STACKINIT,        	        0x20001000
 181              		.equ asciimabiao,		0x20000000
 182              		.equ lcd_beiguang,		0x20000020
 183              		.equ shangbi_r, 		0x20000024
 184              		.equ shangbi_i,			0x20000028
 185              		.equ xiabi_r,			0x2000002c
 186              		.equ xiabi_i,			0x20000030
 187              		.equ shangxiabi_qiehuan,	0x20000034
 188              		.equ liangcheng,		0x20000038
 189              		.equ z_r,			0x2000003c
 190              		.equ z_i,			0x20000040
 191              		.equ lvbo_changdu,		0x20000044
 192              		.equ lvbo_youyi,		0x20000048
 193              		.equ huandangyanshi,		0x2000004c
 194              		.equ shangbi_rr,		0x20000050
 195              		.equ shangbi_ii,		0x20000054
 196              		.equ xiabi_rr,			0x20000058
 197              		.equ xiabi_ii,			0x2000005c
 198              		.equ jishu,			0x20000060
 199              		.equ xianshi_biaozhi,		0x20000064
 200              		.equ z_fudu,			0x20000068
 201              		.equ cossin,			0x2000006c
 202              		.equ pinlv,			0x20000070
 203              		.equ anjian,			0x20000074
 204              		.equ zhenfu,			0x20000078
ARM GAS  1.s 			page 7


 205              		.equ shezhi_pinlv,		0x2000007c
 206              		.equ zidong_dangwei_kaiguan,	0x20000080
 207              		.equ z_r_jiaozhun,		0x20000084
 208              		.equ z_i_jiaozhun,		0x20000088
 209              		.equ z_jiaozhun, 		0x2000008c
 210              		.equ flash_cachu_biaozhi,	0x20000094
 211              		.equ jiaozhun_biao_zhizhen,	0x20000098
 212              		.equ dianyabiao,		0x20000100
 213              		.equ lvboqizhizhen,		0x200008d0
 214              		.equ lvboqihuanchong,		0x200008d8
 215              		.equ lvboqizhizhen1,            0x20000a68  @0x200009e0
 216              		.equ lvboqihuanchong1,          0x20000a70  @0x200009e8
 217              	        .equ lvboqizhizhen2,            0x20000c00  @0x20000af0
 218              		.equ lvboqihuanchong2,          0x20000c08  @0x20000af8
 219              		.equ lvboqizhizhen3,            0x20000d98  @0x20000c00
 220              		.equ lvboqihuanchong3,          0x20000da0  @0x20000c08
 221              		.equ fjiesuo, 	                0x1fffef62
 222              		.equ ojiesuo,                   0x1fffef6e
 223              		.equ quanca,                    0x1fffeff8
 224              		.equ yeca,                      0x1fffefda
 225              		.equ zica,                      0x1ffff020
 226              		.equ xieflash,                  0x1fffef9a
 227              		.equ zixie,                     0x1ffff048
 228              		.equ xiebaohu,                  0x1ffff0a6
 229              		.equ jiancedubaohu,             0x1ffff124
 230              		.equ flashmang,                 0x1fffef7a
 231              		
 232              		
 233              		.section .text
 234              	
 235              	vectors:
 236 0000 00100020 		.word STACKINIT
 237 0004 B1000000 		.word _start + 1
 238 0008 C9120000 		.word _nmi_handler + 1
 239 000c CB120000 		.word _hard_fault  + 1
 240 0010 00000000 		.word 0
 241 0014 00000000 		.word 0
 242 0018 00000000 		.word 0
 243 001c 00000000 		.word 0
 244 0020 00000000 		.word 0
 245 0024 00000000 		.word 0
 246 0028 00000000 		.word 0
 247 002c CD120000 		.word _svc_handler +1
 248 0030 00000000 		.word 0
 249 0034 00000000 		.word 0
 250 0038 CF120000 		.word _pendsv_handler +1
 251 003c D1120000 		.word _systickzhongduan +1           @ 15
 252 0040 8F130000 		.word aaa +1     @ _wwdg +1          @ 0
 253 0044 8F130000 		.word aaa +1     @_pvd +1            @ 1
 254 0048 8F130000 		.word aaa +1     @_rtc +1            @ 2
 255 004c 8F130000 		.word aaa +1     @_flash +1          @ 3
 256 0050 8F130000 		.word aaa +1	@ _rcc + 1           @ 4
 257 0054 8F130000 		.word aaa +1      @_exti0_1  +1      @ 5
 258 0058 8F130000 		.word aaa +1      @ _exti2_3 +1      @ 6
 259 005c 8F130000 		.word aaa +1       @_exti4_15 +1     @ 7
 260 0060 8F130000 		.word aaa +1                         @ 8
 261 0064 8F130000 		.word aaa +1	@__dma_wan  +1	     @ 9
ARM GAS  1.s 			page 8


 262 0068 8F130000 		.word aaa +1    @_dma1_2_3 +1        @ 10
 263 006c 8F130000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 264 0070 8F130000 		.word aaa +1	 @_adc1 +1           @ 12
 265 0074 8F130000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 266 0078 8F130000 		.word aaa +1        @ _tim1_cc +1    @ 14
 267 007c 8F130000 		.word aaa +1         @_tim2 +1       @ 15
 268 0080 8F130000 		.word aaa +1          @_tim3 +1      @ 16
 269 0084 8F130000 		.word aaa +1                         @ 17
 270 0088 8F130000 		.word aaa +1		             @ 18
 271 008c 8F130000 		.word aaa +1	@_tim14 +1           @ 19
 272 0090 8F130000 		.word aaa +1                         @ 20
 273 0094 8F130000 		.word aaa +1         @_tim16 +1      @ 21
 274 0098 8F130000 		.word aaa +1         @_tim17 +1      @ 22
 275 009c 8F130000 		.word aaa +1          @_i2c   +1     @ 23
 276 00a0 8F130000 		.word aaa +1                         @ 24
 277 00a4 8F130000 		.word aaa +1           @_spi   +1    @ 25
 278 00a8 8F130000 		.word aaa +1                         @ 26
 279 00ac 8F130000 		.word aaa +1         @_usart1 +1     @ 27
 280              		.align 2
 281              	_start:	
 282              	shizhong:
 283 00b0 E74A     		ldr r2, = 0x40022000   @FLASH访问控制
 284 00b2 3221     		movs r1, # 0x32
 285 00b4 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 286 00b6 E748     		ldr r0, = 0x40021000 @ rcc
 287 00b8 E749     		ldr r1, = 0x10001
 288 00ba 0160     		str r1, [r0]
 289              	denghse:
 290 00bc 0168     		ldr r1, [r0]
 291 00be 8903     		lsls r1, r1, # 14
 292 00c0 FCD5     		bpl denghse
 293              	dengpllguan:
 294 00c2 0168     		ldr r1, [r0]
 295 00c4 8901     		lsls r1, r1, # 6
 296 00c6 FCD4     		bmi dengpllguan
 297 00c8 E449     		ldr r1, = 0x154002	@0x150002
 298 00ca 0046     		mov r0, r0
 299 00cc 4160     		str r1, [r0, # 0x04]
 300 00ce 0046     		mov r0, r0
 301 00d0 E349     		ldr r1, = 0x1010000
 302 00d2 0046     		mov r0, r0
 303 00d4 0160     		str r1, [r0]
 304              	
 305              	dengpll:
 306 00d6 0168     		ldr r1, [r0]
 307 00d8 8901     		lsls r1, # 6
 308 00da FCD5     		bpl dengpll
 309              	
 310              	
 311 00dc E149     		ldr r1, = 100
 312 00de 0163     		str r1, [r0, # 0x30]
 313              	
 314              	_waisheshizhong:	                         @ 外设时钟
 315              		@+0x14=RCC_AHBENR
 316              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 317 00e0 DC48     		ldr r0, = 0x40021000
 318 00e2 E149     		ldr r1, = 0x60001
ARM GAS  1.s 			page 9


 319 00e4 4161     		str r1, [r0, # 0x14]
 320              	
 321              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 322              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 323 00e6 E149     		ldr r1, = 0x1a00
 324 00e8 8161     		str r1, [r0, # 0x18]
 325              		@+0X1C=RCC_APB1ENR
 326              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 327              		@ 22=I2C2 @ 23=USB @ 28=PWR
 328 00ea E14A     		ldr r2, = 0x902
 329 00ec C261     		str r2, [r0, # 0x1c]
 330              	
 331 00ee E148     		ldr r0, = shezhi_pinlv
 332 00f0 0068     		ldr r0, [r0]
 333 00f2 0128     		cmp r0, # 1
 334 00f4 07D1     		bne _neicunqingling
 335              	_neicunqingling1:
 336 00f6 E048     		ldr r0, = 0x20001000
 337 00f8 E04A     		ldr r2, = 0x20000100
 338 00fa 0021     		movs r1, # 0
 339              	_neicunqinglingxunhuan1:
 340 00fc 0438     		subs r0, r0, # 4
 341 00fe 0160     		str r1, [r0]
 342 0100 9042     		cmp r0, r2
 343 0102 FBD1     		bne _neicunqinglingxunhuan1
 344 0104 06E0     		b _waishezhongduan
 345              	
 346              	
 347              		
 348              	_neicunqingling:
 349 0106 DC48     		ldr r0, = 0x20001000
 350 0108 DD4A     		ldr r2, = 0x20000000
 351 010a 0021     		movs r1, # 0
 352              	_neicunqinglingxunhuan:
 353 010c 0438     	        subs r0, r0, # 4
 354 010e 0160     		str r1, [r0]
 355 0110 9042     		cmp r0, r2
 356 0112 FBD1     		bne _neicunqinglingxunhuan
 357              	
 358              		
 359              	_waishezhongduan:		@外设中断
 360              		@0xE000E100    0-31  写1开，写0没效
 361              		@0XE000E180    0-31 写1关，写0没效
 362              		@0XE000E200    0-31 挂起，写0没效
 363              		@0XE000E280    0-31 清除， 写0没效
 364 0114 DB48     		ldr r0, =  0xe000e100
 365 0116 DC49     		ldr r1, = 0x200 @0x10200  @ 0x10000
 366 0118 0160     		str r1, [r0]
 367              		
 368              	@_kanmengou:
 369              	@	ldr r0, = 0x40003000
 370              	@	ldr r1, = 0x5555
 371              	@	str r1, [r0]
 372              	@	movs r1, # 7
 373              	@	str r1, [r0, # 4]
 374              	@	ldr r1, = 0xfff
 375              	@	str r1, [r0, # 8]
ARM GAS  1.s 			page 10


 376              	@	ldr r1, = 0xaaaa
 377              	@	str r1, [r0]
 378              	@	ldr r1, = 0xcccc
 379              	@	str r1, [r0]
 380              		
 381              	io_she_zhi:
 382              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 383              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 384              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 385              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 386              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 387              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 388              		@偏移0x10 = 输入数据寄存器
 389              		@偏移0x14 = 输出数据寄存器
 390              		@偏移0x18 = 端口开  0-15置位
 391              		@偏移0x28 = 端口关
 392              		@0X20 = 复用低
 393              		@GPIO口0（0-3位）每个IO口占用4位
 394              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 395              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 396              		@0x24 = 复用高
 397              		@GPIO口8 （0-3位）每个IO口占用4位
 398              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 399              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 400              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 401              	@	bkpt # 1
 402              	@	movs r0, # 0
 403              	@	cmp r0, # 0
 404              	@	beq __jlink_moshi
 405              	@__anjian_moshi:	
 406              	@	ldr r0, = 0x48000000
 407              	@	ldr r1, = 0x249a57 
 408              	@	str r1, [r0]
 409              	@	ldr r1, = 0x14000000
 410              	@	str r1, [r0, # 0x0c]
 411              	@	b __pa_shezhi
 412              	__jlink_moshi:	
 413 011a DC48     		ldr r0, = 0x48000000
 414 011c DC49     		ldr r1, = 0x28249a57
 415 011e 0160     		str r1, [r0]
 416              	__pa_shezhi:	
 417 0120 B021     		movs r1, # 0xb0
 418 0122 4160     		str r1, [r0, # 0x04]
 419 0124 DB49     		ldr r1, = 0x30cffc
 420 0126 8160     		str r1, [r0, # 0x08]
 421 0128 D749     		ldr r1, = 0x200
 422 012a 4162     		str r1, [r0, # 0x24]
 423              		
 424              		
 425 012c DA48     	        ldr r0, = 0x48000400
 426 012e 0421     		movs r1, # 0x04
 427 0130 0160     		str r1, [r0]
 428 0132 0C21     		movs r1, # 0x0c
 429 0134 8160     		str r1, [r0, # 0x08]
 430              		
 431              	spi_chushihua:
 432 0136 D948     		ldr r0, = 0x40013000
ARM GAS  1.s 			page 11


 433 0138 D949     		ldr  r1, = 0x708
 434 013a 4160     		str r1, [r0, # 0x04]
 435 013c D949     		ldr r1, = 0x7c
 436 013e 0160     		str r1, [r0]
 437              	
 438              	_lcdchushihua:
 439 0140 3320     		movs r0, # 0x33
 440 0142 0021     		movs r1, # 0
 441 0144 00F07DFF 		bl _xielcd
 442 0148 00F076FF 		bl _lcdyanshi
 443              	
 444 014c 3220     		movs r0, # 0x32
 445 014e 0021     		movs r1, # 0
 446 0150 00F077FF 		bl _xielcd
 447 0154 00F070FF 		bl _lcdyanshi
 448 0158 2820     		movs r0, # 0x28
 449 015a 0021     		movs r1, # 0
 450 015c 00F071FF 		bl _xielcd
 451 0160 00F06AFF 		bl _lcdyanshi
 452 0164 0C20     		movs r0, # 0x0c
 453 0166 0021     		movs r1, # 0
 454 0168 00F06BFF 		bl _xielcd
 455 016c 00F064FF 		bl _lcdyanshi
 456 0170 0120     		movs r0, # 0x01
 457 0172 0021     		movs r1, # 0
 458 0174 00F065FF 		bl _xielcd
 459 0178 00F05EFF 		bl _lcdyanshi
 460              	
 461 017c BD48     		ldr r0, = shezhi_pinlv
 462 017e 0068     		ldr r0, [r0]
 463 0180 0128     		cmp r0, # 1
 464 0182 0DD0     		beq __pinlv_dangwei_chushihua
 465 0184 8020     		movs r0, # 0x80
 466 0186 C849     		ldr r1, = yjmwxwx
 467 0188 1022     		movs r2, # 16
 468 018a 00F047FF 		bl _lcdxianshi
 469 018e C748     		ldr r0, = 0xffffff
 470              	yjmwxwx_yanshi:
 471 0190 0138     		subs r0, r0, # 1
 472 0192 FDD1     		bne yjmwxwx_yanshi
 473              		
 474 0194 0120     		movs r0, # 0x01
 475 0196 0021     		movs r1, # 0
 476 0198 00F053FF 		bl _xielcd
 477 019c 00F04CFF 		bl _lcdyanshi
 478              		
 479              	
 480              	__pinlv_dangwei_chushihua:
 481              	
 482 01a0 00F0C5FA 		bl __pinlv_shezhi
 483              	@	ldr r0, = liangcheng
 484              	@	movs r1, # 0
 485              	@	str r1, [r0]
 486              			
 487 01a4 C0E0     		b ting
 488              	
 489              	__an_jian3:
ARM GAS  1.s 			page 12


 490 01a6 BFE0     		b ting
 491              	__pin_lv_jia:
 492 01a8 72B6     		cpsid i
 493 01aa C148     		ldr r0, = pinlv
 494 01ac 0168     		ldr r1, [r0]
 495 01ae 0131     		adds r1, r1, # 1
 496 01b0 0160     		str r1, [r0]
 497 01b2 0429     		cmp r1, # 4
 498 01b4 01D1     		bne __pin_lv_fan_hui
 499 01b6 0021     		movs r1, # 0
 500 01b8 0160     		str r1, [r0]
 501              	__pin_lv_fan_hui:
 502 01ba 0A46     		mov r2, r1
 503 01bc 9200     		lsls r2, r2, # 2
 504 01be 0120     	        movs r0, # 0x01
 505 01c0 0021     		movs r1, # 0
 506 01c2 00F03EFF 		bl _xielcd
 507 01c6 00F037FF 		bl _lcdyanshi
 508 01ca 8020     	        movs r0, # 0x80
 509 01cc B949     		ldr r1, = pinlv_xianshi_biao
 510 01ce 8958     		ldr r1, [r1, r2]
 511 01d0 1022     		movs r2, # 16
 512 01d2 00F023FF 		bl _lcdxianshi
 513              		
 514 01d6 B548     		ldr r0, = 0xffffff
 515              	__pinlv_xianshi_yanshi:
 516 01d8 0138     		subs r0, r0, # 1
 517 01da FDD1     		bne __pinlv_xianshi_yanshi
 518 01dc B648     		ldr r0, = 0xe000ed0c
 519 01de B749     		ldr r1, = 0x05fa0004
 520 01e0 0160     		str r1, [r0]          		@复位
 521              	__dang_wei_jia:
 522 01e2 B748     		ldr r0, = liangcheng
 523 01e4 0168     		ldr r1, [r0]
 524 01e6 0131     		adds r1, r1, # 1
 525 01e8 0160     		str r1, [r0]
 526 01ea 1729     		cmp r1, # 23
 527 01ec 01D1     		bne __dang_wei_fan_hui
 528 01ee 0021     		movs r1, # 0
 529 01f0 0160     		str r1, [r0]
 530              	__dang_wei_fan_hui:
 531 01f2 0021     		movs r1, # 0
 532 01f4 0160     		str r1, [r0]
 533              	
 534              		
 535 01f6 0B46     		mov r3, r1
 536 01f8 9B00     		lsls r3, r3, # 2
 537 01fa 0120     		movs r0, # 0x01
 538 01fc 0021     		movs r1, # 0
 539 01fe 00F020FF 		bl _xielcd
 540 0202 00F019FF 		bl _lcdyanshi
 541              		
 542 0206 8E20     		movs r0, # 0x8e
 543 0208 AE49     		ldr r1, = zukang_danwei
 544 020a C918     		adds r1, r1, r3
 545 020c 0222     		movs r2, # 2
 546 020e 00F005FF 		bl _lcdxianshi
ARM GAS  1.s 			page 13


 547              		
 548 0212 8920     		movs r0, # 0x89
 549 0214 AC49     		ldr r1, = dangwei_xianshi_biao
 550 0216 C958     		ldr r1, [r1, r3]
 551 0218 0522     		movs r2, # 5
 552 021a 00F0FFFE 		bl _lcdxianshi
 553              	
 554 021e 8020     	        movs r0, # 0x80
 555 0220 AA49     		ldr r1, = jiaozhun
 556 0222 0822     		movs r2, # 8
 557 0224 00F0FAFE 		bl _lcdxianshi
 558              	__dangwei_qiehuan_xunhuan:
 559 0228 A948     		ldr r0, = 0x20000090
 560 022a 0068     		ldr r0, [r0]
 561 022c 0128     		cmp r0, # 1
 562 022e 00D0     		beq __jinru_jiaozhun
 563 0230 FAE7     		b __dangwei_qiehuan_xunhuan
 564              	__jinru_jiaozhun:
 565 0232 A848     		ldr r0, = flash_cachu_biaozhi
 566 0234 0068     		ldr r0, [r0]
 567 0236 0128     		cmp r0, # 1
 568 0238 17D0     		beq __jiaozhun_kaishi
 569              	__cachu_flash:
 570 023a A74C     		ldr r4, = fjiesuo
 571 023c 0325     		movs r5, # 3
 572 023e 7D44     		add r5, r5, pc
 573 0240 AE46     		mov lr, r5
 574 0242 A746     		mov pc, r4
 575 0244 A54C     		ldr r4, = ojiesuo
 576 0246 0325     		movs r5, # 3
 577 0248 7D44     		add r5, r5, pc
 578 024a AE46     		mov lr, r5
 579 024c A746     		mov pc, r4
 580 024e A44C     		ldr r4, = yeca
 581 0250 A448     		ldr r0, = 0x8003800
 582 0252 0325     		movs r5, # 3
 583 0254 7D44     		add r5, r5, pc
 584 0256 AE46     		mov lr, r5
 585 0258 A746     		mov pc, r4
 586 025a A348     		ldr r0, = 0x8003c00
 587 025c 0325     		movs r5, # 3
 588 025e 7D44     		add r5, r5, pc
 589 0260 AE46     		mov lr, r5
 590 0262 A746     		mov pc, r4
 591 0264 9B48     		ldr r0, = flash_cachu_biaozhi
 592 0266 0121     		movs r1, # 1
 593 0268 0160     		str r1, [r0]
 594              		
 595              		@       写FLASH
 596              		@       ldr r4, = xieflash
 597              		@       ldr r0, = 0x8003c00
 598              		@       ldr r1, = 0x12345678
 599              		@       movs r5, # 3
 600              		@       add r5,  r5, pc
 601              		@       mov lr, r5
 602              		@       mov pc, r4
 603              		
ARM GAS  1.s 			page 14


 604              	
 605              	
 606              	
 607              	__jiaozhun_kaishi:	
 608 026a 9149     		ldr r1, = pinlv
 609 026c 0B68     		ldr r3, [r1]
 610 026e 9B00     		lsls r3, r3, # 2
 611 0270 C020     		movs r0, # 0xc0
 612 0272 9049     		ldr r1, = pinlv_xianshi_biao
 613 0274 C958     		ldr r1, [r1, r3]
 614 0276 1022     		movs r2, # 16
 615 0278 00F0D0FE 		bl _lcdxianshi
 616              		
 617 027c 9B48     	        ldr r0, = zidong_dangwei_kaiguan
 618 027e 0121     		movs r1, # 1
 619 0280 0160     		str r1, [r0]
 620              	__deng_zukang_wending:
 621              	
 622 0282 8B48     		ldr r0, = pinlv
 623 0284 0068     		ldr r0, [r0]
 624 0286 8000     		lsls r0, r0, # 2
 625 0288 994F     		ldr r7, = pinlv_qiehuan_yanshi_biao
 626 028a 3F58     		ldr r7, [r7, r0]
 627              	dzd1:
 628 028c 00F0ACFC 		bl __jisuan_zukang
 629 0290 00F09EFD 		bl __xianshi_zukang
 630              	
 631 0294 013F     		subs r7, r7, # 1
 632 0296 F9D1     		bne dzd1
 633 0298 0020     		movs r0, # 0
 634 029a 00F093F9 		bl __jiaozhun_jiaodu
 635 029e 954A     		ldr r2, = z_r_jiaozhun
 636 02a0 954B     		ldr r3, = z_i_jiaozhun
 637 02a2 1060     		str r0, [r2]
 638 02a4 1960     		str r1, [r3]
 639 02a6 00F07BF9 		bl __xiangwei_xuanzhuan
 640 02aa 9448     		ldr r0, = 50000
 641 02ac 00F05CF9 		bl __jiaozhun_fudu
 642 02b0 9349     		ldr r1, = z_jiaozhun
 643 02b2 0860     		str r0, [r1]
 644              	
 645 02b4 884C     		ldr r4, = fjiesuo
 646 02b6 0325     		movs r5, # 3
 647 02b8 7D44     		add r5, r5, pc
 648 02ba AE46     		mov lr, r5
 649 02bc A746     		mov pc, r4
 650 02be 874C     		ldr r4, = ojiesuo
 651 02c0 0325     		movs r5, # 3
 652 02c2 7D44     		add r5, r5, pc
 653 02c4 AE46     		mov lr, r5
 654 02c6 A746     		mov pc, r4
 655              		
 656              		
 657              		
 658 02c8 8E4B     	        ldr r3, = jiaozhun_biao_zhizhen
 659 02ca 1868     		ldr r0, [r3]
 660 02cc 854C     		ldr r4, = 0x8003800
ARM GAS  1.s 			page 15


 661 02ce 0019     		adds r0, r0, r4			@写地址
 662 02d0 8D4C     		ldr r4, = xieflash
 663 02d2 8849     		ldr r1, = z_r_jiaozhun
 664 02d4 0968     		ldr r1, [r1]			@数据
 665 02d6 0325     		movs r5, # 3
 666 02d8 7D44     		add r5,  r5, pc
 667 02da AE46     		mov lr, r5
 668 02dc A746     		mov pc, r4
 669              	
 670 02de 894B     		ldr r3, = jiaozhun_biao_zhizhen
 671 02e0 1868     		ldr r0, [r3]
 672 02e2 804C     		ldr r4, = 0x8003800
 673 02e4 0019     		adds r0, r0, r4
 674 02e6 0430     		adds r0, r0, # 4
 675 02e8 874C     		ldr r4, = xieflash
 676 02ea 8349     		ldr r1, = z_i_jiaozhun
 677 02ec 0968     		ldr r1, [r1]
 678 02ee 0325     		movs r5, # 3
 679 02f0 7D44     		add r5,  r5, pc
 680 02f2 AE46     		mov lr, r5
 681 02f4 A746     		mov pc, r4
 682              	
 683 02f6 834B     		ldr r3, = jiaozhun_biao_zhizhen
 684 02f8 1868     		ldr r0, [r3]
 685 02fa 7A4C     		ldr r4, = 0x8003800
 686 02fc 0019     		adds r0, r0, r4
 687 02fe 0830     		adds r0, r0, # 8
 688 0300 814C     		ldr r4, = xieflash
 689 0302 7F49     		ldr r1, = z_jiaozhun
 690 0304 0968     		ldr r1, [r1]
 691 0306 0325     		movs r5, # 3
 692 0308 7D44     		add r5,  r5, pc
 693 030a AE46     		mov lr, r5
 694 030c A746     		mov pc, r4
 695              	
 696 030e 7D4B     		ldr r3, = jiaozhun_biao_zhizhen
 697 0310 1868     		ldr r0, [r3]
 698 0312 0C30     		adds r0, r0, # 0x0c
 699 0314 1860     		str r0, [r3]
 700              		
 701 0316 6648     		ldr r0, = pinlv
 702 0318 0068     		ldr r0, [r0]
 703 031a 0328     		cmp r0, # 3
 704 031c 00D1     		bne __jiaozhun_qiehuan_pinlv
 705 031e 01BE     		bkpt # 1
 706              	__jiaozhun_qiehuan_pinlv:	
 707 0320 42E7     		b __pin_lv_jia
 708              		
 709              	
 710              	
 711              	
 712              	
 713              	
 714              	
 715              	
 716              	
 717              	
ARM GAS  1.s 			page 16


 718              	
 719              	
 720              	
 721              	
 722              	
 723              	
 724              	
 725              	
 726              	
 727              	
 728              	
 729              	
 730              	__dangwei_xianshi_yanshi:	
 731 0322 7A48     		ldr r0, = 0xffff
 732              	__dangwei_xianshi_yanshi_xunhuan:
 733 0324 0138     		subs r0, r0, # 1
 734 0326 FDD1     		bne __dangwei_xianshi_yanshi_xunhuan
 735              	__an_jian0:
 736              	ting:
 737 0328 5BE7     		b __dang_wei_jia
 738 032a 00F05DFC 		bl __jisuan_zukang
 739 032e 00F09DFD 		bl __xianshi_shangxia_bi
 740 0332 F9E7     		b ting
 741              		
 742 0334 00F04CFD 		bl __xianshi_zukang
 743 0338 6148     	        ldr r0, = liangcheng
 744 033a 0068     		ldr r0, [r0]
 745 033c 0221     		movs r1, # 2
 746 033e 504A     		ldr r2, = asciimabiao
 747 0340 FF23     		movs r3, # 0xff
 748 0342 00F0B1FE 		bl _zhuanascii
 749 0346 C020     		movs r0, # 0xc0
 750 0348 4D49     		ldr r1, = asciimabiao
 751 034a 0222     		movs r2, # 2
 752 034c 00F066FE 		bl _lcdxianshi
 753 0350 8E20     		movs r0, # 0x8e
 754 0352 5B4A     		ldr r2, = liangcheng
 755 0354 5B49     		ldr r1, = zukang_danwei
 756 0356 1268     		ldr r2, [r2]
 757 0358 9200     		lsls r2, r2, # 2
 758 035a 8918     		adds r1, r1, r2
 759 035c 0222     		movs r2, # 2
 760 035e 00F05DFE 		bl _lcdxianshi
 761 0362 E1E7     		b ting
 762              	
 763              		
 764 0364 00F0DBF9 	        bl __an_jian
 765              	@__cai_dan_diao_du
 766 0368 8000     		lsls r0, r0, # 2
 767 036a 6949     		ldr r1, = an_jian_biao
 768 036c 0A58     		ldr r2, [r1, r0]
 769 036e 9746     		mov pc, r2
 770              		
 771 0370 DAE7     		b ting
 772              		
 773 0372 00F02DFD 		bl __xianshi_zukang
 774 0376 6748     		ldr r0, = z_r
ARM GAS  1.s 			page 17


 775 0378 6749     		ldr r1, = z_i
 776 037a 0068     		ldr r0, [r0]
 777 037c 0968     		ldr r1, [r1]
 778 037e 00F09FFC 		bl __atan2_ji_suan
 779 0382 C921     		movs r1, # 0xc9
 780 0384 00F093F9 		bl __xian_shi_jiao_du
 781 0388 CEE7     		b ting
 782              	
 783              		
 784              	@	bl __xianshi_shangxia_bi
 785              		@	b ting
 786 038a C720     		movs r0, # 0xc7
 787 038c 6349     		ldr r1, = jiaodu1
 788 038e 0222     		movs r2, # 2
 789 0390 00F044FE 		bl _lcdxianshi
 790 0394 8E20     	        movs r0, # 0x8e
 791 0396 4A4A     		ldr r2, = liangcheng
 792 0398 4A49     		ldr r1, = zukang_danwei
 793 039a 1268     		ldr r2, [r2]
 794 039c 9200     		lsls r2, r2, # 2
 795 039e 8918     		adds r1, r1, r2
 796 03a0 0222     		movs r2, # 2
 797 03a2 00F03BFE 		bl _lcdxianshi
 798              	
 799              		
 800              	
 801 03a6 5E4F     		ldr r7, = 50
 802              	dzd:
 803 03a8 00F01EFC 		bl __jisuan_zukang
 804 03ac 00F010FD 		bl __xianshi_zukang
 805              		
 806 03b0 013F     		subs r7, r7, # 1
 807 03b2 F9D1     		bne dzd
 808 03b4 0020     		movs r0, # 0
 809 03b6 00F005F9 		bl __jiaozhun_jiaodu
 810 03ba 4E4A     		ldr r2, = z_r_jiaozhun
 811 03bc 4E4B     		ldr r3, = z_i_jiaozhun
 812 03be 1060     		str r0, [r2]
 813 03c0 1960     		str r1, [r3]
 814 03c2 00F0EDF8 		bl __xiangwei_xuanzhuan
 815 03c6 5748     		ldr r0, = 10000
 816 03c8 00F0CEF8 		bl __jiaozhun_fudu
 817 03cc 4C49     		ldr r1, = z_jiaozhun
 818 03ce 0860     		str r0, [r1]
 819              	
 820              	dddd:
 821 03d0 00F00AFC 		bl __jisuan_zukang
 822 03d4 474A     	        ldr r2, = z_r_jiaozhun
 823 03d6 484B     		ldr r3, = z_i_jiaozhun
 824 03d8 1068     		ldr r0, [r2]
 825 03da 1968     		ldr r1, [r3]
 826 03dc 00F0E0F8 		bl __xiangwei_xuanzhuan
 827 03e0 4748     		ldr r0, = z_jiaozhun
 828 03e2 0068     		ldr r0, [r0]
 829 03e4 4B49     		ldr r1, = z_r
 830 03e6 4C4A     		ldr r2, = z_i
 831 03e8 0B68     		ldr r3, [r1]
ARM GAS  1.s 			page 18


 832 03ea 1468     		ldr r4, [r2]
 833 03ec 4343     		muls r3, r3, r0
 834 03ee 4443     		muls r4, r4, r0
 835 03f0 DB13     		asrs r3, r3, # 15
 836 03f2 E413     		asrs r4, r4, # 15
 837 03f4 0B60     		str r3, [r1]
 838 03f6 1460     		str r4, [r2]
 839 03f8 00F0EAFC 		bl __xianshi_zukang
 840              	
 841 03fc 4548     		ldr r0, = z_r
 842 03fe 4649     		ldr r1, = z_i
 843 0400 0068     		ldr r0, [r0]
 844 0402 0968     		ldr r1, [r1]
 845 0404 00F05CFC 		bl __atan2_ji_suan
 846 0408 C921     		movs r1, # 0xc9
 847 040a 00F050F9 		bl __xian_shi_jiao_du
 848 040e 00F0DFFC 		bl __xianshi_zukang
 849 0412 DDE7     		b dddd
 850              	
 851              	
 852              	
 853              	
 854              		
 855 0414 04BE     		bkpt # 4
 856 0416 0120     	        movs r0, # 0x01
 857 0418 0021     		movs r1, # 0
 858 041a 00F012FE 		bl _xielcd
 859 041e 00F00BFE 		bl _lcdyanshi
 860 0422 81E7     		b ting
 861              		
 862              	
 863              	
 864              		
 865 0424 00F0E0FB 		bl __jisuan_zukang
 866 0428 8E20     		movs r0, # 0x8e
 867 042a 254A     		ldr r2, = liangcheng
 868 042c 2549     		ldr r1, = zukang_danwei
 869 042e 1268     		ldr r2, [r2]
 870 0430 9200     		lsls r2, r2, # 2
 871 0432 8918     		adds r1, r1, r2
 872 0434 0222     		movs r2, # 2
 873 0436 00F0F1FD 		bl _lcdxianshi
 874 043a 00F0C9FC 		bl __xianshi_zukang
 875 043e 00F007FD 		bl __xianshi_liangcheng
 876 0442 00F06CF9 	        bl __an_jian
 877              	__cai_dan_diao_du:
 878 0446 8000     		lsls r0, r0, # 2
 879 0448 3149     		ldr r1, = an_jian_biao
 880 044a 0A58     		ldr r2, [r1, r0]
 881 044c 9746     		mov pc, r2
 882 044e 6BE7     		b ting
 883 0450 00200240 		.ltorg
 883      00100240 
 883      01000100 
 883      02401500 
 883      00000101 
 884              	
ARM GAS  1.s 			page 19


 885              	
 886              	
 887              	@__xie_flash:
 888              		@FPEC解锁
 889              	 @       ldr r4, = fjiesuo
 890              	@	movs r5, # 3
 891              	@	add r5, r5, pc
 892              	@	mov lr, r5
 893              	@	mov pc, r4
 894              	@	OPTWRE解锁
 895              	@	ldr r4, = ojiesuo
 896              	@	movs r5, # 3
 897              	@	add r5, r5, pc
 898              	@	mov lr, r5
 899              	@	mov pc, r4
 900              	@	页擦除
 901              	@
 902              	@	ldr r4, = yeca
 903              	@	ldr r0, = 0x8003c00
 904              	@	movs r5, # 3
 905              	@	add r5, r5, pc
 906              	@	mov lr, r5
 907              	@	mov pc, r4
 908              	@	写FLASH
 909              	@	ldr r4, = xieflash
 910              	@	ldr r0, = 0x8003c00
 911              	@	ldr r1, = 0x12345678
 912              	@	movs r5, # 3
 913              	@	add r5,  r5, pc
 914              	@	mov lr, r5
 915              	@	mov pc, r4
 916              		
 917              	_adcchushihua:
 918              		@入口R3=1连续模式，0触发模式
 919 0528 012B     		cmp r3, # 1
 920 052a 01D0     		beq __adc_lianxu
 921 052c A84B     		ldr r3, = 0x8c3
 922 052e 00E0     		b __adc_chushi_hua
 923              	__adc_lianxu:
 924 0530 A84B     		ldr r3, = 0x2003
 925              	__adc_chushi_hua:	
 926 0532 A948     		ldr r0, = 0x40012400  @ adc基地址
 927 0534 A949     		ldr r1, = 0x80000000
 928 0536 8160     		str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 929              	_dengadcjiaozhun:
 930 0538 8168     		ldr r1, [r0, # 0x08]
 931 053a 0900     		movs r1, r1
 932 053c FCD4     		bmi _dengadcjiaozhun   @ 等ADC校准
 933 053e 0121     		movs r1, # 1
 934 0540 0160     		str r1, [r0]
 935              	_kaiadc:
 936 0542 8168     		ldr r1, [r0, # 0x08]
 937 0544 0122     		movs r2, # 0x01
 938 0546 1143     		orrs r1, r1, r2
 939 0548 8160     		str r1, [r0, # 0x08]
 940              	_deng_adc_wen_ding:
 941 054a 0168     		ldr r1, [r0]
ARM GAS  1.s 			page 20


 942 054c C907     		lsls r1, r1, # 31
 943 054e FCD5     		bpl _deng_adc_wen_ding @ 等ADC稳定
 944              	_tongdaoxuanze:
 945 0550 A249     		ldr r1, = 0x80000000
 946 0552 0161     		str r1, [r0, # 0x10]
 947 0554 A249     		ldr r1, = 0x01
 948 0556 8162     		str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 949              	@	ldr r1, = 0x2003 @0x8c3 @ 0xc43         @TIM3 0x8c3 @0x2003 @0x8c3
 950 0558 C360     		str r3, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 951 055a 0021     		movs r1, # 0
 952 055c 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 953 055e 8168     		ldr r1, [r0, # 0x08]
 954 0560 A04A     		ldr r2, = 0x04         @ 开始转换
 955 0562 1143     		orrs r1, r1, r2
 956 0564 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 957 0566 F746     		mov pc, lr
 958              	
 959              	
 960              	
 961              		
 962              	__jiaozhun_fudu:
 963              		@入口 R0=期望幅度
 964              		@出口R0= 幅度校准值
 965 0568 7EB5     		push {r1-r6,lr}
 966 056a 0246     		mov r2, r0
 967 056c 9E48     		ldr r0, = z_r
 968 056e 9F49     		ldr r1, = z_i
 969 0570 0068     		ldr r0, [r0]
 970 0572 0968     		ldr r1, [r1]
 971 0574 00F006FC 		bl __ji_suan_fu_du
 972 0578 0021     		movs r1, # 0
 973 057a 9D4B     		ldr r3, = jiaozhun_yong_cordic
 974 057c 9D4D     		ldr r5, = 32768
 975 057e 0646     		mov r6, r0
 976              	__fudu_jiaozhun_xunhuan:
 977 0580 5C58     		ldr r4, [r3, r1]
 978 0582 8242     		cmp r2, r0
 979 0584 01D3     		bcc __fudu_jian
 980              	__fudu_jia:
 981 0586 2D19     		adds r5, r5, r4
 982 0588 00E0     		b __jiaozhun_xuanzhuan
 983              	__fudu_jian:
 984 058a 2D1B     		subs r5, r5, r4
 985              	__jiaozhun_xuanzhuan:
 986 058c 3046     		mov r0, r6
 987 058e 6843     		muls r0, r0, r5
 988 0590 C00B     		lsrs r0, r0, # 15
 989 0592 0431     		adds r1, r1, # 4
 990 0594 7829     		cmp r1, # 120
 991 0596 F3D1     		bne __fudu_jiaozhun_xunhuan
 992              	__baocun_fudu_jiaozhun:
 993 0598 2800     		movs r0, r5
 994 059a 00D5     		bpl __jiaozhun_fudu_fanhui
 995 059c 9548     		ldr r0, = 32768
 996              	__jiaozhun_fudu_fanhui:
 997 059e 7EBD     		pop {r1-r6,pc}
 998              		
ARM GAS  1.s 			page 21


 999              		
 1000              	__xiangwei_xuanzhuan:
 1001 05a0 FCB5     		push {r2-r7,lr}
 1002 05a2 914A     		ldr r2, = z_r
 1003 05a4 914B     		ldr r3, = z_i
 1004 05a6 1468     		ldr r4, [r2]
 1005 05a8 1D68     		ldr r5, [r3]
 1006 05aa 0646     		mov r6, r0
 1007 05ac 0F46     		mov r7, r1
 1008 05ae 6043     	        muls r0, r0, r4 @X*COS
 1009 05b0 6F43     		muls r7, r7, r5 @Y*SIN
 1010 05b2 6143     		muls r1, r1, r4 @X*SIN
 1011 05b4 6E43     		muls r6, r6, r5 @Y*COS
 1012 05b6 C01B     		subs r0, r0, r7
 1013 05b8 7118     		adds r1, r6, r1
 1014 05ba C013     		asrs r0, r0, # 15
 1015 05bc C913     		asrs r1, r1, # 15
 1016 05be 1060     		str r0, [r2]
 1017 05c0 1960     		str r1, [r3]
 1018 05c2 FCBD     		pop {r2-r7,pc}
 1019              	
 1020              	__jiaozhun_jiaodu:
 1021              		@入口r0=期望角度
 1022              		@出口R0=COS，R1=SIN
 1023 05c4 FCB5     		push {r2-r7,lr}
 1024 05c6 4346     		mov r3, r8
 1025 05c8 4C46     		mov r4, r9
 1026 05ca 5546     		mov r5, r10
 1027 05cc 5E46     		mov r6, r11
 1028 05ce 6746     		mov r7, r12
 1029 05d0 F8B4     		push {r3-r7}
 1030 05d2 8446     		mov r12, r0
 1031 05d4 8748     		ldr r0, = 32768	@180度
 1032 05d6 0021     		movs r1, # 0
 1033 05d8 8046     		mov r8, r0
 1034 05da 8946     		mov r9, r1
 1035 05dc 8248     		ldr r0, = z_r
 1036 05de 8349     		ldr r1, = z_i
 1037 05e0 0668     		ldr r6, [r0]
 1038 05e2 0F68     		ldr r7, [r1]
 1039 05e4 844B     		ldr r3, = jiaodu_jiaozhun_yong_cordic
 1040 05e6 0022     		movs r2, # 0
 1041              	__jiaodu_jiaozhun_xunhuan:
 1042 05e8 9C58     		ldr r4, [r3, r2]
 1043 05ea 0432     		adds r2, r2, # 4
 1044 05ec 9D58     		ldr r5, [r3, r2]
 1045 05ee 3046     		mov r0, r6
 1046 05f0 3946     		mov r1, r7
 1047 05f2 00F065FB 		bl __atan2_ji_suan
 1048 05f6 6146     		mov r1, r12
 1049 05f8 401A     		subs r0, r0, r1
 1050 05fa 1CD4     		bmi __jiaodu_fanzhuan
 1051 05fc B246     		mov r10, r6
 1052 05fe BB46     		mov r11, r7
 1053 0600 4646     		mov r6, r8
 1054 0602 4F46     		mov r7, r9
 1055 0604 3046     		mov r0, r6
ARM GAS  1.s 			page 22


 1056 0606 3946     		mov r1, r7
 1057 0608 6643     		muls r6, r6, r4 @X*COS
 1058 060a 6943     		muls r1, r1, r5 @Y*SIN
 1059 060c 6843     		muls r0, r0, r5 @X*SIN
 1060 060e 6743     		muls r7, r7, r4 @Y*COS
 1061 0610 7618     		adds r6, r6, r1
 1062 0612 3F1A     		subs r7, r7, r0
 1063 0614 F613     		asrs r6, r6, # 15
 1064 0616 FF13     		asrs r7, r7, # 15
 1065 0618 B046     		mov r8, r6
 1066 061a B946     		mov r9, r7
 1067 061c 5646     		mov r6, r10
 1068 061e 5F46     		mov r7, r11
 1069 0620 3046     		mov r0, r6
 1070 0622 3946     		mov r1, r7
 1071 0624 6643     		muls r6, r6, r4	@X*COS
 1072 0626 6943     		muls r1, r1, r5	@Y*SIN
 1073 0628 6843     		muls r0, r0, r5	@X*SIN
 1074 062a 6743     		muls r7, r7, r4	@Y*COS
 1075 062c 7618     		adds r6, r6, r1
 1076 062e 3F1A     		subs r7, r7, r0
 1077 0630 F613     		asrs r6, r6, # 15
 1078 0632 FF13     		asrs r7, r7, # 15
 1079 0634 1BE0     		b __jiaodu_xuanzhuan
 1080              	__jiaodu_fanzhuan:
 1081 0636 B246     		mov r10, r6
 1082 0638 BB46     		mov r11, r7
 1083 063a 4646     		mov r6, r8
 1084 063c 4F46     		mov r7, r9
 1085 063e 3046     		mov r0, r6
 1086 0640 3946     		mov r1, r7
 1087 0642 6643     		muls r6, r6, r4 @X*COS
 1088 0644 6943     		muls r1, r1, r5 @Y*SIN
 1089 0646 6843     		muls r0, r0, r5 @X*SIN
 1090 0648 6743     		muls r7, r7, r4 @Y*COS
 1091 064a 761A     		subs r6, r6, r1
 1092 064c 3F18     		adds r7, r7, r0
 1093 064e F613     		asrs r6, r6, # 15
 1094 0650 FF13     		asrs r7, r7, # 15
 1095 0652 B046     		mov r8, r6
 1096 0654 B946     		mov r9, r7
 1097 0656 5646     		mov r6, r10
 1098 0658 5F46     		mov r7, r11
 1099 065a 3046     		mov r0, r6
 1100 065c 3946     		mov r1, r7
 1101 065e 6643     		muls r6, r6, r4 @X*COS
 1102 0660 6943     		muls r1, r1, r5 @Y*SIN
 1103 0662 6843     		muls r0, r0, r5 @X*SIN
 1104 0664 6743     		muls r7, r7, r4 @Y*COS
 1105 0666 761A     		subs r6, r6, r1
 1106 0668 3F18     		adds r7, r7, r0
 1107 066a F613     		asrs r6, r6, # 15
 1108 066c FF13     		asrs r7, r7, # 15
 1109              	__jiaodu_xuanzhuan:
 1110 066e 0432     		adds r2, r2, # 4
 1111 0670 F02A     		cmp r2, # 240
 1112 0672 B9D1     		bne __jiaodu_jiaozhun_xunhuan
ARM GAS  1.s 			page 23


 1113 0674 4046     		mov r0, r8
 1114 0676 4946     		mov r1, r9
 1115 0678 F8BC     		pop {r3-r7}
 1116 067a 9846     		mov r8, r3
 1117 067c A146     		mov r9, r4
 1118 067e AA46     		mov r10, r5
 1119 0680 B346     		mov r11, r6
 1120 0682 BC46     		mov r12, r7
 1121 0684 FCBD     		pop {r2-r7,pc}
 1122              			
 1123              	__xianshi_shangxiabi_jiaodu:
 1124 0686 0FB5     		push {r0-r3,lr}
 1125 0688 5C48     		ldr r0, = shangbi_r
 1126 068a 5D49     		ldr r1, = shangbi_i
 1127 068c 0068     		ldr r0, [r0]
 1128 068e 0968     		ldr r1, [r1]
 1129 0690 00F016FB 		bl __atan2_ji_suan
 1130 0694 8821     		movs r1, # 0x88	@ 显示位置
 1131 0696 00F00AF8 		bl __xian_shi_jiao_du
 1132 069a 5A48     		ldr r0, = xiabi_r
 1133 069c 5A49     		ldr r1, = xiabi_i
 1134 069e 0068     		ldr r0, [r0]
 1135 06a0 0968     		ldr r1, [r1]
 1136 06a2 00F00DFB 		bl __atan2_ji_suan
 1137 06a6 C821     		movs r1, # 0xc8 @ 显示位置
 1138 06a8 00F001F8 		bl __xian_shi_jiao_du
 1139 06ac 0FBD     		pop {r0-r3,pc}
 1140              	
 1141              		
 1142              	__xian_shi_jiao_du:
 1143              		@入口R0=角度 r1=要显示的位置
 1144 06ae 3FB5     		push {r0-r5,lr}
 1145 06b0 0446     		mov r4, r0
 1146 06b2 0D46     		mov r5, r1
 1147 06b4 2846     		mov r0, r5
 1148 06b6 0830     		adds r0, r0, # 8
 1149 06b8 5449     		ldr r1, = jiaodufuhao
 1150 06ba 0122     		movs r2, # 1
 1151 06bc 00F0AEFC 		bl _lcdxianshi
 1152              	
 1153 06c0 2400     		movs r4, r4
 1154 06c2 07D5     		bpl __jiaodu_bu_shi_zheng
 1155 06c4 2846     		mov r0, r5
 1156 06c6 5249     		ldr r1, = _fu
 1157 06c8 0122     		movs r2, # 1
 1158 06ca 00F0A7FC 		bl _lcdxianshi
 1159 06ce E443     		mvns r4, r4
 1160 06d0 0134     		adds r4, r4, # 1
 1161 06d2 04E0     		b __xian_shi_jiaodu
 1162              	__jiaodu_bu_shi_zheng:
 1163 06d4 2846     		mov r0, r5
 1164 06d6 4F49     		ldr r1, = kong
 1165 06d8 0122     		movs r2, # 1
 1166 06da 00F09FFC 		bl _lcdxianshi
 1167              	__xian_shi_jiaodu:
 1168 06de 2046     		mov r0, r4
 1169 06e0 0621     		movs r1, # 6
ARM GAS  1.s 			page 24


 1170 06e2 4D4A     		ldr r2, = asciimabiao
 1171 06e4 0323     		movs r3, # 3
 1172 06e6 00F0DFFC 		bl _zhuanascii
 1173 06ea 2846     		mov r0, r5
 1174 06ec 0130     		adds r0, r0, # 1
 1175 06ee 4A49     		ldr r1, = asciimabiao
 1176 06f0 0622     		movs r2, # 6
 1177 06f2 00F093FC 		bl _lcdxianshi
 1178 06f6 3FBD     		pop {r0-r5,pc}
 1179              		
 1180              	__jiaozhun_shu_zhi:
 1181              		@入口R0=期望值，R1=当前值
 1182 06f8 7CB5     		push {r2-r6,lr}
 1183 06fa 3D4B     		ldr r3, = jiaozhun_yong_cordic
 1184 06fc 3D4D     		ldr r5, = 32768
 1185 06fe 0E46     		mov r6, r1
 1186 0700 0022     		movs r2, # 0
 1187              	__z_jiaozhun_xunhuan:
 1188 0702 9C58     		ldr r4, [r3, r2]
 1189 0704 8842     		cmp r0, r1
 1190 0706 01D3     		bcc __z_jian
 1191              	__z_jia:
 1192 0708 2D19     		adds r5, r5, r4
 1193 070a 00E0     		b __z_xuanzhuan
 1194              	__z_jian:
 1195 070c 2D1B     		subs r5, r5, r4
 1196              	__z_xuanzhuan:
 1197 070e 3146     		mov r1, r6
 1198 0710 6943     		muls r1, r1, r5
 1199 0712 C90B     		lsrs r1, r1, # 15
 1200 0714 0432     		adds r2, r2, # 4
 1201 0716 782A     		cmp r2, # 120
 1202 0718 F3D1     		bne __z_jiaozhun_xunhuan
 1203              	__baocun_z_jiaozhun:
 1204 071a 2846     		mov r0, r5
 1205 071c 7CBD     		pop {r2-r6,pc}
 1206              	
 1207              		
 1208              			
 1209              		
 1210              		
 1211              	__an_jian:
 1212 071e 02B5     		push {r1,lr}
 1213 0720 3E49     		ldr r1, = 0x48000010
 1214 0722 0868     		ldr r0, [r1]	@pa4
 1215 0724 3E48     		ldr r0, = 0x4000
 1216 0726 C043     		mvns r0, r0
 1217 0728 4004     		lsls r0, r0, # 17
 1218 072a 800F     		lsrs r0, r0, # 30
 1219 072c 02BD     		pop {r1,pc}
 1220              	__pinlv_shezhi:
 1221              		@入口R0
 1222              		@0=100, 1=1KHZ, 2=10KHZ, 3=100KHZ
 1223 072e 0FB5     		push {r0-r3,lr}
 1224 0730 3C49     		ldr r1, = shezhi_pinlv
 1225 0732 0122     		movs r2, # 1
 1226 0734 0A60     		str r2, [r1]
ARM GAS  1.s 			page 25


 1227 0736 3C4A     		ldr r2, = pinlv
 1228 0738 3C49     		ldr r1, = pinlv_biao
 1229 073a 1268     		ldr r2, [r2]
 1230 073c 9200     	        lsls r2, r2, # 2
 1231 073e 8A58     		ldr r2, [r1, r2]
 1232 0740 9746     		mov pc, r2
 1233              		
 1234              	__pinlv_100:
 1235              		@tim1ch3DMA
 1236 0742 3B48     		ldr r0, = 0x40020000
 1237 0744 0021     		movs r1, # 0
 1238 0746 8165     		str r1, [r0, # 0x58]
 1239 0748 8160     		str r1, [r0, # 0x08]
 1240 074a 3A49     		ldr r1, = 0x40012c3c @ 外设地址
 1241 074c 0166     		str r1, [r0, # 0x60]
 1242 074e 3A49     		ldr r1, = zheng_xian_100hz @ 储存器地址
 1243 0750 4166     		str r1, [r0, # 0x64]
 1244 0752 3A49     		ldr r1, = 1000             @点数
 1245 0754 C165     		str r1, [r0, # 0x5c]
 1246 0756 3A49     		ldr r1, = 0x35b1         @ 储存到外设
 1247 0758 8165     		str r1, [r0, # 0x58]
 1248              		
 1249              	        @ adc dma
 1250 075a 3A49     		ldr r1, = 0x40012440
 1251 075c 0161     		str r1, [r0, # 0x10]
 1252 075e 3A49     		ldr r1, = dianyabiao
 1253 0760 4161     		str r1, [r0, # 0x14]
 1254 0762 3649     		ldr r1, = 1000
 1255 0764 C160     		str r1, [r0, # 0x0c]
 1256 0766 3949     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 1257 0768 8160     		str r1, [r0, # 0x08]
 1258              		
 1259              		@tim3chushihua:
 1260 076a 394B     		ldr r3, = 0x40000400 @ tim3_cr1
 1261 076c 394A     		ldr r2, = 0
 1262 076e 9A62     		str r2, [r3, # 0x28] @ psc
 1263 0770 394A     		ldr r2, = 11199
 1264 0772 DA62     		str r2, [r3, # 0x2c] @ ARR
 1265 0774 2022     		movs r2, # 0x20
 1266 0776 5A60     		str r2, [r3, # 0x04] @ TRGO
 1267 0778 0622     		movs r2, # 0x06
 1268 077a 9A60     		str r2, [r3, # 0x08]
 1269 077c 8022     		movs r2, # 0x80
 1270              		@tim1chushiha:
 1271 077e 3748     		ldr r0, = 0x40012c00 @ tim1_cr1
 1272 0780 0021     		movs r1, # 0
 1273 0782 8162     		str r1, [r0, # 0x28] @ psc
 1274 0784 3649     		ldr r1, = 559
 1275 0786 C162     		str r1, [r0, # 0x2c] @ ARR
 1276 0788 2021     		movs r1, # 0x20
 1277 078a 4160     		str r1, [r0, # 0x04] @ TRGO
 1278 078c 3549     		ldr r1, = 0x68
 1279 078e C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1280 0790 3549     		ldr r1, = 0x100    @  CC3
 1281 0792 0162     		str r1, [r0, # 0x20] @ ccer
 1282 0794 1749     		ldr r1, = 0x8000
 1283 0796 4164     		str r1, [r0, # 0x44] @ BDTR
ARM GAS  1.s 			page 26


 1284 0798 3449     		ldr r1, = 0x800 @ CC3 DMA
 1285 079a C160     		str r1, [r0, # 0x0c] @ DIER
 1286 079c 3449     		ldr r1, = 0x81
 1287 079e 0160     		str r1, [r0]
 1288 07a0 1A60     		str r2, [r3]
 1289 07a2 3448     		ldr r0, = 0xe000e010
 1290 07a4 3449     		ldr r1, = 11999999
 1291 07a6 4160     		str r1, [r0, # 4]
 1292 07a8 8160     		str r1, [r0, # 8]
 1293 07aa 0721     		movs r1, # 0x07
 1294 07ac 0160     		str r1, [r0]    @systick 开
 1295 07ae 3348     	        ldr r0, = cossin
 1296 07b0 3349     		ldr r1, = cos_sin_biao_100
 1297 07b2 0160     		str r1, [r0]
 1298 07b4 3348     		ldr r0, = lcd_beiguang
 1299 07b6 C021     		movs r1, # 0xc0
 1300 07b8 0160     		str r1, [r0]
 1301 07ba 3348     		ldr r0, = lvbo_changdu
 1302 07bc 3349     		ldr r1, = lvbo_youyi
 1303 07be 2022     		movs r2, # 32
 1304 07c0 0A23     		movs r3, # 10
 1305 07c2 0260     		str r2, [r0]
 1306 07c4 0B60     		str r3, [r1]
 1307 07c6 0023     		movs r3, # 0
 1308 07c8 FFF7AEFE 		bl _adcchushihua
 1309 07cc 0FBD     		pop {r0-r3,pc}
 1310 07ce 0000C308 		.ltorg
 1310      00000320 
 1310      00000024 
 1310      01400000 
 1310      00800100 
 1311              		
 1312              	__pinlv_1K:
 1313              		@tim1ch3DMA
 1314 0890 2248     		ldr r0, = 0x40020000
 1315 0892 0021     		movs r1, # 0
 1316 0894 8165     		str r1, [r0, # 0x58]
 1317 0896 8160     		str r1, [r0, # 0x08]
 1318 0898 2149     		ldr r1, = 0x40012c3c @ 外设地址
 1319 089a 0166     		str r1, [r0, # 0x60]
 1320 089c 2149     		ldr r1, = zheng_xian_1khz @ 储存器地址
 1321 089e 4166     		str r1, [r0, # 0x64]
 1322 08a0 2149     		ldr r1, =  200             @点数
 1323 08a2 C165     		str r1, [r0, # 0x5c]
 1324 08a4 2149     		ldr r1, = 0x35b1         @ 储存到外设
 1325 08a6 8165     		str r1, [r0, # 0x58]
 1326              		@ adc dma
 1327 08a8 2149     		ldr r1, = 0x40012440
 1328 08aa 0161     		str r1, [r0, # 0x10]
 1329 08ac 2149     		ldr r1, = dianyabiao
 1330 08ae 4161     		str r1, [r0, # 0x14]
 1331 08b0 2149     		ldr r1, = 1000
 1332 08b2 C160     		str r1, [r0, # 0x0c]
 1333 08b4 2149     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 1334 08b6 8160     		str r1, [r0, # 0x08]
 1335              		
 1336              		
ARM GAS  1.s 			page 27


 1337              		@tim3chushihua:
 1338 08b8 214B     		ldr r3, = 0x40000400 @ tim3_cr1
 1339 08ba 224A     		ldr r2, = 0
 1340 08bc 9A62     		str r2, [r3, # 0x28] @ psc
 1341 08be 224A     		ldr r2, = 2799
 1342 08c0 DA62     		str r2, [r3, # 0x2c] @ ARR
 1343 08c2 2022     		movs r2, # 0x20
 1344 08c4 5A60     		str r2, [r3, # 0x04] @ TRGO
 1345 08c6 0622     		movs r2, # 0x06
 1346 08c8 9A60     		str r2, [r3, # 0x08]
 1347 08ca 8022     		movs r2, # 0x80
 1348              		@tim1chushiha:
 1349 08cc 1F48     		ldr r0, = 0x40012c00 @ tim1_cr1
 1350 08ce 0021     		movs r1, # 0
 1351 08d0 8162     		str r1, [r0, # 0x28] @ psc
 1352 08d2 1F49     		ldr r1, = 279
 1353 08d4 C162     		str r1, [r0, # 0x2c] @ ARR
 1354 08d6 2021     		movs r1, # 0x20
 1355 08d8 4160     		str r1, [r0, # 0x04] @ TRGO
 1356 08da 1E49     		ldr r1, = 0x68
 1357 08dc C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1358 08de 1E49     		ldr r1, = 0x100    @  CC3
 1359 08e0 0162     		str r1, [r0, # 0x20] @ ccer
 1360 08e2 1E49     		ldr r1, = 0x8000
 1361 08e4 4164     		str r1, [r0, # 0x44] @ BDTR
 1362 08e6 1E49     		ldr r1, = 0x800 @ CC3 DMA
 1363 08e8 C160     		str r1, [r0, # 0x0c] @ DIER
 1364 08ea 1E49     		ldr r1, = 0x81
 1365 08ec 0160     		str r1, [r0]
 1366 08ee 1A60     		str r2, [r3]
 1367 08f0 1D48     	        ldr r0, = 0xe000e010
 1368 08f2 1E49     		ldr r1, = 2799999
 1369 08f4 4160     		str r1, [r0, # 4]
 1370 08f6 8160     		str r1, [r0, # 8]
 1371 08f8 0721     		movs r1, # 0x07
 1372 08fa 0160     		str r1, [r0]    @systick 开
 1373 08fc 1C48     		ldr r0, = cossin
 1374 08fe 1D49     		ldr r1, = cos_sin_biao_1k
 1375 0900 0160     		str r1, [r0]
 1376 0902 1D48     		ldr r0, = lcd_beiguang
 1377 0904 C021     		movs r1, # 0xc0
 1378 0906 0160     		str r1, [r0]
 1379 0908 1C48     	        ldr r0, = lvbo_changdu
 1380 090a 1D49     		ldr r1, = lvbo_youyi
 1381 090c 3222     		movs r2, # 50
 1382 090e 0A23     		movs r3, # 10
 1383 0910 0260     		str r2, [r0]
 1384 0912 0B60     		str r3, [r1]
 1385 0914 0023     		movs r3, # 0
 1386 0916 FFF707FE 		bl _adcchushihua
 1387 091a 0FBD     		pop {r0-r3,pc}
 1388 091c 00000240 		.ltorg
 1388      3C2C0140 
 1388      80030000 
 1388      C8000000 
 1388      B1350000 
 1389              		
ARM GAS  1.s 			page 28


 1390              	__pinlv_10K:
 1391              		@tim1ch3DMA
 1392 0984 2248     		ldr r0, = 0x40020000
 1393 0986 0021     		movs r1, # 0
 1394 0988 8165     		str r1, [r0, # 0x58]
 1395 098a 8160     		str r1, [r0, # 0x08]
 1396 098c 2149     		ldr r1, = 0x40012c3c @ 外设地址
 1397 098e 0166     		str r1, [r0, # 0x60]
 1398 0990 2149     		ldr r1, = zheng_xian_10khz @ 储存器地址
 1399 0992 4166     		str r1, [r0, # 0x64]
 1400 0994 2149     		ldr r1, = 50 @ 200             @点数
 1401 0996 C165     		str r1, [r0, # 0x5c]
 1402 0998 2149     		ldr r1, = 0x35b1 @ 0x31b1         @ 储存到外设
 1403 099a 8165     		str r1, [r0, # 0x58]
 1404              		@ adc dma
 1405 099c 2149     		ldr r1, = 0x40012440
 1406 099e 0161     		str r1, [r0, # 0x10]
 1407 09a0 2149     		ldr r1, = dianyabiao
 1408 09a2 4161     		str r1, [r0, # 0x14]
 1409 09a4 2149     		ldr r1, = 1000
 1410 09a6 C160     		str r1, [r0, # 0x0c]
 1411 09a8 2149     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 1412 09aa 8160     		str r1, [r0, # 0x08]
 1413              	
 1414              		@tim3chushihua:
 1415 09ac 214B     		ldr r3, = 0x40000400 @ tim3_cr1
 1416 09ae 224A     		ldr r2, = 0
 1417 09b0 9A62     		str r2, [r3, # 0x28] @ psc
 1418 09b2 224A     		ldr r2, = 279
 1419 09b4 DA62     		str r2, [r3, # 0x2c] @ ARR
 1420 09b6 2022     		movs r2, # 0x20
 1421 09b8 5A60     		str r2, [r3, # 0x04] @ TRGO
 1422 09ba 0622     		movs r2, # 0x06
 1423 09bc 9A60     		str r2, [r3, # 0x08]
 1424 09be 8022     		movs r2, # 0x80
 1425              		@tim1chushiha:
 1426 09c0 1F48     		ldr r0, = 0x40012c00 @ tim1_cr1
 1427 09c2 0021     		movs r1, # 0
 1428 09c4 8162     		str r1, [r0, # 0x28] @ psc
 1429 09c6 1F49     		ldr r1, = 111 @ 27
 1430 09c8 C162     		str r1, [r0, # 0x2c] @ ARR
 1431 09ca 2021     		movs r1, # 0x20
 1432 09cc 4160     		str r1, [r0, # 0x04] @ TRGO
 1433 09ce 1E49     		ldr r1, = 0x68
 1434 09d0 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1435 09d2 1E49     		ldr r1, = 0x100    @  CC3
 1436 09d4 0162     		str r1, [r0, # 0x20] @ ccer
 1437 09d6 1E49     		ldr r1, = 0x8000
 1438 09d8 4164     		str r1, [r0, # 0x44] @ BDTR
 1439 09da 1E49     		ldr r1, = 0x800 @ CC3 DMA
 1440 09dc C160     		str r1, [r0, # 0x0c] @ DIER
 1441 09de 1E49     		ldr r1, = 0x81
 1442 09e0 0160     		str r1, [r0]
 1443 09e2 1A60     		str r2, [r3]
 1444 09e4 1D48     		ldr r0, = 0xe000e010
 1445 09e6 1E49     		ldr r1, = 279999
 1446 09e8 4160     		str r1, [r0, # 4]
ARM GAS  1.s 			page 29


 1447 09ea 8160     		str r1, [r0, # 8]
 1448 09ec 0721     		movs r1, # 0x07
 1449 09ee 0160     		str r1, [r0]    @systick 开
 1450 09f0 1C48     		ldr r0, = cossin
 1451 09f2 1D49     		ldr r1, = cos_sin_biao_10k
 1452 09f4 0160     		str r1, [r0]
 1453 09f6 1D48     		ldr r0, = lcd_beiguang
 1454 09f8 8021     		movs r1, # 0x80
 1455 09fa 0160     		str r1, [r0]
 1456 09fc 1C48     	        ldr r0, = lvbo_changdu
 1457 09fe 1D49     		ldr r1, = lvbo_youyi
 1458 0a00 5022     		movs r2, # 80
 1459 0a02 0B23     		movs r3, # 11
 1460 0a04 0260     		str r2, [r0]
 1461 0a06 0B60     		str r3, [r1]
 1462 0a08 0023     		movs r3, # 0
 1463 0a0a FFF78DFD 		bl _adcchushihua
 1464 0a0e 0FBD     		pop {r0-r3,pc}
 1465 0a10 00000240 		.ltorg
 1465      3C2C0140 
 1465      10030000 
 1465      32000000 
 1465      B1350000 
 1466              		
 1467              	__pinlv_100K:
 1468              	        @tim1ch3DMA
 1469 0a78 2548     		ldr r0, = 0x40020000
 1470 0a7a 0021     		movs r1, # 0
 1471 0a7c 8165     		str r1, [r0, # 0x58]
 1472 0a7e 8160     		str r1, [r0, # 0x08]
 1473 0a80 2449     		ldr r1, = 0x40012c3c @ 外设地址
 1474 0a82 0166     		str r1, [r0, # 0x60]
 1475 0a84 2449     		ldr r1, = zheng_xian_100khz @ 储存器地址
 1476 0a86 4166     		str r1, [r0, # 0x64]
 1477 0a88 2449     		ldr r1, = 20             @点数
 1478 0a8a C165     		str r1, [r0, # 0x5c]
 1479 0a8c 2449     		ldr r1, = 0x31b1         @ 储存到外设
 1480 0a8e 8165     		str r1, [r0, # 0x58]
 1481              		@ adc dma
 1482 0a90 2449     		ldr r1, = 0x40012440
 1483 0a92 0161     		str r1, [r0, # 0x10]
 1484 0a94 2449     		ldr r1, = dianyabiao
 1485 0a96 4161     		str r1, [r0, # 0x14]
 1486 0a98 2449     		ldr r1, = 1000
 1487 0a9a C160     		str r1, [r0, # 0x0c]
 1488 0a9c 2449     		ldr r1, = 0x35a1 @  0x583        @ 5a1
 1489 0a9e 8160     		str r1, [r0, # 0x08]
 1490              		
 1491              	@tim1chushiha:
 1492 0aa0 2448     		ldr r0, = 0x40012c00 @ tim1_cr1
 1493 0aa2 0021     		movs r1, # 0
 1494 0aa4 8162     		str r1, [r0, # 0x28] @ psc
 1495 0aa6 2449     		ldr r1, = 27
 1496 0aa8 C162     		str r1, [r0, # 0x2c] @ ARR
 1497 0aaa 2449     		ldr r1, = 0x68
 1498 0aac C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1499 0aae 2449     		ldr r1, = 0x100    @  CC3
ARM GAS  1.s 			page 30


 1500 0ab0 0162     		str r1, [r0, # 0x20] @ ccer
 1501 0ab2 2449     		ldr r1, = 0x8000
 1502 0ab4 4164     		str r1, [r0, # 0x44] @ BDTR
 1503 0ab6 2449     		ldr r1, = 0x800 @ CC3 DMA
 1504 0ab8 C160     		str r1, [r0, # 0x0c] @ DIER
 1505 0aba 2449     		ldr r1, = 0x81
 1506 0abc 0160     		str r1, [r0]
 1507 0abe 2448     		ldr r0, = 0xe000e010
 1508 0ac0 2449     		ldr r1, = 55999
 1509 0ac2 4160     		str r1, [r0, # 4]
 1510 0ac4 8160     		str r1, [r0, # 8]
 1511 0ac6 0721     		movs r1, # 0x07
 1512 0ac8 0160     		str r1, [r0]    @systick 开
 1513 0aca 2348     		ldr r0, = cossin
 1514 0acc 2349     		ldr r1, = cos_sin_biao_100k
 1515 0ace 0160     		str r1, [r0]
 1516 0ad0 2348     		ldr r0, = lcd_beiguang
 1517 0ad2 0021     		movs r1, # 0
 1518 0ad4 0160     		str r1, [r0]
 1519 0ad6 2348     	        ldr r0, = lvbo_changdu
 1520 0ad8 2349     		ldr r1, = lvbo_youyi
 1521 0ada 6422     		movs r2, # 100
 1522 0adc 0C23     		movs r3, # 12
 1523 0ade 0260     		str r2, [r0]
 1524 0ae0 0B60     		str r3, [r1]
 1525              		
 1526              		
 1527 0ae2 0123     		movs r3, # 1
 1528 0ae4 FFF720FD 		bl _adcchushihua
 1529 0ae8 0FBD     		pop {r0-r3,pc}
 1530              	__pinlv_yanshi:
 1531 0aea 2048     		ldr r0, = 0x1ffff
 1532              	__pinlv_yanshi_xunhuan:
 1533 0aec 0138     		subs r0, r0, # 1
 1534 0aee FDD1     		bne __pinlv_yanshi_xunhuan
 1535 0af0 F746     		mov pc, lr
 1536              	__pin_lv_xian_shi:
 1537 0af2 0FB5     		push {r0-r3,lr}
 1538 0af4 1E48     		ldr r0, = pinlv
 1539 0af6 0121     		movs r1, # 1
 1540 0af8 0068     		ldr r0, [r0]
 1541 0afa 1E4A     		ldr r2, = asciimabiao
 1542 0afc FF23     		movs r3, # 0xff
 1543 0afe 00F0D3FA 		bl _zhuanascii
 1544 0b02 8020     		movs r0, # 0x80
 1545 0b04 1B49     		ldr r1, = asciimabiao
 1546 0b06 0122     		movs r2, # 1
 1547 0b08 00F088FA 		bl _lcdxianshi
 1548 0b0c 0FBD     		pop {r0-r3,pc}
 1549 0b0e 00000000 		.ltorg
 1549      02403C2C 
 1549      0140F002 
 1549      00001400 
 1549      0000B131 
 1550              		
 1551              	__jisuan_z_fudu:
 1552 0b78 07B5     		push {r0-r2,lr}
ARM GAS  1.s 			page 31


 1553 0b7a 6B48     		ldr r0, = xiabi_rr
 1554 0b7c 6B49     		ldr r1, = xiabi_ii
 1555 0b7e 0068     		ldr r0, [r0]
 1556 0b80 0968     		ldr r1, [r1]
 1557 0b82 4012     		asrs r0, r0, # 9
 1558 0b84 4912     		asrs r1, r1, # 9
 1559 0b86 00F0FDF8 		bl __ji_suan_fu_du
 1560 0b8a 0246     		mov r2, r0
 1561 0b8c 6848     		ldr r0, = shangbi_rr
 1562 0b8e 6949     		ldr r1, = shangbi_ii
 1563 0b90 0068     		ldr r0, [r0]
 1564 0b92 0968     		ldr r1, [r1]
 1565 0b94 4012     		asrs r0, r0, # 9
 1566 0b96 4912     		asrs r1, r1, # 9
 1567 0b98 00F0F4F8 		bl __ji_suan_fu_du
 1568 0b9c 1146     		mov r1, r2
 1569 0b9e 664A     		ldr r2, = 1000
 1570 0ba0 5043     		muls r0, r0, r2
 1571 0ba2 00F07EFB 		bl _chufa
 1572 0ba6 6549     		ldr r1, = z_fudu
 1573 0ba8 4009     		lsrs r0, r0, # 5
 1574 0baa 0860     		str r0, [r1]
 1575 0bac 07BD     		pop {r0-r2,pc}
 1576              		
 1577              	__zidong_dangwei:
 1578 0bae 0FB5     		push {r0-r3,lr}
 1579              	__huan_dang:
 1580 0bb0 6248     		ldr r0, = z_fudu
 1581 0bb2 0068     		ldr r0, [r0]
 1582 0bb4 624B     		ldr r3, =  900
 1583 0bb6 5B09     		lsrs r3, r3, # 5
 1584 0bb8 9842     		cmp r0, r3
 1585 0bba 0CD3     		bcc __dang_wei_jian
 1586 0bbc 614B     		ldr r3, =  3000
 1587 0bbe 5B09     		lsrs r3, r3, # 5
 1588 0bc0 9842     		cmp r0, r3
 1589 0bc2 10D3     		bcc __zi_dong_dang_wei_fan_hui
 1590 0bc4 6048     		ldr r0, = liangcheng
 1591 0bc6 0168     		ldr r1, [r0]
 1592 0bc8 0131     		adds r1, r1, # 1
 1593 0bca 0160     		str r1, [r0]
 1594 0bcc 1829     		cmp r1, # 24
 1595 0bce 0AD1     		bne __zi_dong_dang_wei_fan_hui
 1596 0bd0 1721     		movs r1, # 23
 1597 0bd2 0160     		str r1, [r0]
 1598 0bd4 07E0     		b __zi_dong_dang_wei_fan_hui
 1599              	__dang_wei_jian:
 1600 0bd6 5C48     		ldr r0, = liangcheng
 1601 0bd8 0168     		ldr r1, [r0]
 1602 0bda 0139     		subs r1, r1, # 1
 1603 0bdc 0160     		str r1, [r0]
 1604 0bde FF29     		cmp r1, # 0xff
 1605 0be0 01D3     		bcc __zi_dong_dang_wei_fan_hui
 1606 0be2 0021     		movs r1, # 0
 1607 0be4 0160     		str r1, [r0]
 1608              	__zi_dong_dang_wei_fan_hui:
 1609 0be6 0FBD     		pop {r0-r3,pc}
ARM GAS  1.s 			page 32


 1610              	
 1611              		
 1612              	__jisuan_zukang:
 1613 0be8 1FB5     		push {r0-r4,lr}
 1614 0bea 5848     		ldr r0, = zukang_dianzu_biao
 1615 0bec 5649     		ldr r1, = liangcheng
 1616 0bee 0968     		ldr r1, [r1]
 1617 0bf0 8900     		lsls r1, r1, # 2
 1618 0bf2 4458     		ldr r4, [r0, r1]
 1619 0bf4 5648     		ldr r0, = shangbi_r
 1620 0bf6 5749     		ldr r1, = shangbi_i
 1621 0bf8 574A     		ldr r2, = xiabi_r
 1622 0bfa 584B     		ldr r3, = xiabi_i
 1623 0bfc 0068     		ldr r0, [r0]
 1624 0bfe 0968     		ldr r1, [r1]
 1625 0c00 1268     		ldr r2, [r2]
 1626 0c02 1B68     		ldr r3, [r3]
 1627 0c04 6043     		muls r0, r0, r4
 1628 0c06 6143     		muls r1, r1, r4
 1629 0c08 00F067FA 		bl __fu_shu_chu_fa
 1630 0c0c 5448     		ldr r0, = z_r
 1631 0c0e 554B     		ldr r3, = z_i
 1632 0c10 1960     		str r1, [r3]
 1633 0c12 0260     		str r2, [r0]
 1634 0c14 1FBD     		pop {r0-r4,pc}
 1635              	
 1636              		
 1637              		
 1638              	__jisuan_cos_sin:				@jd
 1639              		@入口R0=角度 （-18000到+18000）
 1640              		@出口R0=COS，R1=SIN
 1641 0c16 FCB5     		push {r2-r7,lr}
 1642 0c18 5349     		ldr r1, = 18000
 1643 0c1a 8842     		cmp r0, r1
 1644 0c1c 02D9     		bls __xiaoyu_180
 1645 0c1e 401A     		subs r0, r0, r1
 1646 0c20 0127     		movs r7, # 1
 1647 0c22 00E0     		b __js_cos_sin
 1648              	__xiaoyu_180:
 1649 0c24 0027     		movs r7, # 0
 1650              	__js_cos_sin:
 1651 0c26 5149     		ldr r1, = 9000
 1652 0c28 514A     		ldr r2, = 51471
 1653 0c2a 0000     		movs r0, r0
 1654 0c2c 03D5     		bpl __jisuan_jiaodu_bushi0
 1655 0c2e C043     		mvns r0, r0
 1656 0c30 0130     		adds r0, r0, # 1
 1657 0c32 0124     		movs r4, # 1
 1658 0c34 00E0     		b __jiance_chao90
 1659              	__jisuan_jiaodu_bushi0:
 1660 0c36 0024     		movs r4, # 0
 1661              	__jiance_chao90:
 1662 0c38 8842     		cmp r0, r1
 1663 0c3a 03D9     		bls __xiaoyu_90
 1664 0c3c 4A4E     		ldr r6, = 18000
 1665 0c3e 301A     		subs r0, r6, r0
 1666 0c40 0126     		movs r6, # 1
ARM GAS  1.s 			page 33


 1667 0c42 00E0     		b __suan_cossin
 1668              	__xiaoyu_90:
 1669 0c44 0026     		movs r6, # 0
 1670              	__suan_cossin:
 1671 0c46 4B4D     		ldr r5, = 10000
 1672 0c48 6843     		muls r0, r0, r5
 1673 0c4a 00F02AFB 		bl _chufa
 1674 0c4e 5043     		muls r0, r0, r2
 1675 0c50 2946     		mov r1, r5
 1676 0c52 00F026FB 		bl _chufa
 1677 0c56 012C     		cmp r4, # 1
 1678 0c58 01D1     		bne __suan_cos_sin1
 1679 0c5a C043     		mvns r0, r0
 1680 0c5c 0130     		adds r0, r0, # 1
 1681              	__suan_cos_sin1:
 1682 0c5e 00F00BF8 		bl __cordic_cos_sin
 1683 0c62 012E     		cmp r6, # 1
 1684 0c64 01D1     		bne __cos_sin_fanhui
 1685 0c66 C043     		mvns r0, r0
 1686 0c68 0130     		adds r0, r0, # 1
 1687              	__cos_sin_fanhui:
 1688 0c6a 012F     		cmp r7, # 1
 1689 0c6c 03D1     		bne __cossin_fh
 1690 0c6e C043     		mvns r0, r0
 1691 0c70 C943     		mvns r1, r1
 1692 0c72 0130     		adds r0, r0, # 1
 1693 0c74 0131     		adds r1, r1, # 1
 1694              	__cossin_fh:
 1695 0c76 FCBD     		pop {r2-r7,pc}
 1696              	__cordic_cos_sin:
 1697              		@入口R0
 1698              		@出口R0=COS，R1=SIN
 1699              		@ x= 0x4dba
 1700              		@ r1=x,r2=y,r0=z,r4=d,r5=k,r6=cordic_mabiao
 1701              	
 1702 0c78 FCB5     		push {r2-r7,lr}
 1703 0c7a 4246     		mov r2, r8
 1704 0c7c 4B46     		mov r3, r9
 1705 0c7e 0CB4     		push {r2-r3}
 1706 0c80 0025     		movs r5, # 0
 1707 0c82 2A46     		mov r2, r5
 1708 0c84 2C46     		mov r4, r5
 1709 0c86 3C49     		ldr r1, = 0x4dba
 1710              	cordicxunhuan:				 @ 循环
 1711 0c88 C413     		asrs r4, r0, # 15
 1712              		@ x
 1713 0c8a 1746     		mov r7, r2
 1714 0c8c 2A41     		asrs r2, r2, r5
 1715 0c8e 6240     		eors r2, r2, r4
 1716 0c90 121B     		subs r2, r2, r4
 1717 0c92 8B1A     		subs r3, r1, r2
 1718              		@ y
 1719 0c94 0E46     		mov r6, r1
 1720 0c96 2941     		asrs r1, r1, r5
 1721 0c98 6140     		eors r1, r1, r4
 1722 0c9a 091B     		subs r1, r1, r4
 1723 0c9c 7F18     		adds r7, r7, r1
ARM GAS  1.s 			page 34


 1724              		@ z
 1725 0c9e 374E     		ldr r6, = cordic_yong_atan_biao
 1726 0ca0 AA00     		lsls r2, r5, # 2
 1727 0ca2 B158     		ldr r1, [r6, r2]
 1728 0ca4 6140     		eors r1, r1, r4
 1729 0ca6 091B     		subs r1, r1, r4
 1730 0ca8 401A     		subs r0, r0, r1
 1731 0caa 1946     		mov r1, r3
 1732 0cac 3A46     		mov r2, r7
 1733 0cae 0135     		adds r5, # 1
 1734 0cb0 102D     		cmp r5, # 16
 1735 0cb2 E9D1     		bne cordicxunhuan
 1736 0cb4 1846     		mov r0, r3
 1737 0cb6 3946     		mov r1, r7
 1738 0cb8 0CBC     		pop {r2-r3}
 1739 0cba 9046     		mov r8, r2
 1740 0cbc 9946     		mov r9, r3
 1741 0cbe FCBD     		pop {r2-r7,pc}
 1742              	__atan2_ji_suan:				@jt
 1743              		@入口R0=实部，R1=虚部，结果=R0
 1744 0cc0 FCB5     		push {r2-r7,lr}
 1745 0cc2 4246     		mov r2, r8
 1746 0cc4 04B4     		push {r2}
 1747 0cc6 2E4B     		ldr r3, = cordic_yong_cos_sin
 1748 0cc8 0A22     		movs r2, # 10
 1749 0cca 5043     		muls r0, r0, r2
 1750 0ccc 5143     		muls r1, r1, r2
 1751 0cce 0022     		movs r2, # 0
 1752 0cd0 9046     		mov r8, r2
 1753 0cd2 264C     		ldr r4, = 9000
 1754 0cd4 E403     		lsls r4, r4, # 15
 1755              	__cordic_atan2_xun_huan:
 1756              	__du_cos_sin:
 1757 0cd6 1D68     		ldr r5, [r3]	@cos
 1758 0cd8 0433     		adds r3, r3, # 4
 1759 0cda 2F46     		mov r7, r5
 1760 0cdc 1E68     		ldr r6, [r3]	@sin
 1761 0cde 0433     		adds r3, r3, # 4
 1762 0ce0 3246     		mov r2, r6
 1763 0ce2 4543     		muls r5, r5, r0         @x*cos
 1764 0ce4 4243     		muls r2, r2, r0         @x*sin
 1765 0ce6 4E43     		muls r6, r6, r1         @y*sin
 1766 0ce8 4F43     		muls r7, r7, r1         @y*cos
 1767 0cea 0900     		movs r1, r1
 1768 0cec 05D5     		bpl __ni_shi_zhen_zhuan
 1769              	__shun_shi_zhen_zhuan:
 1770 0cee AD1B     		subs r5, r5, r6
 1771 0cf0 BF18     		adds r7, r7, r2
 1772 0cf2 4646     		mov r6, r8
 1773 0cf4 3619     		adds r6, r6, r4
 1774 0cf6 B046     		mov r8, r6
 1775 0cf8 04E0     		b __xuan_zhuan_wan
 1776              	__ni_shi_zhen_zhuan:
 1777 0cfa AD19     		adds r5, r5, r6
 1778 0cfc BF1A     		subs r7, r7, r2
 1779 0cfe 4646     		mov r6, r8
 1780 0d00 361B     		subs r6, r6, r4
ARM GAS  1.s 			page 35


 1781 0d02 B046     		mov r8, r6
 1782              	__xuan_zhuan_wan:
 1783 0d04 1E4E     		ldr r6, = cordic_yong_cos_sin
 1784 0d06 2022     		movs r2, # 32
 1785 0d08 9200     		lsls r2, r2, # 2
 1786 0d0a B618     		adds r6, r6, r2
 1787 0d0c AD13     		asrs r5, r5, # 14
 1788 0d0e BF13     		asrs r7, r7, # 14
 1789 0d10 2846     		mov r0, r5
 1790 0d12 3946     		mov r1, r7
 1791 0d14 6408     		lsrs r4, r4, # 1	@旋转
 1792 0d16 B342     		cmp r3,	r6
 1793 0d18 DDD1     		bne __cordic_atan2_xun_huan
 1794 0d1a 4046     		mov r0, r8
 1795 0d1c C043     		mvns r0, r0
 1796 0d1e 0130     		adds r0, r0, # 1
 1797 0d20 C013     		asrs r0, r0, # 15      @除32768等于角度
 1798 0d22 04BC     		pop {r2}
 1799 0d24 9046     		mov r8, r2
 1800 0d26 FCBD     		pop {r2-r7,pc}
 1801 0d28 58000020 		.ltorg
 1801      5C000020 
 1801      50000020 
 1801      54000020 
 1801      E8030000 
 1802              	__ji_suan_fu_du:	    @ 计算幅度
 1803              		@ 入r0= 实部，r1= 虚部
 1804              		@ 出r0 = 幅度
 1805              		@ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
 1806              		@ Alpha * Max + Beta * Min
 1807 0d84 0EB5     		push {r1-r3,lr}
 1808 0d86 0000     		movs r0, r0
 1809 0d88 01D5     		bpl _shibubushifushu
 1810 0d8a C043     		mvns r0, r0                             @ 是负数转成正数
 1811 0d8c 0130     		adds r0, r0, # 1
 1812              	_shibubushifushu:	                               @ 实部不是负数
 1813 0d8e 0900     		movs r1, r1
 1814 0d90 01D5     		bpl _xububushifushu
 1815 0d92 C943     		mvns r1, r1                             @ 是负数转成正数
 1816 0d94 0131     		adds r1, r1, # 1
 1817              	_xububushifushu:	                                @ 虚部不是负数
 1818 0d96 0028     		cmp r0, # 0
 1819 0d98 01D1     		bne _panduanxubushibushi0
 1820 0d9a 0846     		mov r0, r1
 1821 0d9c 0EBD     		pop {r1-r3,pc}
 1822              	_panduanxubushibushi0:
 1823 0d9e 0029     		cmp r1, # 0
 1824 0da0 00D1     		bne _jisuanfudu1
 1825 0da2 0EBD     		pop {r1-r3,pc}
 1826              	_jisuanfudu1:
 1827 0da4 084A     		ldr r2, = 32765		@ Alpha q15 0.948059448969 @
 1828              					@ 感觉这个小了，要乘1.0547
 1829 0da6 094B     		ldr r3, = 13572		@ Beta q15 0.392699081699
 1830              					@感觉这个小了要乘1.0547
 1831 0da8 8142     		cmp r1, r0
 1832 0daa 06D8     		bhi _alpha_min_beta_max
 1833              	_alpha_max_beta_min:
ARM GAS  1.s 			page 36


 1834 0dac 5043     		muls r0, r0, r2
 1835 0dae 5943     		muls r1, r1, r3
 1836 0db0 C013     		asrs r0, r0, # 15
 1837 0db2 C913     		asrs r1, r1, # 15
 1838 0db4 4018     		adds r0, r0, r1
 1839 0db6 0121     		movs r1, # 1
 1840 0db8 0EBD     		pop {r1-r3,pc}
 1841              	_alpha_min_beta_max:
 1842 0dba 5843     		muls r0, r0, r3
 1843 0dbc 5143     		muls r1, r1, r2
 1844 0dbe C013     		asrs r0, r0, # 15
 1845 0dc0 C913     		asrs r1, r1, # 15
 1846 0dc2 4018     		adds r0, r0, r1
 1847 0dc4 0021     		movs r1, # 0
 1848 0dc6 0EBD     		pop {r1-r3,pc}
 1849              	
 1850              	
 1851              		
 1852 0dc8 FD7F0000 		.ltorg
 1852      04350000 
 1853              	__xianshi_zukang:
 1854 0dd0 3FB5     		push {r0-r5,lr}
 1855 0dd2 804C     		ldr r4, = z_r
 1856 0dd4 804D     		ldr r5, = z_i
 1857 0dd6 2468     		ldr r4, [r4]
 1858 0dd8 2D68     		ldr r5, [r5]
 1859 0dda 2400     		movs r4, r4
 1860 0ddc 07D5     		bpl aaa1
 1861 0dde 8020     		movs r0, # 0x80
 1862 0de0 7E49     		ldr r1, = _fu
 1863 0de2 0122     		movs r2, # 1
 1864 0de4 00F01AF9 		bl _lcdxianshi
 1865 0de8 E443     		mvns r4, r4
 1866 0dea 0134     		adds r4, r4, # 1
 1867 0dec 04E0     		b aaa2
 1868              	aaa1:
 1869 0dee 8020     		movs r0, # 0x80
 1870 0df0 7B49     		ldr r1, = kong
 1871 0df2 0122     		movs r2, # 1
 1872 0df4 00F012F9 		bl _lcdxianshi
 1873              	aaa2:
 1874 0df8 2046     		mov r0, r4
 1875 0dfa 0621     		movs r1, # 6
 1876 0dfc 794A     		ldr r2, = asciimabiao
 1877 0dfe 7A4C     	        ldr r4, = zukang_xiaoshu_dian
 1878 0e00 7A4B     		ldr r3, = liangcheng
 1879 0e02 1B68     		ldr r3, [r3]
 1880 0e04 E35C     		ldrb r3, [r4, r3]
 1881 0e06 00F04FF9 		bl _zhuanascii
 1882 0e0a 8120     		movs r0, # 0x81
 1883 0e0c 7549     		ldr r1, = asciimabiao
 1884 0e0e 0622     		movs r2, # 6
 1885 0e10 00F004F9 		bl _lcdxianshi
 1886              	
 1887              	
 1888 0e14 2C00     		movs r4, r5
 1889 0e16 07D5     		bpl bbb1
ARM GAS  1.s 			page 37


 1890 0e18 8720     		movs r0, # 0x87
 1891 0e1a 7049     		ldr r1, = _fu
 1892 0e1c 0122     		movs r2, # 1
 1893 0e1e 00F0FDF8 		bl _lcdxianshi
 1894 0e22 E443     		mvns r4, r4
 1895 0e24 0134     		adds r4, r4, # 1
 1896 0e26 04E0     		b bbb2
 1897              	bbb1:
 1898 0e28 8720     		movs r0, # 0x87
 1899 0e2a 6D49     		ldr r1, = kong
 1900 0e2c 0122     		movs r2, # 1
 1901 0e2e 00F0F5F8 		bl _lcdxianshi
 1902              	bbb2:
 1903 0e32 2046     		mov r0, r4
 1904 0e34 0621     		movs r1, # 6
 1905 0e36 6B4A     		ldr r2, = asciimabiao
 1906 0e38 6B4D     		ldr r5, = zukang_xiaoshu_dian
 1907 0e3a 6C4B     		ldr r3, = liangcheng
 1908 0e3c 1B68     		ldr r3, [r3]
 1909 0e3e EB5C     		ldrb r3, [r5, r3]
 1910 0e40 00F032F9 		bl _zhuanascii
 1911 0e44 8820     		movs r0, # 0x88
 1912 0e46 6749     		ldr r1, = asciimabiao
 1913 0e48 0622     		movs r2, # 6
 1914 0e4a 00F0E7F8 		bl _lcdxianshi
 1915 0e4e 3FBD     		pop {r0-r5,pc}
 1916              	
 1917              	
 1918              	__xianshi_liangcheng:
 1919 0e50 0FB5     		push {r0-r3,lr}
 1920 0e52 6648     	        ldr r0, = liangcheng
 1921 0e54 0221     		movs r1, # 2
 1922 0e56 0068     		ldr r0, [r0]
 1923 0e58 624A     		ldr r2, = asciimabiao
 1924 0e5a FF23     		movs r3, # 0xff
 1925 0e5c 00F024F9 		bl _zhuanascii
 1926 0e60 C020     		movs r0, # 0xc0
 1927 0e62 6049     		ldr r1, = asciimabiao
 1928 0e64 0222     		movs r2, # 2
 1929 0e66 00F0D9F8 		bl _lcdxianshi
 1930 0e6a 0FBD     		pop {r0-r3,pc}
 1931              		
 1932              	__xianshi_shangxia_bi:
 1933 0e6c FFB5     		push {r0-r7,lr}
 1934 0e6e 6048     		ldr r0, = shangbi_r
 1935 0e70 604A     		ldr r2, = shangbi_i
 1936 0e72 0168     		ldr r1, [r0]
 1937 0e74 1768     		ldr r7, [r2]
 1938 0e76 0C00     		movs r4, r1
 1939 0e78 07D5     		bpl aa1
 1940 0e7a 8020     		movs r0, # 0x80
 1941 0e7c 5749     		ldr r1, = _fu
 1942 0e7e 0122     		movs r2, # 1
 1943 0e80 00F0CCF8 		bl _lcdxianshi
 1944 0e84 E443     		mvns r4, r4
 1945 0e86 0134     		adds r4, r4, # 1
 1946 0e88 04E0     		b aa2
ARM GAS  1.s 			page 38


 1947              	aa1:
 1948 0e8a 8020     		movs r0, # 0x80
 1949 0e8c 5449     		ldr r1, = kong
 1950 0e8e 0122     		movs r2, # 1
 1951 0e90 00F0C4F8 		bl _lcdxianshi
 1952              	aa2:
 1953 0e94 2046     		mov r0, r4
 1954 0e96 0621     		movs r1, # 6
 1955 0e98 524A     		ldr r2, = asciimabiao
 1956 0e9a FF23     		movs r3, # 0xff
 1957 0e9c 00F004F9 		bl _zhuanascii
 1958 0ea0 8120     		movs r0, # 0x81
 1959 0ea2 5049     		ldr r1, = asciimabiao
 1960 0ea4 0622     		movs r2, # 6
 1961 0ea6 00F0B9F8 		bl _lcdxianshi
 1962              	
 1963              	
 1964 0eaa 3C00     		movs r4, r7
 1965 0eac 07D5     		bpl bb1
 1966 0eae 8920     		movs r0, # 0x89
 1967 0eb0 4A49     		ldr r1, = _fu
 1968 0eb2 0122     		movs r2, # 1
 1969 0eb4 00F0B2F8 		bl _lcdxianshi
 1970 0eb8 E443     		mvns r4, r4
 1971 0eba 0134     		adds r4, r4, # 1
 1972 0ebc 04E0     		b bb2
 1973              	bb1:
 1974 0ebe 8920     		movs r0, # 0x89
 1975 0ec0 4749     		ldr r1, = kong
 1976 0ec2 0122     		movs r2, # 1
 1977 0ec4 00F0AAF8 		bl _lcdxianshi
 1978              	bb2:
 1979 0ec8 2046     		mov r0, r4
 1980 0eca 0621     		movs r1, # 6
 1981 0ecc 454A     		ldr r2, = asciimabiao
 1982 0ece FF23     		movs r3, # 0xff
 1983 0ed0 00F0EAF8 		bl _zhuanascii
 1984 0ed4 8A20     		movs r0, # 0x8a
 1985 0ed6 4349     		ldr r1, = asciimabiao
 1986 0ed8 0622     		movs r2, # 6
 1987 0eda 00F09FF8 		bl _lcdxianshi
 1988              	
 1989 0ede 4648     	        ldr r0, = xiabi_r
 1990 0ee0 464A     		ldr r2, = xiabi_i
 1991 0ee2 0168     		ldr r1, [r0]
 1992 0ee4 1768     		ldr r7, [r2]
 1993 0ee6 0C00     		movs r4, r1
 1994 0ee8 07D5     		bpl cc1
 1995 0eea C020     		movs r0, # 0xc0
 1996 0eec 3B49     		ldr r1, = _fu
 1997 0eee 0122     		movs r2, # 1
 1998 0ef0 00F094F8 		bl _lcdxianshi
 1999 0ef4 E443     		mvns r4, r4
 2000 0ef6 0134     		adds r4, r4, # 1
 2001 0ef8 04E0     		b cc2
 2002              	cc1:
 2003 0efa C020     		movs r0, # 0xc0
ARM GAS  1.s 			page 39


 2004 0efc 3849     		ldr r1, = kong
 2005 0efe 0122     		movs r2, # 1
 2006 0f00 00F08CF8 		bl _lcdxianshi
 2007              	cc2:
 2008 0f04 2046     		mov r0, r4
 2009 0f06 0621     		movs r1, # 6
 2010 0f08 364A     		ldr r2, = asciimabiao
 2011 0f0a FF23     		movs r3, # 0xff
 2012 0f0c 00F0CCF8 		bl _zhuanascii
 2013 0f10 C120     		movs r0, # 0xc1
 2014 0f12 3449     		ldr r1, = asciimabiao
 2015 0f14 0622     		movs r2, # 6
 2016 0f16 00F081F8 		bl _lcdxianshi
 2017              	
 2018              	
 2019 0f1a 3C00     		movs r4, r7
 2020 0f1c 07D5     		bpl dd1
 2021 0f1e C920     		movs r0, # 0xc9
 2022 0f20 2E49     		ldr r1, = _fu
 2023 0f22 0122     		movs r2, # 1
 2024 0f24 00F07AF8 		bl _lcdxianshi
 2025 0f28 E443     		mvns r4, r4
 2026 0f2a 0134     		adds r4, r4, # 1
 2027 0f2c 04E0     		b dd2
 2028              	dd1:
 2029 0f2e C920     		movs r0, # 0xc9
 2030 0f30 2B49     		ldr r1, = kong
 2031 0f32 0122     		movs r2, # 1
 2032 0f34 00F072F8 		bl _lcdxianshi
 2033              	dd2:
 2034 0f38 2046     		mov r0, r4
 2035 0f3a 0621     		movs r1, # 6
 2036 0f3c 294A     		ldr r2, = asciimabiao
 2037 0f3e FF23     		movs r3, # 0xff
 2038 0f40 00F0B2F8 		bl _zhuanascii
 2039 0f44 CA20     		movs r0, # 0xca
 2040 0f46 2749     		ldr r1, = asciimabiao
 2041 0f48 0622     		movs r2, # 6
 2042 0f4a 00F067F8 		bl _lcdxianshi
 2043 0f4e FFBD     		pop {r0-r7,pc}
 2044              	
 2045              	__dft:
 2046 0f50 FCB5     		push {r2-r7,lr}
 2047 0f52 4246     		mov r2, r8
 2048 0f54 4B46     		mov r3, r9
 2049 0f56 0CB4     		push {r2-r3}
 2050 0f58 2949     		ldr r1, = 0x12345678
 2051 0f5a 8946     		mov r9, r1
 2052 0f5c 2948     		ldr r0, = dianyabiao
 2053 0f5e 2A49     		ldr r1, = cossin
 2054 0f60 0968     		ldr r1, [r1]
 2055 0f62 2A4B     		ldr r3, = 0x7d0      @1000
 2056 0f64 2A4C     		ldr r4, = 2048
 2057 0f66 1B18     		adds r3, r3, r0
 2058 0f68 9846     		mov r8, r3
 2059 0f6a 0022     		movs r2, # 0
 2060 0f6c 1746     		mov r7, r2
ARM GAS  1.s 			page 40


 2061              	__dft_xunhuan:
 2062 0f6e 0388     		ldrh r3, [r0]
 2063 0f70 0D68     		ldr r5, [r1]
 2064 0f72 4D45     		cmp r5, r9
 2065 0f74 02D1     		bne __du_sin
 2066 0f76 2449     		ldr r1, = cossin
 2067 0f78 0968     		ldr r1, [r1]
 2068 0f7a 0D68     		ldr r5, [r1]
 2069              	__du_sin:	
 2070 0f7c 4E68     		ldr r6, [r1, # 0x04]
 2071 0f7e 1B1B     		subs r3, r3, r4
 2072 0f80 5D43     		muls r5, r5, r3
 2073 0f82 AD11     		asrs r5, r5, # 6
 2074 0f84 5E43     		muls r6, r6, r3
 2075 0f86 B611     		asrs r6, r6, # 6
 2076 0f88 5219     		adds r2, r2, r5
 2077 0f8a BF19     		adds r7, r7, r6
 2078 0f8c 0230     		adds r0, r0, # 0x02
 2079 0f8e 0831     		adds r1, r1, # 0x08
 2080 0f90 4045     		cmp r0, r8
 2081 0f92 ECD1     		bne __dft_xunhuan
 2082 0f94 1046     		mov r0, r2
 2083 0f96 3946     		mov r1, r7
 2084 0f98 4012     		asrs r0, r0, # 9
 2085 0f9a 4912     		asrs r1, r1, # 9
 2086 0f9c 0CBC     		pop {r2-r3}
 2087 0f9e 9046     		mov r8, r2
 2088 0fa0 9946     		mov r9, r3
 2089 0fa2 FCBD     		pop {r2-r7,pc}
 2090              		
 2091              	__lv_bo_qi:
 2092              		@地址顺序：指针，累加值，缓冲区
 2093              		@入口R0=缓冲区，R1=数据, r2,=指针
 2094              		@出口R0
 2095 0fa4 F8B5     		push {r3-r7,lr}
 2096 0fa6 1B4C     		ldr r4, = lvbo_changdu
 2097 0fa8 1B4F     		ldr r7, = lvbo_youyi
 2098 0faa 2468     		ldr r4, [r4]
 2099 0fac 3F68     		ldr r7, [r7]
 2100 0fae 1568     		ldr r5, [r2]
 2101 0fb0 2B46     		mov r3, r5
 2102 0fb2 AB00     		lsls r3, r5, # 2
 2103 0fb4 C658     		ldr r6, [r0, r3]
 2104 0fb6 C150     		str r1, [r0, r3]
 2105 0fb8 0135     		adds r5, r5, # 1
 2106 0fba 1560     		str r5, [r2]
 2107 0fbc A542     		cmp r5, r4
 2108 0fbe 01D1     		bne __huanchong_leijia
 2109 0fc0 0025     		movs r5, # 0
 2110 0fc2 1560     		str r5, [r2]
 2111              	__huanchong_leijia:
 2112 0fc4 0438     		subs r0, r0, # 4
 2113 0fc6 0568     		ldr r5, [r0]
 2114 0fc8 4919     		adds r1, r1, r5
 2115 0fca 891B     		subs r1, r1, r6
 2116 0fcc 0160     		str r1, [r0]
 2117 0fce 3941     		asrs r1, r1, r7	 @# 12 @12 @  7	@128
ARM GAS  1.s 			page 41


 2118 0fd0 0846     		mov r0, r1
 2119 0fd2 F8BD     		pop {r3-r7,pc}
 2120 0fd4 3C000020 		.ltorg
 2120      40000020 
 2120      A4110000 
 2120      A0110000 
 2120      00000020 
 2121              	
 2122              		
 2123              	_lcdxianshi:		  		@r0=LCD位置，r1=数据地址，r2=长度
 2124 101c 1FB5     		push {r0-r4,lr}
 2125 101e 0C46     		mov r4, r1
 2126              	
 2127 1020 0021     		movs r1, # 0
 2128 1022 00F00EF8 		bl _xielcd
 2129              	
 2130 1026 0121     		movs r1, # 1
 2131 1028 0023     		movs r3, # 0
 2132              	_lcdxianshixunhuan:
 2133 102a E05C     		ldrb r0, [r4,r3]
 2134 102c 00F009F8 		bl _xielcd
 2135 1030 0133     		adds r3, r3, # 1
 2136 1032 9342     		cmp r3, r2
 2137 1034 F9D1     		bne _lcdxianshixunhuan
 2138 1036 1FBD     		pop {r0-r4,pc}
 2139              	
 2140              	_lcdyanshi:
 2141 1038 20B5     		push {r5,lr}
 2142 103a D54D     		ldr r5, = 0x1000
 2143              	_lcdyanshixunhuan:
 2144 103c 013D     		subs r5, r5, # 1
 2145 103e FDD1     		bne _lcdyanshixunhuan
 2146 1040 20BD     		pop {r5,pc}
 2147              	_xielcd:					@入R0=8位,r1=0命令,r1=1数据
 2148 1042 3FB5     		push {r0-r5,lr}
 2149 1044 D34C     		ldr r4, = lcd_beiguang  @ 量程开关 (第6位和第7位)
 2150 1046 0246     		mov r2, r0
 2151 1048 2568     		ldr r5, [r4]
 2152 104a 1209     		lsrs r2, r2, # 4
 2153 104c 9200     		lsls r2, r2, # 2	@ 高四位
 2154 104e 0007     		lsls r0, r0, # 28
 2155 1050 800E     		lsrs r0, r0, # 26	@ 低四位
 2156 1052 C907     		lsls r1, r1, # 31
 2157 1054 01D5     		bpl __lcd_ming_ling
 2158              	__lcd_shu_ju:
 2159 1056 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 2160 1058 00E0     		b __xie_lcd_shu_ju
 2161              	__lcd_ming_ling:
 2162 105a 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 2163              	__xie_lcd_shu_ju:
 2164 105c 5B19     		adds r3, r3, r5
 2165 105e 0146     		mov r1, r0
 2166 1060 D218     		adds r2, r2, r3
 2167 1062 CD4D     		ldr r5, = 0x4001300c
 2168 1064 1000     		movs r0, r2
 2169 1066 2870     		strb r0, [r5]
 2170 1068 00F016F8 		bl __spi_mang
ARM GAS  1.s 			page 42


 2171 106c 00F018F8 		bl __yanshi_595
 2172 1070 0238     		subs r0, r0, # 0x02
 2173 1072 2870     		strb r0, [r5]
 2174 1074 00F010F8 		bl __spi_mang
 2175 1078 00F012F8 		bl __yanshi_595
 2176 107c 0846     		mov r0, r1
 2177 107e C018     		adds r0, r0, r3
 2178 1080 2870     		strb r0, [r5]
 2179 1082 00F009F8 		bl __spi_mang
 2180 1086 00F00BF8 		bl __yanshi_595
 2181 108a 0238     		subs r0, r0, # 0x02
 2182 108c 2870     		strb r0, [r5]
 2183 108e 00F003F8 		bl __spi_mang
 2184 1092 00F005F8 		bl __yanshi_595
 2185 1096 3FBD     		pop {r0-r5,pc}
 2186              	__spi_mang:
 2187 1098 AA68     		ldr r2, [r5, # 0x08]
 2188 109a 1206     		lsls r2, r2, # 24
 2189 109c FCD4     		bmi __spi_mang
 2190 109e F746     		mov pc, lr
 2191              	__yanshi_595:
 2192 10a0 BE4A     		ldr r2, = 0x2000
 2193              	__yanshi__595:
 2194 10a2 013A     		subs r2, r2, # 1
 2195 10a4 FDD1     		bne __yanshi__595
 2196 10a6 F746     		mov pc, lr
 2197              		
 2198              	
 2199              	_zhuanascii:						@ 16进制转ASCII
 2200              		@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 2201 10a8 FFB5     		push {r0-r7,lr}
 2202 10aa 1F46     		mov r7, r3
 2203 10ac 0546     		mov r5, r0
 2204 10ae 0E46     		mov r6, r1
 2205 10b0 0A21     		movs r1, # 10
 2206              	_xunhuanqiuma:
 2207 10b2 00F0F6F8 		bl _chufa
 2208 10b6 0446     		mov r4, r0
 2209 10b8 4C43     		muls r4, r1
 2210 10ba 2B1B     		subs r3, r5, r4
 2211 10bc 3033     		adds r3, r3, # 0x30
 2212 10be 0546     		mov r5, r0
 2213 10c0 013E     		subs r6, r6, # 1
 2214 10c2 08D0     		beq _qiumafanhui
 2215 10c4 BE42     		cmp r6, r7
 2216 10c6 02D1     		bne _meidaoxiaoshudian
 2217 10c8 2E24     		movs r4, # 0x2e		@小数点
 2218 10ca 9455     		strb r4, [r2,r6]	@插入小数点
 2219 10cc 013E     		subs r6, r6, # 1
 2220              	_meidaoxiaoshudian:
 2221 10ce 9355     		strb r3, [r2,r6]
 2222 10d0 3600     		movs r6, r6
 2223 10d2 EED1     		bne _xunhuanqiuma
 2224 10d4 FFBD     		pop {r0-r7,pc}
 2225              	_qiumafanhui:
 2226 10d6 9355     		strb r3, [r2, r6]
 2227 10d8 FFBD     		pop {r0-r7,pc}
ARM GAS  1.s 			page 43


 2228              	
 2229              	__fu_shu_chu_fa:
 2230              		@入口R0=a R1=b,R2=c R3=d
 2231              		@出口R2=实部 R1=虚部
 2232 10da F0B5     		push {r4-r7,lr}
 2233 10dc 002A     		cmp r2, # 0
 2234 10de 03D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 2235 10e0 002B     		cmp r3, # 0
 2236 10e2 01D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 2237 10e4 0246     		mov r2, r0
 2238 10e6 F0BD     		pop {r4-r7,pc}
 2239              	__tiao_guo_bei_chu_shu_0_pan_duan:
 2240 10e8 4446     		mov r4, r8
 2241 10ea 4D46     		mov r5, r9
 2242 10ec 5646     		mov r6, r10
 2243 10ee 5F46     		mov r7, r11
 2244 10f0 F0B4     		push {r4-r7}
 2245              	__ji_suan_chu_fa:
 2246 10f2 8046     		mov r8, r0	@a
 2247 10f4 8946     		mov r9, r1	@b
 2248 10f6 9246     		mov r10, r2	@c
 2249 10f8 9B46     		mov r11, r3	@d
 2250 10fa 0027     		movs r7, # 0
 2251              		@ (a+bi)/(c+di)=(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)
 2252 10fc 0000     		movs r0, r0
 2253 10fe 02D5     		bpl b1
 2254 1100 C043     		mvns r0, r0
 2255 1102 0130     		adds r0, r0, # 1
 2256 1104 0127     		movs r7, # 1
 2257              	b1:
 2258 1106 5146     		mov r1, r10
 2259 1108 0900     		movs r1, r1
 2260 110a 02D5     		bpl b2
 2261 110c C943     		mvns r1, r1
 2262 110e 0131     		adds r1, r1, # 1
 2263 1110 0137     		adds r7, r7, # 1
 2264              	b2:
 2265 1112 00F0A1F8 		bl __chengfa
 2266              	b3:
 2267 1116 012F     		cmp r7, # 1
 2268 1118 01D1     		bne a1
 2269 111a C043     		mvns r0, r0
 2270 111c C943     		mvns r1, r1
 2271              	a1:
 2272 111e 0446     		mov r4, r0	@a*c高32
 2273 1120 0D46     		mov r5, r1	@a*c低32
 2274 1122 0027     		movs r7, # 0
 2275 1124 4846     		mov r0, r9
 2276 1126 5946     		mov r1, r11
 2277 1128 0000     		movs r0, r0
 2278 112a 02D5     		bpl b4
 2279 112c C043     		mvns r0, r0
 2280 112e 0130     		adds r0, r0, # 1
 2281 1130 0137     		adds r7, r7, # 1
 2282              	b4:
 2283 1132 0900     		movs r1, r1
 2284 1134 02D5     		bpl b5
ARM GAS  1.s 			page 44


 2285 1136 C943     		mvns r1, r1
 2286 1138 0131     		adds r1, r1, # 1
 2287 113a 0137     		adds r7, r7, # 1
 2288              	b5:
 2289 113c 00F08CF8 		bl __chengfa
 2290              	b6:
 2291 1140 012F     		cmp r7, # 1
 2292 1142 01D1     		bne a2
 2293 1144 C043     		mvns r0, r0
 2294 1146 C943     		mvns r1, r1
 2295              	a2:
 2296 1148 4919     		adds r1, r1, r5	@ac+bd低32
 2297 114a 6041     		adcs r0, r0, r4	@ac+bd高32
 2298 114c 0646     		mov r6, r0
 2299 114e 0F46     		mov r7, r1
 2300 1150 5046     		mov r0, r10
 2301 1152 4043     		muls r0, r0, r0
 2302 1154 0446     		mov r4, r0	@c*c
 2303 1156 5846     		mov r0, r11
 2304 1158 4043     		muls r0, r0, r0
 2305 115a 0019     		adds r0, r0, r4
 2306 115c 01B4     		push {r0}
 2307 115e 3946     		mov r1, r7
 2308 1160 0027     		movs r7, # 0
 2309 1162 0200     		movs r2, r0
 2310 1164 02D5     		bpl b7
 2311 1166 D243     		mvns r2, r2
 2312 1168 0132     		adds r2, r2, # 1
 2313 116a 0137     		adds r7, r7, # 1
 2314              	b7:
 2315 116c 3000     		movs r0, r6
 2316 116e 02D5     		bpl b8
 2317 1170 C043     		mvns r0, r0
 2318 1172 C943     		mvns r1, r1
 2319 1174 0137     		adds r7, r7, # 1
 2320              	b8:
 2321 1176 00F04BF8 		bl __chufa64
 2322 117a 012F     		cmp r7, # 1
 2323 117c 01D1     		bne __bao_cun_chu_fa_shi_bu_jie_guo
 2324 117e C043     		mvns r0, r0
 2325 1180 C943     		mvns r1, r1
 2326              	__bao_cun_chu_fa_shi_bu_jie_guo:
 2327 1182 0646     		mov r6, r0	@实部高32
 2328 1184 0F46     		mov r7, r1	@实部低32
 2329              		@r8=a, r9=b, r10=c, r11=d
 2330              		@(b*c-a*d)/(c*c+d*d)
 2331 1186 0025     		movs r5, # 0
 2332 1188 4846     		mov r0, r9
 2333 118a 0000     		movs r0, r0
 2334 118c 02D5     		bpl b9
 2335 118e C043     		mvns r0, r0
 2336 1190 0130     		adds r0, r0, # 1
 2337 1192 0135     		adds r5, r5, # 1
 2338              	b9:
 2339 1194 5146     		mov r1, r10
 2340 1196 0900     		movs r1, r1
 2341 1198 02D5     		bpl b10
ARM GAS  1.s 			page 45


 2342 119a C943     		mvns r1, r1
 2343 119c 0131     		adds r1, r1, # 1
 2344 119e 0135     		adds r5, r5, # 1
 2345              	b10:
 2346 11a0 00F05AF8 		bl __chengfa
 2347 11a4 012D     		cmp r5, # 1
 2348 11a6 01D1     		bne a3
 2349 11a8 C043     		mvns r0, r0
 2350 11aa C943     		mvns r1, r1
 2351              	a3:
 2352 11ac 0446     		mov r4, r0      @b*c高32
 2353 11ae 0D46     		mov r5, r1      @b*c低32
 2354 11b0 0023     		movs r3, # 0
 2355 11b2 4046     		mov r0, r8
 2356 11b4 0000     		movs r0, r0
 2357 11b6 02D5     		bpl b11
 2358 11b8 C043     		mvns r0, r0
 2359 11ba 0130     		adds r0, r0, # 1
 2360 11bc 0133     		adds r3, r3, # 1
 2361              	b11:
 2362 11be 5946     		mov r1, r11
 2363 11c0 0900     		movs r1, r1
 2364 11c2 02D5     		bpl b12
 2365 11c4 C943     		mvns r1, r1
 2366 11c6 0131     		adds r1, r1, # 1
 2367 11c8 0133     		adds r3, r3, # 1
 2368              	b12:
 2369 11ca 00F045F8 		bl __chengfa
 2370 11ce 012B     		cmp r3, # 1
 2371 11d0 01D1     		bne a4
 2372 11d2 C043     		mvns r0, r0
 2373 11d4 C943     		mvns r1, r1
 2374              	a4:
 2375 11d6 6D1A     		subs r5, r5, r1 @bc-ad低32
 2376 11d8 8441     		sbcs r4, r4, r0 @bc-ad高32
 2377 11da 04BC     		pop {r2}
 2378 11dc 2946     		mov r1, r5
 2379 11de 0025     		movs r5, # 0
 2380 11e0 1200     		movs r2, r2
 2381 11e2 02D5     		bpl b13
 2382 11e4 D243     		mvns r2, r2
 2383 11e6 0132     		adds r2, r2, # 1
 2384 11e8 0135     		adds r5, r5, # 1
 2385              	b13:
 2386 11ea 2000     		movs r0, r4
 2387 11ec 02D5     		bpl b14
 2388 11ee C043     		mvns r0, r0
 2389 11f0 C943     		mvns r1, r1
 2390 11f2 0135     		adds r5, r5, # 1
 2391              	b14:
 2392 11f4 00F00CF8 		bl __chufa64
 2393 11f8 012D     		cmp r5, # 1
 2394 11fa 02D1     		bne __bao_cun_chu_fa_xu_bu_jie_guo
 2395 11fc C943     		mvns r1, r1
 2396 11fe C043     		mvns r0, r0
 2397 1200 0131     		adds r1, r1, # 1
 2398              	__bao_cun_chu_fa_xu_bu_jie_guo:
ARM GAS  1.s 			page 46


 2399 1202 3A46     		mov r2, r7
 2400 1204 F0BC     		pop {r4-r7}
 2401 1206 A046     		mov r8, r4
 2402 1208 A946     		mov r9, r5
 2403 120a B246     		mov r10, r6
 2404 120c BB46     		mov r11, r7
 2405 120e F0BD     		pop {r4-r7,pc}
 2406              	
 2407              	__chufa64:
 2408              		@64位除32位
 2409              		@ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 2410 1210 F8B5     		push {r3-r7,lr}
 2411 1212 002A     		cmp r2, # 0
 2412 1214 1DD0     		beq __chu_fa64_fan_hui0
 2413 1216 0029     		cmp r1, # 0
 2414 1218 01D1     		bne __chu_fa64_ji_suan
 2415 121a 0028     		cmp r0, # 0
 2416 121c 19D0     		beq __chu_fa64_fan_hui0
 2417              	__chu_fa64_ji_suan:
 2418 121e 0024     		movs r4, # 0
 2419 1220 2746     		mov r7, r4
 2420 1222 2346     		mov r3, r4
 2421 1224 2546     		mov r5, r4
 2422 1226 0126     		movs r6, # 1
 2423 1228 F607     		lsls r6, r6, # 31
 2424              	__chu_fa64_xun_huan:
 2425 122a 4900     		lsls r1, r1, # 1
 2426 122c 4041     		adcs r0, r0, r0
 2427 122e 6441     		adcs r4, r4, r4
 2428 1230 9442     		cmp r4, r2
 2429 1232 02D3     		bcc __chu_fa_yi_wei
 2430 1234 9B19     		adds r3, r3, r6
 2431 1236 7D41     		adcs r5, r5, r7
 2432 1238 A41A     		subs r4, r4, r2
 2433              	__chu_fa_yi_wei:
 2434 123a 3600     		movs r6, r6
 2435 123c 04D0     		beq __di_yi_wei
 2436 123e 7608     		lsrs r6, r6, # 1        @高32位移位
 2437 1240 F3D1     		bne __chu_fa64_xun_huan
 2438 1242 0127     		movs r7, # 1
 2439 1244 FF07     		lsls r7, r7, # 31
 2440 1246 F0E7     		b __chu_fa64_xun_huan
 2441              	__di_yi_wei:	            @低32位移位
 2442 1248 7F08     		lsrs r7, r7, # 1
 2443 124a EED1     		bne __chu_fa64_xun_huan
 2444 124c 1846     		mov r0, r3
 2445 124e 2946     		mov r1, r5
 2446 1250 F8BD     		pop {r3-r7,pc}
 2447              	__chu_fa64_fan_hui0:
 2448 1252 0020     		movs r0, # 0
 2449 1254 0021     		movs r1, # 0
 2450 1256 F8BD     		pop {r3-r7,pc}
 2451              	__chengfa:
 2452              		@入R0 乘以 R1
 2453              		@出 R0高32 ， R1低32
 2454              		@0xffffffff*0xffffffff
 2455              		@4        F F F E 0 0 0 1                       @4
ARM GAS  1.s 			page 47


 2456              		@3                F F F E 0 0 0 1               @3
 2457              		@2                F F F E 0 0 0 1               @2
 2458              		@1                        F F F E 0 0 0 1       @1
 2459              		@         F F F F F F F E 0 0 0 0 0 0 0 1
 2460 1258 FCB5     		push {r2-r7,lr}
 2461 125a 0028     		cmp r0, # 0
 2462 125c 1ED0     		beq __cheng_fa_fan_hui
 2463 125e 0029     		cmp r1, # 0
 2464 1260 1CD0     		beq __cheng_fa_fan_hui
 2465              	__ji_suan_cheng_fa:
 2466 1262 0246     		mov r2, r0
 2467 1264 0B46     		mov r3, r1
 2468 1266 000C     		lsrs r0, r0, # 16       @高16
 2469 1268 1204     		lsls r2, r2, # 16       @ 低16
 2470 126a 120C     		lsrs r2, r2, # 16
 2471 126c 090C     		lsrs r1, r1, # 16       @高16
 2472 126e 1B04     		lsls r3, r3, # 16       @低16
 2473 1270 1B0C     		lsrs r3, r3, # 16
 2474 1272 1446     		mov r4, r2
 2475 1274 0546     		mov r5, r0
 2476 1276 5A43     		muls r2, r2, r3         @1
 2477 1278 5843     		muls r0, r0, r3         @2
 2478 127a 4C43     		muls r4, r4, r1         @3
 2479 127c 4D43     		muls r5, r5, r1         @4
 2480 127e 0646     		mov r6, r0
 2481 1280 2746     		mov r7, r4
 2482 1282 0004     		lsls r0, r0, # 16       @2低32
 2483 1284 2404     		lsls r4, r4, # 16       @3低32
 2484 1286 360C     		lsrs r6, r6, # 16       @2高32
 2485 1288 3F0C     		lsrs r7, r7, # 16       @3高32
 2486 128a 0021     		movs r1, # 0
 2487 128c 1218     		adds r2, r2, r0         @低32
 2488 128e 4E41     		adcs r6, r6, r1         @高32
 2489 1290 1219     		adds r2, r2, r4
 2490 1292 7E41     		adcs r6, r6, r7
 2491 1294 7619     		adds r6, r6, r5
 2492 1296 3046     		mov r0, r6
 2493 1298 1146     		mov r1, r2
 2494 129a FCBD     		pop {r2-r7,pc}
 2495              	__cheng_fa_fan_hui:
 2496 129c 0020     		movs r0, # 0
 2497 129e 0021     		movs r1, # 0
 2498 12a0 FCBD     		pop {r2-r7,pc}
 2499              		
 2500              	_chufa:				@软件除法
 2501              		@ r0 除以 r1 等于 商(r0)
 2502 12a2 1EB5     		push {r1-r4,lr}
 2503 12a4 0028     		cmp r0, # 0
 2504 12a6 0ED0     		beq _chufafanhui
 2505 12a8 0029     		cmp r1, # 0
 2506 12aa 0CD0     		beq _chufafanhui
 2507 12ac 0246     		mov r2, r0
 2508 12ae 0123     		movs r3, # 1
 2509 12b0 DB07     		lsls r3, r3, # 31
 2510 12b2 0020     		movs r0, # 0
 2511 12b4 0446     		mov r4, r0
 2512              	_chufaxunhuan:
ARM GAS  1.s 			page 48


 2513 12b6 5200     		lsls r2, r2, # 1
 2514 12b8 6441     		adcs r4, r4, r4
 2515 12ba 8C42     		cmp r4, r1
 2516 12bc 01D3     		bcc _chufaweishubudao0
 2517 12be C018     		adds r0, r0, r3
 2518 12c0 641A     		subs r4, r4, r1
 2519              	_chufaweishubudao0:
 2520 12c2 5B08     		lsrs r3, r3, # 1
 2521 12c4 F7D1     		bne _chufaxunhuan
 2522              	_chufafanhui:
 2523 12c6 1EBD     		pop {r1-r4,pc}
 2524              		
 2525              	_nmi_handler:
 2526 12c8 7047     		bx lr
 2527              	_hard_fault:
 2528 12ca 7047     		bx lr
 2529              	_svc_handler:
 2530 12cc 7047     		bx lr
 2531              	_pendsv_handler:
 2532 12ce 7047     		bx lr
 2533              	_systickzhongduan:
 2534 12d0 10B5     		push {r4,lr}
 2535 12d2 334A     		ldr r2, = shangxiabi_qiehuan
 2536 12d4 1368     		ldr r3, [r2]
 2537 12d6 012B     		cmp r3, # 1
 2538 12d8 24D1     		bne __shangbi_dft
 2539              	__xiabi_dft:
 2540 12da 0023     		movs r3, # 0
 2541 12dc 1360     		str r3, [r2]
 2542 12de 314A     		ldr r2, = 0x48000400
 2543 12e0 0223     		movs r3, #  0x02
 2544 12e2 9362     		str r3, [r2, # 0x28]    @cd4053_9_10  0X28上臂开
 2545 12e4 3048     		ldr r0, = liangcheng
 2546 12e6 3149     		ldr r1, = shangbi_liangcheng
 2547 12e8 0068     		ldr r0, [r0]
 2548 12ea 4000     		lsls r0, r0, # 1
 2549 12ec 304A     		ldr r2, = 0x48000000
 2550 12ee 0B5A     		ldrh  r3, [r1, r0]
 2551 12f0 5361     		str r3, [r2, # 0x14]
 2552 12f2 FFF72DFE 		bl __dft
 2553 12f6 C043     		mvns r0, r0
 2554 12f8 C943     		mvns r1, r1
 2555 12fa 0130     		adds r0, r0, # 1
 2556 12fc 0131     		adds r1, r1, # 1
 2557 12fe 2D4A     		ldr r2, = xiabi_rr
 2558 1300 2D4B     		ldr r3, = xiabi_ii
 2559 1302 1060     		str r0, [r2]
 2560 1304 1960     		str r1, [r3]
 2561 1306 0446     		mov r4, r0
 2562 1308 2C4A     		ldr r2, = lvboqizhizhen3
 2563 130a 2D48     		ldr r0, =lvboqihuanchong3
 2564 130c FFF74AFE 		bl __lv_bo_qi
 2565 1310 2C49     		ldr r1, = xiabi_i
 2566 1312 0860     		str r0, [r1]
 2567 1314 2146     		mov r1, r4
 2568 1316 2C4A     		ldr r2, = lvboqizhizhen2
 2569 1318 2C48     		ldr r0, = lvboqihuanchong2
ARM GAS  1.s 			page 49


 2570 131a FFF743FE 		bl __lv_bo_qi
 2571 131e 2C49     		ldr r1, = xiabi_r
 2572 1320 0860     		str r0, [r1]
 2573 1322 30E0     		b __systick_fanhui
 2574              	
 2575              	__shangbi_dft:
 2576 1324 0123     		movs r3, # 1
 2577 1326 1360     		str r3, [r2]
 2578 1328 1F48     		ldr r0, = liangcheng
 2579 132a 2A49     		ldr r1, = xiabi_liangcheng
 2580 132c 0068     		ldr r0, [r0]
 2581 132e 4000     		lsls r0, r0, # 1
 2582 1330 1F4A     		ldr r2, = 0x48000000
 2583 1332 0B5A     		ldrh r3, [r1, r0]
 2584 1334 1B48     	        ldr r0, = 0x48000400
 2585 1336 0221     		movs r1, #  0x02
 2586 1338 8161     		str r1, [r0, # 0x18]    @cd4053_9_10 下臂开
 2587 133a 5361     		str r3, [r2, # 0x14]
 2588 133c FFF708FE 		bl __dft
 2589 1340 254A     		ldr r2, = shangbi_rr
 2590 1342 264B     		ldr r3, = shangbi_ii
 2591 1344 1060     		str r0, [r2]
 2592 1346 1960     		str r1, [r3]
 2593 1348 0446     		mov r4, r0
 2594 134a 254A     		ldr r2, = lvboqizhizhen1
 2595 134c 2548     		ldr r0, =lvboqihuanchong1
 2596 134e FFF729FE 		bl __lv_bo_qi
 2597 1352 2549     		ldr r1, = shangbi_i
 2598 1354 0860     		str r0, [r1]
 2599 1356 2146     		mov r1, r4
 2600 1358 244A     		ldr r2, = lvboqizhizhen
 2601 135a 2548     		ldr r0, =lvboqihuanchong
 2602 135c FFF722FE 		bl __lv_bo_qi
 2603 1360 2449     		ldr r1, = shangbi_r
 2604 1362 0860     		str r0, [r1]
 2605 1364 2448     		ldr r0, = jishu
 2606 1366 0168     		ldr r1, [r0]
 2607 1368 0131     		adds r1, r1, # 1
 2608 136a 0160     		str r1, [r0]
 2609 136c 0529     		cmp r1, # 5
 2610 136e 0AD1     		bne __systick_fanhui
 2611 1370 0021     		movs r1, # 0
 2612 1372 0160     		str r1, [r0]
 2613 1374 2148     		ldr r0, = xianshi_biaozhi
 2614 1376 0121     		movs r1, # 1
 2615 1378 0160     		str r1, [r0]
 2616 137a FFF7FDFB 		bl __jisuan_z_fudu
 2617 137e 2048     		ldr r0, = zidong_dangwei_kaiguan
 2618 1380 0068     		ldr r0, [r0]
 2619 1382 0128     		cmp r0, # 1
 2620 1384 FFD0     		beq __systick_fanhui
 2621              	@	bl __zidong_dangwei
 2622              	__systick_fanhui:
 2623 1386 1F48     		ldr r0, = 0xe0000d04
 2624 1388 1F49     		ldr r1, = 0x02000000
 2625 138a 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 2626 138c 10BD     		pop {r4,pc}
ARM GAS  1.s 			page 50


 2627              	
 2628              	aaa:
 2629 138e 7047     		bx lr
 2630 1390 00100000 		.ltorg
 2630      20000020 
 2630      0C300140 
 2630      00200000 
 2630      34000020 
 2631              		.end
ARM GAS  1.s 			page 51


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 jiaozhun_0.5555
                 1.s:11     .data:0000000000000005 jiaozhun_1.666
                 1.s:13     .data:000000000000000a jiaozhun_3.333
                 1.s:15     .data:000000000000000f jiaozhun_5.555
                 1.s:17     .data:0000000000000014 jiaozhun_10
                 1.s:19     .data:0000000000000019 jiaozhun_16.66
                 1.s:21     .data:000000000000001e jiaozhun_33.33
                 1.s:23     .data:0000000000000023 jiaozhun_100
                 1.s:25     .data:0000000000000028 jiaozhun_300
                 1.s:27     .data:000000000000002d jiaozhun_600
                 1.s:29     .data:0000000000000032 jiaozhun_1k
                 1.s:31     .data:0000000000000037 jiaozhun_3k
                 1.s:33     .data:000000000000003c jiaozhun_6k
                 1.s:35     .data:0000000000000041 jiaozhun_10k
                 1.s:37     .data:0000000000000046 jiaozhun_30k
                 1.s:39     .data:000000000000004b jiaozhun_60k
                 1.s:41     .data:0000000000000050 jiaozhun_100k
                 1.s:43     .data:0000000000000055 jiaozhun_300k
                 1.s:45     .data:000000000000005a jiaozhun_600k
                 1.s:47     .data:000000000000005f jiaozhun_1M
                 1.s:49     .data:0000000000000064 jiaozhun_1.8M
                 1.s:51     .data:0000000000000069 jiaozhun_3M
                 1.s:53     .data:000000000000006e jiaozhun_6M
                 1.s:55     .data:0000000000000073 jiaozhun_18M
                 1.s:57     .data:0000000000000078 jiaozhun
                 1.s:59     .data:0000000000000080 pinlv_100hz
                 1.s:61     .data:0000000000000090 pinlv_1khz
                 1.s:63     .data:00000000000000a0 pinlv_10khz
                 1.s:65     .data:00000000000000b0 pinlv_100khz
                 1.s:67     .data:00000000000000c0 jiaozhun_xianshi_biao
                 1.s:69     .data:00000000000000c0 $d
                 1.s:70     .data:00000000000000c0 jiaodu_jiaozhun_yong_cordic
                 1.s:72     .data:00000000000001b0 jiaozhun_yong_cordic
                 1.s:74     .data:0000000000000228 cordic_yong_cos_sin
                 1.s:76     .data:00000000000002a8 cordic_yong_atan_biao
                 1.s:79     .data:00000000000002f0 zheng_xian_100khz
                 1.s:82     .data:0000000000000310 zheng_xian_10khz
                 1.s:85     .data:0000000000000380 zheng_xian_1khz
                 1.s:89     .data:0000000000000510 zheng_xian_100hz
                 1.s:94     .data:0000000000000ce0 cos_sin_biao_100k
                 1.s:97     .data:0000000000000d84 cos_sin_biao_10k
                 1.s:98     .data:0000000000000d84 cos_sin_biao_1k
                 1.s:100    .data:0000000000000e28 cos_sin_biao_100
                 1.s:102    .data:0000000000000fbc shangbi_liangcheng
                 1.s:106    .data:0000000000000fec xiabi_liangcheng
                 1.s:111    .data:0000000000001020 zukang_xiaoshu_dian
                 1.s:116    .data:0000000000001040 zukang_dianzu_biao
                 1.s:120    .data:00000000000010a0 zukang_danwei
                 1.s:125    .data:0000000000001100 pinlv_qiehuan_yanshi_biao
                 1.s:127    .data:0000000000001110 an_jian_biao
                 1.s:735    .text:0000000000000328 __an_jian0
                 1.s:521    .text:00000000000001e2 __dang_wei_jia
                 1.s:491    .text:00000000000001a8 __pin_lv_jia
                 1.s:489    .text:00000000000001a6 __an_jian3
                 1.s:132    .data:0000000000001120 pinlv_biao
                 1.s:1234   .text:0000000000000742 __pinlv_100
ARM GAS  1.s 			page 52


                 1.s:1312   .text:0000000000000890 __pinlv_1K
                 1.s:1390   .text:0000000000000984 __pinlv_10K
                 1.s:1467   .text:0000000000000a78 __pinlv_100K
                 1.s:138    .data:0000000000001130 pinlv_xianshi_biao
                 1.s:143    .data:0000000000001140 dangwei_xianshi_biao
                 1.s:169    .data:00000000000011a0 kong
                 1.s:171    .data:00000000000011a4 _fu
                 1.s:173    .data:00000000000011a5 jiaodu1
                 1.s:175    .data:00000000000011a9 jiaodufuhao
                 1.s:177    .data:00000000000011ad yjmwxwx
                 1.s:180    *ABS*:0000000020001000 STACKINIT
                 1.s:181    *ABS*:0000000020000000 asciimabiao
                 1.s:182    *ABS*:0000000020000020 lcd_beiguang
                 1.s:183    *ABS*:0000000020000024 shangbi_r
                 1.s:184    *ABS*:0000000020000028 shangbi_i
                 1.s:185    *ABS*:000000002000002c xiabi_r
                 1.s:186    *ABS*:0000000020000030 xiabi_i
                 1.s:187    *ABS*:0000000020000034 shangxiabi_qiehuan
                 1.s:188    *ABS*:0000000020000038 liangcheng
                 1.s:189    *ABS*:000000002000003c z_r
                 1.s:190    *ABS*:0000000020000040 z_i
                 1.s:191    *ABS*:0000000020000044 lvbo_changdu
                 1.s:192    *ABS*:0000000020000048 lvbo_youyi
                 1.s:193    *ABS*:000000002000004c huandangyanshi
                 1.s:194    *ABS*:0000000020000050 shangbi_rr
                 1.s:195    *ABS*:0000000020000054 shangbi_ii
                 1.s:196    *ABS*:0000000020000058 xiabi_rr
                 1.s:197    *ABS*:000000002000005c xiabi_ii
                 1.s:198    *ABS*:0000000020000060 jishu
                 1.s:199    *ABS*:0000000020000064 xianshi_biaozhi
                 1.s:200    *ABS*:0000000020000068 z_fudu
                 1.s:201    *ABS*:000000002000006c cossin
                 1.s:202    *ABS*:0000000020000070 pinlv
                 1.s:203    *ABS*:0000000020000074 anjian
                 1.s:204    *ABS*:0000000020000078 zhenfu
                 1.s:205    *ABS*:000000002000007c shezhi_pinlv
                 1.s:206    *ABS*:0000000020000080 zidong_dangwei_kaiguan
                 1.s:207    *ABS*:0000000020000084 z_r_jiaozhun
                 1.s:208    *ABS*:0000000020000088 z_i_jiaozhun
                 1.s:209    *ABS*:000000002000008c z_jiaozhun
                 1.s:210    *ABS*:0000000020000094 flash_cachu_biaozhi
                 1.s:211    *ABS*:0000000020000098 jiaozhun_biao_zhizhen
                 1.s:212    *ABS*:0000000020000100 dianyabiao
                 1.s:213    *ABS*:00000000200008d0 lvboqizhizhen
                 1.s:214    *ABS*:00000000200008d8 lvboqihuanchong
                 1.s:215    *ABS*:0000000020000a68 lvboqizhizhen1
                 1.s:216    *ABS*:0000000020000a70 lvboqihuanchong1
                 1.s:217    *ABS*:0000000020000c00 lvboqizhizhen2
                 1.s:218    *ABS*:0000000020000c08 lvboqihuanchong2
                 1.s:219    *ABS*:0000000020000d98 lvboqizhizhen3
                 1.s:220    *ABS*:0000000020000da0 lvboqihuanchong3
                 1.s:221    *ABS*:000000001fffef62 fjiesuo
                 1.s:222    *ABS*:000000001fffef6e ojiesuo
                 1.s:223    *ABS*:000000001fffeff8 quanca
                 1.s:224    *ABS*:000000001fffefda yeca
                 1.s:225    *ABS*:000000001ffff020 zica
                 1.s:226    *ABS*:000000001fffef9a xieflash
ARM GAS  1.s 			page 53


                 1.s:227    *ABS*:000000001ffff048 zixie
                 1.s:228    *ABS*:000000001ffff0a6 xiebaohu
                 1.s:229    *ABS*:000000001ffff124 jiancedubaohu
                 1.s:230    *ABS*:000000001fffef7a flashmang
                 1.s:235    .text:0000000000000000 vectors
                 1.s:281    .text:00000000000000b0 _start
                 1.s:2525   .text:00000000000012c8 _nmi_handler
                 1.s:2527   .text:00000000000012ca _hard_fault
                 1.s:2529   .text:00000000000012cc _svc_handler
                 1.s:2531   .text:00000000000012ce _pendsv_handler
                 1.s:2533   .text:00000000000012d0 _systickzhongduan
                 1.s:2628   .text:000000000000138e aaa
                            .text:0000000000000000 $d
                 1.s:280    .text:00000000000000b0 $t
                 1.s:282    .text:00000000000000b0 shizhong
                 1.s:289    .text:00000000000000bc denghse
                 1.s:293    .text:00000000000000c2 dengpllguan
                 1.s:305    .text:00000000000000d6 dengpll
                 1.s:314    .text:00000000000000e0 _waisheshizhong
                 1.s:348    .text:0000000000000106 _neicunqingling
                 1.s:335    .text:00000000000000f6 _neicunqingling1
                 1.s:339    .text:00000000000000fc _neicunqinglingxunhuan1
                 1.s:359    .text:0000000000000114 _waishezhongduan
                 1.s:352    .text:000000000000010c _neicunqinglingxunhuan
                 1.s:381    .text:000000000000011a io_she_zhi
                 1.s:412    .text:000000000000011a __jlink_moshi
                 1.s:416    .text:0000000000000120 __pa_shezhi
                 1.s:431    .text:0000000000000136 spi_chushihua
                 1.s:438    .text:0000000000000140 _lcdchushihua
                 1.s:2147   .text:0000000000001042 _xielcd
                 1.s:2140   .text:0000000000001038 _lcdyanshi
                 1.s:480    .text:00000000000001a0 __pinlv_dangwei_chushihua
                 1.s:2123   .text:000000000000101c _lcdxianshi
                 1.s:470    .text:0000000000000190 yjmwxwx_yanshi
                 1.s:1220   .text:000000000000072e __pinlv_shezhi
                 1.s:736    .text:0000000000000328 ting
                 1.s:501    .text:00000000000001ba __pin_lv_fan_hui
                 1.s:515    .text:00000000000001d8 __pinlv_xianshi_yanshi
                 1.s:530    .text:00000000000001f2 __dang_wei_fan_hui
                 1.s:558    .text:0000000000000228 __dangwei_qiehuan_xunhuan
                 1.s:564    .text:0000000000000232 __jinru_jiaozhun
                 1.s:607    .text:000000000000026a __jiaozhun_kaishi
                 1.s:569    .text:000000000000023a __cachu_flash
                 1.s:620    .text:0000000000000282 __deng_zukang_wending
                 1.s:627    .text:000000000000028c dzd1
                 1.s:1612   .text:0000000000000be8 __jisuan_zukang
                 1.s:1853   .text:0000000000000dd0 __xianshi_zukang
                 1.s:1020   .text:00000000000005c4 __jiaozhun_jiaodu
                 1.s:1000   .text:00000000000005a0 __xiangwei_xuanzhuan
                 1.s:962    .text:0000000000000568 __jiaozhun_fudu
                 1.s:706    .text:0000000000000320 __jiaozhun_qiehuan_pinlv
                 1.s:730    .text:0000000000000322 __dangwei_xianshi_yanshi
                 1.s:732    .text:0000000000000324 __dangwei_xianshi_yanshi_xunhuan
                 1.s:1932   .text:0000000000000e6c __xianshi_shangxia_bi
                 1.s:2199   .text:00000000000010a8 _zhuanascii
                 1.s:1211   .text:000000000000071e __an_jian
                 1.s:1742   .text:0000000000000cc0 __atan2_ji_suan
ARM GAS  1.s 			page 54


                 1.s:1142   .text:00000000000006ae __xian_shi_jiao_du
                 1.s:802    .text:00000000000003a8 dzd
                 1.s:820    .text:00000000000003d0 dddd
                 1.s:1918   .text:0000000000000e50 __xianshi_liangcheng
                 1.s:877    .text:0000000000000446 __cai_dan_diao_du
                 1.s:883    .text:0000000000000450 $d
                 1.s:917    .text:0000000000000528 _adcchushihua
                 1.s:919    .text:0000000000000528 $t
                 1.s:923    .text:0000000000000530 __adc_lianxu
                 1.s:925    .text:0000000000000532 __adc_chushi_hua
                 1.s:929    .text:0000000000000538 _dengadcjiaozhun
                 1.s:935    .text:0000000000000542 _kaiadc
                 1.s:940    .text:000000000000054a _deng_adc_wen_ding
                 1.s:944    .text:0000000000000550 _tongdaoxuanze
                 1.s:1802   .text:0000000000000d84 __ji_suan_fu_du
                 1.s:976    .text:0000000000000580 __fudu_jiaozhun_xunhuan
                 1.s:983    .text:000000000000058a __fudu_jian
                 1.s:980    .text:0000000000000586 __fudu_jia
                 1.s:985    .text:000000000000058c __jiaozhun_xuanzhuan
                 1.s:992    .text:0000000000000598 __baocun_fudu_jiaozhun
                 1.s:996    .text:000000000000059e __jiaozhun_fudu_fanhui
                 1.s:1041   .text:00000000000005e8 __jiaodu_jiaozhun_xunhuan
                 1.s:1080   .text:0000000000000636 __jiaodu_fanzhuan
                 1.s:1109   .text:000000000000066e __jiaodu_xuanzhuan
                 1.s:1123   .text:0000000000000686 __xianshi_shangxiabi_jiaodu
                 1.s:1162   .text:00000000000006d4 __jiaodu_bu_shi_zheng
                 1.s:1167   .text:00000000000006de __xian_shi_jiaodu
                 1.s:1180   .text:00000000000006f8 __jiaozhun_shu_zhi
                 1.s:1187   .text:0000000000000702 __z_jiaozhun_xunhuan
                 1.s:1194   .text:000000000000070c __z_jian
                 1.s:1191   .text:0000000000000708 __z_jia
                 1.s:1196   .text:000000000000070e __z_xuanzhuan
                 1.s:1203   .text:000000000000071a __baocun_z_jiaozhun
                 1.s:1310   .text:00000000000007ce $d
                 1.s:1310   .text:00000000000007d0 $d
                 1.s:1314   .text:0000000000000890 $t
                 1.s:1388   .text:000000000000091c $d
                 1.s:1392   .text:0000000000000984 $t
                 1.s:1465   .text:0000000000000a10 $d
                 1.s:1469   .text:0000000000000a78 $t
                 1.s:1530   .text:0000000000000aea __pinlv_yanshi
                 1.s:1532   .text:0000000000000aec __pinlv_yanshi_xunhuan
                 1.s:1536   .text:0000000000000af2 __pin_lv_xian_shi
                 1.s:1549   .text:0000000000000b0e $d
                 1.s:1549   .text:0000000000000b10 $d
                 1.s:1551   .text:0000000000000b78 __jisuan_z_fudu
                 1.s:1552   .text:0000000000000b78 $t
                 1.s:2500   .text:00000000000012a2 _chufa
                 1.s:1577   .text:0000000000000bae __zidong_dangwei
                 1.s:1579   .text:0000000000000bb0 __huan_dang
                 1.s:1599   .text:0000000000000bd6 __dang_wei_jian
                 1.s:1608   .text:0000000000000be6 __zi_dong_dang_wei_fan_hui
                 1.s:2229   .text:00000000000010da __fu_shu_chu_fa
                 1.s:1638   .text:0000000000000c16 __jisuan_cos_sin
                 1.s:1648   .text:0000000000000c24 __xiaoyu_180
                 1.s:1650   .text:0000000000000c26 __js_cos_sin
                 1.s:1659   .text:0000000000000c36 __jisuan_jiaodu_bushi0
ARM GAS  1.s 			page 55


                 1.s:1661   .text:0000000000000c38 __jiance_chao90
                 1.s:1668   .text:0000000000000c44 __xiaoyu_90
                 1.s:1670   .text:0000000000000c46 __suan_cossin
                 1.s:1681   .text:0000000000000c5e __suan_cos_sin1
                 1.s:1696   .text:0000000000000c78 __cordic_cos_sin
                 1.s:1687   .text:0000000000000c6a __cos_sin_fanhui
                 1.s:1694   .text:0000000000000c76 __cossin_fh
                 1.s:1710   .text:0000000000000c88 cordicxunhuan
                 1.s:1755   .text:0000000000000cd6 __cordic_atan2_xun_huan
                 1.s:1756   .text:0000000000000cd6 __du_cos_sin
                 1.s:1776   .text:0000000000000cfa __ni_shi_zhen_zhuan
                 1.s:1769   .text:0000000000000cee __shun_shi_zhen_zhuan
                 1.s:1782   .text:0000000000000d04 __xuan_zhuan_wan
                 1.s:1801   .text:0000000000000d28 $d
                 1.s:1807   .text:0000000000000d84 $t
                 1.s:1812   .text:0000000000000d8e _shibubushifushu
                 1.s:1817   .text:0000000000000d96 _xububushifushu
                 1.s:1822   .text:0000000000000d9e _panduanxubushibushi0
                 1.s:1826   .text:0000000000000da4 _jisuanfudu1
                 1.s:1841   .text:0000000000000dba _alpha_min_beta_max
                 1.s:1833   .text:0000000000000dac _alpha_max_beta_min
                 1.s:1852   .text:0000000000000dc8 $d
                 1.s:1854   .text:0000000000000dd0 $t
                 1.s:1868   .text:0000000000000dee aaa1
                 1.s:1873   .text:0000000000000df8 aaa2
                 1.s:1897   .text:0000000000000e28 bbb1
                 1.s:1902   .text:0000000000000e32 bbb2
                 1.s:1947   .text:0000000000000e8a aa1
                 1.s:1952   .text:0000000000000e94 aa2
                 1.s:1973   .text:0000000000000ebe bb1
                 1.s:1978   .text:0000000000000ec8 bb2
                 1.s:2002   .text:0000000000000efa cc1
                 1.s:2007   .text:0000000000000f04 cc2
                 1.s:2028   .text:0000000000000f2e dd1
                 1.s:2033   .text:0000000000000f38 dd2
                 1.s:2045   .text:0000000000000f50 __dft
                 1.s:2061   .text:0000000000000f6e __dft_xunhuan
                 1.s:2069   .text:0000000000000f7c __du_sin
                 1.s:2091   .text:0000000000000fa4 __lv_bo_qi
                 1.s:2111   .text:0000000000000fc4 __huanchong_leijia
                 1.s:2120   .text:0000000000000fd4 $d
                 1.s:2124   .text:000000000000101c $t
                 1.s:2132   .text:000000000000102a _lcdxianshixunhuan
                 1.s:2143   .text:000000000000103c _lcdyanshixunhuan
                 1.s:2161   .text:000000000000105a __lcd_ming_ling
                 1.s:2158   .text:0000000000001056 __lcd_shu_ju
                 1.s:2163   .text:000000000000105c __xie_lcd_shu_ju
                 1.s:2186   .text:0000000000001098 __spi_mang
                 1.s:2191   .text:00000000000010a0 __yanshi_595
                 1.s:2193   .text:00000000000010a2 __yanshi__595
                 1.s:2206   .text:00000000000010b2 _xunhuanqiuma
                 1.s:2225   .text:00000000000010d6 _qiumafanhui
                 1.s:2220   .text:00000000000010ce _meidaoxiaoshudian
                 1.s:2239   .text:00000000000010e8 __tiao_guo_bei_chu_shu_0_pan_duan
                 1.s:2245   .text:00000000000010f2 __ji_suan_chu_fa
                 1.s:2257   .text:0000000000001106 b1
                 1.s:2264   .text:0000000000001112 b2
ARM GAS  1.s 			page 56


                 1.s:2451   .text:0000000000001258 __chengfa
                 1.s:2266   .text:0000000000001116 b3
                 1.s:2271   .text:000000000000111e a1
                 1.s:2282   .text:0000000000001132 b4
                 1.s:2288   .text:000000000000113c b5
                 1.s:2290   .text:0000000000001140 b6
                 1.s:2295   .text:0000000000001148 a2
                 1.s:2314   .text:000000000000116c b7
                 1.s:2320   .text:0000000000001176 b8
                 1.s:2407   .text:0000000000001210 __chufa64
                 1.s:2326   .text:0000000000001182 __bao_cun_chu_fa_shi_bu_jie_guo
                 1.s:2338   .text:0000000000001194 b9
                 1.s:2345   .text:00000000000011a0 b10
                 1.s:2351   .text:00000000000011ac a3
                 1.s:2361   .text:00000000000011be b11
                 1.s:2368   .text:00000000000011ca b12
                 1.s:2374   .text:00000000000011d6 a4
                 1.s:2385   .text:00000000000011ea b13
                 1.s:2391   .text:00000000000011f4 b14
                 1.s:2398   .text:0000000000001202 __bao_cun_chu_fa_xu_bu_jie_guo
                 1.s:2447   .text:0000000000001252 __chu_fa64_fan_hui0
                 1.s:2417   .text:000000000000121e __chu_fa64_ji_suan
                 1.s:2424   .text:000000000000122a __chu_fa64_xun_huan
                 1.s:2433   .text:000000000000123a __chu_fa_yi_wei
                 1.s:2441   .text:0000000000001248 __di_yi_wei
                 1.s:2495   .text:000000000000129c __cheng_fa_fan_hui
                 1.s:2465   .text:0000000000001262 __ji_suan_cheng_fa
                 1.s:2522   .text:00000000000012c6 _chufafanhui
                 1.s:2512   .text:00000000000012b6 _chufaxunhuan
                 1.s:2519   .text:00000000000012c2 _chufaweishubudao0
                 1.s:2575   .text:0000000000001324 __shangbi_dft
                 1.s:2539   .text:00000000000012da __xiabi_dft
                 1.s:2622   .text:0000000000001386 __systick_fanhui
                 1.s:2630   .text:0000000000001390 $d

NO UNDEFINED SYMBOLS
