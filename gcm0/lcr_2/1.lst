ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@lcr-1
   3              		@作者：yjmwxwx
   4              		@时间：2022-01-01
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              	jiaozhun33:
  10 0000 206A6961 		.ascii " jiao zhun 33.3 "
  10      6F207A68 
  10      756E2033 
  10      332E3320 
  11              	jiaozhun_100:
  12 0010 206A6961 		.ascii " jiao zhun 100  "
  12      6F207A68 
  12      756E2031 
  12      30302020 
  13              	jiaozhun_300:
  14 0020 206A6961 		.ascii " jiao zhun 300  "
  14      6F207A68 
  14      756E2033 
  14      30302020 
  15              	jiaozhun_1K:
  16 0030 20206A69 		.ascii "  jiao zhun 1K  "
  16      616F207A 
  16      68756E20 
  16      314B2020 
  17              	jiaozhun_3K:
  18 0040 20206A69 		.ascii "  jiaozhun 3K   "
  18      616F7A68 
  18      756E2033 
  18      4B202020 
  19              	jiaozhun_10K:
  20 0050 206A6961 		.ascii " jiao zhun 10K  "
  20      6F207A68 
  20      756E2031 
  20      304B2020 
  21              	jiaozhun_30K:
  22 0060 206A6961 		.ascii " jiao zhun 30K  "
  22      6F207A68 
  22      756E2033 
  22      304B2020 
  23              	jiaozhun_100K:
  24 0070 206A6961 		.ascii " jiao zhun 100K "
  24      6F207A68 
  24      756E2031 
  24      30304B20 
  25              	jiaozhun_300K:
  26 0080 206A6961 		.ascii " jiao zhun 300K "
  26      6F207A68 
  26      756E2033 
  26      30304B20 
  27              	pinlv_100hz:
  28 0090 20207069 		.ascii "  pin lv 100HZ  "
  28      6E206C76 
  28      20313030 
ARM GAS  1.s 			page 2


  28      485A2020 
  29              	pinlv_1khz:
  30 00a0 20207069 		.ascii "  pin lv 1KHZ   "
  30      6E206C76 
  30      20314B48 
  30      5A202020 
  31              	pinlv_10khz:
  32 00b0 20207069 		.ascii "  pin lv 10KHZ  "
  32      6E206C76 
  32      2031304B 
  32      485A2020 
  33              	pinlv_100khz:
  34 00c0 20207069 		.ascii "  pin lv 100KHZ "
  34      6E206C76 
  34      20313030 
  34      4B485A20 
  35              		
  36              		.align 4
  37              	jiaodu_jiaozhun_yong_cordic:
  38 00d0 0080FFFF 		.int -32768,0,0,32768,23170,23170,30274,12540,32138,6393,32610,3212,32729,1608,32758,804,32766,402
  38      00000000 
  38      00000000 
  38      00800000 
  38      825A0000 
  39              	jiaozhun_yong_cordic:
  40 01c0 00800000 		.int 32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
  40      00400000 
  40      00200000 
  40      00100000 
  40      00080000 
  41              	cordic_yong_cos_sin:
  42 0238 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
  42      00400000 
  42      412D0000 
  42      412D0000 
  42      203B0000 
  43              	cordic_yong_atan_biao:	@弧度
  44 02b8 87640000 		.int 0x00006487,0x00003B58,0x00001F5B,0x00000FEA,0x000007FD,0x000003FF,0x000001FF,0x000000FF,0x000
  44      583B0000 
  44      5B1F0000 
  44      EA0F0000 
  44      FD070000 
  45 02f8 00000000 		.align 4
  45      00000000 
  46              	zheng_xian_100khz:
  47 0300 0A0D1012 		.byte 10,13,16,18,20,20,20,18,16,13,10,7,4,2,0,0,0,2,4,7
  47      14141412 
  47      100D0A07 
  47      04020000 
  47      00020407 
  48 0314 00000000 		.align 4
  48      00000000 
  48      00000000 
  49              	zheng_xian_10khz:
  50 0320 38003E00 		.short 56,62,69,76,82,88,93,98,102,106,108,110,111,111,110,108,106,102,98,93,88,82,76,69,62,56,49,
  50      45004C00 
  50      52005800 
ARM GAS  1.s 			page 3


  50      5D006200 
  50      66006A00 
  51 0384 00000000 		.align 4
  51      00000000 
  51      00000000 
  52              	zheng_xian_1khz:
  53 0390 38003800 		.short 56,56,57,58,58,59,60,60,61,62,62,63,64,65,65,66,67,67,68,69,69,70,71,71,72,73,73,74,75,75,7
  53      39003A00 
  53      3A003B00 
  53      3C003C00 
  53      3D003E00 
  54 0778 00000000 		.align 4
  54      00000000 
  55              	zheng_xian_100hz:
  56 0780 4B004B00 		.short 75,75,76,76,77,77,78,78,79,79,80,80,81,81,82,82,83,83,83,84,84,85,85,86,86,87,87,88,88,89,8
  56      4C004C00 
  56      4D004D00 
  56      4E004E00 
  56      4F004F00 
  57              	
  58              		.align 4
  59              	cos_sin_biao_100k:
  60 0f50 00800000 		.int 0x00008000,0x00000000,0x0000678D,0xFFFFB4C4,0x0000278D,0xFFFF8644,0xFFFFD873,0xFFFF8644,0xFFF
  60      00000000 
  60      8D670000 
  60      C4B4FFFF 
  60      8D270000 
  61              		
  62              	cos_sin_biao_10k:
  63 0ff4 00800000 		.int 0x00008000,0x00000000,0x00007FBF,0xFFFFF7F7,0x00007EFD,0xFFFFEFF6,0x00007DBB,0xFFFFE804,0x000
  63      00000000 
  63      BF7F0000 
  63      F7F7FFFF 
  63      FD7E0000 
  64              	cos_sin_biao_100_1k:
  65 1638 00800000 		.int 0x00008000,0x00000000,0x00007FFF,0xFFFFFF33,0x00007FFD,0xFFFFFE65,0x00007FFA,0xFFFFFD97,0x000
  65      00000000 
  65      FF7F0000 
  65      33FFFFFF 
  65      FD7F0000 
  66              	shangbi_liangcheng:
  67 3578 08000000 		.short 0x08,0x00,0x00,0x200,0x200,0x40,0x40,0x240,0x240
  67      00000002 
  67      00024000 
  67      40004002 
  67      4002
  68              	xiabi_liangcheng:
  69 358a 00000000 		.short 0x00,0x00,0x08,0x200,0x208,0x40,0x48,0x240,0x248
  69      08000002 
  69      08024000 
  69      48004002 
  69      4802
  70 359c 00000000 		.align 4
  71              	zukang_xiaoshu_dian:			@jdjd
  72 35a0 0303FF04 		.byte 0x03,0x03,0xff,0x04,0x02,0x02,0x03,0x03,0xff
  72      02020303 
  72      FF
ARM GAS  1.s 			page 4


  73 35a9 00000000 		.align 4
  73      000000
  74              	zukang_huansuan_biao:
  75 35b0 AA2A0000 		.int 10922,32768,10922,32768,10922,32768,10922,32768,10922
  75      00800000 
  75      AA2A0000 
  75      00800000 
  75      AA2A0000 
  76              	zukang_danwei:
  77              		@毫欧=0XF46D，欧=0XF420, 千欧=0XF44B，兆欧=0XF44D
  78 35d4 20F40000 		.int 0xf420,0xf420,0xf420,0xf420,0xf44b,0xf44b,0xf44b,0xf44b,0xf44b
  78      20F40000 
  78      20F40000 
  78      20F40000 
  78      4BF40000 
  79              	an_jian_biao:
  80 35f8 59020000 		.word __an_jian0         	   	   +1
  81 35fc 23020000 		.word __dang_wei_jia     	   	   +1
  82 3600 E9010000 		.word __pin_lv_jia      	   	   +1
  83 3604 E7010000 		.word __an_jian3         	           +1
  84              	pinlv_biao:
  85 3608 81050000 		.word __pinlv_100			+1
  86 360c 95060000 		.word __pinlv_1K			+1
  87 3610 71070000 		.word __pinlv_10K			+1
  88 3614 4D080000 		.word __pinlv_100K			+1
  89 3618 00000000 		.align 4
  89      00000000 
  90              	pinlv_xianshi_biao:
  91 3620 90000000 		.word pinlv_100hz
  92 3624 A0000000 		.word pinlv_1khz
  93 3628 B0000000 		.word pinlv_10khz
  94 362c C0000000 		.word pinlv_100khz
  95              	dangwei_xianshi_biao:
  96 3630 00000000 		.word jiaozhun33
  97 3634 10000000 		.word jiaozhun_100
  98 3638 80000000 		.word jiaozhun_300K
  99 363c 30000000 		.word jiaozhun_1K
 100 3640 40000000 		.word jiaozhun_3K
 101 3644 50000000 		.word jiaozhun_10K
 102 3648 60000000 		.word jiaozhun_30K
 103 364c 70000000 		.word jiaozhun_100K
 104 3650 80000000 		.word jiaozhun_300K
 105              		
 106              	kong:
 107 3654 20202020 		.int 0x20202020
 108              	_fu:
 109 3658 2D       		.ascii "-"
 110              	jiaodu1:
 111 3659 F23D0000 		.int 0x3df2
 112              	jiaodufuhao:
 113 365d DF000000 		.int 0xdf
 114              	yjmwxwx:
 115 3661 796A6D77 		.ascii "yjmwxwx-20210823"
 115      7877782D 
 115      32303231 
 115      30383233 
 116 3671 00000000 		.align 4
ARM GAS  1.s 			page 5


 116      00000000 
 116      00000000 
 116      000000
 117              		.equ STACKINIT,        	        0x20001000
 118              		.equ asciimabiao,		0x20000000
 119              		.equ lcd_beiguang,		0x20000020
 120              		.equ shangbi_r, 		0x20000024
 121              		.equ shangbi_i,			0x20000028
 122              		.equ xiabi_r,			0x2000002c
 123              		.equ xiabi_i,			0x20000030
 124              		.equ shangxiabi_qiehuan,	0x20000034
 125              		.equ liangcheng,		0x20000038
 126              		.equ z_r,			0x2000003c
 127              		.equ z_i,			0x20000040
 128              		.equ dma_r,			0x20000044
 129              		.equ dma_i,			0x20000048
 130              		.equ huandangyanshi,		0x2000004c
 131              		.equ shangbi_rr,		0x20000050
 132              		.equ shangbi_ii,		0x20000054
 133              		.equ xiabi_rr,			0x20000058
 134              		.equ xiabi_ii,			0x2000005c
 135              		.equ jishu,			0x20000060
 136              		.equ xianshi_biaozhi,		0x20000064
 137              		.equ z_fudu,			0x20000068
 138              		.equ cossin,			0x2000006c
 139              		.equ pinlv,			0x20000070
 140              		.equ anjian,			0x20000074
 141              		.equ zhenfu,			0x20000078
 142              		.equ shezhi_pinlv,		0x2000007c
 143              		.equ zidong_dangwei_kaiguan,	0x20000080
 144              		.equ z_r_jiaozhun,		0x20000084
 145              		.equ z_i_jiaozhun,		0x20000088
 146              	
 147              		
 148              		.equ dianyabiao,		0x20000100
 149              		.equ lvboqizhizhen,		0x200008d0
 150              		.equ lvboqihuanchong,		0x200008d8
 151              		.equ lvboqizhizhen1,            0x20000a68  @0x200009e0
 152              		.equ lvboqihuanchong1,          0x20000a70  @0x200009e8
 153              	        .equ lvboqizhizhen2,            0x20000c00  @0x20000af0
 154              		.equ lvboqihuanchong2,          0x20000c08  @0x20000af8
 155              		.equ lvboqizhizhen3,            0x20000d98  @0x20000c00
 156              		.equ lvboqihuanchong3,          0x20000da0  @0x20000c08
 157              		
 158              		
 159              		.section .text
 160              	
 161              	vectors:
 162 0000 00100020 		.word STACKINIT
 163 0004 B1000000 		.word _start + 1
 164 0008 79100000 		.word _nmi_handler + 1
 165 000c 7B100000 		.word _hard_fault  + 1
 166 0010 00000000 		.word 0
 167 0014 00000000 		.word 0
 168 0018 00000000 		.word 0
 169 001c 00000000 		.word 0
 170 0020 00000000 		.word 0
ARM GAS  1.s 			page 6


 171 0024 00000000 		.word 0
 172 0028 00000000 		.word 0
 173 002c 7D100000 		.word _svc_handler +1
 174 0030 00000000 		.word 0
 175 0034 00000000 		.word 0
 176 0038 7F100000 		.word _pendsv_handler +1
 177 003c 81100000 		.word _systickzhongduan +1           @ 15
 178 0040 4F110000 		.word aaa +1     @ _wwdg +1          @ 0
 179 0044 4F110000 		.word aaa +1     @_pvd +1            @ 1
 180 0048 4F110000 		.word aaa +1     @_rtc +1            @ 2
 181 004c 4F110000 		.word aaa +1     @_flash +1          @ 3
 182 0050 4F110000 		.word aaa +1	@ _rcc + 1           @ 4
 183 0054 4F110000 		.word aaa +1      @_exti0_1  +1      @ 5
 184 0058 4F110000 		.word aaa +1      @ _exti2_3 +1      @ 6
 185 005c 4F110000 		.word aaa +1       @_exti4_15 +1     @ 7
 186 0060 4F110000 		.word aaa +1                         @ 8
 187 0064 4F110000 		.word aaa +1	@__dma_wan  +1	     @ 9
 188 0068 4F110000 		.word aaa +1    @_dma1_2_3 +1        @ 10
 189 006c 4F110000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 190 0070 4F110000 		.word aaa +1	 @_adc1 +1           @ 12
 191 0074 4F110000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 192 0078 4F110000 		.word aaa +1        @ _tim1_cc +1    @ 14
 193 007c 4F110000 		.word aaa +1         @_tim2 +1       @ 15
 194 0080 4F110000 		.word aaa +1          @_tim3 +1      @ 16
 195 0084 4F110000 		.word aaa +1                         @ 17
 196 0088 4F110000 		.word aaa +1		             @ 18
 197 008c 4F110000 		.word aaa +1	@_tim14 +1           @ 19
 198 0090 4F110000 		.word aaa +1                         @ 20
 199 0094 4F110000 		.word aaa +1         @_tim16 +1      @ 21
 200 0098 4F110000 		.word aaa +1         @_tim17 +1      @ 22
 201 009c 4F110000 		.word aaa +1          @_i2c   +1     @ 23
 202 00a0 4F110000 		.word aaa +1                         @ 24
 203 00a4 4F110000 		.word aaa +1           @_spi   +1    @ 25
 204 00a8 4F110000 		.word aaa +1                         @ 26
 205 00ac 4F110000 		.word aaa +1         @_usart1 +1     @ 27
 206              		.align 2
 207              	_start:
 208              	shizhong:
 209 00b0 924A     		ldr r2, = 0x40022000   @FLASH访问控制
 210 00b2 3221     		movs r1, # 0x32
 211 00b4 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 212 00b6 9248     		ldr r0, = 0x40021000 @ rcc
 213 00b8 9249     		ldr r1, = 0x10001
 214 00ba 0160     		str r1, [r0]
 215              	denghse:
 216 00bc 0168     		ldr r1, [r0]
 217 00be 8903     		lsls r1, r1, # 14
 218 00c0 FCD5     		bpl denghse
 219              	dengpllguan:
 220 00c2 0168     		ldr r1, [r0]
 221 00c4 8901     		lsls r1, r1, # 6
 222 00c6 FCD4     		bmi dengpllguan
 223 00c8 8F49     		ldr r1, = 0x154002	@0x150002
 224 00ca 0046     		mov r0, r0
 225 00cc 4160     		str r1, [r0, # 0x04]
 226 00ce 0046     		mov r0, r0
 227 00d0 8E49     		ldr r1, = 0x1010000
ARM GAS  1.s 			page 7


 228 00d2 0046     		mov r0, r0
 229 00d4 0160     		str r1, [r0]
 230              	
 231              	dengpll:
 232 00d6 0168     		ldr r1, [r0]
 233 00d8 8901     		lsls r1, # 6
 234 00da FCD5     		bpl dengpll
 235              	
 236              	
 237 00dc 8C49     		ldr r1, = 100
 238 00de 0163     		str r1, [r0, # 0x30]
 239              	
 240              	_waisheshizhong:	                         @ 外设时钟
 241              		@+0x14=RCC_AHBENR
 242              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 243 00e0 8748     		ldr r0, = 0x40021000
 244 00e2 8C49     		ldr r1, = 0x60001
 245 00e4 4161     		str r1, [r0, # 0x14]
 246              	
 247              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 248              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 249 00e6 8C49     		ldr r1, = 0x1a00
 250 00e8 8161     		str r1, [r0, # 0x18]
 251              		@+0X1C=RCC_APB1ENR
 252              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 253              		@ 22=I2C2 @ 23=USB @ 28=PWR
 254 00ea 8C4A     		ldr r2, = 0x902
 255 00ec C261     		str r2, [r0, # 0x1c]
 256              	
 257 00ee 8C48     		ldr r0, = shezhi_pinlv
 258 00f0 0068     		ldr r0, [r0]
 259 00f2 0128     		cmp r0, # 1
 260 00f4 07D1     		bne _neicunqingling
 261              	_neicunqingling1:
 262 00f6 8B48     		ldr r0, = 0x20001000
 263 00f8 8B4A     		ldr r2, = 0x20000100
 264 00fa 0021     		movs r1, # 0
 265              	_neicunqinglingxunhuan1:
 266 00fc 0438     		subs r0, r0, # 4
 267 00fe 0160     		str r1, [r0]
 268 0100 9042     		cmp r0, r2
 269 0102 FBD1     		bne _neicunqinglingxunhuan1
 270 0104 06E0     		b _waishezhongduan
 271              	_neicunqingling:
 272 0106 8748     		ldr r0, = 0x20001000
 273 0108 884A     		ldr r2, = 0x20000000
 274 010a 0021     		movs r1, # 0
 275              	_neicunqinglingxunhuan:
 276 010c 0438     	        subs r0, r0, # 4
 277 010e 0160     		str r1, [r0]
 278 0110 9042     		cmp r0, r2
 279 0112 FBD1     		bne _neicunqinglingxunhuan
 280              	_waishezhongduan:		@外设中断
 281              		@0xE000E100    0-31  写1开，写0没效
 282              		@0XE000E180    0-31 写1关，写0没效
 283              		@0XE000E200    0-31 挂起，写0没效
 284              		@0XE000E280    0-31 清除， 写0没效
ARM GAS  1.s 			page 8


 285 0114 8648     		ldr r0, =  0xe000e100
 286 0116 8749     		ldr r1, = 0x200 @0x10200  @ 0x10000
 287 0118 0160     		str r1, [r0]
 288              		
 289              	@_kanmengou:
 290              	@	ldr r0, = 0x40003000
 291              	@	ldr r1, = 0x5555
 292              	@	str r1, [r0]
 293              	@	movs r1, # 7
 294              	@	str r1, [r0, # 4]
 295              	@	ldr r1, = 0xfff
 296              	@	str r1, [r0, # 8]
 297              	@	ldr r1, = 0xaaaa
 298              	@	str r1, [r0]
 299              	@	ldr r1, = 0xcccc
 300              	@	str r1, [r0]
 301              		
 302              	io_she_zhi:
 303              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 304              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 305              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 306              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 307              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 308              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 309              		@偏移0x10 = 输入数据寄存器
 310              		@偏移0x14 = 输出数据寄存器
 311              		@偏移0x18 = 端口开  0-15置位
 312              		@偏移0x28 = 端口关
 313              		@0X20 = 复用低
 314              		@GPIO口0（0-3位）每个IO口占用4位
 315              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 316              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 317              		@0x24 = 复用高
 318              		@GPIO口8 （0-3位）每个IO口占用4位
 319              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 320              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 321              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 322              	
 323 011a 8748     		ldr r0, = 0x48000000
 324 011c 8749     		ldr r1, = 0x28249a57
 325 011e 0160     		str r1, [r0]
 326 0120 B621     		movs r1, # 0xb6
 327 0122 4160     		str r1, [r0, # 0x04]
 328 0124 8649     		ldr r1, = 0x30cf00
 329 0126 8160     		str r1, [r0, # 0x08]
 330 0128 8249     		ldr r1, = 0x200
 331 012a 4162     		str r1, [r0, # 0x24]
 332              	
 333 012c 0E21     		movs r1, # 0x0e
 334 012e 8162     		str r1, [r0, # 0x28]
 335              		
 336 0130 8448     	        ldr r0, = 0x48000400
 337 0132 0421     		movs r1, # 0x04
 338 0134 0160     		str r1, [r0]
 339              		
 340              	spi_chushihua:
 341 0136 8448     		ldr r0, = 0x40013000
ARM GAS  1.s 			page 9


 342 0138 8449     		ldr  r1, = 0x708
 343 013a 4160     		str r1, [r0, # 0x04]
 344 013c 8449     		ldr r1, = 0x7c
 345 013e 0160     		str r1, [r0]
 346              	
 347              	_lcdchushihua:
 348 0140 3320     		movs r0, # 0x33
 349 0142 0021     		movs r1, # 0
 350 0144 00F055FE 		bl _xielcd
 351 0148 00F04EFE 		bl _lcdyanshi
 352              	
 353 014c 3220     		movs r0, # 0x32
 354 014e 0021     		movs r1, # 0
 355 0150 00F04FFE 		bl _xielcd
 356 0154 00F048FE 		bl _lcdyanshi
 357 0158 2820     		movs r0, # 0x28
 358 015a 0021     		movs r1, # 0
 359 015c 00F049FE 		bl _xielcd
 360 0160 00F042FE 		bl _lcdyanshi
 361 0164 0C20     		movs r0, # 0x0c
 362 0166 0021     		movs r1, # 0
 363 0168 00F043FE 		bl _xielcd
 364 016c 00F03CFE 		bl _lcdyanshi
 365 0170 0120     		movs r0, # 0x01
 366 0172 0021     		movs r1, # 0
 367 0174 00F03DFE 		bl _xielcd
 368 0178 00F036FE 		bl _lcdyanshi
 369              	
 370              	@	ldr r0, = shezhi_pinlv
 371              	@	ldr r0, [r0]
 372              	@	cmp r0, # 1
 373              	@	beq _adcchushihua
 374 017c 8020     		movs r0, # 0x80
 375 017e 7549     		ldr r1, = yjmwxwx
 376 0180 1022     		movs r2, # 16
 377 0182 00F023FE 		bl _lcdxianshi
 378 0186 7448     		ldr r0, = 0xffffff
 379              	yjmwxwx_yanshi:
 380 0188 0138     		subs r0, r0, # 1
 381 018a FDD1     		bne yjmwxwx_yanshi
 382              		
 383 018c 0120     		movs r0, # 0x01
 384 018e 0021     		movs r1, # 0
 385 0190 00F02FFE 		bl _xielcd
 386 0194 00F028FE 		bl _lcdyanshi
 387              		
 388 0198 7048     		ldr r0, = pinlv
 389 019a 0321     		movs r1, # 3
 390 019c 0160     		str r1, [r0]
 391 019e 00F0E5F9 		bl __pinlv_shezhi
 392              	@	bl __pin_lv_xian_shi
 393 01a2 6F48     		ldr r0, = liangcheng
 394 01a4 0321     		movs r1, # 3
 395 01a6 0160     		str r1, [r0]
 396 01a8 5D48     		ldr r0, = shezhi_pinlv
 397 01aa 0121     		movs r1, # 1
 398 01ac 0160     		str r1, [r0]
ARM GAS  1.s 			page 10


 399              	
 400              	
 401              	
 402              	
 403              	_adcchushihua:
 404 01ae 6D48     		ldr r0, = 0x40012400  @ adc基地址
 405 01b0 6D49     		ldr r1, = 0x80000000
 406 01b2 8160     		str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 407              	_dengadcjiaozhun:
 408 01b4 8168     		ldr r1, [r0, # 0x08]
 409 01b6 0900     		movs r1, r1
 410 01b8 FCD4     		bmi _dengadcjiaozhun   @ 等ADC校准
 411 01ba 0121     		movs r1, # 1
 412 01bc 0160     		str r1, [r0]
 413              	_kaiadc:
 414 01be 8168     		ldr r1, [r0, # 0x08]
 415 01c0 0122     		movs r2, # 0x01
 416 01c2 1143     		orrs r1, r1, r2
 417 01c4 8160     		str r1, [r0, # 0x08]
 418              	_deng_adc_wen_ding:
 419 01c6 0168     		ldr r1, [r0]
 420 01c8 C907     		lsls r1, r1, # 31
 421 01ca FCD5     		bpl _deng_adc_wen_ding @ 等ADC稳定
 422              	_tongdaoxuanze:
 423 01cc 6649     		ldr r1, = 0x80000000
 424 01ce 0161     		str r1, [r0, # 0x10]
 425 01d0 6649     		ldr r1, = 0x01
 426 01d2 8162     		str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 427 01d4 6649     		ldr r1, = 0x2003 @0x8c3 @ 0xc43         @TIM3 0x8c3 @0x2003 @0x8c3
 428 01d6 C160     		str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 429 01d8 0021     		movs r1, # 0
 430 01da 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 431 01dc 8168     		ldr r1, [r0, # 0x08]
 432 01de 654A     		ldr r2, = 0x04         @ 开始转换
 433 01e0 1143     		orrs r1, r1, r2
 434 01e2 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 435              		
 436              	
 437              	
 438              	
 439              	
 440              	
 441              	
 442              	
 443              		
 444 01e4 38E0     		b ting
 445              	
 446              	__an_jian3:
 447 01e6 37E0     		b ting
 448              	__pin_lv_jia:
 449 01e8 72B6     		cpsid i
 450 01ea 5C48     		ldr r0, = pinlv
 451 01ec 0168     		ldr r1, [r0]
 452 01ee 0131     		adds r1, r1, # 1
 453 01f0 0160     		str r1, [r0]
 454 01f2 0429     		cmp r1, # 4
 455 01f4 01D1     		bne __pin_lv_fan_hui
ARM GAS  1.s 			page 11


 456 01f6 0021     		movs r1, # 0
 457 01f8 0160     		str r1, [r0]
 458              	__pin_lv_fan_hui:
 459 01fa 0A46     		mov r2, r1
 460 01fc 9200     		lsls r2, r2, # 2
 461 01fe 0120     	        movs r0, # 0x01
 462 0200 0021     		movs r1, # 0
 463 0202 00F0F6FD 		bl _xielcd
 464 0206 00F0EFFD 		bl _lcdyanshi
 465 020a 8020     	        movs r0, # 0x80
 466 020c 5A49     		ldr r1, = pinlv_xianshi_biao
 467 020e 8958     		ldr r1, [r1, r2]
 468 0210 1022     		movs r2, # 16
 469 0212 00F0DBFD 		bl _lcdxianshi
 470              		
 471 0216 5048     		ldr r0, = 0xffffff
 472              	__pinlv_xianshi_yanshi:
 473 0218 0138     		subs r0, r0, # 1
 474 021a FDD1     		bne __pinlv_xianshi_yanshi
 475 021c 5748     		ldr r0, = 0xe000ed0c
 476 021e 5849     		ldr r1, = 0x05fa0004
 477 0220 0160     		str r1, [r0]          		@复位
 478              	__dang_wei_jia:
 479 0222 72B6     	        cpsid i
 480 0224 4E48     		ldr r0, = liangcheng
 481 0226 0168     		ldr r1, [r0]
 482 0228 0131     		adds r1, r1, # 1
 483 022a 0160     		str r1, [r0]
 484 022c 0929     		cmp r1, # 9
 485 022e 01D1     		bne __dang_wei_fan_hui
 486 0230 0021     		movs r1, # 0
 487 0232 0160     		str r1, [r0]
 488              	__dang_wei_fan_hui:
 489 0234 0A46     		mov r2, r1
 490 0236 9200     		lsls r2, r2, # 2
 491 0238 0120     		movs r0, # 0x01
 492 023a 0021     		movs r1, # 0
 493 023c 00F0D9FD 		bl _xielcd
 494 0240 00F0D2FD 		bl _lcdyanshi
 495 0244 8020     		movs r0, # 0x80
 496 0246 4F49     		ldr r1, = dangwei_xianshi_biao
 497 0248 8958     		ldr r1, [r1, r2]
 498 024a 1022     		movs r2, # 16
 499 024c 00F0BEFD 		bl _lcdxianshi
 500              	
 501 0250 4148     		ldr r0, = 0xffffff
 502              	__dangwei_xianshi_yanshi:
 503 0252 0138     		subs r0, r0, # 1
 504 0254 FDD1     		bne __dangwei_xianshi_yanshi
 505 0256 62B6     		cpsie i
 506              	__an_jian0:
 507              	ting:
 508              	@	bl __xianshi_shangxia_bi
 509              		@	b ting
 510 0258 C720     		movs r0, # 0xc7
 511 025a 4B49     		ldr r1, = jiaodu1
 512 025c 0222     		movs r2, # 2
ARM GAS  1.s 			page 12


 513 025e 00F0B5FD 		bl _lcdxianshi
 514              	dddd:	
 515              	
 516              	
 517              	
 518              		
 519              	@	ldr r7, = 50
 520              	dzd:
 521 0262 8E20     	        movs r0, # 0x8e
 522 0264 3E4A     		ldr r2, = liangcheng
 523 0266 4949     		ldr r1, = zukang_danwei
 524 0268 1268     		ldr r2, [r2]
 525 026a 9200     		lsls r2, r2, # 2
 526 026c 8918     		adds r1, r1, r2
 527 026e 0222     		movs r2, # 2
 528 0270 00F0ACFD 		bl _lcdxianshi
 529 0274 00F094FB 		bl __jisuan_zukang
 530 0278 4548     		ldr r0, = z_r
 531 027a 4649     		ldr r1, = z_i
 532 027c 0068     		ldr r0, [r0]
 533 027e 0968     		ldr r1, [r1]
 534 0280 00F0F6FB 		bl __atan2_ji_suan
 535 0284 C921     		movs r1, # 0xc9
 536 0286 00F032F9 		bl __xian_shi_jiao_du
 537 028a 00F077FC 		bl __xianshi_zukang
 538 028e E8E7     		b dddd
 539 0290 013F     		subs r7, r7, # 1
 540 0292 E6D1     		bne dzd
 541 0294 0020     		movs r0, # 0
 542 0296 00F0B3F8 		bl __jiaozhun_jiaodu
 543 029a 00F09FF8 		bl __xiangwei_xuanzhuan
 544 029e 3E48     		ldr r0, = 10000
 545 02a0 00F07EF8 		bl __jiaozhun_fudu
 546 02a4 3A49     		ldr r1, = z_r
 547 02a6 3B4A     		ldr r2, = z_i
 548 02a8 0B68     		ldr r3, [r1]
 549 02aa 1468     		ldr r4, [r2]
 550 02ac 4343     		muls r3, r3, r0
 551 02ae 4443     		muls r4, r4, r0
 552 02b0 DB13     		asrs r3, r3, # 15
 553 02b2 E413     		asrs r4, r4, # 15
 554 02b4 0B60     		str r3, [r1]
 555 02b6 1460     		str r4, [r2]
 556 02b8 00F060FC 		bl __xianshi_zukang
 557 02bc 04BE     		bkpt # 4
 558 02be 0120     	        movs r0, # 0x01
 559 02c0 0021     		movs r1, # 0
 560 02c2 00F096FD 		bl _xielcd
 561 02c6 00F08FFD 		bl _lcdyanshi
 562 02ca 62B6     		cpsie i
 563 02cc C4E7     		b ting
 564              		
 565              	
 566              	
 567              		
 568 02ce 00F067FB 		bl __jisuan_zukang
 569 02d2 8E20     		movs r0, # 0x8e
ARM GAS  1.s 			page 13


 570 02d4 224A     		ldr r2, = liangcheng
 571 02d6 2D49     		ldr r1, = zukang_danwei
 572 02d8 1268     		ldr r2, [r2]
 573 02da 9200     		lsls r2, r2, # 2
 574 02dc 8918     		adds r1, r1, r2
 575 02de 0222     		movs r2, # 2
 576 02e0 00F074FD 		bl _lcdxianshi
 577 02e4 00F04AFC 		bl __xianshi_zukang
 578 02e8 00F091FC 		bl __xianshi_liangcheng
 579 02ec 00F037F9 	        bl __an_jian
 580              	__cai_dan_diao_du:
 581 02f0 8000     		lsls r0, r0, # 2
 582 02f2 2A49     		ldr r1, = an_jian_biao
 583 02f4 0A58     		ldr r2, [r1, r0]
 584 02f6 9746     		mov pc, r2
 585 02f8 AEE7     		b ting
 586 02fa 00000020 		.ltorg
 586      02400010 
 586      02400100 
 586      01000240 
 586      15000000 
 587              	
 588              	__jiaozhun_fudu:
 589 03a0 62B6     		cpsie i
 590              		@入口 R0=期望幅度
 591              		@出口R0= 幅度校准值
 592 03a2 7EB5     		push {r1-r6,lr}
 593 03a4 0246     		mov r2, r0
 594 03a6 9548     		ldr r0, = z_r
 595 03a8 9549     		ldr r1, = z_i
 596 03aa 0068     		ldr r0, [r0]
 597 03ac 0968     		ldr r1, [r1]
 598 03ae 00F0BFFB 		bl __ji_suan_fu_du
 599 03b2 0021     		movs r1, # 0
 600 03b4 934B     		ldr r3, = jiaozhun_yong_cordic
 601 03b6 944D     		ldr r5, = 32768
 602 03b8 0646     		mov r6, r0
 603              	__fudu_jiaozhun_xunhuan:
 604 03ba 5C58     		ldr r4, [r3, r1]
 605 03bc 8242     		cmp r2, r0
 606 03be 01D3     		bcc __fudu_jian
 607              	__fudu_jia:
 608 03c0 2D19     		adds r5, r5, r4
 609 03c2 00E0     		b __jiaozhun_xuanzhuan
 610              	__fudu_jian:
 611 03c4 2D1B     		subs r5, r5, r4
 612              	__jiaozhun_xuanzhuan:
 613 03c6 3046     		mov r0, r6
 614 03c8 6843     		muls r0, r0, r5
 615 03ca C00B     		lsrs r0, r0, # 15
 616 03cc 0431     		adds r1, r1, # 4
 617 03ce 7829     		cmp r1, # 120
 618 03d0 F3D1     		bne __fudu_jiaozhun_xunhuan
 619              	__baocun_fudu_jiaozhun:
 620 03d2 2800     		movs r0, r5
 621 03d4 00D5     		bpl __jiaozhun_fudu_fanhui
 622 03d6 8C48     		ldr r0, = 32768
ARM GAS  1.s 			page 14


 623              	__jiaozhun_fudu_fanhui:
 624 03d8 72B6     		cpsid i
 625 03da 7EBD     		pop {r1-r6,pc}
 626              		
 627              		
 628              	__xiangwei_xuanzhuan:
 629 03dc FCB5     		push {r2-r7,lr}
 630 03de 874A     		ldr r2, = z_r
 631 03e0 874B     		ldr r3, = z_i
 632 03e2 1468     		ldr r4, [r2]
 633 03e4 1D68     		ldr r5, [r3]
 634 03e6 0646     		mov r6, r0
 635 03e8 0F46     		mov r7, r1
 636 03ea 6043     	        muls r0, r0, r4 @X*COS
 637 03ec 6F43     		muls r7, r7, r5 @Y*SIN
 638 03ee 6143     		muls r1, r1, r4 @X*SIN
 639 03f0 6E43     		muls r6, r6, r5 @Y*COS
 640 03f2 C01B     		subs r0, r0, r7
 641 03f4 7118     		adds r1, r6, r1
 642 03f6 C013     		asrs r0, r0, # 15
 643 03f8 C913     		asrs r1, r1, # 15
 644 03fa 1060     		str r0, [r2]
 645 03fc 1960     		str r1, [r3]
 646 03fe FCBD     		pop {r2-r7,pc}
 647              	
 648              	__jiaozhun_jiaodu:
 649              		@入口r0=期望角度
 650              		@出口R0=COS，R1=SIN
 651 0400 72B6     		cpsid i
 652 0402 FCB5     		push {r2-r7,lr}
 653 0404 4346     		mov r3, r8
 654 0406 4C46     		mov r4, r9
 655 0408 5546     		mov r5, r10
 656 040a 5E46     		mov r6, r11
 657 040c 6746     		mov r7, r12
 658 040e F8B4     		push {r3-r7}
 659 0410 8446     		mov r12, r0
 660 0412 7D48     		ldr r0, = 32768	@180度
 661 0414 0021     		movs r1, # 0
 662 0416 8046     		mov r8, r0
 663 0418 8946     		mov r9, r1
 664 041a 7848     		ldr r0, = z_r
 665 041c 7849     		ldr r1, = z_i
 666 041e 0668     		ldr r6, [r0]
 667 0420 0F68     		ldr r7, [r1]
 668 0422 7A4B     		ldr r3, = jiaodu_jiaozhun_yong_cordic
 669 0424 0022     		movs r2, # 0
 670              	__jiaodu_jiaozhun_xunhuan:
 671 0426 9C58     		ldr r4, [r3, r2]
 672 0428 0432     		adds r2, r2, # 4
 673 042a 9D58     		ldr r5, [r3, r2]
 674 042c 3046     		mov r0, r6
 675 042e 3946     		mov r1, r7
 676 0430 00F01EFB 		bl __atan2_ji_suan
 677 0434 6146     		mov r1, r12
 678 0436 401A     		subs r0, r0, r1
 679 0438 1CD4     		bmi __jiaodu_fanzhuan
ARM GAS  1.s 			page 15


 680 043a B246     		mov r10, r6
 681 043c BB46     		mov r11, r7
 682 043e 4646     		mov r6, r8
 683 0440 4F46     		mov r7, r9
 684 0442 3046     		mov r0, r6
 685 0444 3946     		mov r1, r7
 686 0446 6643     		muls r6, r6, r4 @X*COS
 687 0448 6943     		muls r1, r1, r5 @Y*SIN
 688 044a 6843     		muls r0, r0, r5 @X*SIN
 689 044c 6743     		muls r7, r7, r4 @Y*COS
 690 044e 7618     		adds r6, r6, r1
 691 0450 3F1A     		subs r7, r7, r0
 692 0452 F613     		asrs r6, r6, # 15
 693 0454 FF13     		asrs r7, r7, # 15
 694 0456 B046     		mov r8, r6
 695 0458 B946     		mov r9, r7
 696 045a 5646     		mov r6, r10
 697 045c 5F46     		mov r7, r11
 698 045e 3046     		mov r0, r6
 699 0460 3946     		mov r1, r7
 700 0462 6643     		muls r6, r6, r4	@X*COS
 701 0464 6943     		muls r1, r1, r5	@Y*SIN
 702 0466 6843     		muls r0, r0, r5	@X*SIN
 703 0468 6743     		muls r7, r7, r4	@Y*COS
 704 046a 7618     		adds r6, r6, r1
 705 046c 3F1A     		subs r7, r7, r0
 706 046e F613     		asrs r6, r6, # 15
 707 0470 FF13     		asrs r7, r7, # 15
 708 0472 1BE0     		b __jiaodu_xuanzhuan
 709              	__jiaodu_fanzhuan:
 710 0474 B246     		mov r10, r6
 711 0476 BB46     		mov r11, r7
 712 0478 4646     		mov r6, r8
 713 047a 4F46     		mov r7, r9
 714 047c 3046     		mov r0, r6
 715 047e 3946     		mov r1, r7
 716 0480 6643     		muls r6, r6, r4 @X*COS
 717 0482 6943     		muls r1, r1, r5 @Y*SIN
 718 0484 6843     		muls r0, r0, r5 @X*SIN
 719 0486 6743     		muls r7, r7, r4 @Y*COS
 720 0488 761A     		subs r6, r6, r1
 721 048a 3F18     		adds r7, r7, r0
 722 048c F613     		asrs r6, r6, # 15
 723 048e FF13     		asrs r7, r7, # 15
 724 0490 B046     		mov r8, r6
 725 0492 B946     		mov r9, r7
 726 0494 5646     		mov r6, r10
 727 0496 5F46     		mov r7, r11
 728 0498 3046     		mov r0, r6
 729 049a 3946     		mov r1, r7
 730 049c 6643     		muls r6, r6, r4 @X*COS
 731 049e 6943     		muls r1, r1, r5 @Y*SIN
 732 04a0 6843     		muls r0, r0, r5 @X*SIN
 733 04a2 6743     		muls r7, r7, r4 @Y*COS
 734 04a4 761A     		subs r6, r6, r1
 735 04a6 3F18     		adds r7, r7, r0
 736 04a8 F613     		asrs r6, r6, # 15
ARM GAS  1.s 			page 16


 737 04aa FF13     		asrs r7, r7, # 15
 738              	__jiaodu_xuanzhuan:
 739 04ac 0432     		adds r2, r2, # 4
 740 04ae F02A     		cmp r2, # 240
 741 04b0 B9D1     		bne __jiaodu_jiaozhun_xunhuan
 742 04b2 4046     		mov r0, r8
 743 04b4 4946     		mov r1, r9
 744 04b6 F8BC     		pop {r3-r7}
 745 04b8 9846     		mov r8, r3
 746 04ba A146     		mov r9, r4
 747 04bc AA46     		mov r10, r5
 748 04be B346     		mov r11, r6
 749 04c0 BC46     		mov r12, r7
 750 04c2 62B6     		cpsie i
 751 04c4 FCBD     		pop {r2-r7,pc}
 752              			
 753              	__xianshi_shangxiabi_jiaodu:
 754 04c6 0FB5     		push {r0-r3,lr}
 755 04c8 5148     		ldr r0, = shangbi_r
 756 04ca 5249     		ldr r1, = shangbi_i
 757 04cc 0068     		ldr r0, [r0]
 758 04ce 0968     		ldr r1, [r1]
 759 04d0 00F0CEFA 		bl __atan2_ji_suan
 760 04d4 8821     		movs r1, # 0x88	@ 显示位置
 761 04d6 00F00AF8 		bl __xian_shi_jiao_du
 762 04da 4F48     		ldr r0, = xiabi_r
 763 04dc 4F49     		ldr r1, = xiabi_i
 764 04de 0068     		ldr r0, [r0]
 765 04e0 0968     		ldr r1, [r1]
 766 04e2 00F0C5FA 		bl __atan2_ji_suan
 767 04e6 C821     		movs r1, # 0xc8 @ 显示位置
 768 04e8 00F001F8 		bl __xian_shi_jiao_du
 769 04ec 0FBD     		pop {r0-r3,pc}
 770              	
 771              		
 772              	__xian_shi_jiao_du:
 773              		@入口R0=角度 r1=要显示的位置
 774 04ee 3FB5     		push {r0-r5,lr}
 775 04f0 0446     		mov r4, r0
 776 04f2 0D46     		mov r5, r1
 777 04f4 2846     		mov r0, r5
 778 04f6 0830     		adds r0, r0, # 8
 779 04f8 4949     		ldr r1, = jiaodufuhao
 780 04fa 0122     		movs r2, # 1
 781 04fc 00F066FC 		bl _lcdxianshi
 782              	
 783 0500 2400     		movs r4, r4
 784 0502 07D5     		bpl __jiaodu_bu_shi_zheng
 785 0504 2846     		mov r0, r5
 786 0506 4749     		ldr r1, = _fu
 787 0508 0122     		movs r2, # 1
 788 050a 00F05FFC 		bl _lcdxianshi
 789 050e E443     		mvns r4, r4
 790 0510 0134     		adds r4, r4, # 1
 791 0512 04E0     		b __xian_shi_jiaodu
 792              	__jiaodu_bu_shi_zheng:
 793 0514 2846     		mov r0, r5
ARM GAS  1.s 			page 17


 794 0516 4449     		ldr r1, = kong
 795 0518 0122     		movs r2, # 1
 796 051a 00F057FC 		bl _lcdxianshi
 797              	__xian_shi_jiaodu:
 798 051e 2046     		mov r0, r4
 799 0520 0621     		movs r1, # 6
 800 0522 424A     		ldr r2, = asciimabiao
 801 0524 0323     		movs r3, # 3
 802 0526 00F097FC 		bl _zhuanascii
 803 052a 2846     		mov r0, r5
 804 052c 0130     		adds r0, r0, # 1
 805 052e 3F49     		ldr r1, = asciimabiao
 806 0530 0622     		movs r2, # 6
 807 0532 00F04BFC 		bl _lcdxianshi
 808 0536 3FBD     		pop {r0-r5,pc}
 809              		
 810              	__jiaozhun_shu_zhi:
 811              		@入口R0=期望值，R1=当前值
 812 0538 7CB5     		push {r2-r6,lr}
 813 053a 324B     		ldr r3, = jiaozhun_yong_cordic
 814 053c 324D     		ldr r5, = 32768
 815 053e 0E46     		mov r6, r1
 816 0540 0022     		movs r2, # 0
 817              	__z_jiaozhun_xunhuan:
 818 0542 9C58     		ldr r4, [r3, r2]
 819 0544 8842     		cmp r0, r1
 820 0546 01D3     		bcc __z_jian
 821              	__z_jia:
 822 0548 2D19     		adds r5, r5, r4
 823 054a 00E0     		b __z_xuanzhuan
 824              	__z_jian:
 825 054c 2D1B     		subs r5, r5, r4
 826              	__z_xuanzhuan:
 827 054e 3146     		mov r1, r6
 828 0550 6943     		muls r1, r1, r5
 829 0552 C90B     		lsrs r1, r1, # 15
 830 0554 0432     		adds r2, r2, # 4
 831 0556 782A     		cmp r2, # 120
 832 0558 F3D1     		bne __z_jiaozhun_xunhuan
 833              	__baocun_z_jiaozhun:
 834 055a 2846     		mov r0, r5
 835 055c 7CBD     		pop {r2-r6,pc}
 836              	
 837              		
 838              			
 839              		
 840              		
 841              	__an_jian:
 842 055e 02B5     		push {r1,lr}
 843 0560 3349     		ldr r1, = 0x48000010
 844 0562 0868     		ldr r0, [r1]	@pa4
 845 0564 C043     		mvns r0, r0
 846 0566 4007     		lsls r0, r0, # 29
 847 0568 800F     		lsrs r0, r0, # 30
 848 056a 02BD     		pop {r1,pc}
 849              	__pinlv_shezhi:
 850              		@入口R0
ARM GAS  1.s 			page 18


 851              		@1=100, 2=1KHZ, 3=10KHZ, 4=100KHZ
 852 056c 0FB5     		push {r0-r3,lr}
 853 056e 3149     		ldr r1, = shezhi_pinlv
 854 0570 0122     		movs r2, # 1
 855 0572 0A60     		str r2, [r1]
 856 0574 304A     		ldr r2, = pinlv
 857 0576 3149     		ldr r1, = pinlv_biao
 858 0578 1268     		ldr r2, [r2]
 859 057a 9200     	        lsls r2, r2, # 2
 860 057c 8A58     		ldr r2, [r1, r2]
 861 057e 9746     		mov pc, r2
 862              		
 863              	__pinlv_100:
 864              		@tim1ch3DMA
 865 0580 2F48     		ldr r0, = 0x40020000
 866 0582 0021     		movs r1, # 0
 867 0584 8165     		str r1, [r0, # 0x58]
 868 0586 8160     		str r1, [r0, # 0x08]
 869 0588 2E49     		ldr r1, = 0x40012c3c @ 外设地址
 870 058a 0166     		str r1, [r0, # 0x60]
 871 058c 2E49     		ldr r1, = zheng_xian_100hz @ 储存器地址
 872 058e 4166     		str r1, [r0, # 0x64]
 873 0590 2E49     		ldr r1, = 1000             @点数
 874 0592 C165     		str r1, [r0, # 0x5c]
 875 0594 2E49     		ldr r1, = 0x35b1         @ 储存到外设
 876 0596 8165     		str r1, [r0, # 0x58]
 877              		
 878              	        @ adc dma
 879 0598 2E49     		ldr r1, = 0x40012440
 880 059a 0161     		str r1, [r0, # 0x10]
 881 059c 2E49     		ldr r1, = dianyabiao
 882 059e 4161     		str r1, [r0, # 0x14]
 883 05a0 2A49     		ldr r1, = 1000
 884 05a2 C160     		str r1, [r0, # 0x0c]
 885 05a4 2D49     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 886 05a6 8160     		str r1, [r0, # 0x08]
 887              		
 888              		@tim3chushihua:
 889 05a8 2D4B     		ldr r3, = 0x40000400 @ tim3_cr1
 890 05aa 2E4A     		ldr r2, = 0
 891 05ac 9A62     		str r2, [r3, # 0x28] @ psc
 892 05ae 2E4A     		ldr r2, = 559
 893 05b0 DA62     		str r2, [r3, # 0x2c] @ ARR
 894 05b2 2022     		movs r2, # 0x20
 895 05b4 5A60     		str r2, [r3, # 0x04] @ TRGO
 896 05b6 0622     		movs r2, # 0x06
 897 05b8 9A60     		str r2, [r3, # 0x08]
 898 05ba 8022     		movs r2, # 0x80
 899              		@tim1chushiha:
 900 05bc 2B48     		ldr r0, = 0x40012c00 @ tim1_cr1
 901 05be 0021     		movs r1, # 0
 902 05c0 8162     		str r1, [r0, # 0x28] @ psc
 903 05c2 2949     		ldr r1, = 559
 904 05c4 C162     		str r1, [r0, # 0x2c] @ ARR
 905 05c6 2021     		movs r1, # 0x20
 906 05c8 4160     		str r1, [r0, # 0x04] @ TRGO
 907 05ca 2949     		ldr r1, = 0x68
ARM GAS  1.s 			page 19


 908 05cc C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 909 05ce 2949     		ldr r1, = 0x100    @  CC3
 910 05d0 0162     		str r1, [r0, # 0x20] @ ccer
 911 05d2 0D49     		ldr r1, = 0x8000
 912 05d4 4164     		str r1, [r0, # 0x44] @ BDTR
 913 05d6 2849     		ldr r1, = 0x800 @ CC3 DMA
 914 05d8 C160     		str r1, [r0, # 0x0c] @ DIER
 915 05da 2849     		ldr r1, = 0x81
 916 05dc 0160     		str r1, [r0]
 917 05de 1A60     		str r2, [r3]
 918 05e0 2748     		ldr r0, = 0xe000e010
 919 05e2 2849     		ldr r1, = 559999
 920 05e4 4160     		str r1, [r0, # 4]
 921 05e6 8160     		str r1, [r0, # 8]
 922 05e8 0721     		movs r1, # 0x07
 923 05ea 0160     		str r1, [r0]    @systick 开
 924 05ec 2648     	        ldr r0, = cossin
 925 05ee 2749     		ldr r1, = cos_sin_biao_100_1k
 926 05f0 0160     		str r1, [r0]
 927 05f2 2748     		ldr r0, = lcd_beiguang
 928 05f4 C021     		movs r1, # 0xc0
 929 05f6 0160     		str r1, [r0]
 930 05f8 0FBD     		pop {r0-r3,pc}
 931 05fa 00003C00 		.ltorg
 931      00204000 
 931      0020C001 
 931      00000080 
 931      0000D000 
 932              		
 933              	__pinlv_1K:
 934              		@tim1ch3DMA
 935 0694 1E48     		ldr r0, = 0x40020000
 936 0696 0021     		movs r1, # 0
 937 0698 8165     		str r1, [r0, # 0x58]
 938 069a 8160     		str r1, [r0, # 0x08]
 939 069c 1D49     		ldr r1, = 0x40012c3c @ 外设地址
 940 069e 0166     		str r1, [r0, # 0x60]
 941 06a0 1D49     		ldr r1, = zheng_xian_1khz @ 储存器地址
 942 06a2 4166     		str r1, [r0, # 0x64]
 943 06a4 1D49     		ldr r1, = 500 @ 200             @点数
 944 06a6 C165     		str r1, [r0, # 0x5c]
 945 06a8 1D49     		ldr r1, = 0x35b1         @ 储存到外设
 946 06aa 8165     		str r1, [r0, # 0x58]
 947              		@ adc dma
 948 06ac 1D49     		ldr r1, = 0x40012440
 949 06ae 0161     		str r1, [r0, # 0x10]
 950 06b0 1D49     		ldr r1, = dianyabiao
 951 06b2 4161     		str r1, [r0, # 0x14]
 952 06b4 1D49     		ldr r1, = 1000
 953 06b6 C160     		str r1, [r0, # 0x0c]
 954 06b8 1D49     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 955 06ba 8160     		str r1, [r0, # 0x08]
 956              		
 957              		
 958              		@tim3chushihua:
 959 06bc 1D4B     		ldr r3, = 0x40000400 @ tim3_cr1
 960 06be 1E4A     		ldr r2, = 0
ARM GAS  1.s 			page 20


 961 06c0 9A62     		str r2, [r3, # 0x28] @ psc
 962 06c2 1E4A     		ldr r2, = 559
 963 06c4 DA62     		str r2, [r3, # 0x2c] @ ARR
 964 06c6 2022     		movs r2, # 0x20
 965 06c8 5A60     		str r2, [r3, # 0x04] @ TRGO
 966 06ca 0622     		movs r2, # 0x06
 967 06cc 9A60     		str r2, [r3, # 0x08]
 968 06ce 8022     		movs r2, # 0x80
 969              		@tim1chushiha:
 970 06d0 1B48     		ldr r0, = 0x40012c00 @ tim1_cr1
 971 06d2 0021     		movs r1, # 0
 972 06d4 8162     		str r1, [r0, # 0x28] @ psc
 973 06d6 1B49     		ldr r1, = 111
 974 06d8 C162     		str r1, [r0, # 0x2c] @ ARR
 975 06da 2021     		movs r1, # 0x20
 976 06dc 4160     		str r1, [r0, # 0x04] @ TRGO
 977 06de 1A49     		ldr r1, = 0x68
 978 06e0 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 979 06e2 1A49     		ldr r1, = 0x100    @  CC3
 980 06e4 0162     		str r1, [r0, # 0x20] @ ccer
 981 06e6 1A49     		ldr r1, = 0x8000
 982 06e8 4164     		str r1, [r0, # 0x44] @ BDTR
 983 06ea 1A49     		ldr r1, = 0x800 @ CC3 DMA
 984 06ec C160     		str r1, [r0, # 0x0c] @ DIER
 985 06ee 1A49     		ldr r1, = 0x81
 986 06f0 0160     		str r1, [r0]
 987 06f2 1A60     		str r2, [r3]
 988 06f4 1948     	        ldr r0, = 0xe000e010
 989 06f6 1A49     		ldr r1, = 559999
 990 06f8 4160     		str r1, [r0, # 4]
 991 06fa 8160     		str r1, [r0, # 8]
 992 06fc 0721     		movs r1, # 0x07
 993 06fe 0160     		str r1, [r0]    @systick 开
 994 0700 1848     		ldr r0, = cossin
 995 0702 1949     		ldr r1, = cos_sin_biao_10k
 996 0704 0160     		str r1, [r0]
 997 0706 1948     		ldr r0, = lcd_beiguang
 998 0708 C021     		movs r1, # 0xc0
 999 070a 0160     		str r1, [r0]
 1000 070c 0FBD     		pop {r0-r3,pc}
 1001 070e 00000000 		.ltorg
 1001      02403C2C 
 1001      01409003 
 1001      0000F401 
 1001      0000B135 
 1002              	
 1003              		
 1004              	__pinlv_10K:
 1005              		@tim1ch3DMA
 1006 0770 1E48     		ldr r0, = 0x40020000
 1007 0772 0021     		movs r1, # 0
 1008 0774 8165     		str r1, [r0, # 0x58]
 1009 0776 8160     		str r1, [r0, # 0x08]
 1010 0778 1D49     		ldr r1, = 0x40012c3c @ 外设地址
 1011 077a 0166     		str r1, [r0, # 0x60]
 1012 077c 1D49     		ldr r1, = zheng_xian_10khz @ 储存器地址
 1013 077e 4166     		str r1, [r0, # 0x64]
ARM GAS  1.s 			page 21


 1014 0780 1D49     		ldr r1, = 50 @ 200             @点数
 1015 0782 C165     		str r1, [r0, # 0x5c]
 1016 0784 1D49     		ldr r1, = 0x35b1 @ 0x31b1         @ 储存到外设
 1017 0786 8165     		str r1, [r0, # 0x58]
 1018              		@ adc dma
 1019 0788 1D49     		ldr r1, = 0x40012440
 1020 078a 0161     		str r1, [r0, # 0x10]
 1021 078c 1D49     		ldr r1, = dianyabiao
 1022 078e 4161     		str r1, [r0, # 0x14]
 1023 0790 1D49     		ldr r1, = 1000
 1024 0792 C160     		str r1, [r0, # 0x0c]
 1025 0794 1D49     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 1026 0796 8160     		str r1, [r0, # 0x08]
 1027              		
 1028              		@tim3chushihua:
 1029 0798 1D4B     		ldr r3, = 0x40000400 @ tim3_cr1
 1030 079a 1E4A     		ldr r2, = 0
 1031 079c 9A62     		str r2, [r3, # 0x28] @ psc
 1032 079e 1E4A     		ldr r2, = 27
 1033 07a0 DA62     		str r2, [r3, # 0x2c] @ ARR
 1034 07a2 2022     		movs r2, # 0x20
 1035 07a4 5A60     		str r2, [r3, # 0x04] @ TRGO
 1036 07a6 0622     		movs r2, # 0x06
 1037 07a8 9A60     		str r2, [r3, # 0x08]
 1038 07aa 8022     		movs r2, # 0x80
 1039              		@tim1chushiha:
 1040 07ac 1B48     		ldr r0, = 0x40012c00 @ tim1_cr1
 1041 07ae 0021     		movs r1, # 0
 1042 07b0 8162     		str r1, [r0, # 0x28] @ psc
 1043 07b2 1B49     		ldr r1, = 111 @ 27
 1044 07b4 C162     		str r1, [r0, # 0x2c] @ ARR
 1045 07b6 2021     		movs r1, # 0x20
 1046 07b8 4160     		str r1, [r0, # 0x04] @ TRGO
 1047 07ba 1A49     		ldr r1, = 0x68
 1048 07bc C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1049 07be 1A49     		ldr r1, = 0x100    @  CC3
 1050 07c0 0162     		str r1, [r0, # 0x20] @ ccer
 1051 07c2 1A49     		ldr r1, = 0x8000
 1052 07c4 4164     		str r1, [r0, # 0x44] @ BDTR
 1053 07c6 1A49     		ldr r1, = 0x800 @ CC3 DMA
 1054 07c8 C160     		str r1, [r0, # 0x0c] @ DIER
 1055 07ca 1A49     		ldr r1, = 0x81
 1056 07cc 0160     		str r1, [r0]
 1057 07ce 1A60     		str r2, [r3]
 1058 07d0 1948     		ldr r0, = 0xe000e010
 1059 07d2 1A49     		ldr r1, = 55999
 1060 07d4 4160     		str r1, [r0, # 4]
 1061 07d6 8160     		str r1, [r0, # 8]
 1062 07d8 0721     		movs r1, # 0x07
 1063 07da 0160     		str r1, [r0]    @systick 开
 1064 07dc 1848     	        ldr r0, = cossin
 1065 07de 1949     		ldr r1, = cos_sin_biao_10k
 1066 07e0 0160     		str r1, [r0]
 1067 07e2 1948     		ldr r0, = lcd_beiguang
 1068 07e4 8021     		movs r1, # 0x80
 1069 07e6 0160     		str r1, [r0]
 1070 07e8 0FBD     		pop {r0-r3,pc}
ARM GAS  1.s 			page 22


 1071 07ea 00000000 		.ltorg
 1071      02403C2C 
 1071      01402003 
 1071      00003200 
 1071      0000B135 
 1072              	__pinlv_100K:
 1073              	        @tim1ch3DMA
 1074 084c 2048     		ldr r0, = 0x40020000
 1075 084e 0021     		movs r1, # 0
 1076 0850 8165     		str r1, [r0, # 0x58]
 1077 0852 8160     		str r1, [r0, # 0x08]
 1078 0854 1F49     		ldr r1, = 0x40012c3c @ 外设地址
 1079 0856 0166     		str r1, [r0, # 0x60]
 1080 0858 1F49     		ldr r1, = zheng_xian_100khz @ 储存器地址
 1081 085a 4166     		str r1, [r0, # 0x64]
 1082 085c 1F49     		ldr r1, = 20             @点数
 1083 085e C165     		str r1, [r0, # 0x5c]
 1084 0860 1F49     		ldr r1, = 0x31b1         @ 储存到外设
 1085 0862 8165     		str r1, [r0, # 0x58]
 1086              		@ adc dma
 1087 0864 1F49     		ldr r1, = 0x40012440
 1088 0866 0161     		str r1, [r0, # 0x10]
 1089 0868 1F49     		ldr r1, = dianyabiao
 1090 086a 4161     		str r1, [r0, # 0x14]
 1091 086c 1F49     		ldr r1, = 1000
 1092 086e C160     		str r1, [r0, # 0x0c]
 1093 0870 1F49     		ldr r1, = 0x35a1 @  0x583        @ 5a1
 1094 0872 8160     		str r1, [r0, # 0x08]
 1095              		
 1096              	@tim1chushiha:
 1097 0874 1F48     		ldr r0, = 0x40012c00 @ tim1_cr1
 1098 0876 0021     		movs r1, # 0
 1099 0878 8162     		str r1, [r0, # 0x28] @ psc
 1100 087a 1F49     		ldr r1, = 27
 1101 087c C162     		str r1, [r0, # 0x2c] @ ARR
 1102 087e 1F49     		ldr r1, = 0x68
 1103 0880 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1104 0882 1F49     		ldr r1, = 0x100    @  CC3
 1105 0884 0162     		str r1, [r0, # 0x20] @ ccer
 1106 0886 1F49     		ldr r1, = 0x8000
 1107 0888 4164     		str r1, [r0, # 0x44] @ BDTR
 1108 088a 1F49     		ldr r1, = 0x800 @ CC3 DMA
 1109 088c C160     		str r1, [r0, # 0x0c] @ DIER
 1110 088e 1F49     		ldr r1, = 0x81
 1111 0890 0160     		str r1, [r0]
 1112 0892 1F48     		ldr r0, = 0xe000e010
 1113 0894 1F49     		ldr r1, = 55999
 1114 0896 4160     		str r1, [r0, # 4]
 1115 0898 8160     		str r1, [r0, # 8]
 1116 089a 0721     		movs r1, # 0x07
 1117 089c 0160     		str r1, [r0]    @systick 开
 1118 089e 1E48     		ldr r0, = cossin
 1119 08a0 1E49     		ldr r1, = cos_sin_biao_100k
 1120 08a2 0160     		str r1, [r0]
 1121 08a4 1E48     		ldr r0, = lcd_beiguang
 1122 08a6 0021     		movs r1, # 0
 1123 08a8 0160     		str r1, [r0]
ARM GAS  1.s 			page 23


 1124 08aa 0FBD     		pop {r0-r3,pc}
 1125              	__pinlv_yanshi:
 1126 08ac 1D48     		ldr r0, = 0x1ffff
 1127              	__pinlv_yanshi_xunhuan:
 1128 08ae 0138     		subs r0, r0, # 1
 1129 08b0 FDD1     		bne __pinlv_yanshi_xunhuan
 1130 08b2 F746     		mov pc, lr
 1131              	__pin_lv_xian_shi:
 1132 08b4 0FB5     		push {r0-r3,lr}
 1133 08b6 1C48     		ldr r0, = pinlv
 1134 08b8 0121     		movs r1, # 1
 1135 08ba 0068     		ldr r0, [r0]
 1136 08bc 1B4A     		ldr r2, = asciimabiao
 1137 08be FF23     		movs r3, # 0xff
 1138 08c0 00F0CAFA 		bl _zhuanascii
 1139 08c4 8020     		movs r0, # 0x80
 1140 08c6 1949     		ldr r1, = asciimabiao
 1141 08c8 0122     		movs r2, # 1
 1142 08ca 00F07FFA 		bl _lcdxianshi
 1143 08ce 0FBD     		pop {r0-r3,pc}
 1144 08d0 00000240 		.ltorg
 1144      3C2C0140 
 1144      00030000 
 1144      14000000 
 1144      B1310000 
 1145              		
 1146              	__jisuan_z_fudu:
 1147 0930 07B5     		push {r0-r2,lr}
 1148 0932 6948     		ldr r0, = xiabi_rr
 1149 0934 6949     		ldr r1, = xiabi_ii
 1150 0936 0068     		ldr r0, [r0]
 1151 0938 0968     		ldr r1, [r1]
 1152 093a 4012     		asrs r0, r0, # 9
 1153 093c 4912     		asrs r1, r1, # 9
 1154 093e 00F0F7F8 		bl __ji_suan_fu_du
 1155 0942 0246     		mov r2, r0
 1156 0944 6648     		ldr r0, = shangbi_rr
 1157 0946 6749     		ldr r1, = shangbi_ii
 1158 0948 0068     		ldr r0, [r0]
 1159 094a 0968     		ldr r1, [r1]
 1160 094c 4012     		asrs r0, r0, # 9
 1161 094e 4912     		asrs r1, r1, # 9
 1162 0950 00F0EEF8 		bl __ji_suan_fu_du
 1163 0954 1146     		mov r1, r2
 1164 0956 644A     		ldr r2, = 1000
 1165 0958 5043     		muls r0, r0, r2
 1166 095a 00F07AFB 		bl _chufa
 1167 095e 6349     		ldr r1, = z_fudu
 1168 0960 4009     		lsrs r0, r0, # 5
 1169 0962 0860     		str r0, [r1]
 1170 0964 07BD     		pop {r0-r2,pc}
 1171              		
 1172              	__zidong_dangwei:
 1173 0966 0FB5     		push {r0-r3,lr}
 1174              	__huan_dang:
 1175 0968 6048     		ldr r0, = z_fudu
 1176 096a 0068     		ldr r0, [r0]
ARM GAS  1.s 			page 24


 1177 096c 604B     		ldr r3, =  900
 1178 096e 5B09     		lsrs r3, r3, # 5
 1179 0970 9842     		cmp r0, r3
 1180 0972 0CD3     		bcc __dang_wei_jian
 1181 0974 5F4B     		ldr r3, =  3000
 1182 0976 5B09     		lsrs r3, r3, # 5
 1183 0978 9842     		cmp r0, r3
 1184 097a 10D3     		bcc __zi_dong_dang_wei_fan_hui
 1185 097c 5E48     		ldr r0, = liangcheng
 1186 097e 0168     		ldr r1, [r0]
 1187 0980 0131     		adds r1, r1, # 1
 1188 0982 0160     		str r1, [r0]
 1189 0984 0929     		cmp r1, # 9
 1190 0986 0AD1     		bne __zi_dong_dang_wei_fan_hui
 1191 0988 0821     		movs r1, # 8
 1192 098a 0160     		str r1, [r0]
 1193 098c 07E0     		b __zi_dong_dang_wei_fan_hui
 1194              	__dang_wei_jian:
 1195 098e 5A48     		ldr r0, = liangcheng
 1196 0990 0168     		ldr r1, [r0]
 1197 0992 0139     		subs r1, r1, # 1
 1198 0994 0160     		str r1, [r0]
 1199 0996 FF29     		cmp r1, # 0xff
 1200 0998 01D3     		bcc __zi_dong_dang_wei_fan_hui
 1201 099a 0021     		movs r1, # 0
 1202 099c 0160     		str r1, [r0]
 1203              	__zi_dong_dang_wei_fan_hui:
 1204 099e 0FBD     		pop {r0-r3,pc}
 1205              	
 1206              		
 1207              	__jisuan_zukang:
 1208 09a0 3FB5     		push {r0-r5,lr}
 1209 09a2 5648     		ldr r0, = shangbi_r
 1210 09a4 5649     		ldr r1, = shangbi_i
 1211 09a6 574A     		ldr r2, = xiabi_r
 1212 09a8 574B     		ldr r3, = xiabi_i
 1213 09aa 584C     		ldr r4, = 10000
 1214 09ac 0068     		ldr r0, [r0]
 1215 09ae 0968     		ldr r1, [r1]
 1216 09b0 1268     		ldr r2, [r2]
 1217 09b2 1B68     		ldr r3, [r3]
 1218 09b4 6043     		muls r0, r0, r4
 1219 09b6 6143     		muls r1, r1, r4
 1220 09b8 00F067FA 		bl __fu_shu_chu_fa
 1221 09bc 5448     		ldr r0, = z_r
 1222 09be 554B     		ldr r3, = z_i
 1223 09c0 1960     		str r1, [r3]
 1224 09c2 0260     		str r2, [r0]
 1225 09c4 3FBD     		pop {r0-r5,pc}
 1226              	
 1227              		
 1228              		
 1229              	__jisuan_cos_sin:				@jd
 1230              		@入口R0=角度 （-18000到+18000）
 1231              		@出口R0=COS，R1=SIN
 1232 09c6 FCB5     		push {r2-r7,lr}
 1233 09c8 5349     		ldr r1, = 18000
ARM GAS  1.s 			page 25


 1234 09ca 8842     		cmp r0, r1
 1235 09cc 02D9     		bls __xiaoyu_180
 1236 09ce 401A     		subs r0, r0, r1
 1237 09d0 0127     		movs r7, # 1
 1238 09d2 00E0     		b __js_cos_sin
 1239              	__xiaoyu_180:
 1240 09d4 0027     		movs r7, # 0
 1241              	__js_cos_sin:
 1242 09d6 5149     		ldr r1, = 9000
 1243 09d8 514A     		ldr r2, = 51471
 1244 09da 0000     		movs r0, r0
 1245 09dc 03D5     		bpl __jisuan_jiaodu_bushi0
 1246 09de C043     		mvns r0, r0
 1247 09e0 0130     		adds r0, r0, # 1
 1248 09e2 0124     		movs r4, # 1
 1249 09e4 00E0     		b __jiance_chao90
 1250              	__jisuan_jiaodu_bushi0:
 1251 09e6 0024     		movs r4, # 0
 1252              	__jiance_chao90:
 1253 09e8 8842     		cmp r0, r1
 1254 09ea 03D9     		bls __xiaoyu_90
 1255 09ec 4A4E     		ldr r6, = 18000
 1256 09ee 301A     		subs r0, r6, r0
 1257 09f0 0126     		movs r6, # 1
 1258 09f2 00E0     		b __suan_cossin
 1259              	__xiaoyu_90:
 1260 09f4 0026     		movs r6, # 0
 1261              	__suan_cossin:
 1262 09f6 454D     		ldr r5, = 10000
 1263 09f8 6843     		muls r0, r0, r5
 1264 09fa 00F02AFB 		bl _chufa
 1265 09fe 5043     		muls r0, r0, r2
 1266 0a00 2946     		mov r1, r5
 1267 0a02 00F026FB 		bl _chufa
 1268 0a06 012C     		cmp r4, # 1
 1269 0a08 01D1     		bne __suan_cos_sin1
 1270 0a0a C043     		mvns r0, r0
 1271 0a0c 0130     		adds r0, r0, # 1
 1272              	__suan_cos_sin1:
 1273 0a0e 00F00BF8 		bl __cordic_cos_sin
 1274 0a12 012E     		cmp r6, # 1
 1275 0a14 01D1     		bne __cos_sin_fanhui
 1276 0a16 C043     		mvns r0, r0
 1277 0a18 0130     		adds r0, r0, # 1
 1278              	__cos_sin_fanhui:
 1279 0a1a 012F     		cmp r7, # 1
 1280 0a1c 03D1     		bne __cossin_fh
 1281 0a1e C043     		mvns r0, r0
 1282 0a20 C943     		mvns r1, r1
 1283 0a22 0130     		adds r0, r0, # 1
 1284 0a24 0131     		adds r1, r1, # 1
 1285              	__cossin_fh:
 1286 0a26 FCBD     		pop {r2-r7,pc}
 1287              	__cordic_cos_sin:
 1288              		@入口R0
 1289              		@出口R0=COS，R1=SIN
 1290              		@ x= 0x4dba
ARM GAS  1.s 			page 26


 1291              		@ r1=x,r2=y,r0=z,r4=d,r5=k,r6=cordic_mabiao
 1292              	
 1293 0a28 FCB5     		push {r2-r7,lr}
 1294 0a2a 4246     		mov r2, r8
 1295 0a2c 4B46     		mov r3, r9
 1296 0a2e 0CB4     		push {r2-r3}
 1297 0a30 0025     		movs r5, # 0
 1298 0a32 2A46     		mov r2, r5
 1299 0a34 2C46     		mov r4, r5
 1300 0a36 3B49     		ldr r1, = 0x4dba
 1301              	cordicxunhuan:				 @ 循环
 1302 0a38 C413     		asrs r4, r0, # 15
 1303              		@ x
 1304 0a3a 1746     		mov r7, r2
 1305 0a3c 2A41     		asrs r2, r2, r5
 1306 0a3e 6240     		eors r2, r2, r4
 1307 0a40 121B     		subs r2, r2, r4
 1308 0a42 8B1A     		subs r3, r1, r2
 1309              		@ y
 1310 0a44 0E46     		mov r6, r1
 1311 0a46 2941     		asrs r1, r1, r5
 1312 0a48 6140     		eors r1, r1, r4
 1313 0a4a 091B     		subs r1, r1, r4
 1314 0a4c 7F18     		adds r7, r7, r1
 1315              		@ z
 1316 0a4e 364E     		ldr r6, = cordic_yong_atan_biao
 1317 0a50 AA00     		lsls r2, r5, # 2
 1318 0a52 B158     		ldr r1, [r6, r2]
 1319 0a54 6140     		eors r1, r1, r4
 1320 0a56 091B     		subs r1, r1, r4
 1321 0a58 401A     		subs r0, r0, r1
 1322 0a5a 1946     		mov r1, r3
 1323 0a5c 3A46     		mov r2, r7
 1324 0a5e 0135     		adds r5, # 1
 1325 0a60 102D     		cmp r5, # 16
 1326 0a62 E9D1     		bne cordicxunhuan
 1327 0a64 1846     		mov r0, r3
 1328 0a66 3946     		mov r1, r7
 1329 0a68 0CBC     		pop {r2-r3}
 1330 0a6a 9046     		mov r8, r2
 1331 0a6c 9946     		mov r9, r3
 1332 0a6e FCBD     		pop {r2-r7,pc}
 1333              	__atan2_ji_suan:				@jt
 1334              		@入口R0=实部，R1=虚部，结果=R0
 1335 0a70 FCB5     		push {r2-r7,lr}
 1336 0a72 4246     		mov r2, r8
 1337 0a74 04B4     		push {r2}
 1338 0a76 2D4B     		ldr r3, = cordic_yong_cos_sin
 1339 0a78 0A22     		movs r2, # 10
 1340 0a7a 5043     		muls r0, r0, r2
 1341 0a7c 5143     		muls r1, r1, r2
 1342 0a7e 0022     		movs r2, # 0
 1343 0a80 9046     		mov r8, r2
 1344 0a82 264C     		ldr r4, = 9000
 1345 0a84 E403     		lsls r4, r4, # 15
 1346              	__cordic_atan2_xun_huan:
 1347              	__du_cos_sin:
ARM GAS  1.s 			page 27


 1348 0a86 1D68     		ldr r5, [r3]	@cos
 1349 0a88 0433     		adds r3, r3, # 4
 1350 0a8a 2F46     		mov r7, r5
 1351 0a8c 1E68     		ldr r6, [r3]	@sin
 1352 0a8e 0433     		adds r3, r3, # 4
 1353 0a90 3246     		mov r2, r6
 1354 0a92 4543     		muls r5, r5, r0         @x*cos
 1355 0a94 4243     		muls r2, r2, r0         @x*sin
 1356 0a96 4E43     		muls r6, r6, r1         @y*sin
 1357 0a98 4F43     		muls r7, r7, r1         @y*cos
 1358 0a9a 0900     		movs r1, r1
 1359 0a9c 05D5     		bpl __ni_shi_zhen_zhuan
 1360              	__shun_shi_zhen_zhuan:
 1361 0a9e AD1B     		subs r5, r5, r6
 1362 0aa0 BF18     		adds r7, r7, r2
 1363 0aa2 4646     		mov r6, r8
 1364 0aa4 3619     		adds r6, r6, r4
 1365 0aa6 B046     		mov r8, r6
 1366 0aa8 04E0     		b __xuan_zhuan_wan
 1367              	__ni_shi_zhen_zhuan:
 1368 0aaa AD19     		adds r5, r5, r6
 1369 0aac BF1A     		subs r7, r7, r2
 1370 0aae 4646     		mov r6, r8
 1371 0ab0 361B     		subs r6, r6, r4
 1372 0ab2 B046     		mov r8, r6
 1373              	__xuan_zhuan_wan:
 1374 0ab4 1D4E     		ldr r6, = cordic_yong_cos_sin
 1375 0ab6 2022     		movs r2, # 32
 1376 0ab8 9200     		lsls r2, r2, # 2
 1377 0aba B618     		adds r6, r6, r2
 1378 0abc AD13     		asrs r5, r5, # 14
 1379 0abe BF13     		asrs r7, r7, # 14
 1380 0ac0 2846     		mov r0, r5
 1381 0ac2 3946     		mov r1, r7
 1382 0ac4 6408     		lsrs r4, r4, # 1	@旋转
 1383 0ac6 B342     		cmp r3,	r6
 1384 0ac8 DDD1     		bne __cordic_atan2_xun_huan
 1385 0aca 4046     		mov r0, r8
 1386 0acc C043     		mvns r0, r0
 1387 0ace 0130     		adds r0, r0, # 1
 1388 0ad0 C013     		asrs r0, r0, # 15      @除32768等于角度
 1389 0ad2 04BC     		pop {r2}
 1390 0ad4 9046     		mov r8, r2
 1391 0ad6 FCBD     		pop {r2-r7,pc}
 1392 0ad8 58000020 		.ltorg
 1392      5C000020 
 1392      50000020 
 1392      54000020 
 1392      E8030000 
 1393              	__ji_suan_fu_du:	    @ 计算幅度
 1394              		@ 入r0= 实部，r1= 虚部
 1395              		@ 出r0 = 幅度
 1396              		@ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
 1397              		@ Alpha * Max + Beta * Min
 1398 0b30 0EB5     		push {r1-r3,lr}
 1399 0b32 0000     		movs r0, r0
 1400 0b34 01D5     		bpl _shibubushifushu
ARM GAS  1.s 			page 28


 1401 0b36 C043     		mvns r0, r0                             @ 是负数转成正数
 1402 0b38 0130     		adds r0, r0, # 1
 1403              	_shibubushifushu:	                               @ 实部不是负数
 1404 0b3a 0900     		movs r1, r1
 1405 0b3c 01D5     		bpl _xububushifushu
 1406 0b3e C943     		mvns r1, r1                             @ 是负数转成正数
 1407 0b40 0131     		adds r1, r1, # 1
 1408              	_xububushifushu:	                                @ 虚部不是负数
 1409 0b42 0028     		cmp r0, # 0
 1410 0b44 01D1     		bne _panduanxubushibushi0
 1411 0b46 0846     		mov r0, r1
 1412 0b48 0EBD     		pop {r1-r3,pc}
 1413              	_panduanxubushibushi0:
 1414 0b4a 0029     		cmp r1, # 0
 1415 0b4c 00D1     		bne _jisuanfudu1
 1416 0b4e 0EBD     		pop {r1-r3,pc}
 1417              	_jisuanfudu1:
 1418 0b50 084A     		ldr r2, = 32765		@ Alpha q15 0.948059448969 @
 1419              					@ 感觉这个小了，要乘1.0547
 1420 0b52 094B     		ldr r3, = 13572		@ Beta q15 0.392699081699
 1421              					@感觉这个小了要乘1.0547
 1422 0b54 8142     		cmp r1, r0
 1423 0b56 06D8     		bhi _alpha_min_beta_max
 1424              	_alpha_max_beta_min:
 1425 0b58 5043     		muls r0, r0, r2
 1426 0b5a 5943     		muls r1, r1, r3
 1427 0b5c C013     		asrs r0, r0, # 15
 1428 0b5e C913     		asrs r1, r1, # 15
 1429 0b60 4018     		adds r0, r0, r1
 1430 0b62 0121     		movs r1, # 1
 1431 0b64 0EBD     		pop {r1-r3,pc}
 1432              	_alpha_min_beta_max:
 1433 0b66 5843     		muls r0, r0, r3
 1434 0b68 5143     		muls r1, r1, r2
 1435 0b6a C013     		asrs r0, r0, # 15
 1436 0b6c C913     		asrs r1, r1, # 15
 1437 0b6e 4018     		adds r0, r0, r1
 1438 0b70 0021     		movs r1, # 0
 1439 0b72 0EBD     		pop {r1-r3,pc}
 1440              	
 1441              	
 1442              		
 1443 0b74 FD7F0000 		.ltorg
 1443      04350000 
 1444              	__xianshi_zukang:
 1445 0b7c 3FB5     		push {r0-r5,lr}
 1446 0b7e 824C     		ldr r4, = z_r
 1447 0b80 824D     		ldr r5, = z_i
 1448 0b82 2468     		ldr r4, [r4]
 1449 0b84 2D68     		ldr r5, [r5]
 1450 0b86 8249     		ldr r1, = liangcheng
 1451 0b88 8248     		ldr r0, = zukang_huansuan_biao
 1452 0b8a 0968     		ldr r1, [r1]
 1453 0b8c 8900     		lsls r1, r1, # 2
 1454 0b8e 4058     		ldr r0, [r0, r1]
 1455 0b90 4443     		muls r4, r4, r0
 1456 0b92 4543     		muls r5, r5, r0
ARM GAS  1.s 			page 29


 1457 0b94 E413     		asrs r4, r4, # 15
 1458 0b96 ED13     		asrs r5, r5, # 15
 1459 0b98 2400     		movs r4, r4
 1460 0b9a 07D5     		bpl aaa1
 1461 0b9c 8020     		movs r0, # 0x80
 1462 0b9e 7E49     		ldr r1, = _fu
 1463 0ba0 0122     		movs r2, # 1
 1464 0ba2 00F013F9 		bl _lcdxianshi
 1465 0ba6 E443     		mvns r4, r4
 1466 0ba8 0134     		adds r4, r4, # 1
 1467 0baa 04E0     		b aaa2
 1468              	aaa1:
 1469 0bac 8020     		movs r0, # 0x80
 1470 0bae 7B49     		ldr r1, = kong
 1471 0bb0 0122     		movs r2, # 1
 1472 0bb2 00F00BF9 		bl _lcdxianshi
 1473              	aaa2:
 1474 0bb6 2046     		mov r0, r4
 1475 0bb8 0621     		movs r1, # 6
 1476 0bba 794A     		ldr r2, = asciimabiao
 1477 0bbc 794C     	        ldr r4, = zukang_xiaoshu_dian
 1478 0bbe 744B     		ldr r3, = liangcheng
 1479 0bc0 1B68     		ldr r3, [r3]
 1480 0bc2 E35C     		ldrb r3, [r4, r3]
 1481 0bc4 00F048F9 		bl _zhuanascii
 1482 0bc8 8120     		movs r0, # 0x81
 1483 0bca 7549     		ldr r1, = asciimabiao
 1484 0bcc 0622     		movs r2, # 6
 1485 0bce 00F0FDF8 		bl _lcdxianshi
 1486              	
 1487              	
 1488 0bd2 2C00     		movs r4, r5
 1489 0bd4 07D5     		bpl bbb1
 1490 0bd6 8720     		movs r0, # 0x87
 1491 0bd8 6F49     		ldr r1, = _fu
 1492 0bda 0122     		movs r2, # 1
 1493 0bdc 00F0F6F8 		bl _lcdxianshi
 1494 0be0 E443     		mvns r4, r4
 1495 0be2 0134     		adds r4, r4, # 1
 1496 0be4 04E0     		b bbb2
 1497              	bbb1:
 1498 0be6 8720     		movs r0, # 0x87
 1499 0be8 6C49     		ldr r1, = kong
 1500 0bea 0122     		movs r2, # 1
 1501 0bec 00F0EEF8 		bl _lcdxianshi
 1502              	bbb2:
 1503 0bf0 2046     		mov r0, r4
 1504 0bf2 0621     		movs r1, # 6
 1505 0bf4 6A4A     		ldr r2, = asciimabiao
 1506 0bf6 6B4D     		ldr r5, = zukang_xiaoshu_dian
 1507 0bf8 654B     		ldr r3, = liangcheng
 1508 0bfa 1B68     		ldr r3, [r3]
 1509 0bfc EB5C     		ldrb r3, [r5, r3]
 1510 0bfe 00F02BF9 		bl _zhuanascii
 1511 0c02 8820     		movs r0, # 0x88
 1512 0c04 6649     		ldr r1, = asciimabiao
 1513 0c06 0622     		movs r2, # 6
ARM GAS  1.s 			page 30


 1514 0c08 00F0E0F8 		bl _lcdxianshi
 1515 0c0c 3FBD     		pop {r0-r5,pc}
 1516              	
 1517              	
 1518              	__xianshi_liangcheng:
 1519 0c0e 0FB5     		push {r0-r3,lr}
 1520 0c10 5F48     	        ldr r0, = liangcheng
 1521 0c12 0221     		movs r1, # 2
 1522 0c14 0068     		ldr r0, [r0]
 1523 0c16 624A     		ldr r2, = asciimabiao
 1524 0c18 FF23     		movs r3, # 0xff
 1525 0c1a 00F01DF9 		bl _zhuanascii
 1526 0c1e C020     		movs r0, # 0xc0
 1527 0c20 5F49     		ldr r1, = asciimabiao
 1528 0c22 0222     		movs r2, # 2
 1529 0c24 00F0D2F8 		bl _lcdxianshi
 1530 0c28 0FBD     		pop {r0-r3,pc}
 1531              		
 1532              	__xianshi_shangxia_bi:
 1533 0c2a FFB5     		push {r0-r7,lr}
 1534 0c2c 5E48     		ldr r0, = shangbi_r
 1535 0c2e 5F4A     		ldr r2, = shangbi_i
 1536 0c30 0168     		ldr r1, [r0]
 1537 0c32 1768     		ldr r7, [r2]
 1538 0c34 0C00     		movs r4, r1
 1539 0c36 07D5     		bpl aa1
 1540 0c38 8020     		movs r0, # 0x80
 1541 0c3a 5749     		ldr r1, = _fu
 1542 0c3c 0122     		movs r2, # 1
 1543 0c3e 00F0C5F8 		bl _lcdxianshi
 1544 0c42 E443     		mvns r4, r4
 1545 0c44 0134     		adds r4, r4, # 1
 1546 0c46 04E0     		b aa2
 1547              	aa1:
 1548 0c48 8020     		movs r0, # 0x80
 1549 0c4a 5449     		ldr r1, = kong
 1550 0c4c 0122     		movs r2, # 1
 1551 0c4e 00F0BDF8 		bl _lcdxianshi
 1552              	aa2:
 1553 0c52 2046     		mov r0, r4
 1554 0c54 0621     		movs r1, # 6
 1555 0c56 524A     		ldr r2, = asciimabiao
 1556 0c58 FF23     		movs r3, # 0xff
 1557 0c5a 00F0FDF8 		bl _zhuanascii
 1558 0c5e 8120     		movs r0, # 0x81
 1559 0c60 4F49     		ldr r1, = asciimabiao
 1560 0c62 0622     		movs r2, # 6
 1561 0c64 00F0B2F8 		bl _lcdxianshi
 1562              	
 1563              	
 1564 0c68 3C00     		movs r4, r7
 1565 0c6a 07D5     		bpl bb1
 1566 0c6c 8920     		movs r0, # 0x89
 1567 0c6e 4A49     		ldr r1, = _fu
 1568 0c70 0122     		movs r2, # 1
 1569 0c72 00F0ABF8 		bl _lcdxianshi
 1570 0c76 E443     		mvns r4, r4
ARM GAS  1.s 			page 31


 1571 0c78 0134     		adds r4, r4, # 1
 1572 0c7a 04E0     		b bb2
 1573              	bb1:
 1574 0c7c 8920     		movs r0, # 0x89
 1575 0c7e 4749     		ldr r1, = kong
 1576 0c80 0122     		movs r2, # 1
 1577 0c82 00F0A3F8 		bl _lcdxianshi
 1578              	bb2:
 1579 0c86 2046     		mov r0, r4
 1580 0c88 0621     		movs r1, # 6
 1581 0c8a 454A     		ldr r2, = asciimabiao
 1582 0c8c FF23     		movs r3, # 0xff
 1583 0c8e 00F0E3F8 		bl _zhuanascii
 1584 0c92 8A20     		movs r0, # 0x8a
 1585 0c94 4249     		ldr r1, = asciimabiao
 1586 0c96 0622     		movs r2, # 6
 1587 0c98 00F098F8 		bl _lcdxianshi
 1588              	
 1589 0c9c 4448     	        ldr r0, = xiabi_r
 1590 0c9e 454A     		ldr r2, = xiabi_i
 1591 0ca0 0168     		ldr r1, [r0]
 1592 0ca2 1768     		ldr r7, [r2]
 1593 0ca4 0C00     		movs r4, r1
 1594 0ca6 07D5     		bpl cc1
 1595 0ca8 C020     		movs r0, # 0xc0
 1596 0caa 3B49     		ldr r1, = _fu
 1597 0cac 0122     		movs r2, # 1
 1598 0cae 00F08DF8 		bl _lcdxianshi
 1599 0cb2 E443     		mvns r4, r4
 1600 0cb4 0134     		adds r4, r4, # 1
 1601 0cb6 04E0     		b cc2
 1602              	cc1:
 1603 0cb8 C020     		movs r0, # 0xc0
 1604 0cba 3849     		ldr r1, = kong
 1605 0cbc 0122     		movs r2, # 1
 1606 0cbe 00F085F8 		bl _lcdxianshi
 1607              	cc2:
 1608 0cc2 2046     		mov r0, r4
 1609 0cc4 0621     		movs r1, # 6
 1610 0cc6 364A     		ldr r2, = asciimabiao
 1611 0cc8 FF23     		movs r3, # 0xff
 1612 0cca 00F0C5F8 		bl _zhuanascii
 1613 0cce C120     		movs r0, # 0xc1
 1614 0cd0 3349     		ldr r1, = asciimabiao
 1615 0cd2 0622     		movs r2, # 6
 1616 0cd4 00F07AF8 		bl _lcdxianshi
 1617              	
 1618              	
 1619 0cd8 3C00     		movs r4, r7
 1620 0cda 07D5     		bpl dd1
 1621 0cdc C920     		movs r0, # 0xc9
 1622 0cde 2E49     		ldr r1, = _fu
 1623 0ce0 0122     		movs r2, # 1
 1624 0ce2 00F073F8 		bl _lcdxianshi
 1625 0ce6 E443     		mvns r4, r4
 1626 0ce8 0134     		adds r4, r4, # 1
 1627 0cea 04E0     		b dd2
ARM GAS  1.s 			page 32


 1628              	dd1:
 1629 0cec C920     		movs r0, # 0xc9
 1630 0cee 2B49     		ldr r1, = kong
 1631 0cf0 0122     		movs r2, # 1
 1632 0cf2 00F06BF8 		bl _lcdxianshi
 1633              	dd2:
 1634 0cf6 2046     		mov r0, r4
 1635 0cf8 0621     		movs r1, # 6
 1636 0cfa 294A     		ldr r2, = asciimabiao
 1637 0cfc FF23     		movs r3, # 0xff
 1638 0cfe 00F0ABF8 		bl _zhuanascii
 1639 0d02 CA20     		movs r0, # 0xca
 1640 0d04 2649     		ldr r1, = asciimabiao
 1641 0d06 0622     		movs r2, # 6
 1642 0d08 00F060F8 		bl _lcdxianshi
 1643 0d0c FFBD     		pop {r0-r7,pc}
 1644              	
 1645              	__dft:
 1646 0d0e FCB5     		push {r2-r7,lr}
 1647 0d10 4246     		mov r2, r8
 1648 0d12 4B46     		mov r3, r9
 1649 0d14 0CB4     		push {r2-r3}
 1650 0d16 2849     		ldr r1, = 0x12345678
 1651 0d18 8946     		mov r9, r1
 1652 0d1a 2848     		ldr r0, = dianyabiao
 1653 0d1c 2849     		ldr r1, = cossin
 1654 0d1e 0968     		ldr r1, [r1]
 1655 0d20 284B     		ldr r3, = 1984	@ 点数*2-16
 1656 0d22 294C     		ldr r4, = 2048
 1657 0d24 1B18     		adds r3, r3, r0
 1658 0d26 9846     		mov r8, r3
 1659 0d28 0022     		movs r2, # 0
 1660 0d2a 1746     		mov r7, r2
 1661              	__dft_xunhuan:
 1662 0d2c 0388     		ldrh r3, [r0]
 1663 0d2e 0D68     		ldr r5, [r1]
 1664 0d30 4D45     		cmp r5, r9
 1665 0d32 02D1     		bne __du_sin
 1666 0d34 2249     		ldr r1, = cossin
 1667 0d36 0968     		ldr r1, [r1]
 1668 0d38 0D68     		ldr r5, [r1]
 1669              	__du_sin:	
 1670 0d3a 4E68     		ldr r6, [r1, # 0x04]
 1671 0d3c 1B1B     		subs r3, r3, r4
 1672 0d3e 5D43     		muls r5, r5, r3
 1673 0d40 ED13     		asrs r5, r5, # 15
 1674 0d42 5E43     		muls r6, r6, r3
 1675 0d44 F613     		asrs r6, r6, # 15
 1676 0d46 5219     		adds r2, r2, r5
 1677 0d48 BF19     		adds r7, r7, r6
 1678 0d4a 0230     		adds r0, r0, # 0x02
 1679 0d4c 0831     		adds r1, r1, # 0x08
 1680 0d4e 4045     		cmp r0, r8
 1681 0d50 ECD1     		bne __dft_xunhuan
 1682 0d52 1046     		mov r0, r2
 1683 0d54 3946     		mov r1, r7
 1684 0d56 0CBC     		pop {r2-r3}
ARM GAS  1.s 			page 33


 1685 0d58 9046     		mov r8, r2
 1686 0d5a 9946     		mov r9, r3
 1687 0d5c FCBD     		pop {r2-r7,pc}
 1688              		
 1689              	__lv_bo_qi:
 1690              		@地址顺序：指针，累加值，缓冲区
 1691              		@入口R0=缓冲区，R1=数据, r2,=指针
 1692              		@出口R0
 1693 0d5e 78B5     		push {r3-r6,lr}
 1694 0d60 6424     		movs r4, # 100
 1695 0d62 1568     		ldr r5, [r2]
 1696 0d64 2B46     		mov r3, r5
 1697 0d66 AB00     		lsls r3, r5, # 2
 1698 0d68 C658     		ldr r6, [r0, r3]
 1699 0d6a C150     		str r1, [r0, r3]
 1700 0d6c 0135     		adds r5, r5, # 1
 1701 0d6e 1560     		str r5, [r2]
 1702 0d70 A542     		cmp r5, r4
 1703 0d72 01D1     		bne __huanchong_leijia
 1704 0d74 0025     		movs r5, # 0
 1705 0d76 1560     		str r5, [r2]
 1706              	__huanchong_leijia:
 1707 0d78 0438     		subs r0, r0, # 4
 1708 0d7a 0568     		ldr r5, [r0]
 1709 0d7c 4919     		adds r1, r1, r5
 1710 0d7e 891B     		subs r1, r1, r6
 1711 0d80 0160     		str r1, [r0]
 1712 0d82 0813     		asrs r0, r1, # 12 @12 @  7	@128
 1713 0d84 78BD     		pop {r3-r6,pc}
 1714 0d86 00003C00 		.ltorg
 1714      00204000 
 1714      00203800 
 1714      0020B035 
 1714      00005836 
 1715              	
 1716              		
 1717              	_lcdxianshi:		  		@r0=LCD位置，r1=数据地址，r2=长度
 1718 0dcc 1FB5     		push {r0-r4,lr}
 1719 0dce 0C46     		mov r4, r1
 1720              	
 1721 0dd0 0021     		movs r1, # 0
 1722 0dd2 00F00EF8 		bl _xielcd
 1723              	
 1724 0dd6 0121     		movs r1, # 1
 1725 0dd8 0023     		movs r3, # 0
 1726              	_lcdxianshixunhuan:
 1727 0dda E05C     		ldrb r0, [r4,r3]
 1728 0ddc 00F009F8 		bl _xielcd
 1729 0de0 0133     		adds r3, r3, # 1
 1730 0de2 9342     		cmp r3, r2
 1731 0de4 F9D1     		bne _lcdxianshixunhuan
 1732 0de6 1FBD     		pop {r0-r4,pc}
 1733              	
 1734              	_lcdyanshi:
 1735 0de8 20B5     		push {r5,lr}
 1736 0dea D94D     		ldr r5, = 0x1000
 1737              	_lcdyanshixunhuan:
ARM GAS  1.s 			page 34


 1738 0dec 013D     		subs r5, r5, # 1
 1739 0dee FDD1     		bne _lcdyanshixunhuan
 1740 0df0 20BD     		pop {r5,pc}
 1741              	_xielcd:					@入R0=8位,r1=0命令,r1=1数据
 1742 0df2 3FB5     		push {r0-r5,lr}
 1743 0df4 D74C     		ldr r4, = lcd_beiguang  @ 量程开关 (第6位和第7位)
 1744 0df6 0246     		mov r2, r0
 1745 0df8 2568     		ldr r5, [r4]
 1746 0dfa 1209     		lsrs r2, r2, # 4
 1747 0dfc 9200     		lsls r2, r2, # 2	@ 高四位
 1748 0dfe 0007     		lsls r0, r0, # 28
 1749 0e00 800E     		lsrs r0, r0, # 26	@ 低四位
 1750 0e02 C907     		lsls r1, r1, # 31
 1751 0e04 01D5     		bpl __lcd_ming_ling
 1752              	__lcd_shu_ju:
 1753 0e06 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 1754 0e08 00E0     		b __xie_lcd_shu_ju
 1755              	__lcd_ming_ling:
 1756 0e0a 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 1757              	__xie_lcd_shu_ju:
 1758 0e0c 5B19     		adds r3, r3, r5
 1759 0e0e 0146     		mov r1, r0
 1760 0e10 D218     		adds r2, r2, r3
 1761 0e12 D14D     		ldr r5, = 0x4001300c
 1762 0e14 1000     		movs r0, r2
 1763 0e16 2870     		strb r0, [r5]
 1764 0e18 00F016F8 		bl __spi_mang
 1765 0e1c 00F018F8 		bl __yanshi_595
 1766 0e20 0238     		subs r0, r0, # 0x02
 1767 0e22 2870     		strb r0, [r5]
 1768 0e24 00F010F8 		bl __spi_mang
 1769 0e28 00F012F8 		bl __yanshi_595
 1770 0e2c 0846     		mov r0, r1
 1771 0e2e C018     		adds r0, r0, r3
 1772 0e30 2870     		strb r0, [r5]
 1773 0e32 00F009F8 		bl __spi_mang
 1774 0e36 00F00BF8 		bl __yanshi_595
 1775 0e3a 0238     		subs r0, r0, # 0x02
 1776 0e3c 2870     		strb r0, [r5]
 1777 0e3e 00F003F8 		bl __spi_mang
 1778 0e42 00F005F8 		bl __yanshi_595
 1779 0e46 3FBD     		pop {r0-r5,pc}
 1780              	__spi_mang:
 1781 0e48 AA68     		ldr r2, [r5, # 0x08]
 1782 0e4a 1206     		lsls r2, r2, # 24
 1783 0e4c FCD4     		bmi __spi_mang
 1784 0e4e F746     		mov pc, lr
 1785              	__yanshi_595:
 1786 0e50 C24A     		ldr r2, = 0x2000
 1787              	__yanshi__595:
 1788 0e52 013A     		subs r2, r2, # 1
 1789 0e54 FDD1     		bne __yanshi__595
 1790 0e56 F746     		mov pc, lr
 1791              		
 1792              	
 1793              	_zhuanascii:						@ 16进制转ASCII
 1794              		@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
ARM GAS  1.s 			page 35


 1795 0e58 FFB5     		push {r0-r7,lr}
 1796 0e5a 1F46     		mov r7, r3
 1797 0e5c 0546     		mov r5, r0
 1798 0e5e 0E46     		mov r6, r1
 1799 0e60 0A21     		movs r1, # 10
 1800              	_xunhuanqiuma:
 1801 0e62 00F0F6F8 		bl _chufa
 1802 0e66 0446     		mov r4, r0
 1803 0e68 4C43     		muls r4, r1
 1804 0e6a 2B1B     		subs r3, r5, r4
 1805 0e6c 3033     		adds r3, r3, # 0x30
 1806 0e6e 0546     		mov r5, r0
 1807 0e70 013E     		subs r6, r6, # 1
 1808 0e72 08D0     		beq _qiumafanhui
 1809 0e74 BE42     		cmp r6, r7
 1810 0e76 02D1     		bne _meidaoxiaoshudian
 1811 0e78 2E24     		movs r4, # 0x2e		@小数点
 1812 0e7a 9455     		strb r4, [r2,r6]	@插入小数点
 1813 0e7c 013E     		subs r6, r6, # 1
 1814              	_meidaoxiaoshudian:
 1815 0e7e 9355     		strb r3, [r2,r6]
 1816 0e80 3600     		movs r6, r6
 1817 0e82 EED1     		bne _xunhuanqiuma
 1818 0e84 FFBD     		pop {r0-r7,pc}
 1819              	_qiumafanhui:
 1820 0e86 9355     		strb r3, [r2, r6]
 1821 0e88 FFBD     		pop {r0-r7,pc}
 1822              	
 1823              	__fu_shu_chu_fa:
 1824              		@入口R0=a R1=b,R2=c R3=d
 1825              		@出口R2=实部 R1=虚部
 1826 0e8a F0B5     		push {r4-r7,lr}
 1827 0e8c 002A     		cmp r2, # 0
 1828 0e8e 03D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 1829 0e90 002B     		cmp r3, # 0
 1830 0e92 01D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 1831 0e94 0246     		mov r2, r0
 1832 0e96 F0BD     		pop {r4-r7,pc}
 1833              	__tiao_guo_bei_chu_shu_0_pan_duan:
 1834 0e98 4446     		mov r4, r8
 1835 0e9a 4D46     		mov r5, r9
 1836 0e9c 5646     		mov r6, r10
 1837 0e9e 5F46     		mov r7, r11
 1838 0ea0 F0B4     		push {r4-r7}
 1839              	__ji_suan_chu_fa:
 1840 0ea2 8046     		mov r8, r0	@a
 1841 0ea4 8946     		mov r9, r1	@b
 1842 0ea6 9246     		mov r10, r2	@c
 1843 0ea8 9B46     		mov r11, r3	@d
 1844 0eaa 0027     		movs r7, # 0
 1845              		@ (a+bi)/(c+di)=(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)
 1846 0eac 0000     		movs r0, r0
 1847 0eae 02D5     		bpl b1
 1848 0eb0 C043     		mvns r0, r0
 1849 0eb2 0130     		adds r0, r0, # 1
 1850 0eb4 0127     		movs r7, # 1
 1851              	b1:
ARM GAS  1.s 			page 36


 1852 0eb6 5146     		mov r1, r10
 1853 0eb8 0900     		movs r1, r1
 1854 0eba 02D5     		bpl b2
 1855 0ebc C943     		mvns r1, r1
 1856 0ebe 0131     		adds r1, r1, # 1
 1857 0ec0 0137     		adds r7, r7, # 1
 1858              	b2:
 1859 0ec2 00F0A1F8 		bl __chengfa
 1860              	b3:
 1861 0ec6 012F     		cmp r7, # 1
 1862 0ec8 01D1     		bne a1
 1863 0eca C043     		mvns r0, r0
 1864 0ecc C943     		mvns r1, r1
 1865              	a1:
 1866 0ece 0446     		mov r4, r0	@a*c高32
 1867 0ed0 0D46     		mov r5, r1	@a*c低32
 1868 0ed2 0027     		movs r7, # 0
 1869 0ed4 4846     		mov r0, r9
 1870 0ed6 5946     		mov r1, r11
 1871 0ed8 0000     		movs r0, r0
 1872 0eda 02D5     		bpl b4
 1873 0edc C043     		mvns r0, r0
 1874 0ede 0130     		adds r0, r0, # 1
 1875 0ee0 0137     		adds r7, r7, # 1
 1876              	b4:
 1877 0ee2 0900     		movs r1, r1
 1878 0ee4 02D5     		bpl b5
 1879 0ee6 C943     		mvns r1, r1
 1880 0ee8 0131     		adds r1, r1, # 1
 1881 0eea 0137     		adds r7, r7, # 1
 1882              	b5:
 1883 0eec 00F08CF8 		bl __chengfa
 1884              	b6:
 1885 0ef0 012F     		cmp r7, # 1
 1886 0ef2 01D1     		bne a2
 1887 0ef4 C043     		mvns r0, r0
 1888 0ef6 C943     		mvns r1, r1
 1889              	a2:
 1890 0ef8 4919     		adds r1, r1, r5	@ac+bd低32
 1891 0efa 6041     		adcs r0, r0, r4	@ac+bd高32
 1892 0efc 0646     		mov r6, r0
 1893 0efe 0F46     		mov r7, r1
 1894 0f00 5046     		mov r0, r10
 1895 0f02 4043     		muls r0, r0, r0
 1896 0f04 0446     		mov r4, r0	@c*c
 1897 0f06 5846     		mov r0, r11
 1898 0f08 4043     		muls r0, r0, r0
 1899 0f0a 0019     		adds r0, r0, r4
 1900 0f0c 01B4     		push {r0}
 1901 0f0e 3946     		mov r1, r7
 1902 0f10 0027     		movs r7, # 0
 1903 0f12 0200     		movs r2, r0
 1904 0f14 02D5     		bpl b7
 1905 0f16 D243     		mvns r2, r2
 1906 0f18 0132     		adds r2, r2, # 1
 1907 0f1a 0137     		adds r7, r7, # 1
 1908              	b7:
ARM GAS  1.s 			page 37


 1909 0f1c 3000     		movs r0, r6
 1910 0f1e 02D5     		bpl b8
 1911 0f20 C043     		mvns r0, r0
 1912 0f22 C943     		mvns r1, r1
 1913 0f24 0137     		adds r7, r7, # 1
 1914              	b8:
 1915 0f26 00F04BF8 		bl __chufa64
 1916 0f2a 012F     		cmp r7, # 1
 1917 0f2c 01D1     		bne __bao_cun_chu_fa_shi_bu_jie_guo
 1918 0f2e C043     		mvns r0, r0
 1919 0f30 C943     		mvns r1, r1
 1920              	__bao_cun_chu_fa_shi_bu_jie_guo:
 1921 0f32 0646     		mov r6, r0	@实部高32
 1922 0f34 0F46     		mov r7, r1	@实部低32
 1923              		@r8=a, r9=b, r10=c, r11=d
 1924              		@(b*c-a*d)/(c*c+d*d)
 1925 0f36 0025     		movs r5, # 0
 1926 0f38 4846     		mov r0, r9
 1927 0f3a 0000     		movs r0, r0
 1928 0f3c 02D5     		bpl b9
 1929 0f3e C043     		mvns r0, r0
 1930 0f40 0130     		adds r0, r0, # 1
 1931 0f42 0135     		adds r5, r5, # 1
 1932              	b9:
 1933 0f44 5146     		mov r1, r10
 1934 0f46 0900     		movs r1, r1
 1935 0f48 02D5     		bpl b10
 1936 0f4a C943     		mvns r1, r1
 1937 0f4c 0131     		adds r1, r1, # 1
 1938 0f4e 0135     		adds r5, r5, # 1
 1939              	b10:
 1940 0f50 00F05AF8 		bl __chengfa
 1941 0f54 012D     		cmp r5, # 1
 1942 0f56 01D1     		bne a3
 1943 0f58 C043     		mvns r0, r0
 1944 0f5a C943     		mvns r1, r1
 1945              	a3:
 1946 0f5c 0446     		mov r4, r0      @b*c高32
 1947 0f5e 0D46     		mov r5, r1      @b*c低32
 1948 0f60 0023     		movs r3, # 0
 1949 0f62 4046     		mov r0, r8
 1950 0f64 0000     		movs r0, r0
 1951 0f66 02D5     		bpl b11
 1952 0f68 C043     		mvns r0, r0
 1953 0f6a 0130     		adds r0, r0, # 1
 1954 0f6c 0133     		adds r3, r3, # 1
 1955              	b11:
 1956 0f6e 5946     		mov r1, r11
 1957 0f70 0900     		movs r1, r1
 1958 0f72 02D5     		bpl b12
 1959 0f74 C943     		mvns r1, r1
 1960 0f76 0131     		adds r1, r1, # 1
 1961 0f78 0133     		adds r3, r3, # 1
 1962              	b12:
 1963 0f7a 00F045F8 		bl __chengfa
 1964 0f7e 012B     		cmp r3, # 1
 1965 0f80 01D1     		bne a4
ARM GAS  1.s 			page 38


 1966 0f82 C043     		mvns r0, r0
 1967 0f84 C943     		mvns r1, r1
 1968              	a4:
 1969 0f86 6D1A     		subs r5, r5, r1 @bc-ad低32
 1970 0f88 8441     		sbcs r4, r4, r0 @bc-ad高32
 1971 0f8a 04BC     		pop {r2}
 1972 0f8c 2946     		mov r1, r5
 1973 0f8e 0025     		movs r5, # 0
 1974 0f90 1200     		movs r2, r2
 1975 0f92 02D5     		bpl b13
 1976 0f94 D243     		mvns r2, r2
 1977 0f96 0132     		adds r2, r2, # 1
 1978 0f98 0135     		adds r5, r5, # 1
 1979              	b13:
 1980 0f9a 2000     		movs r0, r4
 1981 0f9c 02D5     		bpl b14
 1982 0f9e C043     		mvns r0, r0
 1983 0fa0 C943     		mvns r1, r1
 1984 0fa2 0135     		adds r5, r5, # 1
 1985              	b14:
 1986 0fa4 00F00CF8 		bl __chufa64
 1987 0fa8 012D     		cmp r5, # 1
 1988 0faa 02D1     		bne __bao_cun_chu_fa_xu_bu_jie_guo
 1989 0fac C943     		mvns r1, r1
 1990 0fae C043     		mvns r0, r0
 1991 0fb0 0131     		adds r1, r1, # 1
 1992              	__bao_cun_chu_fa_xu_bu_jie_guo:
 1993 0fb2 3A46     		mov r2, r7
 1994 0fb4 F0BC     		pop {r4-r7}
 1995 0fb6 A046     		mov r8, r4
 1996 0fb8 A946     		mov r9, r5
 1997 0fba B246     		mov r10, r6
 1998 0fbc BB46     		mov r11, r7
 1999 0fbe F0BD     		pop {r4-r7,pc}
 2000              	
 2001              	__chufa64:
 2002              		@64位除32位
 2003              		@ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 2004 0fc0 F8B5     		push {r3-r7,lr}
 2005 0fc2 002A     		cmp r2, # 0
 2006 0fc4 1DD0     		beq __chu_fa64_fan_hui0
 2007 0fc6 0029     		cmp r1, # 0
 2008 0fc8 01D1     		bne __chu_fa64_ji_suan
 2009 0fca 0028     		cmp r0, # 0
 2010 0fcc 19D0     		beq __chu_fa64_fan_hui0
 2011              	__chu_fa64_ji_suan:
 2012 0fce 0024     		movs r4, # 0
 2013 0fd0 2746     		mov r7, r4
 2014 0fd2 2346     		mov r3, r4
 2015 0fd4 2546     		mov r5, r4
 2016 0fd6 0126     		movs r6, # 1
 2017 0fd8 F607     		lsls r6, r6, # 31
 2018              	__chu_fa64_xun_huan:
 2019 0fda 4900     		lsls r1, r1, # 1
 2020 0fdc 4041     		adcs r0, r0, r0
 2021 0fde 6441     		adcs r4, r4, r4
 2022 0fe0 9442     		cmp r4, r2
ARM GAS  1.s 			page 39


 2023 0fe2 02D3     		bcc __chu_fa_yi_wei
 2024 0fe4 9B19     		adds r3, r3, r6
 2025 0fe6 7D41     		adcs r5, r5, r7
 2026 0fe8 A41A     		subs r4, r4, r2
 2027              	__chu_fa_yi_wei:
 2028 0fea 3600     		movs r6, r6
 2029 0fec 04D0     		beq __di_yi_wei
 2030 0fee 7608     		lsrs r6, r6, # 1        @高32位移位
 2031 0ff0 F3D1     		bne __chu_fa64_xun_huan
 2032 0ff2 0127     		movs r7, # 1
 2033 0ff4 FF07     		lsls r7, r7, # 31
 2034 0ff6 F0E7     		b __chu_fa64_xun_huan
 2035              	__di_yi_wei:	            @低32位移位
 2036 0ff8 7F08     		lsrs r7, r7, # 1
 2037 0ffa EED1     		bne __chu_fa64_xun_huan
 2038 0ffc 1846     		mov r0, r3
 2039 0ffe 2946     		mov r1, r5
 2040 1000 F8BD     		pop {r3-r7,pc}
 2041              	__chu_fa64_fan_hui0:
 2042 1002 0020     		movs r0, # 0
 2043 1004 0021     		movs r1, # 0
 2044 1006 F8BD     		pop {r3-r7,pc}
 2045              	__chengfa:
 2046              		@入R0 乘以 R1
 2047              		@出 R0高32 ， R1低32
 2048              		@0xffffffff*0xffffffff
 2049              		@4        F F F E 0 0 0 1                       @4
 2050              		@3                F F F E 0 0 0 1               @3
 2051              		@2                F F F E 0 0 0 1               @2
 2052              		@1                        F F F E 0 0 0 1       @1
 2053              		@         F F F F F F F E 0 0 0 0 0 0 0 1
 2054 1008 FCB5     		push {r2-r7,lr}
 2055 100a 0028     		cmp r0, # 0
 2056 100c 1ED0     		beq __cheng_fa_fan_hui
 2057 100e 0029     		cmp r1, # 0
 2058 1010 1CD0     		beq __cheng_fa_fan_hui
 2059              	__ji_suan_cheng_fa:
 2060 1012 0246     		mov r2, r0
 2061 1014 0B46     		mov r3, r1
 2062 1016 000C     		lsrs r0, r0, # 16       @高16
 2063 1018 1204     		lsls r2, r2, # 16       @ 低16
 2064 101a 120C     		lsrs r2, r2, # 16
 2065 101c 090C     		lsrs r1, r1, # 16       @高16
 2066 101e 1B04     		lsls r3, r3, # 16       @低16
 2067 1020 1B0C     		lsrs r3, r3, # 16
 2068 1022 1446     		mov r4, r2
 2069 1024 0546     		mov r5, r0
 2070 1026 5A43     		muls r2, r2, r3         @1
 2071 1028 5843     		muls r0, r0, r3         @2
 2072 102a 4C43     		muls r4, r4, r1         @3
 2073 102c 4D43     		muls r5, r5, r1         @4
 2074 102e 0646     		mov r6, r0
 2075 1030 2746     		mov r7, r4
 2076 1032 0004     		lsls r0, r0, # 16       @2低32
 2077 1034 2404     		lsls r4, r4, # 16       @3低32
 2078 1036 360C     		lsrs r6, r6, # 16       @2高32
 2079 1038 3F0C     		lsrs r7, r7, # 16       @3高32
ARM GAS  1.s 			page 40


 2080 103a 0021     		movs r1, # 0
 2081 103c 1218     		adds r2, r2, r0         @低32
 2082 103e 4E41     		adcs r6, r6, r1         @高32
 2083 1040 1219     		adds r2, r2, r4
 2084 1042 7E41     		adcs r6, r6, r7
 2085 1044 7619     		adds r6, r6, r5
 2086 1046 3046     		mov r0, r6
 2087 1048 1146     		mov r1, r2
 2088 104a FCBD     		pop {r2-r7,pc}
 2089              	__cheng_fa_fan_hui:
 2090 104c 0020     		movs r0, # 0
 2091 104e 0021     		movs r1, # 0
 2092 1050 FCBD     		pop {r2-r7,pc}
 2093              		
 2094              	_chufa:				@软件除法
 2095              		@ r0 除以 r1 等于 商(r0)
 2096 1052 1EB5     		push {r1-r4,lr}
 2097 1054 0028     		cmp r0, # 0
 2098 1056 0ED0     		beq _chufafanhui
 2099 1058 0029     		cmp r1, # 0
 2100 105a 0CD0     		beq _chufafanhui
 2101 105c 0246     		mov r2, r0
 2102 105e 0123     		movs r3, # 1
 2103 1060 DB07     		lsls r3, r3, # 31
 2104 1062 0020     		movs r0, # 0
 2105 1064 0446     		mov r4, r0
 2106              	_chufaxunhuan:
 2107 1066 5200     		lsls r2, r2, # 1
 2108 1068 6441     		adcs r4, r4, r4
 2109 106a 8C42     		cmp r4, r1
 2110 106c 01D3     		bcc _chufaweishubudao0
 2111 106e C018     		adds r0, r0, r3
 2112 1070 641A     		subs r4, r4, r1
 2113              	_chufaweishubudao0:
 2114 1072 5B08     		lsrs r3, r3, # 1
 2115 1074 F7D1     		bne _chufaxunhuan
 2116              	_chufafanhui:
 2117 1076 1EBD     		pop {r1-r4,pc}
 2118              		
 2119              	_nmi_handler:
 2120 1078 7047     		bx lr
 2121              	_hard_fault:
 2122 107a 7047     		bx lr
 2123              	_svc_handler:
 2124 107c 7047     		bx lr
 2125              	_pendsv_handler:
 2126 107e 7047     		bx lr
 2127              	_systickzhongduan:
 2128 1080 10B5     		push {r4,lr}
 2129 1082 3748     		ldr r0, = 0xe0000d04
 2130 1084 3749     		ldr r1, = 0x02000000
 2131 1086 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 2132 1088 374A     		ldr r2, = shangxiabi_qiehuan
 2133 108a 1368     		ldr r3, [r2]
 2134 108c 012B     		cmp r3, # 1
 2135 108e 28D1     		bne __shangbi_dft
 2136 1090 0023     	        movs r3, # 0
ARM GAS  1.s 			page 41


 2137 1092 1360     		str r3, [r2]
 2138 1094 354A     		ldr r2, = 0x48000400
 2139 1096 0223     		movs r3, #  0x02
 2140 1098 9362     		str r3, [r2, # 0x28]    @cd4053_9_10  0X28上臂开
 2141 109a 3548     		ldr r0, = liangcheng
 2142 109c 3549     		ldr r1, = shangbi_liangcheng
 2143 109e 0068     		ldr r0, [r0]
 2144 10a0 4000     		lsls r0, r0, # 1
 2145 10a2 354A     		ldr r2, = 0x48000000
 2146 10a4 0B5A     		ldrh  r3, [r1, r0]
 2147 10a6 5361     		str r3, [r2, # 0x14]
 2148 10a8 344A     		ldr r2, = dma_r
 2149 10aa 3548     		ldr r0, = 0x40020000
 2150 10ac C068     		ldr r0, [r0, # 0x0c]
 2151 10ae 1060     		str r0, [r2]
 2152 10b0 FFF72DFE 		bl __dft
 2153 10b4 C043     		mvns r0, r0
 2154 10b6 C943     		mvns r1, r1
 2155 10b8 0130     		adds r0, r0, # 1
 2156 10ba 0131     		adds r1, r1, # 1
 2157 10bc 314A     		ldr r2, = xiabi_rr
 2158 10be 324B     		ldr r3, = xiabi_ii
 2159 10c0 1060     		str r0, [r2]
 2160 10c2 1960     		str r1, [r3]
 2161 10c4 0446     	        mov r4, r0
 2162 10c6 314A     		ldr r2, = lvboqizhizhen3
 2163 10c8 3148     		ldr r0, =lvboqihuanchong3
 2164 10ca FFF748FE 		bl __lv_bo_qi
 2165 10ce 3149     		ldr r1, = xiabi_i
 2166 10d0 0860     		str r0, [r1]
 2167 10d2 2146     		mov r1, r4
 2168 10d4 304A     		ldr r2, = lvboqizhizhen2
 2169 10d6 3148     		ldr r0, = lvboqihuanchong2
 2170 10d8 FFF741FE 		bl __lv_bo_qi
 2171 10dc 3049     		ldr r1, = xiabi_r
 2172 10de 0860     		str r0, [r1]
 2173 10e0 34E0     		b __systick_fanhui
 2174              		
 2175              	__shangbi_dft:
 2176 10e2 0123     		movs r3, # 1
 2177 10e4 1360     		str r3, [r2]
 2178 10e6 214A     		ldr r2, = 0x48000400
 2179 10e8 0223     	        movs r3, #  0x02
 2180 10ea 9361     		str r3, [r2, # 0x18]    @cd4053_9_10 下臂开
 2181 10ec 2048     	        ldr r0, = liangcheng
 2182 10ee 2D49     		ldr r1, = xiabi_liangcheng
 2183 10f0 0068     		ldr r0, [r0]
 2184 10f2 4000     		lsls r0, r0, # 1
 2185 10f4 204A     		ldr r2, = 0x48000000
 2186 10f6 0B5A     		ldrh r3, [r1, r0]
 2187 10f8 5361     		str r3, [r2, # 0x14]
 2188 10fa 2B4A     		ldr r2, = dma_i
 2189 10fc 2048     		ldr r0, = 0x40020000
 2190 10fe C068     		ldr r0, [r0, # 0x0c]
 2191 1100 1060     		str r0, [r2]
 2192 1102 FFF704FE 		bl __dft
 2193 1106 294A     		ldr r2, = shangbi_rr
ARM GAS  1.s 			page 42


 2194 1108 294B     		ldr r3, = shangbi_ii
 2195 110a 1060     		str r0, [r2]
 2196 110c 1960     		str r1, [r3]
 2197 110e 0446     		mov r4, r0
 2198 1110 284A     		ldr r2, = lvboqizhizhen1
 2199 1112 2948     		ldr r0, =lvboqihuanchong1
 2200 1114 FFF723FE 		bl __lv_bo_qi
 2201 1118 2849     		ldr r1, = shangbi_i
 2202 111a 0860     		str r0, [r1]
 2203 111c 2146     		mov r1, r4
 2204 111e 284A     	        ldr r2, = lvboqizhizhen
 2205 1120 2848     		ldr r0, =lvboqihuanchong
 2206 1122 FFF71CFE 		bl __lv_bo_qi
 2207 1126 2849     		ldr r1, = shangbi_r
 2208 1128 0860     		str r0, [r1]
 2209 112a 2848     		ldr r0, = jishu
 2210 112c 0168     		ldr r1, [r0]
 2211 112e 0131     		adds r1, r1, # 1
 2212 1130 0160     		str r1, [r0]
 2213 1132 0529     		cmp r1, # 5
 2214 1134 0AD1     		bne __systick_fanhui
 2215 1136 0021     		movs r1, # 0
 2216 1138 0160     		str r1, [r0]
 2217 113a 2548     		ldr r0, = xianshi_biaozhi
 2218 113c 0121     		movs r1, # 1
 2219 113e 0160     		str r1, [r0]
 2220 1140 FFF7F6FB 		bl __jisuan_z_fudu
 2221 1144 2348     		ldr r0, = zidong_dangwei_kaiguan
 2222 1146 0068     		ldr r0, [r0]
 2223 1148 0128     		cmp r0, # 1
 2224 114a FFD0     		beq __systick_fanhui
 2225              	@	bl __zidong_dangwei
 2226              	__systick_fanhui:	
 2227 114c 10BD     		pop {r4,pc}
 2228              	aaa:
 2229 114e 7047     		bx lr
 2230 1150 00100000 		.ltorg
 2230      20000020 
 2230      0C300140 
 2230      00200000 
 2230      040D00E0 
 2231              		.end
ARM GAS  1.s 			page 43


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 jiaozhun33
                 1.s:11     .data:0000000000000010 jiaozhun_100
                 1.s:13     .data:0000000000000020 jiaozhun_300
                 1.s:15     .data:0000000000000030 jiaozhun_1K
                 1.s:17     .data:0000000000000040 jiaozhun_3K
                 1.s:19     .data:0000000000000050 jiaozhun_10K
                 1.s:21     .data:0000000000000060 jiaozhun_30K
                 1.s:23     .data:0000000000000070 jiaozhun_100K
                 1.s:25     .data:0000000000000080 jiaozhun_300K
                 1.s:27     .data:0000000000000090 pinlv_100hz
                 1.s:29     .data:00000000000000a0 pinlv_1khz
                 1.s:31     .data:00000000000000b0 pinlv_10khz
                 1.s:33     .data:00000000000000c0 pinlv_100khz
                 1.s:36     .data:00000000000000d0 $d
                 1.s:37     .data:00000000000000d0 jiaodu_jiaozhun_yong_cordic
                 1.s:39     .data:00000000000001c0 jiaozhun_yong_cordic
                 1.s:41     .data:0000000000000238 cordic_yong_cos_sin
                 1.s:43     .data:00000000000002b8 cordic_yong_atan_biao
                 1.s:46     .data:0000000000000300 zheng_xian_100khz
                 1.s:49     .data:0000000000000320 zheng_xian_10khz
                 1.s:52     .data:0000000000000390 zheng_xian_1khz
                 1.s:55     .data:0000000000000780 zheng_xian_100hz
                 1.s:59     .data:0000000000000f50 cos_sin_biao_100k
                 1.s:62     .data:0000000000000ff4 cos_sin_biao_10k
                 1.s:64     .data:0000000000001638 cos_sin_biao_100_1k
                 1.s:66     .data:0000000000003578 shangbi_liangcheng
                 1.s:68     .data:000000000000358a xiabi_liangcheng
                 1.s:71     .data:00000000000035a0 zukang_xiaoshu_dian
                 1.s:74     .data:00000000000035b0 zukang_huansuan_biao
                 1.s:76     .data:00000000000035d4 zukang_danwei
                 1.s:79     .data:00000000000035f8 an_jian_biao
                 1.s:506    .text:0000000000000258 __an_jian0
                 1.s:478    .text:0000000000000222 __dang_wei_jia
                 1.s:448    .text:00000000000001e8 __pin_lv_jia
                 1.s:446    .text:00000000000001e6 __an_jian3
                 1.s:84     .data:0000000000003608 pinlv_biao
                 1.s:863    .text:0000000000000580 __pinlv_100
                 1.s:933    .text:0000000000000694 __pinlv_1K
                 1.s:1004   .text:0000000000000770 __pinlv_10K
                 1.s:1072   .text:000000000000084c __pinlv_100K
                 1.s:90     .data:0000000000003620 pinlv_xianshi_biao
                 1.s:95     .data:0000000000003630 dangwei_xianshi_biao
                 1.s:106    .data:0000000000003654 kong
                 1.s:108    .data:0000000000003658 _fu
                 1.s:110    .data:0000000000003659 jiaodu1
                 1.s:112    .data:000000000000365d jiaodufuhao
                 1.s:114    .data:0000000000003661 yjmwxwx
                 1.s:117    *ABS*:0000000020001000 STACKINIT
                 1.s:118    *ABS*:0000000020000000 asciimabiao
                 1.s:119    *ABS*:0000000020000020 lcd_beiguang
                 1.s:120    *ABS*:0000000020000024 shangbi_r
                 1.s:121    *ABS*:0000000020000028 shangbi_i
                 1.s:122    *ABS*:000000002000002c xiabi_r
                 1.s:123    *ABS*:0000000020000030 xiabi_i
                 1.s:124    *ABS*:0000000020000034 shangxiabi_qiehuan
                 1.s:125    *ABS*:0000000020000038 liangcheng
ARM GAS  1.s 			page 44


                 1.s:126    *ABS*:000000002000003c z_r
                 1.s:127    *ABS*:0000000020000040 z_i
                 1.s:128    *ABS*:0000000020000044 dma_r
                 1.s:129    *ABS*:0000000020000048 dma_i
                 1.s:130    *ABS*:000000002000004c huandangyanshi
                 1.s:131    *ABS*:0000000020000050 shangbi_rr
                 1.s:132    *ABS*:0000000020000054 shangbi_ii
                 1.s:133    *ABS*:0000000020000058 xiabi_rr
                 1.s:134    *ABS*:000000002000005c xiabi_ii
                 1.s:135    *ABS*:0000000020000060 jishu
                 1.s:136    *ABS*:0000000020000064 xianshi_biaozhi
                 1.s:137    *ABS*:0000000020000068 z_fudu
                 1.s:138    *ABS*:000000002000006c cossin
                 1.s:139    *ABS*:0000000020000070 pinlv
                 1.s:140    *ABS*:0000000020000074 anjian
                 1.s:141    *ABS*:0000000020000078 zhenfu
                 1.s:142    *ABS*:000000002000007c shezhi_pinlv
                 1.s:143    *ABS*:0000000020000080 zidong_dangwei_kaiguan
                 1.s:144    *ABS*:0000000020000084 z_r_jiaozhun
                 1.s:145    *ABS*:0000000020000088 z_i_jiaozhun
                 1.s:148    *ABS*:0000000020000100 dianyabiao
                 1.s:149    *ABS*:00000000200008d0 lvboqizhizhen
                 1.s:150    *ABS*:00000000200008d8 lvboqihuanchong
                 1.s:151    *ABS*:0000000020000a68 lvboqizhizhen1
                 1.s:152    *ABS*:0000000020000a70 lvboqihuanchong1
                 1.s:153    *ABS*:0000000020000c00 lvboqizhizhen2
                 1.s:154    *ABS*:0000000020000c08 lvboqihuanchong2
                 1.s:155    *ABS*:0000000020000d98 lvboqizhizhen3
                 1.s:156    *ABS*:0000000020000da0 lvboqihuanchong3
                 1.s:161    .text:0000000000000000 vectors
                 1.s:207    .text:00000000000000b0 _start
                 1.s:2119   .text:0000000000001078 _nmi_handler
                 1.s:2121   .text:000000000000107a _hard_fault
                 1.s:2123   .text:000000000000107c _svc_handler
                 1.s:2125   .text:000000000000107e _pendsv_handler
                 1.s:2127   .text:0000000000001080 _systickzhongduan
                 1.s:2228   .text:000000000000114e aaa
                            .text:0000000000000000 $d
                 1.s:206    .text:00000000000000b0 $t
                 1.s:208    .text:00000000000000b0 shizhong
                 1.s:215    .text:00000000000000bc denghse
                 1.s:219    .text:00000000000000c2 dengpllguan
                 1.s:231    .text:00000000000000d6 dengpll
                 1.s:240    .text:00000000000000e0 _waisheshizhong
                 1.s:271    .text:0000000000000106 _neicunqingling
                 1.s:261    .text:00000000000000f6 _neicunqingling1
                 1.s:265    .text:00000000000000fc _neicunqinglingxunhuan1
                 1.s:280    .text:0000000000000114 _waishezhongduan
                 1.s:275    .text:000000000000010c _neicunqinglingxunhuan
                 1.s:302    .text:000000000000011a io_she_zhi
                 1.s:340    .text:0000000000000136 spi_chushihua
                 1.s:347    .text:0000000000000140 _lcdchushihua
                 1.s:1741   .text:0000000000000df2 _xielcd
                 1.s:1734   .text:0000000000000de8 _lcdyanshi
                 1.s:1717   .text:0000000000000dcc _lcdxianshi
                 1.s:379    .text:0000000000000188 yjmwxwx_yanshi
                 1.s:849    .text:000000000000056c __pinlv_shezhi
ARM GAS  1.s 			page 45


                 1.s:403    .text:00000000000001ae _adcchushihua
                 1.s:407    .text:00000000000001b4 _dengadcjiaozhun
                 1.s:413    .text:00000000000001be _kaiadc
                 1.s:418    .text:00000000000001c6 _deng_adc_wen_ding
                 1.s:422    .text:00000000000001cc _tongdaoxuanze
                 1.s:507    .text:0000000000000258 ting
                 1.s:458    .text:00000000000001fa __pin_lv_fan_hui
                 1.s:472    .text:0000000000000218 __pinlv_xianshi_yanshi
                 1.s:488    .text:0000000000000234 __dang_wei_fan_hui
                 1.s:502    .text:0000000000000252 __dangwei_xianshi_yanshi
                 1.s:514    .text:0000000000000262 dddd
                 1.s:520    .text:0000000000000262 dzd
                 1.s:1207   .text:00000000000009a0 __jisuan_zukang
                 1.s:1333   .text:0000000000000a70 __atan2_ji_suan
                 1.s:772    .text:00000000000004ee __xian_shi_jiao_du
                 1.s:1444   .text:0000000000000b7c __xianshi_zukang
                 1.s:648    .text:0000000000000400 __jiaozhun_jiaodu
                 1.s:628    .text:00000000000003dc __xiangwei_xuanzhuan
                 1.s:588    .text:00000000000003a0 __jiaozhun_fudu
                 1.s:1518   .text:0000000000000c0e __xianshi_liangcheng
                 1.s:841    .text:000000000000055e __an_jian
                 1.s:580    .text:00000000000002f0 __cai_dan_diao_du
                 1.s:586    .text:00000000000002fa $d
                 1.s:586    .text:00000000000002fc $d
                 1.s:589    .text:00000000000003a0 $t
                 1.s:1393   .text:0000000000000b30 __ji_suan_fu_du
                 1.s:603    .text:00000000000003ba __fudu_jiaozhun_xunhuan
                 1.s:610    .text:00000000000003c4 __fudu_jian
                 1.s:607    .text:00000000000003c0 __fudu_jia
                 1.s:612    .text:00000000000003c6 __jiaozhun_xuanzhuan
                 1.s:619    .text:00000000000003d2 __baocun_fudu_jiaozhun
                 1.s:623    .text:00000000000003d8 __jiaozhun_fudu_fanhui
                 1.s:670    .text:0000000000000426 __jiaodu_jiaozhun_xunhuan
                 1.s:709    .text:0000000000000474 __jiaodu_fanzhuan
                 1.s:738    .text:00000000000004ac __jiaodu_xuanzhuan
                 1.s:753    .text:00000000000004c6 __xianshi_shangxiabi_jiaodu
                 1.s:792    .text:0000000000000514 __jiaodu_bu_shi_zheng
                 1.s:797    .text:000000000000051e __xian_shi_jiaodu
                 1.s:1793   .text:0000000000000e58 _zhuanascii
                 1.s:810    .text:0000000000000538 __jiaozhun_shu_zhi
                 1.s:817    .text:0000000000000542 __z_jiaozhun_xunhuan
                 1.s:824    .text:000000000000054c __z_jian
                 1.s:821    .text:0000000000000548 __z_jia
                 1.s:826    .text:000000000000054e __z_xuanzhuan
                 1.s:833    .text:000000000000055a __baocun_z_jiaozhun
                 1.s:931    .text:00000000000005fa $d
                 1.s:931    .text:00000000000005fc $d
                 1.s:935    .text:0000000000000694 $t
                 1.s:1001   .text:000000000000070e $d
                 1.s:1001   .text:0000000000000710 $d
                 1.s:1006   .text:0000000000000770 $t
                 1.s:1071   .text:00000000000007ea $d
                 1.s:1071   .text:00000000000007ec $d
                 1.s:1074   .text:000000000000084c $t
                 1.s:1125   .text:00000000000008ac __pinlv_yanshi
                 1.s:1127   .text:00000000000008ae __pinlv_yanshi_xunhuan
                 1.s:1131   .text:00000000000008b4 __pin_lv_xian_shi
ARM GAS  1.s 			page 46


                 1.s:1144   .text:00000000000008d0 $d
                 1.s:1146   .text:0000000000000930 __jisuan_z_fudu
                 1.s:1147   .text:0000000000000930 $t
                 1.s:2094   .text:0000000000001052 _chufa
                 1.s:1172   .text:0000000000000966 __zidong_dangwei
                 1.s:1174   .text:0000000000000968 __huan_dang
                 1.s:1194   .text:000000000000098e __dang_wei_jian
                 1.s:1203   .text:000000000000099e __zi_dong_dang_wei_fan_hui
                 1.s:1823   .text:0000000000000e8a __fu_shu_chu_fa
                 1.s:1229   .text:00000000000009c6 __jisuan_cos_sin
                 1.s:1239   .text:00000000000009d4 __xiaoyu_180
                 1.s:1241   .text:00000000000009d6 __js_cos_sin
                 1.s:1250   .text:00000000000009e6 __jisuan_jiaodu_bushi0
                 1.s:1252   .text:00000000000009e8 __jiance_chao90
                 1.s:1259   .text:00000000000009f4 __xiaoyu_90
                 1.s:1261   .text:00000000000009f6 __suan_cossin
                 1.s:1272   .text:0000000000000a0e __suan_cos_sin1
                 1.s:1287   .text:0000000000000a28 __cordic_cos_sin
                 1.s:1278   .text:0000000000000a1a __cos_sin_fanhui
                 1.s:1285   .text:0000000000000a26 __cossin_fh
                 1.s:1301   .text:0000000000000a38 cordicxunhuan
                 1.s:1346   .text:0000000000000a86 __cordic_atan2_xun_huan
                 1.s:1347   .text:0000000000000a86 __du_cos_sin
                 1.s:1367   .text:0000000000000aaa __ni_shi_zhen_zhuan
                 1.s:1360   .text:0000000000000a9e __shun_shi_zhen_zhuan
                 1.s:1373   .text:0000000000000ab4 __xuan_zhuan_wan
                 1.s:1392   .text:0000000000000ad8 $d
                 1.s:1398   .text:0000000000000b30 $t
                 1.s:1403   .text:0000000000000b3a _shibubushifushu
                 1.s:1408   .text:0000000000000b42 _xububushifushu
                 1.s:1413   .text:0000000000000b4a _panduanxubushibushi0
                 1.s:1417   .text:0000000000000b50 _jisuanfudu1
                 1.s:1432   .text:0000000000000b66 _alpha_min_beta_max
                 1.s:1424   .text:0000000000000b58 _alpha_max_beta_min
                 1.s:1443   .text:0000000000000b74 $d
                 1.s:1445   .text:0000000000000b7c $t
                 1.s:1468   .text:0000000000000bac aaa1
                 1.s:1473   .text:0000000000000bb6 aaa2
                 1.s:1497   .text:0000000000000be6 bbb1
                 1.s:1502   .text:0000000000000bf0 bbb2
                 1.s:1532   .text:0000000000000c2a __xianshi_shangxia_bi
                 1.s:1547   .text:0000000000000c48 aa1
                 1.s:1552   .text:0000000000000c52 aa2
                 1.s:1573   .text:0000000000000c7c bb1
                 1.s:1578   .text:0000000000000c86 bb2
                 1.s:1602   .text:0000000000000cb8 cc1
                 1.s:1607   .text:0000000000000cc2 cc2
                 1.s:1628   .text:0000000000000cec dd1
                 1.s:1633   .text:0000000000000cf6 dd2
                 1.s:1645   .text:0000000000000d0e __dft
                 1.s:1661   .text:0000000000000d2c __dft_xunhuan
                 1.s:1669   .text:0000000000000d3a __du_sin
                 1.s:1689   .text:0000000000000d5e __lv_bo_qi
                 1.s:1706   .text:0000000000000d78 __huanchong_leijia
                 1.s:1714   .text:0000000000000d86 $d
                 1.s:1714   .text:0000000000000d88 $d
                 1.s:1718   .text:0000000000000dcc $t
ARM GAS  1.s 			page 47


                 1.s:1726   .text:0000000000000dda _lcdxianshixunhuan
                 1.s:1737   .text:0000000000000dec _lcdyanshixunhuan
                 1.s:1755   .text:0000000000000e0a __lcd_ming_ling
                 1.s:1752   .text:0000000000000e06 __lcd_shu_ju
                 1.s:1757   .text:0000000000000e0c __xie_lcd_shu_ju
                 1.s:1780   .text:0000000000000e48 __spi_mang
                 1.s:1785   .text:0000000000000e50 __yanshi_595
                 1.s:1787   .text:0000000000000e52 __yanshi__595
                 1.s:1800   .text:0000000000000e62 _xunhuanqiuma
                 1.s:1819   .text:0000000000000e86 _qiumafanhui
                 1.s:1814   .text:0000000000000e7e _meidaoxiaoshudian
                 1.s:1833   .text:0000000000000e98 __tiao_guo_bei_chu_shu_0_pan_duan
                 1.s:1839   .text:0000000000000ea2 __ji_suan_chu_fa
                 1.s:1851   .text:0000000000000eb6 b1
                 1.s:1858   .text:0000000000000ec2 b2
                 1.s:2045   .text:0000000000001008 __chengfa
                 1.s:1860   .text:0000000000000ec6 b3
                 1.s:1865   .text:0000000000000ece a1
                 1.s:1876   .text:0000000000000ee2 b4
                 1.s:1882   .text:0000000000000eec b5
                 1.s:1884   .text:0000000000000ef0 b6
                 1.s:1889   .text:0000000000000ef8 a2
                 1.s:1908   .text:0000000000000f1c b7
                 1.s:1914   .text:0000000000000f26 b8
                 1.s:2001   .text:0000000000000fc0 __chufa64
                 1.s:1920   .text:0000000000000f32 __bao_cun_chu_fa_shi_bu_jie_guo
                 1.s:1932   .text:0000000000000f44 b9
                 1.s:1939   .text:0000000000000f50 b10
                 1.s:1945   .text:0000000000000f5c a3
                 1.s:1955   .text:0000000000000f6e b11
                 1.s:1962   .text:0000000000000f7a b12
                 1.s:1968   .text:0000000000000f86 a4
                 1.s:1979   .text:0000000000000f9a b13
                 1.s:1985   .text:0000000000000fa4 b14
                 1.s:1992   .text:0000000000000fb2 __bao_cun_chu_fa_xu_bu_jie_guo
                 1.s:2041   .text:0000000000001002 __chu_fa64_fan_hui0
                 1.s:2011   .text:0000000000000fce __chu_fa64_ji_suan
                 1.s:2018   .text:0000000000000fda __chu_fa64_xun_huan
                 1.s:2027   .text:0000000000000fea __chu_fa_yi_wei
                 1.s:2035   .text:0000000000000ff8 __di_yi_wei
                 1.s:2089   .text:000000000000104c __cheng_fa_fan_hui
                 1.s:2059   .text:0000000000001012 __ji_suan_cheng_fa
                 1.s:2116   .text:0000000000001076 _chufafanhui
                 1.s:2106   .text:0000000000001066 _chufaxunhuan
                 1.s:2113   .text:0000000000001072 _chufaweishubudao0
                 1.s:2175   .text:00000000000010e2 __shangbi_dft
                 1.s:2226   .text:000000000000114c __systick_fanhui
                 1.s:2230   .text:0000000000001150 $d

NO UNDEFINED SYMBOLS
