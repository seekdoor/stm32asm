ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@lcr-1
   3              		@作者：yjmwxwx
   4              		@时间：2022-01-01
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              	jiaozhun33:
  10 0000 206A6961 		.ascii " jiao zhun 33.3 "
  10      6F207A68 
  10      756E2033 
  10      332E3320 
  11              	jiaozhun_100:
  12 0010 206A6961 		.ascii " jiao zhun 100  "
  12      6F207A68 
  12      756E2031 
  12      30302020 
  13              	jiaozhun_300:
  14 0020 206A6961 		.ascii " jiao zhun 300  "
  14      6F207A68 
  14      756E2033 
  14      30302020 
  15              	jiaozhun_1K:
  16 0030 20206A69 		.ascii "  jiao zhun 1K  "
  16      616F207A 
  16      68756E20 
  16      314B2020 
  17              	jiaozhun_3K:
  18 0040 20206A69 		.ascii "  jiaozhun 3K   "
  18      616F7A68 
  18      756E2033 
  18      4B202020 
  19              	jiaozhun_10K:
  20 0050 206A6961 		.ascii " jiao zhun 10K  "
  20      6F207A68 
  20      756E2031 
  20      304B2020 
  21              	jiaozhun_30K:
  22 0060 206A6961 		.ascii " jiao zhun 30K  "
  22      6F207A68 
  22      756E2033 
  22      304B2020 
  23              	jiaozhun_100K:
  24 0070 206A6961 		.ascii " jiao zhun 100K "
  24      6F207A68 
  24      756E2031 
  24      30304B20 
  25              	jiaozhun_300K:
  26 0080 206A6961 		.ascii " jiao zhun 300K "
  26      6F207A68 
  26      756E2033 
  26      30304B20 
  27              	pinlv_100hz:
  28 0090 20207069 		.ascii "  pin lv 100HZ  "
  28      6E206C76 
  28      20313030 
ARM GAS  1.s 			page 2


  28      485A2020 
  29              	pinlv_1khz:
  30 00a0 20207069 		.ascii "  pin lv 1KHZ   "
  30      6E206C76 
  30      20314B48 
  30      5A202020 
  31              	pinlv_10khz:
  32 00b0 20207069 		.ascii "  pin lv 10KHZ  "
  32      6E206C76 
  32      2031304B 
  32      485A2020 
  33              	pinlv_100khz:
  34 00c0 20207069 		.ascii "  pin lv 100KHZ "
  34      6E206C76 
  34      20313030 
  34      4B485A20 
  35              		
  36              		.align 4
  37              	jiaodu_jiaozhun_yong_cordic:
  38 00d0 0080FFFF 		.int -32768,0,0,32768,23170,23170,30274,12540,32138,6393,32610,3212,32729,1608,32758,804,32766,402
  38      00000000 
  38      00000000 
  38      00800000 
  38      825A0000 
  39              	jiaozhun_yong_cordic:
  40 01c0 00800000 		.int 32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
  40      00400000 
  40      00200000 
  40      00100000 
  40      00080000 
  41              	cordic_yong_cos_sin:
  42 0238 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
  42      00400000 
  42      412D0000 
  42      412D0000 
  42      203B0000 
  43              	cordic_yong_atan_biao:	@弧度
  44 02b8 87640000 		.int 0x00006487,0x00003B58,0x00001F5B,0x00000FEA,0x000007FD,0x000003FF,0x000001FF,0x000000FF,0x000
  44      583B0000 
  44      5B1F0000 
  44      EA0F0000 
  44      FD070000 
  45 02f8 00000000 		.align 4
  45      00000000 
  46              	zheng_xian_100khz:
  47 0300 0A0D1012 		.byte 10,13,16,18,20,20,20,18,16,13,10,7,4,2,0,0,0,2,4,7
  47      14141412 
  47      100D0A07 
  47      04020000 
  47      00020407 
  48 0314 00000000 		.align 4
  48      00000000 
  48      00000000 
  49              	zheng_xian_10khz:
  50 0320 38003E00 		.short 56,62,69,76,82,88,93,98,102,106,108,110,111,111,110,108,106,102,98,93,88,82,76,69,62,56,49,
  50      45004C00 
  50      52005800 
ARM GAS  1.s 			page 3


  50      5D006200 
  50      66006A00 
  51 0384 00000000 		.align 4
  51      00000000 
  51      00000000 
  52              	zheng_xian_1khz:
  53 0390 38003800 		.short 56,56,57,58,58,59,60,60,61,62,62,63,64,65,65,66,67,67,68,69,69,70,71,71,72,73,73,74,75,75,7
  53      39003A00 
  53      3A003B00 
  53      3C003C00 
  53      3D003E00 
  54 0778 00000000 		.align 4
  54      00000000 
  55              	zheng_xian_100hz:
  56 0780 4B004B00 		.short 75,75,76,76,77,77,78,78,79,79,80,80,81,81,82,82,83,83,83,84,84,85,85,86,86,87,87,88,88,89,8
  56      4C004C00 
  56      4D004D00 
  56      4E004E00 
  56      4F004F00 
  57              	
  58              		.align 4
  59              	cos_sin_biao_100k:
  60 0f50 00800000 		.int 0x00008000,0x00000000,0x0000678D,0xFFFFB4C4,0x0000278D,0xFFFF8644,0xFFFFD873,0xFFFF8644,0xFFF
  60      00000000 
  60      8D670000 
  60      C4B4FFFF 
  60      8D270000 
  61              	cos_sin_biao_10k:
  62 0ff4 00800000 		.int 0x00008000,0x00000000,0x00007FBF,0xFFFFF7F7,0x00007EFD,0xFFFFEFF6,0x00007DBB,0xFFFFE804,0x000
  62      00000000 
  62      BF7F0000 
  62      F7F7FFFF 
  62      FD7E0000 
  63              	cos_sin_biao_100_1k:
  64 1638 00800000 		.int 0x00008000,0x00000000,0x00007FFF,0xFFFFFF33,0x00007FFD,0xFFFFFE65,0x00007FFA,0xFFFFFD97,0x000
  64      00000000 
  64      FF7F0000 
  64      33FFFFFF 
  64      FD7F0000 
  65              	shangbi_liangcheng:
  66 3578 08000000 		.short 0x08,0x00,0x00,0x200,0x200,0x40,0x40,0x240,0x240
  66      00000002 
  66      00024000 
  66      40004002 
  66      4002
  67              	xiabi_liangcheng:
  68 358a 00000000 		.short 0x00,0x00,0x08,0x200,0x208,0x40,0x48,0x240,0x248
  68      08000002 
  68      08024000 
  68      48004002 
  68      4802
  69 359c 00000000 		.align 4
  70              	zukang_xiaoshu_dian:			@jdjd
  71 35a0 0303FFFF 		.byte 0x03,0x03,0xff,0xff,0x02,0x02,0x03,0x03,0xff
  71      02020303 
  71      FF
  72 35a9 00000000 		.align 4
ARM GAS  1.s 			page 4


  72      000000
  73              	zukang_huansuan_biao:
  74 35b0 AA2A0000 		.int 10922,32768,10922,32768,10922,32768,10922,32768,10922
  74      00800000 
  74      AA2A0000 
  74      00800000 
  74      AA2A0000 
  75              	zukang_danwei:
  76              		@毫欧=0XF46D，欧=0XF420, 千欧=0XF44B，兆欧=0XF44D
  77 35d4 20F40000 		.int 0xf420,0xf420,0xf420,0xf420,0xf44b,0xf44b,0xf44b,0xf44b,0xf44b
  77      20F40000 
  77      20F40000 
  77      20F40000 
  77      4BF40000 
  78              	an_jian_biao:
  79 35f8 55020000 		.word __an_jian0         	   	   +1
  80 35fc 1F020000 		.word __dang_wei_jia     	   	   +1
  81 3600 E5010000 		.word __pin_lv_jia      	   	   +1
  82 3604 E3010000 		.word __an_jian3         	           +1
  83              	pinlv_biao:
  84 3608 51050000 		.word __pinlv_100			+1
  85 360c 65060000 		.word __pinlv_1K			+1
  86 3610 41070000 		.word __pinlv_10K			+1
  87 3614 1D080000 		.word __pinlv_100K			+1
  88 3618 00000000 		.align 4
  88      00000000 
  89              	pinlv_xianshi_biao:
  90 3620 90000000 		.word pinlv_100hz
  91 3624 A0000000 		.word pinlv_1khz
  92 3628 B0000000 		.word pinlv_10khz
  93 362c C0000000 		.word pinlv_100khz
  94              	dangwei_xianshi_biao:
  95 3630 00000000 		.word jiaozhun33
  96 3634 10000000 		.word jiaozhun_100
  97 3638 80000000 		.word jiaozhun_300K
  98 363c 30000000 		.word jiaozhun_1K
  99 3640 40000000 		.word jiaozhun_3K
 100 3644 50000000 		.word jiaozhun_10K
 101 3648 60000000 		.word jiaozhun_30K
 102 364c 70000000 		.word jiaozhun_100K
 103 3650 80000000 		.word jiaozhun_300K
 104              		
 105              	kong:
 106 3654 20202020 		.int 0x20202020
 107              	_fu:
 108 3658 2D       		.ascii "-"
 109              	jiaodufuhao:
 110 3659 DF000000 		.int 0xdf
 111              	yjmwxwx:
 112 365d 796A6D77 		.ascii "yjmwxwx-20210823"
 112      7877782D 
 112      32303231 
 112      30383233 
 113 366d 000000   		.align 4
 114              		.equ STACKINIT,        	        0x20001000
 115              		.equ asciimabiao,		0x20000000
 116              		.equ lcd_beiguang,		0x20000020
ARM GAS  1.s 			page 5


 117              		.equ shangbi_r, 		0x20000024
 118              		.equ shangbi_i,			0x20000028
 119              		.equ xiabi_r,			0x2000002c
 120              		.equ xiabi_i,			0x20000030
 121              		.equ shangxiabi_qiehuan,	0x20000034
 122              		.equ liangcheng,		0x20000038
 123              		.equ z_r,			0x2000003c
 124              		.equ z_i,			0x20000040
 125              		.equ dma_r,			0x20000044
 126              		.equ dma_i,			0x20000048
 127              		.equ huandangyanshi,		0x2000004c
 128              		.equ shangbi_rr,		0x20000050
 129              		.equ shangbi_ii,		0x20000054
 130              		.equ xiabi_rr,			0x20000058
 131              		.equ xiabi_ii,			0x2000005c
 132              		.equ jishu,			0x20000060
 133              		.equ xianshi_biaozhi,		0x20000064
 134              		.equ z_fudu,			0x20000068
 135              		.equ cossin,			0x2000006c
 136              		.equ pinlv,			0x20000070
 137              		.equ anjian,			0x20000074
 138              		.equ zhenfu,			0x20000078
 139              		.equ shezhi_pinlv,		0x2000007c
 140              		.equ zidong_dangwei_kaiguan,	0x20000080
 141              		.equ z_r_jiaozhun,		0x20000084
 142              		.equ z_i_jiaozhun,		0x20000088
 143              	
 144              		
 145              		.equ dianyabiao,		0x20000100
 146              		.equ lvboqizhizhen,		0x200008d0
 147              		.equ lvboqihuanchong,		0x200008d8
 148              		.equ lvboqizhizhen1,            0x20000a68  @0x200009e0
 149              		.equ lvboqihuanchong1,          0x20000a70  @0x200009e8
 150              	        .equ lvboqizhizhen2,            0x20000c00  @0x20000af0
 151              		.equ lvboqihuanchong2,          0x20000c08  @0x20000af8
 152              		.equ lvboqizhizhen3,            0x20000d98  @0x20000c00
 153              		.equ lvboqihuanchong3,          0x20000da0  @0x20000c08
 154              		
 155              		
 156              		.section .text
 157              	
 158              	vectors:
 159 0000 00100020 		.word STACKINIT
 160 0004 B1000000 		.word _start + 1
 161 0008 6D100000 		.word _nmi_handler + 1
 162 000c 6F100000 		.word _hard_fault  + 1
 163 0010 00000000 		.word 0
 164 0014 00000000 		.word 0
 165 0018 00000000 		.word 0
 166 001c 00000000 		.word 0
 167 0020 00000000 		.word 0
 168 0024 00000000 		.word 0
 169 0028 00000000 		.word 0
 170 002c 71100000 		.word _svc_handler +1
 171 0030 00000000 		.word 0
 172 0034 00000000 		.word 0
 173 0038 73100000 		.word _pendsv_handler +1
ARM GAS  1.s 			page 6


 174 003c 75100000 		.word _systickzhongduan +1           @ 15
 175 0040 43110000 		.word aaa +1     @ _wwdg +1          @ 0
 176 0044 43110000 		.word aaa +1     @_pvd +1            @ 1
 177 0048 43110000 		.word aaa +1     @_rtc +1            @ 2
 178 004c 43110000 		.word aaa +1     @_flash +1          @ 3
 179 0050 43110000 		.word aaa +1	@ _rcc + 1           @ 4
 180 0054 43110000 		.word aaa +1      @_exti0_1  +1      @ 5
 181 0058 43110000 		.word aaa +1      @ _exti2_3 +1      @ 6
 182 005c 43110000 		.word aaa +1       @_exti4_15 +1     @ 7
 183 0060 43110000 		.word aaa +1                         @ 8
 184 0064 43110000 		.word aaa +1	@__dma_wan  +1	     @ 9
 185 0068 43110000 		.word aaa +1    @_dma1_2_3 +1        @ 10
 186 006c 43110000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 187 0070 43110000 		.word aaa +1	 @_adc1 +1           @ 12
 188 0074 43110000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 189 0078 43110000 		.word aaa +1        @ _tim1_cc +1    @ 14
 190 007c 43110000 		.word aaa +1         @_tim2 +1       @ 15
 191 0080 43110000 		.word aaa +1          @_tim3 +1      @ 16
 192 0084 43110000 		.word aaa +1                         @ 17
 193 0088 43110000 		.word aaa +1		             @ 18
 194 008c 43110000 		.word aaa +1	@_tim14 +1           @ 19
 195 0090 43110000 		.word aaa +1                         @ 20
 196 0094 43110000 		.word aaa +1         @_tim16 +1      @ 21
 197 0098 43110000 		.word aaa +1         @_tim17 +1      @ 22
 198 009c 43110000 		.word aaa +1          @_i2c   +1     @ 23
 199 00a0 43110000 		.word aaa +1                         @ 24
 200 00a4 43110000 		.word aaa +1           @_spi   +1    @ 25
 201 00a8 43110000 		.word aaa +1                         @ 26
 202 00ac 43110000 		.word aaa +1         @_usart1 +1     @ 27
 203              		.align 2
 204              	_start:
 205              	shizhong:
 206 00b0 854A     		ldr r2, = 0x40022000   @FLASH访问控制
 207 00b2 3221     		movs r1, # 0x32
 208 00b4 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 209 00b6 8548     		ldr r0, = 0x40021000 @ rcc
 210 00b8 8549     		ldr r1, = 0x10001
 211 00ba 0160     		str r1, [r0]
 212              	denghse:
 213 00bc 0168     		ldr r1, [r0]
 214 00be 8903     		lsls r1, r1, # 14
 215 00c0 FCD5     		bpl denghse
 216              	dengpllguan:
 217 00c2 0168     		ldr r1, [r0]
 218 00c4 8901     		lsls r1, r1, # 6
 219 00c6 FCD4     		bmi dengpllguan
 220 00c8 8249     		ldr r1, = 0x150002	@0x150002
 221 00ca 0046     		mov r0, r0
 222 00cc 4160     		str r1, [r0, # 0x04]
 223 00ce 0046     		mov r0, r0
 224 00d0 8149     		ldr r1, = 0x1010000
 225 00d2 0046     		mov r0, r0
 226 00d4 0160     		str r1, [r0]
 227              	
 228              	dengpll:
 229 00d6 0168     		ldr r1, [r0]
 230 00d8 8901     		lsls r1, # 6
ARM GAS  1.s 			page 7


 231 00da FCD5     		bpl dengpll
 232              	
 233              	
 234 00dc 7F49     		ldr r1, = 100
 235 00de 0163     		str r1, [r0, # 0x30]
 236              	
 237              	_waisheshizhong:	                         @ 外设时钟
 238              		@+0x14=RCC_AHBENR
 239              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 240 00e0 7A48     		ldr r0, = 0x40021000
 241 00e2 7F49     		ldr r1, = 0x60001
 242 00e4 4161     		str r1, [r0, # 0x14]
 243              	
 244              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 245              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 246 00e6 7F49     		ldr r1, = 0x1a00
 247 00e8 8161     		str r1, [r0, # 0x18]
 248              		@+0X1C=RCC_APB1ENR
 249              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 250              		@ 22=I2C2 @ 23=USB @ 28=PWR
 251 00ea 7F4A     		ldr r2, = 0x902
 252 00ec C261     		str r2, [r0, # 0x1c]
 253              	
 254 00ee 7F48     		ldr r0, = shezhi_pinlv
 255 00f0 0068     		ldr r0, [r0]
 256 00f2 0128     		cmp r0, # 1
 257 00f4 07D1     		bne _neicunqingling
 258              	_neicunqingling1:
 259 00f6 7E48     		ldr r0, = 0x20001000
 260 00f8 7E4A     		ldr r2, = 0x20000100
 261 00fa 0021     		movs r1, # 0
 262              	_neicunqinglingxunhuan1:
 263 00fc 0438     		subs r0, r0, # 4
 264 00fe 0160     		str r1, [r0]
 265 0100 9042     		cmp r0, r2
 266 0102 FBD1     		bne _neicunqinglingxunhuan1
 267 0104 06E0     		b _waishezhongduan
 268              	_neicunqingling:
 269 0106 7A48     		ldr r0, = 0x20001000
 270 0108 7B4A     		ldr r2, = 0x20000000
 271 010a 0021     		movs r1, # 0
 272              	_neicunqinglingxunhuan:
 273 010c 0438     	        subs r0, r0, # 4
 274 010e 0160     		str r1, [r0]
 275 0110 9042     		cmp r0, r2
 276 0112 FBD1     		bne _neicunqinglingxunhuan
 277              	_waishezhongduan:		@外设中断
 278              		@0xE000E100    0-31  写1开，写0没效
 279              		@0XE000E180    0-31 写1关，写0没效
 280              		@0XE000E200    0-31 挂起，写0没效
 281              		@0XE000E280    0-31 清除， 写0没效
 282 0114 7948     		ldr r0, =  0xe000e100
 283 0116 7A49     		ldr r1, = 0x200 @0x10200  @ 0x10000
 284 0118 0160     		str r1, [r0]
 285              		
 286              	@_kanmengou:
 287              	@	ldr r0, = 0x40003000
ARM GAS  1.s 			page 8


 288              	@	ldr r1, = 0x5555
 289              	@	str r1, [r0]
 290              	@	movs r1, # 7
 291              	@	str r1, [r0, # 4]
 292              	@	ldr r1, = 0xfff
 293              	@	str r1, [r0, # 8]
 294              	@	ldr r1, = 0xaaaa
 295              	@	str r1, [r0]
 296              	@	ldr r1, = 0xcccc
 297              	@	str r1, [r0]
 298              		
 299              	io_she_zhi:
 300              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 301              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 302              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 303              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 304              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 305              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 306              		@偏移0x10 = 输入数据寄存器
 307              		@偏移0x14 = 输出数据寄存器
 308              		@偏移0x18 = 端口开  0-15置位
 309              		@偏移0x28 = 端口关
 310              		@0X20 = 复用低
 311              		@GPIO口0（0-3位）每个IO口占用4位
 312              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 313              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 314              		@0x24 = 复用高
 315              		@GPIO口8 （0-3位）每个IO口占用4位
 316              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 317              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 318              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 319              	
 320 011a 7A48     		ldr r0, = 0x48000000
 321 011c 7A49     		ldr r1, = 0x28249a43
 322 011e 0160     		str r1, [r0]
 323 0120 B621     		movs r1, # 0xb6
 324 0122 4160     		str r1, [r0, # 0x04]
 325 0124 7949     		ldr r1, = 0x30cf00
 326 0126 8160     		str r1, [r0, # 0x08]
 327 0128 7549     		ldr r1, = 0x200
 328 012a 4162     		str r1, [r0, # 0x24]
 329              		
 330 012c 7848     	        ldr r0, = 0x48000400
 331 012e 0421     		movs r1, # 0x04
 332 0130 0160     		str r1, [r0]
 333              		
 334              	spi_chushihua:
 335 0132 7848     		ldr r0, = 0x40013000
 336 0134 7849     		ldr  r1, = 0x708
 337 0136 4160     		str r1, [r0, # 0x04]
 338 0138 7849     		ldr r1, = 0x7c
 339 013a 0160     		str r1, [r0]
 340              	
 341              	_lcdchushihua:
 342 013c 3320     		movs r0, # 0x33
 343 013e 0021     		movs r1, # 0
 344 0140 00F051FE 		bl _xielcd
ARM GAS  1.s 			page 9


 345 0144 00F04AFE 		bl _lcdyanshi
 346              	
 347 0148 3220     		movs r0, # 0x32
 348 014a 0021     		movs r1, # 0
 349 014c 00F04BFE 		bl _xielcd
 350 0150 00F044FE 		bl _lcdyanshi
 351 0154 2820     		movs r0, # 0x28
 352 0156 0021     		movs r1, # 0
 353 0158 00F045FE 		bl _xielcd
 354 015c 00F03EFE 		bl _lcdyanshi
 355 0160 0C20     		movs r0, # 0x0c
 356 0162 0021     		movs r1, # 0
 357 0164 00F03FFE 		bl _xielcd
 358 0168 00F038FE 		bl _lcdyanshi
 359 016c 0120     		movs r0, # 0x01
 360 016e 0021     		movs r1, # 0
 361 0170 00F039FE 		bl _xielcd
 362 0174 00F032FE 		bl _lcdyanshi
 363              	
 364              	@	ldr r0, = shezhi_pinlv
 365              	@	ldr r0, [r0]
 366              	@	cmp r0, # 1
 367              	@	beq _adcchushihua
 368 0178 8020     		movs r0, # 0x80
 369 017a 6949     		ldr r1, = yjmwxwx
 370 017c 1022     		movs r2, # 16
 371 017e 00F01FFE 		bl _lcdxianshi
 372 0182 6848     		ldr r0, = 0xffffff
 373              	yjmwxwx_yanshi:
 374 0184 0138     		subs r0, r0, # 1
 375 0186 FDD1     		bne yjmwxwx_yanshi
 376              		
 377 0188 0120     		movs r0, # 0x01
 378 018a 0021     		movs r1, # 0
 379 018c 00F02BFE 		bl _xielcd
 380 0190 00F024FE 		bl _lcdyanshi
 381              			
 382              	_adcchushihua:
 383 0194 6448     		ldr r0, = 0x40012400  @ adc基地址
 384 0196 6549     		ldr r1, = 0x80000000
 385 0198 8160     		str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 386              	_dengadcjiaozhun:
 387 019a 8168     		ldr r1, [r0, # 0x08]
 388 019c 0900     		movs r1, r1
 389 019e FCD4     		bmi _dengadcjiaozhun   @ 等ADC校准
 390 01a0 0121     		movs r1, # 1
 391 01a2 0160     		str r1, [r0]
 392              	_kaiadc:
 393 01a4 8168     		ldr r1, [r0, # 0x08]
 394 01a6 0122     		movs r2, # 0x01
 395 01a8 1143     		orrs r1, r1, r2
 396 01aa 8160     		str r1, [r0, # 0x08]
 397              	_deng_adc_wen_ding:
 398 01ac 0168     		ldr r1, [r0]
 399 01ae C907     		lsls r1, r1, # 31
 400 01b0 FCD5     		bpl _deng_adc_wen_ding @ 等ADC稳定
 401              	_tongdaoxuanze:
ARM GAS  1.s 			page 10


 402 01b2 5F49     		ldr r1, = 0x40000000
 403 01b4 0161     		str r1, [r0, # 0x10]
 404 01b6 5F49     		ldr r1, = 0x01
 405 01b8 8162     		str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 406 01ba 5F49     		ldr r1, = 0x8c3 @ 0xc43		@TIM3 0x8c3 @0x2003 @0x8c3
 407 01bc C160     		str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 408 01be 0021     		movs r1, # 0
 409 01c0 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 410 01c2 8168     		ldr r1, [r0, # 0x08]
 411 01c4 5D4A     		ldr r2, = 0x04         @ 开始转换
 412 01c6 1143     		orrs r1, r1, r2
 413 01c8 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 414              	
 415              	
 416 01ca 5D48     		ldr r0, = pinlv
 417 01cc 0321     		movs r1, # 3
 418 01ce 0160     		str r1, [r0]
 419 01d0 00F0B4F9 		bl __pinlv_shezhi
 420              	@	bl __pin_lv_xian_shi
 421 01d4 5B48     		ldr r0, = liangcheng
 422 01d6 0321     		movs r1, # 3
 423 01d8 0160     		str r1, [r0]
 424 01da 4448     		ldr r0, = shezhi_pinlv
 425 01dc 0121     		movs r1, # 1
 426 01de 0160     		str r1, [r0]
 427 01e0 38E0     		b ting
 428              	
 429              	__an_jian3:
 430 01e2 37E0     		b ting
 431              	__pin_lv_jia:
 432 01e4 72B6     		cpsid i
 433 01e6 5648     		ldr r0, = pinlv
 434 01e8 0168     		ldr r1, [r0]
 435 01ea 0131     		adds r1, r1, # 1
 436 01ec 0160     		str r1, [r0]
 437 01ee 0429     		cmp r1, # 4
 438 01f0 01D1     		bne __pin_lv_fan_hui
 439 01f2 0021     		movs r1, # 0
 440 01f4 0160     		str r1, [r0]
 441              	__pin_lv_fan_hui:
 442 01f6 0A46     		mov r2, r1
 443 01f8 9200     		lsls r2, r2, # 2
 444 01fa 0120     	        movs r0, # 0x01
 445 01fc 0021     		movs r1, # 0
 446 01fe 00F0F2FD 		bl _xielcd
 447 0202 00F0EBFD 		bl _lcdyanshi
 448 0206 8020     	        movs r0, # 0x80
 449 0208 4F49     		ldr r1, = pinlv_xianshi_biao
 450 020a 8958     		ldr r1, [r1, r2]
 451 020c 1022     		movs r2, # 16
 452 020e 00F0D7FD 		bl _lcdxianshi
 453              		
 454 0212 4448     		ldr r0, = 0xffffff
 455              	__pinlv_xianshi_yanshi:
 456 0214 0138     		subs r0, r0, # 1
 457 0216 FDD1     		bne __pinlv_xianshi_yanshi
 458 0218 4C48     		ldr r0, = 0xe000ed0c
ARM GAS  1.s 			page 11


 459 021a 4D49     		ldr r1, = 0x05fa0004
 460 021c 0160     		str r1, [r0]          		@复位
 461              	__dang_wei_jia:
 462 021e 72B6     	        cpsid i
 463 0220 4848     		ldr r0, = liangcheng
 464 0222 0168     		ldr r1, [r0]
 465 0224 0131     		adds r1, r1, # 1
 466 0226 0160     		str r1, [r0]
 467 0228 0929     		cmp r1, # 9
 468 022a 01D1     		bne __dang_wei_fan_hui
 469 022c 0021     		movs r1, # 0
 470 022e 0160     		str r1, [r0]
 471              	__dang_wei_fan_hui:
 472 0230 0A46     		mov r2, r1
 473 0232 9200     		lsls r2, r2, # 2
 474 0234 0120     		movs r0, # 0x01
 475 0236 0021     		movs r1, # 0
 476 0238 00F0D5FD 		bl _xielcd
 477 023c 00F0CEFD 		bl _lcdyanshi
 478 0240 8020     		movs r0, # 0x80
 479 0242 4449     		ldr r1, = dangwei_xianshi_biao
 480 0244 8958     		ldr r1, [r1, r2]
 481 0246 1022     		movs r2, # 16
 482 0248 00F0BAFD 		bl _lcdxianshi
 483              	
 484 024c 3548     		ldr r0, = 0xffffff
 485              	__dangwei_xianshi_yanshi:
 486 024e 0138     		subs r0, r0, # 1
 487 0250 FDD1     		bne __dangwei_xianshi_yanshi
 488 0252 62B6     		cpsie i
 489              	__an_jian0:
 490              	ting:
 491              	@	bl __xianshi_shangxia_bi
 492              	@	b ting
 493              		
 494 0254 404F     		ldr r7, = 50
 495              	dzd:
 496 0256 00F09DFB 		bl __jisuan_zukang	
 497 025a 00F089FC 		bl __xianshi_zukang
 498 025e 013F     		subs r7, r7, # 1
 499 0260 F9D1     		bne dzd
 500 0262 0020     		movs r0, # 0
 501 0264 00F0B4F8 		bl __jiaozhun_jiaodu
 502 0268 00F0A0F8 		bl __xiangwei_xuanzhuan
 503 026c 3B48     		ldr r0, = 10000
 504 026e 00F07FF8 		bl __jiaozhun_fudu
 505 0272 3B49     		ldr r1, = z_r
 506 0274 3B4A     		ldr r2, = z_i
 507 0276 0B68     		ldr r3, [r1]
 508 0278 1468     		ldr r4, [r2]
 509 027a 4343     		muls r3, r3, r0
 510 027c 4443     		muls r4, r4, r0
 511 027e DB13     		asrs r3, r3, # 15
 512 0280 E413     		asrs r4, r4, # 15
 513 0282 0B60     		str r3, [r1]
 514 0284 1460     		str r4, [r2]
 515 0286 00F073FC 		bl __xianshi_zukang
ARM GAS  1.s 			page 12


 516 028a 04BE     		bkpt # 4
 517 028c 0120     	        movs r0, # 0x01
 518 028e 0021     		movs r1, # 0
 519 0290 00F0A9FD 		bl _xielcd
 520 0294 00F0A2FD 		bl _lcdyanshi
 521 0298 62B6     		cpsie i
 522 029a DBE7     		b ting
 523              		
 524              	
 525              	
 526              		
 527 029c 00F07AFB 		bl __jisuan_zukang
 528 02a0 8E20     		movs r0, # 0x8e
 529 02a2 284A     		ldr r2, = liangcheng
 530 02a4 3049     		ldr r1, = zukang_danwei
 531 02a6 1268     		ldr r2, [r2]
 532 02a8 9200     		lsls r2, r2, # 2
 533 02aa 8918     		adds r1, r1, r2
 534 02ac 0222     		movs r2, # 2
 535 02ae 00F087FD 		bl _lcdxianshi
 536 02b2 00F05DFC 		bl __xianshi_zukang
 537 02b6 00F0A4FC 		bl __xianshi_liangcheng
 538 02ba 00F038F9 	        bl __an_jian
 539              	__cai_dan_diao_du:
 540 02be 8000     		lsls r0, r0, # 2
 541 02c0 2A49     		ldr r1, = an_jian_biao
 542 02c2 0A58     		ldr r2, [r1, r0]
 543 02c4 9746     		mov pc, r2
 544 02c6 C5E7     		b ting
 545 02c8 00200240 		.ltorg
 545      00100240 
 545      01000100 
 545      02001500 
 545      00000101 
 546              	
 547              	__jiaozhun_fudu:
 548 0370 62B6     		cpsie i
 549              		@入口 R0=期望幅度
 550              		@出口R0= 幅度校准值
 551 0372 7EB5     		push {r1-r6,lr}
 552 0374 0246     		mov r2, r0
 553 0376 9548     		ldr r0, = z_r
 554 0378 9549     		ldr r1, = z_i
 555 037a 0068     		ldr r0, [r0]
 556 037c 0968     		ldr r1, [r1]
 557 037e 00F0D1FB 		bl __ji_suan_fu_du
 558 0382 0021     		movs r1, # 0
 559 0384 934B     		ldr r3, = jiaozhun_yong_cordic
 560 0386 944D     		ldr r5, = 32768
 561 0388 0646     		mov r6, r0
 562              	__fudu_jiaozhun_xunhuan:
 563 038a 5C58     		ldr r4, [r3, r1]
 564 038c 8242     		cmp r2, r0
 565 038e 01D3     		bcc __fudu_jian
 566              	__fudu_jia:
 567 0390 2D19     		adds r5, r5, r4
 568 0392 00E0     		b __jiaozhun_xuanzhuan
ARM GAS  1.s 			page 13


 569              	__fudu_jian:
 570 0394 2D1B     		subs r5, r5, r4
 571              	__jiaozhun_xuanzhuan:
 572 0396 3046     		mov r0, r6
 573 0398 6843     		muls r0, r0, r5
 574 039a C00B     		lsrs r0, r0, # 15
 575 039c 0431     		adds r1, r1, # 4
 576 039e 7829     		cmp r1, # 120
 577 03a0 F3D1     		bne __fudu_jiaozhun_xunhuan
 578              	__baocun_fudu_jiaozhun:
 579 03a2 2800     		movs r0, r5
 580 03a4 00D5     		bpl __jiaozhun_fudu_fanhui
 581 03a6 8C48     		ldr r0, = 32768
 582              	__jiaozhun_fudu_fanhui:
 583 03a8 72B6     		cpsid i
 584 03aa 7EBD     		pop {r1-r6,pc}
 585              		
 586              		
 587              	__xiangwei_xuanzhuan:
 588 03ac FCB5     		push {r2-r7,lr}
 589 03ae 874A     		ldr r2, = z_r
 590 03b0 874B     		ldr r3, = z_i
 591 03b2 1468     		ldr r4, [r2]
 592 03b4 1D68     		ldr r5, [r3]
 593 03b6 0646     		mov r6, r0
 594 03b8 0F46     		mov r7, r1
 595 03ba 6043     	        muls r0, r0, r4 @X*COS
 596 03bc 6F43     		muls r7, r7, r5 @Y*SIN
 597 03be 6143     		muls r1, r1, r4 @X*SIN
 598 03c0 6E43     		muls r6, r6, r5 @Y*COS
 599 03c2 C01B     		subs r0, r0, r7
 600 03c4 7118     		adds r1, r6, r1
 601 03c6 C013     		asrs r0, r0, # 15
 602 03c8 C913     		asrs r1, r1, # 15
 603 03ca 1060     		str r0, [r2]
 604 03cc 1960     		str r1, [r3]
 605 03ce FCBD     		pop {r2-r7,pc}
 606              	
 607              	__jiaozhun_jiaodu:
 608              		@入口r0=期望角度
 609              		@出口R0=COS，R1=SIN
 610 03d0 72B6     		cpsid i
 611 03d2 FCB5     		push {r2-r7,lr}
 612 03d4 4346     		mov r3, r8
 613 03d6 4C46     		mov r4, r9
 614 03d8 5546     		mov r5, r10
 615 03da 5E46     		mov r6, r11
 616 03dc 6746     		mov r7, r12
 617 03de F8B4     		push {r3-r7}
 618 03e0 8446     		mov r12, r0
 619 03e2 7D48     		ldr r0, = 32768	@180度
 620 03e4 0021     		movs r1, # 0
 621 03e6 8046     		mov r8, r0
 622 03e8 8946     		mov r9, r1
 623 03ea 7848     		ldr r0, = z_r
 624 03ec 7849     		ldr r1, = z_i
 625 03ee 0668     		ldr r6, [r0]
ARM GAS  1.s 			page 14


 626 03f0 0F68     		ldr r7, [r1]
 627 03f2 7A4B     		ldr r3, = jiaodu_jiaozhun_yong_cordic
 628 03f4 0022     		movs r2, # 0
 629              	__jiaodu_jiaozhun_xunhuan:
 630 03f6 9C58     		ldr r4, [r3, r2]
 631 03f8 0432     		adds r2, r2, # 4
 632 03fa 9D58     		ldr r5, [r3, r2]
 633 03fc 3046     		mov r0, r6
 634 03fe 3946     		mov r1, r7
 635 0400 00F030FB 		bl __atan2_ji_suan
 636 0404 6146     		mov r1, r12
 637 0406 401A     		subs r0, r0, r1
 638 0408 1CD4     		bmi __jiaodu_fanzhuan
 639 040a B246     		mov r10, r6
 640 040c BB46     		mov r11, r7
 641 040e 4646     		mov r6, r8
 642 0410 4F46     		mov r7, r9
 643 0412 3046     		mov r0, r6
 644 0414 3946     		mov r1, r7
 645 0416 6643     		muls r6, r6, r4 @X*COS
 646 0418 6943     		muls r1, r1, r5 @Y*SIN
 647 041a 6843     		muls r0, r0, r5 @X*SIN
 648 041c 6743     		muls r7, r7, r4 @Y*COS
 649 041e 7618     		adds r6, r6, r1
 650 0420 3F1A     		subs r7, r7, r0
 651 0422 F613     		asrs r6, r6, # 15
 652 0424 FF13     		asrs r7, r7, # 15
 653 0426 B046     		mov r8, r6
 654 0428 B946     		mov r9, r7
 655 042a 5646     		mov r6, r10
 656 042c 5F46     		mov r7, r11
 657 042e 3046     		mov r0, r6
 658 0430 3946     		mov r1, r7
 659 0432 6643     		muls r6, r6, r4	@X*COS
 660 0434 6943     		muls r1, r1, r5	@Y*SIN
 661 0436 6843     		muls r0, r0, r5	@X*SIN
 662 0438 6743     		muls r7, r7, r4	@Y*COS
 663 043a 7618     		adds r6, r6, r1
 664 043c 3F1A     		subs r7, r7, r0
 665 043e F613     		asrs r6, r6, # 15
 666 0440 FF13     		asrs r7, r7, # 15
 667 0442 1BE0     		b __jiaodu_xuanzhuan
 668              	__jiaodu_fanzhuan:
 669 0444 B246     		mov r10, r6
 670 0446 BB46     		mov r11, r7
 671 0448 4646     		mov r6, r8
 672 044a 4F46     		mov r7, r9
 673 044c 3046     		mov r0, r6
 674 044e 3946     		mov r1, r7
 675 0450 6643     		muls r6, r6, r4 @X*COS
 676 0452 6943     		muls r1, r1, r5 @Y*SIN
 677 0454 6843     		muls r0, r0, r5 @X*SIN
 678 0456 6743     		muls r7, r7, r4 @Y*COS
 679 0458 761A     		subs r6, r6, r1
 680 045a 3F18     		adds r7, r7, r0
 681 045c F613     		asrs r6, r6, # 15
 682 045e FF13     		asrs r7, r7, # 15
ARM GAS  1.s 			page 15


 683 0460 B046     		mov r8, r6
 684 0462 B946     		mov r9, r7
 685 0464 5646     		mov r6, r10
 686 0466 5F46     		mov r7, r11
 687 0468 3046     		mov r0, r6
 688 046a 3946     		mov r1, r7
 689 046c 6643     		muls r6, r6, r4 @X*COS
 690 046e 6943     		muls r1, r1, r5 @Y*SIN
 691 0470 6843     		muls r0, r0, r5 @X*SIN
 692 0472 6743     		muls r7, r7, r4 @Y*COS
 693 0474 761A     		subs r6, r6, r1
 694 0476 3F18     		adds r7, r7, r0
 695 0478 F613     		asrs r6, r6, # 15
 696 047a FF13     		asrs r7, r7, # 15
 697              	__jiaodu_xuanzhuan:
 698 047c 0432     		adds r2, r2, # 4
 699 047e F02A     		cmp r2, # 240
 700 0480 B9D1     		bne __jiaodu_jiaozhun_xunhuan
 701 0482 4046     		mov r0, r8
 702 0484 4946     		mov r1, r9
 703 0486 F8BC     		pop {r3-r7}
 704 0488 9846     		mov r8, r3
 705 048a A146     		mov r9, r4
 706 048c AA46     		mov r10, r5
 707 048e B346     		mov r11, r6
 708 0490 BC46     		mov r12, r7
 709 0492 62B6     		cpsie i
 710 0494 FCBD     		pop {r2-r7,pc}
 711              			
 712              	__xianshi_shangxiabi_jiaodu:
 713 0496 0FB5     		push {r0-r3,lr}
 714 0498 5148     		ldr r0, = shangbi_r
 715 049a 5249     		ldr r1, = shangbi_i
 716 049c 0068     		ldr r0, [r0]
 717 049e 0968     		ldr r1, [r1]
 718 04a0 00F0E0FA 		bl __atan2_ji_suan
 719 04a4 8821     		movs r1, # 0x88	@ 显示位置
 720 04a6 00F00AF8 		bl __xian_shi_jiao_du
 721 04aa 4F48     		ldr r0, = xiabi_r
 722 04ac 4F49     		ldr r1, = xiabi_i
 723 04ae 0068     		ldr r0, [r0]
 724 04b0 0968     		ldr r1, [r1]
 725 04b2 00F0D7FA 		bl __atan2_ji_suan
 726 04b6 C821     		movs r1, # 0xc8 @ 显示位置
 727 04b8 00F001F8 		bl __xian_shi_jiao_du
 728 04bc 0FBD     		pop {r0-r3,pc}
 729              	
 730              		
 731              	__xian_shi_jiao_du:
 732              		@入口R0=角度 r1=要显示的位置
 733 04be 3FB5     		push {r0-r5,lr}
 734 04c0 0446     		mov r4, r0
 735 04c2 0D46     		mov r5, r1
 736 04c4 2846     		mov r0, r5
 737 04c6 0830     		adds r0, r0, # 8
 738 04c8 4949     		ldr r1, = jiaodufuhao
 739 04ca 0122     		movs r2, # 1
ARM GAS  1.s 			page 16


 740 04cc 00F078FC 		bl _lcdxianshi
 741              	
 742 04d0 2400     		movs r4, r4
 743 04d2 07D5     		bpl __jiaodu_bu_shi_zheng
 744 04d4 2846     		mov r0, r5
 745 04d6 4749     		ldr r1, = _fu
 746 04d8 0122     		movs r2, # 1
 747 04da 00F071FC 		bl _lcdxianshi
 748 04de E443     		mvns r4, r4
 749 04e0 0134     		adds r4, r4, # 1
 750 04e2 04E0     		b __xian_shi_jiaodu
 751              	__jiaodu_bu_shi_zheng:
 752 04e4 2846     		mov r0, r5
 753 04e6 4449     		ldr r1, = kong
 754 04e8 0122     		movs r2, # 1
 755 04ea 00F069FC 		bl _lcdxianshi
 756              	__xian_shi_jiaodu:
 757 04ee 2046     		mov r0, r4
 758 04f0 0621     		movs r1, # 6
 759 04f2 424A     		ldr r2, = asciimabiao
 760 04f4 0323     		movs r3, # 3
 761 04f6 00F0A9FC 		bl _zhuanascii
 762 04fa 2846     		mov r0, r5
 763 04fc 0130     		adds r0, r0, # 1
 764 04fe 3F49     		ldr r1, = asciimabiao
 765 0500 0622     		movs r2, # 6
 766 0502 00F05DFC 		bl _lcdxianshi
 767 0506 3FBD     		pop {r0-r5,pc}
 768              		
 769              	__jiaozhun_shu_zhi:
 770              		@入口R0=期望值，R1=当前值
 771 0508 7CB5     		push {r2-r6,lr}
 772 050a 324B     		ldr r3, = jiaozhun_yong_cordic
 773 050c 324D     		ldr r5, = 32768
 774 050e 0E46     		mov r6, r1
 775 0510 0022     		movs r2, # 0
 776              	__z_jiaozhun_xunhuan:
 777 0512 9C58     		ldr r4, [r3, r2]
 778 0514 8842     		cmp r0, r1
 779 0516 01D3     		bcc __z_jian
 780              	__z_jia:
 781 0518 2D19     		adds r5, r5, r4
 782 051a 00E0     		b __z_xuanzhuan
 783              	__z_jian:
 784 051c 2D1B     		subs r5, r5, r4
 785              	__z_xuanzhuan:
 786 051e 3146     		mov r1, r6
 787 0520 6943     		muls r1, r1, r5
 788 0522 C90B     		lsrs r1, r1, # 15
 789 0524 0432     		adds r2, r2, # 4
 790 0526 782A     		cmp r2, # 120
 791 0528 F3D1     		bne __z_jiaozhun_xunhuan
 792              	__baocun_z_jiaozhun:
 793 052a 2846     		mov r0, r5
 794 052c 7CBD     		pop {r2-r6,pc}
 795              	
 796              		
ARM GAS  1.s 			page 17


 797              			
 798              		
 799              		
 800              	__an_jian:
 801 052e 02B5     		push {r1,lr}
 802 0530 3349     		ldr r1, = 0x48000010
 803 0532 0868     		ldr r0, [r1]	@pa4
 804 0534 C043     		mvns r0, r0
 805 0536 4007     		lsls r0, r0, # 29
 806 0538 800F     		lsrs r0, r0, # 30
 807 053a 02BD     		pop {r1,pc}
 808              	__pinlv_shezhi:
 809              		@入口R0
 810              		@1=100, 2=1KHZ, 3=10KHZ, 4=100KHZ
 811 053c 0FB5     		push {r0-r3,lr}
 812 053e 3149     		ldr r1, = shezhi_pinlv
 813 0540 0122     		movs r2, # 1
 814 0542 0A60     		str r2, [r1]
 815 0544 304A     		ldr r2, = pinlv
 816 0546 3149     		ldr r1, = pinlv_biao
 817 0548 1268     		ldr r2, [r2]
 818 054a 9200     	        lsls r2, r2, # 2
 819 054c 8A58     		ldr r2, [r1, r2]
 820 054e 9746     		mov pc, r2
 821              		
 822              	__pinlv_100:
 823              		@tim1ch3DMA
 824 0550 2F48     		ldr r0, = 0x40020000
 825 0552 0021     		movs r1, # 0
 826 0554 8165     		str r1, [r0, # 0x58]
 827 0556 8160     		str r1, [r0, # 0x08]
 828 0558 2E49     		ldr r1, = 0x40012c3c @ 外设地址
 829 055a 0166     		str r1, [r0, # 0x60]
 830 055c 2E49     		ldr r1, = zheng_xian_100hz @ 储存器地址
 831 055e 4166     		str r1, [r0, # 0x64]
 832 0560 2E49     		ldr r1, = 1000             @点数
 833 0562 C165     		str r1, [r0, # 0x5c]
 834 0564 2E49     		ldr r1, = 0x35b1         @ 储存到外设
 835 0566 8165     		str r1, [r0, # 0x58]
 836              		
 837              	        @ adc dma
 838 0568 2E49     		ldr r1, = 0x40012440
 839 056a 0161     		str r1, [r0, # 0x10]
 840 056c 2E49     		ldr r1, = dianyabiao
 841 056e 4161     		str r1, [r0, # 0x14]
 842 0570 2A49     		ldr r1, = 1000
 843 0572 C160     		str r1, [r0, # 0x0c]
 844 0574 2D49     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 845 0576 8160     		str r1, [r0, # 0x08]
 846              		
 847              		@tim3chushihua:
 848 0578 2D4B     		ldr r3, = 0x40000400 @ tim3_cr1
 849 057a 2E4A     		ldr r2, = 0
 850 057c 9A62     		str r2, [r3, # 0x28] @ psc
 851 057e 2E4A     		ldr r2, = 559
 852 0580 DA62     		str r2, [r3, # 0x2c] @ ARR
 853 0582 2022     		movs r2, # 0x20
ARM GAS  1.s 			page 18


 854 0584 5A60     		str r2, [r3, # 0x04] @ TRGO
 855 0586 0622     		movs r2, # 0x06
 856 0588 9A60     		str r2, [r3, # 0x08]
 857 058a 8022     		movs r2, # 0x80
 858              		@tim1chushiha:
 859 058c 2B48     		ldr r0, = 0x40012c00 @ tim1_cr1
 860 058e 0021     		movs r1, # 0
 861 0590 8162     		str r1, [r0, # 0x28] @ psc
 862 0592 2949     		ldr r1, = 559
 863 0594 C162     		str r1, [r0, # 0x2c] @ ARR
 864 0596 2021     		movs r1, # 0x20
 865 0598 4160     		str r1, [r0, # 0x04] @ TRGO
 866 059a 2949     		ldr r1, = 0x68
 867 059c C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 868 059e 2949     		ldr r1, = 0x100    @  CC3
 869 05a0 0162     		str r1, [r0, # 0x20] @ ccer
 870 05a2 0D49     		ldr r1, = 0x8000
 871 05a4 4164     		str r1, [r0, # 0x44] @ BDTR
 872 05a6 2849     		ldr r1, = 0x800 @ CC3 DMA
 873 05a8 C160     		str r1, [r0, # 0x0c] @ DIER
 874 05aa 2849     		ldr r1, = 0x81
 875 05ac 0160     		str r1, [r0]
 876 05ae 1A60     		str r2, [r3]
 877 05b0 2748     		ldr r0, = 0xe000e010
 878 05b2 2849     		ldr r1, = 559999
 879 05b4 4160     		str r1, [r0, # 4]
 880 05b6 8160     		str r1, [r0, # 8]
 881 05b8 0721     		movs r1, # 0x07
 882 05ba 0160     		str r1, [r0]    @systick 开
 883 05bc 2648     	        ldr r0, = cossin
 884 05be 2749     		ldr r1, = cos_sin_biao_100_1k
 885 05c0 0160     		str r1, [r0]
 886 05c2 2748     		ldr r0, = lcd_beiguang
 887 05c4 C021     		movs r1, # 0xc0
 888 05c6 0160     		str r1, [r0]
 889 05c8 0FBD     		pop {r0-r3,pc}
 890 05ca 00003C00 		.ltorg
 890      00204000 
 890      0020C001 
 890      00000080 
 890      0000D000 
 891              		
 892              	__pinlv_1K:
 893              		@tim1ch3DMA
 894 0664 1E48     		ldr r0, = 0x40020000
 895 0666 0021     		movs r1, # 0
 896 0668 8165     		str r1, [r0, # 0x58]
 897 066a 8160     		str r1, [r0, # 0x08]
 898 066c 1D49     		ldr r1, = 0x40012c3c @ 外设地址
 899 066e 0166     		str r1, [r0, # 0x60]
 900 0670 1D49     		ldr r1, = zheng_xian_1khz @ 储存器地址
 901 0672 4166     		str r1, [r0, # 0x64]
 902 0674 1D49     		ldr r1, = 500 @ 200             @点数
 903 0676 C165     		str r1, [r0, # 0x5c]
 904 0678 1D49     		ldr r1, = 0x35b1         @ 储存到外设
 905 067a 8165     		str r1, [r0, # 0x58]
 906              		@ adc dma
ARM GAS  1.s 			page 19


 907 067c 1D49     		ldr r1, = 0x40012440
 908 067e 0161     		str r1, [r0, # 0x10]
 909 0680 1D49     		ldr r1, = dianyabiao
 910 0682 4161     		str r1, [r0, # 0x14]
 911 0684 1D49     		ldr r1, = 1000
 912 0686 C160     		str r1, [r0, # 0x0c]
 913 0688 1D49     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 914 068a 8160     		str r1, [r0, # 0x08]
 915              		
 916              		
 917              		@tim3chushihua:
 918 068c 1D4B     		ldr r3, = 0x40000400 @ tim3_cr1
 919 068e 1E4A     		ldr r2, = 0
 920 0690 9A62     		str r2, [r3, # 0x28] @ psc
 921 0692 1E4A     		ldr r2, = 559
 922 0694 DA62     		str r2, [r3, # 0x2c] @ ARR
 923 0696 2022     		movs r2, # 0x20
 924 0698 5A60     		str r2, [r3, # 0x04] @ TRGO
 925 069a 0622     		movs r2, # 0x06
 926 069c 9A60     		str r2, [r3, # 0x08]
 927 069e 8022     		movs r2, # 0x80
 928              		@tim1chushiha:
 929 06a0 1B48     		ldr r0, = 0x40012c00 @ tim1_cr1
 930 06a2 0021     		movs r1, # 0
 931 06a4 8162     		str r1, [r0, # 0x28] @ psc
 932 06a6 1B49     		ldr r1, = 111
 933 06a8 C162     		str r1, [r0, # 0x2c] @ ARR
 934 06aa 2021     		movs r1, # 0x20
 935 06ac 4160     		str r1, [r0, # 0x04] @ TRGO
 936 06ae 1A49     		ldr r1, = 0x68
 937 06b0 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 938 06b2 1A49     		ldr r1, = 0x100    @  CC3
 939 06b4 0162     		str r1, [r0, # 0x20] @ ccer
 940 06b6 1A49     		ldr r1, = 0x8000
 941 06b8 4164     		str r1, [r0, # 0x44] @ BDTR
 942 06ba 1A49     		ldr r1, = 0x800 @ CC3 DMA
 943 06bc C160     		str r1, [r0, # 0x0c] @ DIER
 944 06be 1A49     		ldr r1, = 0x81
 945 06c0 0160     		str r1, [r0]
 946 06c2 1A60     		str r2, [r3]
 947 06c4 1948     	        ldr r0, = 0xe000e010
 948 06c6 1A49     		ldr r1, = 559999
 949 06c8 4160     		str r1, [r0, # 4]
 950 06ca 8160     		str r1, [r0, # 8]
 951 06cc 0721     		movs r1, # 0x07
 952 06ce 0160     		str r1, [r0]    @systick 开
 953 06d0 1848     		ldr r0, = cossin
 954 06d2 1949     		ldr r1, = cos_sin_biao_10k
 955 06d4 0160     		str r1, [r0]
 956 06d6 1948     		ldr r0, = lcd_beiguang
 957 06d8 C021     		movs r1, # 0xc0
 958 06da 0160     		str r1, [r0]
 959 06dc 0FBD     		pop {r0-r3,pc}
 960 06de 00000000 		.ltorg
 960      02403C2C 
 960      01409003 
 960      0000F401 
ARM GAS  1.s 			page 20


 960      0000B135 
 961              	
 962              		
 963              	__pinlv_10K:
 964              		@tim1ch3DMA
 965 0740 1E48     		ldr r0, = 0x40020000
 966 0742 0021     		movs r1, # 0
 967 0744 8165     		str r1, [r0, # 0x58]
 968 0746 8160     		str r1, [r0, # 0x08]
 969 0748 1D49     		ldr r1, = 0x40012c3c @ 外设地址
 970 074a 0166     		str r1, [r0, # 0x60]
 971 074c 1D49     		ldr r1, = zheng_xian_10khz @ 储存器地址
 972 074e 4166     		str r1, [r0, # 0x64]
 973 0750 1D49     		ldr r1, = 50 @ 200             @点数
 974 0752 C165     		str r1, [r0, # 0x5c]
 975 0754 1D49     		ldr r1, = 0x35b1 @ 0x31b1         @ 储存到外设
 976 0756 8165     		str r1, [r0, # 0x58]
 977              		@ adc dma
 978 0758 1D49     		ldr r1, = 0x40012440
 979 075a 0161     		str r1, [r0, # 0x10]
 980 075c 1D49     		ldr r1, = dianyabiao
 981 075e 4161     		str r1, [r0, # 0x14]
 982 0760 1D49     		ldr r1, = 1000
 983 0762 C160     		str r1, [r0, # 0x0c]
 984 0764 1D49     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 985 0766 8160     		str r1, [r0, # 0x08]
 986              		
 987              		@tim3chushihua:
 988 0768 1D4B     		ldr r3, = 0x40000400 @ tim3_cr1
 989 076a 1E4A     		ldr r2, = 0
 990 076c 9A62     		str r2, [r3, # 0x28] @ psc
 991 076e 1E4A     		ldr r2, = 27
 992 0770 DA62     		str r2, [r3, # 0x2c] @ ARR
 993 0772 2022     		movs r2, # 0x20
 994 0774 5A60     		str r2, [r3, # 0x04] @ TRGO
 995 0776 0622     		movs r2, # 0x06
 996 0778 9A60     		str r2, [r3, # 0x08]
 997 077a 8022     		movs r2, # 0x80
 998              		@tim1chushiha:
 999 077c 1B48     		ldr r0, = 0x40012c00 @ tim1_cr1
 1000 077e 0021     		movs r1, # 0
 1001 0780 8162     		str r1, [r0, # 0x28] @ psc
 1002 0782 1B49     		ldr r1, = 111 @ 27
 1003 0784 C162     		str r1, [r0, # 0x2c] @ ARR
 1004 0786 2021     		movs r1, # 0x20
 1005 0788 4160     		str r1, [r0, # 0x04] @ TRGO
 1006 078a 1A49     		ldr r1, = 0x68
 1007 078c C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1008 078e 1A49     		ldr r1, = 0x100    @  CC3
 1009 0790 0162     		str r1, [r0, # 0x20] @ ccer
 1010 0792 1A49     		ldr r1, = 0x8000
 1011 0794 4164     		str r1, [r0, # 0x44] @ BDTR
 1012 0796 1A49     		ldr r1, = 0x800 @ CC3 DMA
 1013 0798 C160     		str r1, [r0, # 0x0c] @ DIER
 1014 079a 1A49     		ldr r1, = 0x81
 1015 079c 0160     		str r1, [r0]
 1016 079e 1A60     		str r2, [r3]
ARM GAS  1.s 			page 21


 1017 07a0 1948     		ldr r0, = 0xe000e010
 1018 07a2 1A49     		ldr r1, = 55999
 1019 07a4 4160     		str r1, [r0, # 4]
 1020 07a6 8160     		str r1, [r0, # 8]
 1021 07a8 0721     		movs r1, # 0x07
 1022 07aa 0160     		str r1, [r0]    @systick 开
 1023 07ac 1848     	        ldr r0, = cossin
 1024 07ae 1949     		ldr r1, = cos_sin_biao_10k
 1025 07b0 0160     		str r1, [r0]
 1026 07b2 1948     		ldr r0, = lcd_beiguang
 1027 07b4 8021     		movs r1, # 0x80
 1028 07b6 0160     		str r1, [r0]
 1029 07b8 0FBD     		pop {r0-r3,pc}
 1030 07ba 00000000 		.ltorg
 1030      02403C2C 
 1030      01402003 
 1030      00003200 
 1030      0000B135 
 1031              	__pinlv_100K:
 1032              	        @tim1ch3DMA
 1033 081c 2748     		ldr r0, = 0x40020000
 1034 081e 0021     		movs r1, # 0
 1035 0820 8165     		str r1, [r0, # 0x58]
 1036 0822 8160     		str r1, [r0, # 0x08]
 1037 0824 2649     		ldr r1, = 0x40012c3c @ 外设地址
 1038 0826 0166     		str r1, [r0, # 0x60]
 1039 0828 2649     		ldr r1, = zheng_xian_100khz @ 储存器地址
 1040 082a 4166     		str r1, [r0, # 0x64]
 1041 082c 2649     		ldr r1, = 20             @点数
 1042 082e C165     		str r1, [r0, # 0x5c]
 1043 0830 2649     		ldr r1, = 0x31b1         @ 储存到外设
 1044 0832 8165     		str r1, [r0, # 0x58]
 1045              		@ adc dma
 1046 0834 2649     		ldr r1, = 0x40012440
 1047 0836 0161     		str r1, [r0, # 0x10]
 1048 0838 2649     		ldr r1, = dianyabiao
 1049 083a 4161     		str r1, [r0, # 0x14]
 1050 083c 2649     		ldr r1, = 1000
 1051 083e C160     		str r1, [r0, # 0x0c]
 1052 0840 2649     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 1053 0842 8160     		str r1, [r0, # 0x08]
 1054              		
 1055              	@tim3chushihua:
 1056 0844 264B     		ldr r3, = 0x40000400 @ tim3_cr1
 1057 0846 274A     		ldr r2, = 0
 1058 0848 9A62     		str r2, [r3, # 0x28] @ psc
 1059 084a 274A     		ldr r2, = 27
 1060 084c DA62     		str r2, [r3, # 0x2c] @ ARR
 1061 084e 2022     		movs r2, # 0x20
 1062 0850 5A60     		str r2, [r3, # 0x04] @ TRGO
 1063 0852 0622     		movs r2, # 0x06
 1064 0854 9A60     		str r2, [r3, # 0x08]
 1065 0856 8022     		movs r2, # 0x80
 1066              	@tim1chushiha:
 1067 0858 2448     		ldr r0, = 0x40012c00 @ tim1_cr1
 1068 085a 0021     		movs r1, # 0
 1069 085c 8162     		str r1, [r0, # 0x28] @ psc
ARM GAS  1.s 			page 22


 1070 085e 2249     		ldr r1, = 27
 1071 0860 C162     		str r1, [r0, # 0x2c] @ ARR
 1072 0862 2021     		movs r1, # 0x20
 1073 0864 4160     		str r1, [r0, # 0x04] @ TRGO
 1074 0866 2249     		ldr r1, = 0x68
 1075 0868 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1076 086a 2249     		ldr r1, = 0x100    @  CC3
 1077 086c 0162     		str r1, [r0, # 0x20] @ ccer
 1078 086e 2249     		ldr r1, = 0x8000
 1079 0870 4164     		str r1, [r0, # 0x44] @ BDTR
 1080 0872 2249     		ldr r1, = 0x800 @ CC3 DMA
 1081 0874 C160     		str r1, [r0, # 0x0c] @ DIER
 1082 0876 2249     		ldr r1, = 0x81
 1083 0878 0160     		str r1, [r0]
 1084 087a 1A60     		str r2, [r3]
 1085 087c 2148     		ldr r0, = 0xe000e010
 1086 087e 2249     		ldr r1, = 55999
 1087 0880 4160     		str r1, [r0, # 4]
 1088 0882 8160     		str r1, [r0, # 8]
 1089 0884 0721     		movs r1, # 0x07
 1090 0886 0160     		str r1, [r0]    @systick 开
 1091 0888 2048     		ldr r0, = cossin
 1092 088a 2149     		ldr r1, = cos_sin_biao_100k
 1093 088c 0160     		str r1, [r0]
 1094 088e 2148     		ldr r0, = lcd_beiguang
 1095 0890 0021     		movs r1, # 0
 1096 0892 0160     		str r1, [r0]
 1097 0894 0FBD     		pop {r0-r3,pc}
 1098              	__pinlv_yanshi:
 1099 0896 2048     		ldr r0, = 0x1ffff
 1100              	__pinlv_yanshi_xunhuan:
 1101 0898 0138     		subs r0, r0, # 1
 1102 089a FDD1     		bne __pinlv_yanshi_xunhuan
 1103 089c F746     		mov pc, lr
 1104              	__pin_lv_xian_shi:
 1105 089e 0FB5     		push {r0-r3,lr}
 1106 08a0 1E48     		ldr r0, = pinlv
 1107 08a2 0121     		movs r1, # 1
 1108 08a4 0068     		ldr r0, [r0]
 1109 08a6 1E4A     		ldr r2, = asciimabiao
 1110 08a8 FF23     		movs r3, # 0xff
 1111 08aa 00F0CFFA 		bl _zhuanascii
 1112 08ae 8020     		movs r0, # 0x80
 1113 08b0 1B49     		ldr r1, = asciimabiao
 1114 08b2 0122     		movs r2, # 1
 1115 08b4 00F084FA 		bl _lcdxianshi
 1116 08b8 0FBD     		pop {r0-r3,pc}
 1117 08ba 00000000 		.ltorg
 1117      02403C2C 
 1117      01400003 
 1117      00001400 
 1117      0000B131 
 1118              		
 1119              	__jisuan_z_fudu:
 1120 0924 07B5     		push {r0-r2,lr}
 1121 0926 6948     		ldr r0, = xiabi_rr
 1122 0928 6949     		ldr r1, = xiabi_ii
ARM GAS  1.s 			page 23


 1123 092a 0068     		ldr r0, [r0]
 1124 092c 0968     		ldr r1, [r1]
 1125 092e 4012     		asrs r0, r0, # 9
 1126 0930 4912     		asrs r1, r1, # 9
 1127 0932 00F0F7F8 		bl __ji_suan_fu_du
 1128 0936 0246     		mov r2, r0
 1129 0938 6648     		ldr r0, = shangbi_rr
 1130 093a 6749     		ldr r1, = shangbi_ii
 1131 093c 0068     		ldr r0, [r0]
 1132 093e 0968     		ldr r1, [r1]
 1133 0940 4012     		asrs r0, r0, # 9
 1134 0942 4912     		asrs r1, r1, # 9
 1135 0944 00F0EEF8 		bl __ji_suan_fu_du
 1136 0948 1146     		mov r1, r2
 1137 094a 644A     		ldr r2, = 1000
 1138 094c 5043     		muls r0, r0, r2
 1139 094e 00F07AFB 		bl _chufa
 1140 0952 6349     		ldr r1, = z_fudu
 1141 0954 4009     		lsrs r0, r0, # 5
 1142 0956 0860     		str r0, [r1]
 1143 0958 07BD     		pop {r0-r2,pc}
 1144              		
 1145              	__zidong_dangwei:
 1146 095a 0FB5     		push {r0-r3,lr}
 1147              	__huan_dang:
 1148 095c 6048     		ldr r0, = z_fudu
 1149 095e 0068     		ldr r0, [r0]
 1150 0960 604B     		ldr r3, =  900
 1151 0962 5B09     		lsrs r3, r3, # 5
 1152 0964 9842     		cmp r0, r3
 1153 0966 0CD3     		bcc __dang_wei_jian
 1154 0968 5F4B     		ldr r3, =  3000
 1155 096a 5B09     		lsrs r3, r3, # 5
 1156 096c 9842     		cmp r0, r3
 1157 096e 10D3     		bcc __zi_dong_dang_wei_fan_hui
 1158 0970 5E48     		ldr r0, = liangcheng
 1159 0972 0168     		ldr r1, [r0]
 1160 0974 0131     		adds r1, r1, # 1
 1161 0976 0160     		str r1, [r0]
 1162 0978 0929     		cmp r1, # 9
 1163 097a 0AD1     		bne __zi_dong_dang_wei_fan_hui
 1164 097c 0821     		movs r1, # 8
 1165 097e 0160     		str r1, [r0]
 1166 0980 07E0     		b __zi_dong_dang_wei_fan_hui
 1167              	__dang_wei_jian:
 1168 0982 5A48     		ldr r0, = liangcheng
 1169 0984 0168     		ldr r1, [r0]
 1170 0986 0139     		subs r1, r1, # 1
 1171 0988 0160     		str r1, [r0]
 1172 098a FF29     		cmp r1, # 0xff
 1173 098c 01D3     		bcc __zi_dong_dang_wei_fan_hui
 1174 098e 0021     		movs r1, # 0
 1175 0990 0160     		str r1, [r0]
 1176              	__zi_dong_dang_wei_fan_hui:
 1177 0992 0FBD     		pop {r0-r3,pc}
 1178              	
 1179              		
ARM GAS  1.s 			page 24


 1180              	__jisuan_zukang:
 1181 0994 3FB5     		push {r0-r5,lr}
 1182 0996 5648     		ldr r0, = shangbi_r
 1183 0998 5649     		ldr r1, = shangbi_i
 1184 099a 574A     		ldr r2, = xiabi_r
 1185 099c 574B     		ldr r3, = xiabi_i
 1186 099e 584C     		ldr r4, = 10000
 1187 09a0 0068     		ldr r0, [r0]
 1188 09a2 0968     		ldr r1, [r1]
 1189 09a4 1268     		ldr r2, [r2]
 1190 09a6 1B68     		ldr r3, [r3]
 1191 09a8 6043     		muls r0, r0, r4
 1192 09aa 6143     		muls r1, r1, r4
 1193 09ac 00F067FA 		bl __fu_shu_chu_fa
 1194 09b0 5448     		ldr r0, = z_r
 1195 09b2 554B     		ldr r3, = z_i
 1196 09b4 1960     		str r1, [r3]
 1197 09b6 0260     		str r2, [r0]
 1198 09b8 3FBD     		pop {r0-r5,pc}
 1199              	
 1200              		
 1201              		
 1202              	__jisuan_cos_sin:				@jd
 1203              		@入口R0=角度 （-18000到+18000）
 1204              		@出口R0=COS，R1=SIN
 1205 09ba FCB5     		push {r2-r7,lr}
 1206 09bc 5349     		ldr r1, = 18000
 1207 09be 8842     		cmp r0, r1
 1208 09c0 02D9     		bls __xiaoyu_180
 1209 09c2 401A     		subs r0, r0, r1
 1210 09c4 0127     		movs r7, # 1
 1211 09c6 00E0     		b __js_cos_sin
 1212              	__xiaoyu_180:
 1213 09c8 0027     		movs r7, # 0
 1214              	__js_cos_sin:
 1215 09ca 5149     		ldr r1, = 9000
 1216 09cc 514A     		ldr r2, = 51471
 1217 09ce 0000     		movs r0, r0
 1218 09d0 03D5     		bpl __jisuan_jiaodu_bushi0
 1219 09d2 C043     		mvns r0, r0
 1220 09d4 0130     		adds r0, r0, # 1
 1221 09d6 0124     		movs r4, # 1
 1222 09d8 00E0     		b __jiance_chao90
 1223              	__jisuan_jiaodu_bushi0:
 1224 09da 0024     		movs r4, # 0
 1225              	__jiance_chao90:
 1226 09dc 8842     		cmp r0, r1
 1227 09de 03D9     		bls __xiaoyu_90
 1228 09e0 4A4E     		ldr r6, = 18000
 1229 09e2 301A     		subs r0, r6, r0
 1230 09e4 0126     		movs r6, # 1
 1231 09e6 00E0     		b __suan_cossin
 1232              	__xiaoyu_90:
 1233 09e8 0026     		movs r6, # 0
 1234              	__suan_cossin:
 1235 09ea 454D     		ldr r5, = 10000
 1236 09ec 6843     		muls r0, r0, r5
ARM GAS  1.s 			page 25


 1237 09ee 00F02AFB 		bl _chufa
 1238 09f2 5043     		muls r0, r0, r2
 1239 09f4 2946     		mov r1, r5
 1240 09f6 00F026FB 		bl _chufa
 1241 09fa 012C     		cmp r4, # 1
 1242 09fc 01D1     		bne __suan_cos_sin1
 1243 09fe C043     		mvns r0, r0
 1244 0a00 0130     		adds r0, r0, # 1
 1245              	__suan_cos_sin1:
 1246 0a02 00F00BF8 		bl __cordic_cos_sin
 1247 0a06 012E     		cmp r6, # 1
 1248 0a08 01D1     		bne __cos_sin_fanhui
 1249 0a0a C043     		mvns r0, r0
 1250 0a0c 0130     		adds r0, r0, # 1
 1251              	__cos_sin_fanhui:
 1252 0a0e 012F     		cmp r7, # 1
 1253 0a10 03D1     		bne __cossin_fh
 1254 0a12 C043     		mvns r0, r0
 1255 0a14 C943     		mvns r1, r1
 1256 0a16 0130     		adds r0, r0, # 1
 1257 0a18 0131     		adds r1, r1, # 1
 1258              	__cossin_fh:
 1259 0a1a FCBD     		pop {r2-r7,pc}
 1260              	__cordic_cos_sin:
 1261              		@入口R0
 1262              		@出口R0=COS，R1=SIN
 1263              		@ x= 0x4dba
 1264              		@ r1=x,r2=y,r0=z,r4=d,r5=k,r6=cordic_mabiao
 1265              	
 1266 0a1c FCB5     		push {r2-r7,lr}
 1267 0a1e 4246     		mov r2, r8
 1268 0a20 4B46     		mov r3, r9
 1269 0a22 0CB4     		push {r2-r3}
 1270 0a24 0025     		movs r5, # 0
 1271 0a26 2A46     		mov r2, r5
 1272 0a28 2C46     		mov r4, r5
 1273 0a2a 3B49     		ldr r1, = 0x4dba
 1274              	cordicxunhuan:				 @ 循环
 1275 0a2c C413     		asrs r4, r0, # 15
 1276              		@ x
 1277 0a2e 1746     		mov r7, r2
 1278 0a30 2A41     		asrs r2, r2, r5
 1279 0a32 6240     		eors r2, r2, r4
 1280 0a34 121B     		subs r2, r2, r4
 1281 0a36 8B1A     		subs r3, r1, r2
 1282              		@ y
 1283 0a38 0E46     		mov r6, r1
 1284 0a3a 2941     		asrs r1, r1, r5
 1285 0a3c 6140     		eors r1, r1, r4
 1286 0a3e 091B     		subs r1, r1, r4
 1287 0a40 7F18     		adds r7, r7, r1
 1288              		@ z
 1289 0a42 364E     		ldr r6, = cordic_yong_atan_biao
 1290 0a44 AA00     		lsls r2, r5, # 2
 1291 0a46 B158     		ldr r1, [r6, r2]
 1292 0a48 6140     		eors r1, r1, r4
 1293 0a4a 091B     		subs r1, r1, r4
ARM GAS  1.s 			page 26


 1294 0a4c 401A     		subs r0, r0, r1
 1295 0a4e 1946     		mov r1, r3
 1296 0a50 3A46     		mov r2, r7
 1297 0a52 0135     		adds r5, # 1
 1298 0a54 102D     		cmp r5, # 16
 1299 0a56 E9D1     		bne cordicxunhuan
 1300 0a58 1846     		mov r0, r3
 1301 0a5a 3946     		mov r1, r7
 1302 0a5c 0CBC     		pop {r2-r3}
 1303 0a5e 9046     		mov r8, r2
 1304 0a60 9946     		mov r9, r3
 1305 0a62 FCBD     		pop {r2-r7,pc}
 1306              	__atan2_ji_suan:				@jt
 1307              		@入口R0=实部，R1=虚部，结果=R0
 1308 0a64 FCB5     		push {r2-r7,lr}
 1309 0a66 4246     		mov r2, r8
 1310 0a68 04B4     		push {r2}
 1311 0a6a 2D4B     		ldr r3, = cordic_yong_cos_sin
 1312 0a6c 0A22     		movs r2, # 10
 1313 0a6e 5043     		muls r0, r0, r2
 1314 0a70 5143     		muls r1, r1, r2
 1315 0a72 0022     		movs r2, # 0
 1316 0a74 9046     		mov r8, r2
 1317 0a76 264C     		ldr r4, = 9000
 1318 0a78 E403     		lsls r4, r4, # 15
 1319              	__cordic_atan2_xun_huan:
 1320              	__du_cos_sin:
 1321 0a7a 1D68     		ldr r5, [r3]	@cos
 1322 0a7c 0433     		adds r3, r3, # 4
 1323 0a7e 2F46     		mov r7, r5
 1324 0a80 1E68     		ldr r6, [r3]	@sin
 1325 0a82 0433     		adds r3, r3, # 4
 1326 0a84 3246     		mov r2, r6
 1327 0a86 4543     		muls r5, r5, r0         @x*cos
 1328 0a88 4243     		muls r2, r2, r0         @x*sin
 1329 0a8a 4E43     		muls r6, r6, r1         @y*sin
 1330 0a8c 4F43     		muls r7, r7, r1         @y*cos
 1331 0a8e 0900     		movs r1, r1
 1332 0a90 05D5     		bpl __ni_shi_zhen_zhuan
 1333              	__shun_shi_zhen_zhuan:
 1334 0a92 AD1B     		subs r5, r5, r6
 1335 0a94 BF18     		adds r7, r7, r2
 1336 0a96 4646     		mov r6, r8
 1337 0a98 3619     		adds r6, r6, r4
 1338 0a9a B046     		mov r8, r6
 1339 0a9c 04E0     		b __xuan_zhuan_wan
 1340              	__ni_shi_zhen_zhuan:
 1341 0a9e AD19     		adds r5, r5, r6
 1342 0aa0 BF1A     		subs r7, r7, r2
 1343 0aa2 4646     		mov r6, r8
 1344 0aa4 361B     		subs r6, r6, r4
 1345 0aa6 B046     		mov r8, r6
 1346              	__xuan_zhuan_wan:
 1347 0aa8 1D4E     		ldr r6, = cordic_yong_cos_sin
 1348 0aaa 2022     		movs r2, # 32
 1349 0aac 9200     		lsls r2, r2, # 2
 1350 0aae B618     		adds r6, r6, r2
ARM GAS  1.s 			page 27


 1351 0ab0 AD13     		asrs r5, r5, # 14
 1352 0ab2 BF13     		asrs r7, r7, # 14
 1353 0ab4 2846     		mov r0, r5
 1354 0ab6 3946     		mov r1, r7
 1355 0ab8 6408     		lsrs r4, r4, # 1	@旋转
 1356 0aba B342     		cmp r3,	r6
 1357 0abc DDD1     		bne __cordic_atan2_xun_huan
 1358 0abe 4046     		mov r0, r8
 1359 0ac0 C043     		mvns r0, r0
 1360 0ac2 0130     		adds r0, r0, # 1
 1361 0ac4 C013     		asrs r0, r0, # 15      @除32768等于角度
 1362 0ac6 04BC     		pop {r2}
 1363 0ac8 9046     		mov r8, r2
 1364 0aca FCBD     		pop {r2-r7,pc}
 1365 0acc 58000020 		.ltorg
 1365      5C000020 
 1365      50000020 
 1365      54000020 
 1365      E8030000 
 1366              	__ji_suan_fu_du:	    @ 计算幅度
 1367              		@ 入r0= 实部，r1= 虚部
 1368              		@ 出r0 = 幅度
 1369              		@ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
 1370              		@ Alpha * Max + Beta * Min
 1371 0b24 0EB5     		push {r1-r3,lr}
 1372 0b26 0000     		movs r0, r0
 1373 0b28 01D5     		bpl _shibubushifushu
 1374 0b2a C043     		mvns r0, r0                             @ 是负数转成正数
 1375 0b2c 0130     		adds r0, r0, # 1
 1376              	_shibubushifushu:	                               @ 实部不是负数
 1377 0b2e 0900     		movs r1, r1
 1378 0b30 01D5     		bpl _xububushifushu
 1379 0b32 C943     		mvns r1, r1                             @ 是负数转成正数
 1380 0b34 0131     		adds r1, r1, # 1
 1381              	_xububushifushu:	                                @ 虚部不是负数
 1382 0b36 0028     		cmp r0, # 0
 1383 0b38 01D1     		bne _panduanxubushibushi0
 1384 0b3a 0846     		mov r0, r1
 1385 0b3c 0EBD     		pop {r1-r3,pc}
 1386              	_panduanxubushibushi0:
 1387 0b3e 0029     		cmp r1, # 0
 1388 0b40 00D1     		bne _jisuanfudu1
 1389 0b42 0EBD     		pop {r1-r3,pc}
 1390              	_jisuanfudu1:
 1391 0b44 084A     		ldr r2, = 32765		@ Alpha q15 0.948059448969 @
 1392              					@ 感觉这个小了，要乘1.0547
 1393 0b46 094B     		ldr r3, = 13572		@ Beta q15 0.392699081699
 1394              					@感觉这个小了要乘1.0547
 1395 0b48 8142     		cmp r1, r0
 1396 0b4a 06D8     		bhi _alpha_min_beta_max
 1397              	_alpha_max_beta_min:
 1398 0b4c 5043     		muls r0, r0, r2
 1399 0b4e 5943     		muls r1, r1, r3
 1400 0b50 C013     		asrs r0, r0, # 15
 1401 0b52 C913     		asrs r1, r1, # 15
 1402 0b54 4018     		adds r0, r0, r1
 1403 0b56 0121     		movs r1, # 1
ARM GAS  1.s 			page 28


 1404 0b58 0EBD     		pop {r1-r3,pc}
 1405              	_alpha_min_beta_max:
 1406 0b5a 5843     		muls r0, r0, r3
 1407 0b5c 5143     		muls r1, r1, r2
 1408 0b5e C013     		asrs r0, r0, # 15
 1409 0b60 C913     		asrs r1, r1, # 15
 1410 0b62 4018     		adds r0, r0, r1
 1411 0b64 0021     		movs r1, # 0
 1412 0b66 0EBD     		pop {r1-r3,pc}
 1413              	
 1414              	
 1415              		
 1416 0b68 FD7F0000 		.ltorg
 1416      04350000 
 1417              	__xianshi_zukang:
 1418 0b70 3FB5     		push {r0-r5,lr}
 1419 0b72 824C     		ldr r4, = z_r
 1420 0b74 824D     		ldr r5, = z_i
 1421 0b76 2468     		ldr r4, [r4]
 1422 0b78 2D68     		ldr r5, [r5]
 1423 0b7a 8249     		ldr r1, = liangcheng
 1424 0b7c 8248     		ldr r0, = zukang_huansuan_biao
 1425 0b7e 0968     		ldr r1, [r1]
 1426 0b80 8900     		lsls r1, r1, # 2
 1427 0b82 4058     		ldr r0, [r0, r1]
 1428 0b84 4443     		muls r4, r4, r0
 1429 0b86 4543     		muls r5, r5, r0
 1430 0b88 E413     		asrs r4, r4, # 15
 1431 0b8a ED13     		asrs r5, r5, # 15
 1432 0b8c 2400     		movs r4, r4
 1433 0b8e 07D5     		bpl aaa1
 1434 0b90 8220     		movs r0, # 0x82
 1435 0b92 7E49     		ldr r1, = _fu
 1436 0b94 0122     		movs r2, # 1
 1437 0b96 00F013F9 		bl _lcdxianshi
 1438 0b9a E443     		mvns r4, r4
 1439 0b9c 0134     		adds r4, r4, # 1
 1440 0b9e 04E0     		b aaa2
 1441              	aaa1:
 1442 0ba0 8220     		movs r0, # 0x82
 1443 0ba2 7B49     		ldr r1, = kong
 1444 0ba4 0122     		movs r2, # 1
 1445 0ba6 00F00BF9 		bl _lcdxianshi
 1446              	aaa2:
 1447 0baa 2046     		mov r0, r4
 1448 0bac 0621     		movs r1, # 6
 1449 0bae 794A     		ldr r2, = asciimabiao
 1450 0bb0 794C     	        ldr r4, = zukang_xiaoshu_dian
 1451 0bb2 744B     		ldr r3, = liangcheng
 1452 0bb4 1B68     		ldr r3, [r3]
 1453 0bb6 E35C     		ldrb r3, [r4, r3]
 1454 0bb8 00F048F9 		bl _zhuanascii
 1455 0bbc 8320     		movs r0, # 0x83
 1456 0bbe 7549     		ldr r1, = asciimabiao
 1457 0bc0 0622     		movs r2, # 6
 1458 0bc2 00F0FDF8 		bl _lcdxianshi
 1459              	
ARM GAS  1.s 			page 29


 1460              	
 1461 0bc6 2C00     		movs r4, r5
 1462 0bc8 07D5     		bpl bbb1
 1463 0bca C220     		movs r0, # 0xc2
 1464 0bcc 6F49     		ldr r1, = _fu
 1465 0bce 0122     		movs r2, # 1
 1466 0bd0 00F0F6F8 		bl _lcdxianshi
 1467 0bd4 E443     		mvns r4, r4
 1468 0bd6 0134     		adds r4, r4, # 1
 1469 0bd8 04E0     		b bbb2
 1470              	bbb1:
 1471 0bda C220     		movs r0, # 0xc2
 1472 0bdc 6C49     		ldr r1, = kong
 1473 0bde 0122     		movs r2, # 1
 1474 0be0 00F0EEF8 		bl _lcdxianshi
 1475              	bbb2:
 1476 0be4 2046     		mov r0, r4
 1477 0be6 0621     		movs r1, # 6
 1478 0be8 6A4A     		ldr r2, = asciimabiao
 1479 0bea 6B4D     		ldr r5, = zukang_xiaoshu_dian
 1480 0bec 654B     		ldr r3, = liangcheng
 1481 0bee 1B68     		ldr r3, [r3]
 1482 0bf0 EB5C     		ldrb r3, [r5, r3]
 1483 0bf2 00F02BF9 		bl _zhuanascii
 1484 0bf6 C320     		movs r0, # 0xc3
 1485 0bf8 6649     		ldr r1, = asciimabiao
 1486 0bfa 0622     		movs r2, # 6
 1487 0bfc 00F0E0F8 		bl _lcdxianshi
 1488 0c00 3FBD     		pop {r0-r5,pc}
 1489              	
 1490              	
 1491              	__xianshi_liangcheng:
 1492 0c02 0FB5     		push {r0-r3,lr}
 1493 0c04 5F48     	        ldr r0, = liangcheng
 1494 0c06 0221     		movs r1, # 2
 1495 0c08 0068     		ldr r0, [r0]
 1496 0c0a 624A     		ldr r2, = asciimabiao
 1497 0c0c FF23     		movs r3, # 0xff
 1498 0c0e 00F01DF9 		bl _zhuanascii
 1499 0c12 C020     		movs r0, # 0xc0
 1500 0c14 5F49     		ldr r1, = asciimabiao
 1501 0c16 0222     		movs r2, # 2
 1502 0c18 00F0D2F8 		bl _lcdxianshi
 1503 0c1c 0FBD     		pop {r0-r3,pc}
 1504              		
 1505              	__xianshi_shangxia_bi:
 1506 0c1e FFB5     		push {r0-r7,lr}
 1507 0c20 5E48     		ldr r0, = shangbi_r
 1508 0c22 5F4A     		ldr r2, = shangbi_i
 1509 0c24 0168     		ldr r1, [r0]
 1510 0c26 1768     		ldr r7, [r2]
 1511 0c28 0C00     		movs r4, r1
 1512 0c2a 07D5     		bpl aa1
 1513 0c2c 8020     		movs r0, # 0x80
 1514 0c2e 5749     		ldr r1, = _fu
 1515 0c30 0122     		movs r2, # 1
 1516 0c32 00F0C5F8 		bl _lcdxianshi
ARM GAS  1.s 			page 30


 1517 0c36 E443     		mvns r4, r4
 1518 0c38 0134     		adds r4, r4, # 1
 1519 0c3a 04E0     		b aa2
 1520              	aa1:
 1521 0c3c 8020     		movs r0, # 0x80
 1522 0c3e 5449     		ldr r1, = kong
 1523 0c40 0122     		movs r2, # 1
 1524 0c42 00F0BDF8 		bl _lcdxianshi
 1525              	aa2:
 1526 0c46 2046     		mov r0, r4
 1527 0c48 0621     		movs r1, # 6
 1528 0c4a 524A     		ldr r2, = asciimabiao
 1529 0c4c FF23     		movs r3, # 0xff
 1530 0c4e 00F0FDF8 		bl _zhuanascii
 1531 0c52 8120     		movs r0, # 0x81
 1532 0c54 4F49     		ldr r1, = asciimabiao
 1533 0c56 0622     		movs r2, # 6
 1534 0c58 00F0B2F8 		bl _lcdxianshi
 1535              	
 1536              	
 1537 0c5c 3C00     		movs r4, r7
 1538 0c5e 07D5     		bpl bb1
 1539 0c60 8920     		movs r0, # 0x89
 1540 0c62 4A49     		ldr r1, = _fu
 1541 0c64 0122     		movs r2, # 1
 1542 0c66 00F0ABF8 		bl _lcdxianshi
 1543 0c6a E443     		mvns r4, r4
 1544 0c6c 0134     		adds r4, r4, # 1
 1545 0c6e 04E0     		b bb2
 1546              	bb1:
 1547 0c70 8920     		movs r0, # 0x89
 1548 0c72 4749     		ldr r1, = kong
 1549 0c74 0122     		movs r2, # 1
 1550 0c76 00F0A3F8 		bl _lcdxianshi
 1551              	bb2:
 1552 0c7a 2046     		mov r0, r4
 1553 0c7c 0621     		movs r1, # 6
 1554 0c7e 454A     		ldr r2, = asciimabiao
 1555 0c80 FF23     		movs r3, # 0xff
 1556 0c82 00F0E3F8 		bl _zhuanascii
 1557 0c86 8A20     		movs r0, # 0x8a
 1558 0c88 4249     		ldr r1, = asciimabiao
 1559 0c8a 0622     		movs r2, # 6
 1560 0c8c 00F098F8 		bl _lcdxianshi
 1561              	
 1562 0c90 4448     	        ldr r0, = xiabi_r
 1563 0c92 454A     		ldr r2, = xiabi_i
 1564 0c94 0168     		ldr r1, [r0]
 1565 0c96 1768     		ldr r7, [r2]
 1566 0c98 0C00     		movs r4, r1
 1567 0c9a 07D5     		bpl cc1
 1568 0c9c C020     		movs r0, # 0xc0
 1569 0c9e 3B49     		ldr r1, = _fu
 1570 0ca0 0122     		movs r2, # 1
 1571 0ca2 00F08DF8 		bl _lcdxianshi
 1572 0ca6 E443     		mvns r4, r4
 1573 0ca8 0134     		adds r4, r4, # 1
ARM GAS  1.s 			page 31


 1574 0caa 04E0     		b cc2
 1575              	cc1:
 1576 0cac C020     		movs r0, # 0xc0
 1577 0cae 3849     		ldr r1, = kong
 1578 0cb0 0122     		movs r2, # 1
 1579 0cb2 00F085F8 		bl _lcdxianshi
 1580              	cc2:
 1581 0cb6 2046     		mov r0, r4
 1582 0cb8 0621     		movs r1, # 6
 1583 0cba 364A     		ldr r2, = asciimabiao
 1584 0cbc FF23     		movs r3, # 0xff
 1585 0cbe 00F0C5F8 		bl _zhuanascii
 1586 0cc2 C120     		movs r0, # 0xc1
 1587 0cc4 3349     		ldr r1, = asciimabiao
 1588 0cc6 0622     		movs r2, # 6
 1589 0cc8 00F07AF8 		bl _lcdxianshi
 1590              	
 1591              	
 1592 0ccc 3C00     		movs r4, r7
 1593 0cce 07D5     		bpl dd1
 1594 0cd0 C920     		movs r0, # 0xc9
 1595 0cd2 2E49     		ldr r1, = _fu
 1596 0cd4 0122     		movs r2, # 1
 1597 0cd6 00F073F8 		bl _lcdxianshi
 1598 0cda E443     		mvns r4, r4
 1599 0cdc 0134     		adds r4, r4, # 1
 1600 0cde 04E0     		b dd2
 1601              	dd1:
 1602 0ce0 C920     		movs r0, # 0xc9
 1603 0ce2 2B49     		ldr r1, = kong
 1604 0ce4 0122     		movs r2, # 1
 1605 0ce6 00F06BF8 		bl _lcdxianshi
 1606              	dd2:
 1607 0cea 2046     		mov r0, r4
 1608 0cec 0621     		movs r1, # 6
 1609 0cee 294A     		ldr r2, = asciimabiao
 1610 0cf0 FF23     		movs r3, # 0xff
 1611 0cf2 00F0ABF8 		bl _zhuanascii
 1612 0cf6 CA20     		movs r0, # 0xca
 1613 0cf8 2649     		ldr r1, = asciimabiao
 1614 0cfa 0622     		movs r2, # 6
 1615 0cfc 00F060F8 		bl _lcdxianshi
 1616 0d00 FFBD     		pop {r0-r7,pc}
 1617              	
 1618              	__dft:
 1619 0d02 FCB5     		push {r2-r7,lr}
 1620 0d04 4246     		mov r2, r8
 1621 0d06 4B46     		mov r3, r9
 1622 0d08 0CB4     		push {r2-r3}
 1623 0d0a 2849     		ldr r1, = 0x12345678
 1624 0d0c 8946     		mov r9, r1
 1625 0d0e 2848     		ldr r0, = dianyabiao
 1626 0d10 2849     		ldr r1, = cossin
 1627 0d12 0968     		ldr r1, [r1]
 1628 0d14 284B     		ldr r3, = 1984	@ 点数*2-16
 1629 0d16 294C     		ldr r4, = 2048
 1630 0d18 1B18     		adds r3, r3, r0
ARM GAS  1.s 			page 32


 1631 0d1a 9846     		mov r8, r3
 1632 0d1c 0022     		movs r2, # 0
 1633 0d1e 1746     		mov r7, r2
 1634              	__dft_xunhuan:
 1635 0d20 0388     		ldrh r3, [r0]
 1636 0d22 0D68     		ldr r5, [r1]
 1637 0d24 4D45     		cmp r5, r9
 1638 0d26 02D1     		bne __du_sin
 1639 0d28 2249     		ldr r1, = cossin
 1640 0d2a 0968     		ldr r1, [r1]
 1641 0d2c 0D68     		ldr r5, [r1]
 1642              	__du_sin:	
 1643 0d2e 4E68     		ldr r6, [r1, # 0x04]
 1644 0d30 1B1B     		subs r3, r3, r4
 1645 0d32 5D43     		muls r5, r5, r3
 1646 0d34 ED13     		asrs r5, r5, # 15
 1647 0d36 5E43     		muls r6, r6, r3
 1648 0d38 F613     		asrs r6, r6, # 15
 1649 0d3a 5219     		adds r2, r2, r5
 1650 0d3c BF19     		adds r7, r7, r6
 1651 0d3e 0230     		adds r0, r0, # 0x02
 1652 0d40 0831     		adds r1, r1, # 0x08
 1653 0d42 4045     		cmp r0, r8
 1654 0d44 ECD1     		bne __dft_xunhuan
 1655 0d46 1046     		mov r0, r2
 1656 0d48 3946     		mov r1, r7
 1657 0d4a 0CBC     		pop {r2-r3}
 1658 0d4c 9046     		mov r8, r2
 1659 0d4e 9946     		mov r9, r3
 1660 0d50 FCBD     		pop {r2-r7,pc}
 1661              		
 1662              	__lv_bo_qi:
 1663              		@地址顺序：指针，累加值，缓冲区
 1664              		@入口R0=缓冲区，R1=数据, r2,=指针
 1665              		@出口R0
 1666 0d52 78B5     		push {r3-r6,lr}
 1667 0d54 6424     		movs r4, # 100
 1668 0d56 1568     		ldr r5, [r2]
 1669 0d58 2B46     		mov r3, r5
 1670 0d5a AB00     		lsls r3, r5, # 2
 1671 0d5c C658     		ldr r6, [r0, r3]
 1672 0d5e C150     		str r1, [r0, r3]
 1673 0d60 0135     		adds r5, r5, # 1
 1674 0d62 1560     		str r5, [r2]
 1675 0d64 A542     		cmp r5, r4
 1676 0d66 01D1     		bne __huanchong_leijia
 1677 0d68 0025     		movs r5, # 0
 1678 0d6a 1560     		str r5, [r2]
 1679              	__huanchong_leijia:
 1680 0d6c 0438     		subs r0, r0, # 4
 1681 0d6e 0568     		ldr r5, [r0]
 1682 0d70 4919     		adds r1, r1, r5
 1683 0d72 891B     		subs r1, r1, r6
 1684 0d74 0160     		str r1, [r0]
 1685 0d76 8812     		asrs r0, r1, # 10 @12 @  7	@128
 1686 0d78 78BD     		pop {r3-r6,pc}
 1687 0d7a 00003C00 		.ltorg
ARM GAS  1.s 			page 33


 1687      00204000 
 1687      00203800 
 1687      0020B035 
 1687      00005836 
 1688              	
 1689              		
 1690              	_lcdxianshi:		  		@r0=LCD位置，r1=数据地址，r2=长度
 1691 0dc0 1FB5     		push {r0-r4,lr}
 1692 0dc2 0C46     		mov r4, r1
 1693              	
 1694 0dc4 0021     		movs r1, # 0
 1695 0dc6 00F00EF8 		bl _xielcd
 1696              	
 1697 0dca 0121     		movs r1, # 1
 1698 0dcc 0023     		movs r3, # 0
 1699              	_lcdxianshixunhuan:
 1700 0dce E05C     		ldrb r0, [r4,r3]
 1701 0dd0 00F009F8 		bl _xielcd
 1702 0dd4 0133     		adds r3, r3, # 1
 1703 0dd6 9342     		cmp r3, r2
 1704 0dd8 F9D1     		bne _lcdxianshixunhuan
 1705 0dda 1FBD     		pop {r0-r4,pc}
 1706              	
 1707              	_lcdyanshi:
 1708 0ddc 20B5     		push {r5,lr}
 1709 0dde D94D     		ldr r5, = 0x1000
 1710              	_lcdyanshixunhuan:
 1711 0de0 013D     		subs r5, r5, # 1
 1712 0de2 FDD1     		bne _lcdyanshixunhuan
 1713 0de4 20BD     		pop {r5,pc}
 1714              	_xielcd:					@入R0=8位,r1=0命令,r1=1数据
 1715 0de6 3FB5     		push {r0-r5,lr}
 1716 0de8 D74C     		ldr r4, = lcd_beiguang  @ 量程开关 (第6位和第7位)
 1717 0dea 0246     		mov r2, r0
 1718 0dec 2568     		ldr r5, [r4]
 1719 0dee 1209     		lsrs r2, r2, # 4
 1720 0df0 9200     		lsls r2, r2, # 2	@ 高四位
 1721 0df2 0007     		lsls r0, r0, # 28
 1722 0df4 800E     		lsrs r0, r0, # 26	@ 低四位
 1723 0df6 C907     		lsls r1, r1, # 31
 1724 0df8 01D5     		bpl __lcd_ming_ling
 1725              	__lcd_shu_ju:
 1726 0dfa 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 1727 0dfc 00E0     		b __xie_lcd_shu_ju
 1728              	__lcd_ming_ling:
 1729 0dfe 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 1730              	__xie_lcd_shu_ju:
 1731 0e00 5B19     		adds r3, r3, r5
 1732 0e02 0146     		mov r1, r0
 1733 0e04 D218     		adds r2, r2, r3
 1734 0e06 D14D     		ldr r5, = 0x4001300c
 1735 0e08 1000     		movs r0, r2
 1736 0e0a 2870     		strb r0, [r5]
 1737 0e0c 00F016F8 		bl __spi_mang
 1738 0e10 00F018F8 		bl __yanshi_595
 1739 0e14 0238     		subs r0, r0, # 0x02
 1740 0e16 2870     		strb r0, [r5]
ARM GAS  1.s 			page 34


 1741 0e18 00F010F8 		bl __spi_mang
 1742 0e1c 00F012F8 		bl __yanshi_595
 1743 0e20 0846     		mov r0, r1
 1744 0e22 C018     		adds r0, r0, r3
 1745 0e24 2870     		strb r0, [r5]
 1746 0e26 00F009F8 		bl __spi_mang
 1747 0e2a 00F00BF8 		bl __yanshi_595
 1748 0e2e 0238     		subs r0, r0, # 0x02
 1749 0e30 2870     		strb r0, [r5]
 1750 0e32 00F003F8 		bl __spi_mang
 1751 0e36 00F005F8 		bl __yanshi_595
 1752 0e3a 3FBD     		pop {r0-r5,pc}
 1753              	__spi_mang:
 1754 0e3c AA68     		ldr r2, [r5, # 0x08]
 1755 0e3e 1206     		lsls r2, r2, # 24
 1756 0e40 FCD4     		bmi __spi_mang
 1757 0e42 F746     		mov pc, lr
 1758              	__yanshi_595:
 1759 0e44 C24A     		ldr r2, = 0x2000
 1760              	__yanshi__595:
 1761 0e46 013A     		subs r2, r2, # 1
 1762 0e48 FDD1     		bne __yanshi__595
 1763 0e4a F746     		mov pc, lr
 1764              		
 1765              	
 1766              	_zhuanascii:						@ 16进制转ASCII
 1767              		@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 1768 0e4c FFB5     		push {r0-r7,lr}
 1769 0e4e 1F46     		mov r7, r3
 1770 0e50 0546     		mov r5, r0
 1771 0e52 0E46     		mov r6, r1
 1772 0e54 0A21     		movs r1, # 10
 1773              	_xunhuanqiuma:
 1774 0e56 00F0F6F8 		bl _chufa
 1775 0e5a 0446     		mov r4, r0
 1776 0e5c 4C43     		muls r4, r1
 1777 0e5e 2B1B     		subs r3, r5, r4
 1778 0e60 3033     		adds r3, r3, # 0x30
 1779 0e62 0546     		mov r5, r0
 1780 0e64 013E     		subs r6, r6, # 1
 1781 0e66 08D0     		beq _qiumafanhui
 1782 0e68 BE42     		cmp r6, r7
 1783 0e6a 02D1     		bne _meidaoxiaoshudian
 1784 0e6c 2E24     		movs r4, # 0x2e		@小数点
 1785 0e6e 9455     		strb r4, [r2,r6]	@插入小数点
 1786 0e70 013E     		subs r6, r6, # 1
 1787              	_meidaoxiaoshudian:
 1788 0e72 9355     		strb r3, [r2,r6]
 1789 0e74 3600     		movs r6, r6
 1790 0e76 EED1     		bne _xunhuanqiuma
 1791 0e78 FFBD     		pop {r0-r7,pc}
 1792              	_qiumafanhui:
 1793 0e7a 9355     		strb r3, [r2, r6]
 1794 0e7c FFBD     		pop {r0-r7,pc}
 1795              	
 1796              	__fu_shu_chu_fa:
 1797              		@入口R0=a R1=b,R2=c R3=d
ARM GAS  1.s 			page 35


 1798              		@出口R2=实部 R1=虚部
 1799 0e7e F0B5     		push {r4-r7,lr}
 1800 0e80 002A     		cmp r2, # 0
 1801 0e82 03D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 1802 0e84 002B     		cmp r3, # 0
 1803 0e86 01D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 1804 0e88 0246     		mov r2, r0
 1805 0e8a F0BD     		pop {r4-r7,pc}
 1806              	__tiao_guo_bei_chu_shu_0_pan_duan:
 1807 0e8c 4446     		mov r4, r8
 1808 0e8e 4D46     		mov r5, r9
 1809 0e90 5646     		mov r6, r10
 1810 0e92 5F46     		mov r7, r11
 1811 0e94 F0B4     		push {r4-r7}
 1812              	__ji_suan_chu_fa:
 1813 0e96 8046     		mov r8, r0	@a
 1814 0e98 8946     		mov r9, r1	@b
 1815 0e9a 9246     		mov r10, r2	@c
 1816 0e9c 9B46     		mov r11, r3	@d
 1817 0e9e 0027     		movs r7, # 0
 1818              		@ (a+bi)/(c+di)=(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)
 1819 0ea0 0000     		movs r0, r0
 1820 0ea2 02D5     		bpl b1
 1821 0ea4 C043     		mvns r0, r0
 1822 0ea6 0130     		adds r0, r0, # 1
 1823 0ea8 0127     		movs r7, # 1
 1824              	b1:
 1825 0eaa 5146     		mov r1, r10
 1826 0eac 0900     		movs r1, r1
 1827 0eae 02D5     		bpl b2
 1828 0eb0 C943     		mvns r1, r1
 1829 0eb2 0131     		adds r1, r1, # 1
 1830 0eb4 0137     		adds r7, r7, # 1
 1831              	b2:
 1832 0eb6 00F0A1F8 		bl __chengfa
 1833              	b3:
 1834 0eba 012F     		cmp r7, # 1
 1835 0ebc 01D1     		bne a1
 1836 0ebe C043     		mvns r0, r0
 1837 0ec0 C943     		mvns r1, r1
 1838              	a1:
 1839 0ec2 0446     		mov r4, r0	@a*c高32
 1840 0ec4 0D46     		mov r5, r1	@a*c低32
 1841 0ec6 0027     		movs r7, # 0
 1842 0ec8 4846     		mov r0, r9
 1843 0eca 5946     		mov r1, r11
 1844 0ecc 0000     		movs r0, r0
 1845 0ece 02D5     		bpl b4
 1846 0ed0 C043     		mvns r0, r0
 1847 0ed2 0130     		adds r0, r0, # 1
 1848 0ed4 0137     		adds r7, r7, # 1
 1849              	b4:
 1850 0ed6 0900     		movs r1, r1
 1851 0ed8 02D5     		bpl b5
 1852 0eda C943     		mvns r1, r1
 1853 0edc 0131     		adds r1, r1, # 1
 1854 0ede 0137     		adds r7, r7, # 1
ARM GAS  1.s 			page 36


 1855              	b5:
 1856 0ee0 00F08CF8 		bl __chengfa
 1857              	b6:
 1858 0ee4 012F     		cmp r7, # 1
 1859 0ee6 01D1     		bne a2
 1860 0ee8 C043     		mvns r0, r0
 1861 0eea C943     		mvns r1, r1
 1862              	a2:
 1863 0eec 4919     		adds r1, r1, r5	@ac+bd低32
 1864 0eee 6041     		adcs r0, r0, r4	@ac+bd高32
 1865 0ef0 0646     		mov r6, r0
 1866 0ef2 0F46     		mov r7, r1
 1867 0ef4 5046     		mov r0, r10
 1868 0ef6 4043     		muls r0, r0, r0
 1869 0ef8 0446     		mov r4, r0	@c*c
 1870 0efa 5846     		mov r0, r11
 1871 0efc 4043     		muls r0, r0, r0
 1872 0efe 0019     		adds r0, r0, r4
 1873 0f00 01B4     		push {r0}
 1874 0f02 3946     		mov r1, r7
 1875 0f04 0027     		movs r7, # 0
 1876 0f06 0200     		movs r2, r0
 1877 0f08 02D5     		bpl b7
 1878 0f0a D243     		mvns r2, r2
 1879 0f0c 0132     		adds r2, r2, # 1
 1880 0f0e 0137     		adds r7, r7, # 1
 1881              	b7:
 1882 0f10 3000     		movs r0, r6
 1883 0f12 02D5     		bpl b8
 1884 0f14 C043     		mvns r0, r0
 1885 0f16 C943     		mvns r1, r1
 1886 0f18 0137     		adds r7, r7, # 1
 1887              	b8:
 1888 0f1a 00F04BF8 		bl __chufa64
 1889 0f1e 012F     		cmp r7, # 1
 1890 0f20 01D1     		bne __bao_cun_chu_fa_shi_bu_jie_guo
 1891 0f22 C043     		mvns r0, r0
 1892 0f24 C943     		mvns r1, r1
 1893              	__bao_cun_chu_fa_shi_bu_jie_guo:
 1894 0f26 0646     		mov r6, r0	@实部高32
 1895 0f28 0F46     		mov r7, r1	@实部低32
 1896              		@r8=a, r9=b, r10=c, r11=d
 1897              		@(b*c-a*d)/(c*c+d*d)
 1898 0f2a 0025     		movs r5, # 0
 1899 0f2c 4846     		mov r0, r9
 1900 0f2e 0000     		movs r0, r0
 1901 0f30 02D5     		bpl b9
 1902 0f32 C043     		mvns r0, r0
 1903 0f34 0130     		adds r0, r0, # 1
 1904 0f36 0135     		adds r5, r5, # 1
 1905              	b9:
 1906 0f38 5146     		mov r1, r10
 1907 0f3a 0900     		movs r1, r1
 1908 0f3c 02D5     		bpl b10
 1909 0f3e C943     		mvns r1, r1
 1910 0f40 0131     		adds r1, r1, # 1
 1911 0f42 0135     		adds r5, r5, # 1
ARM GAS  1.s 			page 37


 1912              	b10:
 1913 0f44 00F05AF8 		bl __chengfa
 1914 0f48 012D     		cmp r5, # 1
 1915 0f4a 01D1     		bne a3
 1916 0f4c C043     		mvns r0, r0
 1917 0f4e C943     		mvns r1, r1
 1918              	a3:
 1919 0f50 0446     		mov r4, r0      @b*c高32
 1920 0f52 0D46     		mov r5, r1      @b*c低32
 1921 0f54 0023     		movs r3, # 0
 1922 0f56 4046     		mov r0, r8
 1923 0f58 0000     		movs r0, r0
 1924 0f5a 02D5     		bpl b11
 1925 0f5c C043     		mvns r0, r0
 1926 0f5e 0130     		adds r0, r0, # 1
 1927 0f60 0133     		adds r3, r3, # 1
 1928              	b11:
 1929 0f62 5946     		mov r1, r11
 1930 0f64 0900     		movs r1, r1
 1931 0f66 02D5     		bpl b12
 1932 0f68 C943     		mvns r1, r1
 1933 0f6a 0131     		adds r1, r1, # 1
 1934 0f6c 0133     		adds r3, r3, # 1
 1935              	b12:
 1936 0f6e 00F045F8 		bl __chengfa
 1937 0f72 012B     		cmp r3, # 1
 1938 0f74 01D1     		bne a4
 1939 0f76 C043     		mvns r0, r0
 1940 0f78 C943     		mvns r1, r1
 1941              	a4:
 1942 0f7a 6D1A     		subs r5, r5, r1 @bc-ad低32
 1943 0f7c 8441     		sbcs r4, r4, r0 @bc-ad高32
 1944 0f7e 04BC     		pop {r2}
 1945 0f80 2946     		mov r1, r5
 1946 0f82 0025     		movs r5, # 0
 1947 0f84 1200     		movs r2, r2
 1948 0f86 02D5     		bpl b13
 1949 0f88 D243     		mvns r2, r2
 1950 0f8a 0132     		adds r2, r2, # 1
 1951 0f8c 0135     		adds r5, r5, # 1
 1952              	b13:
 1953 0f8e 2000     		movs r0, r4
 1954 0f90 02D5     		bpl b14
 1955 0f92 C043     		mvns r0, r0
 1956 0f94 C943     		mvns r1, r1
 1957 0f96 0135     		adds r5, r5, # 1
 1958              	b14:
 1959 0f98 00F00CF8 		bl __chufa64
 1960 0f9c 012D     		cmp r5, # 1
 1961 0f9e 02D1     		bne __bao_cun_chu_fa_xu_bu_jie_guo
 1962 0fa0 C943     		mvns r1, r1
 1963 0fa2 C043     		mvns r0, r0
 1964 0fa4 0131     		adds r1, r1, # 1
 1965              	__bao_cun_chu_fa_xu_bu_jie_guo:
 1966 0fa6 3A46     		mov r2, r7
 1967 0fa8 F0BC     		pop {r4-r7}
 1968 0faa A046     		mov r8, r4
ARM GAS  1.s 			page 38


 1969 0fac A946     		mov r9, r5
 1970 0fae B246     		mov r10, r6
 1971 0fb0 BB46     		mov r11, r7
 1972 0fb2 F0BD     		pop {r4-r7,pc}
 1973              	
 1974              	__chufa64:
 1975              		@64位除32位
 1976              		@ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1977 0fb4 F8B5     		push {r3-r7,lr}
 1978 0fb6 002A     		cmp r2, # 0
 1979 0fb8 1DD0     		beq __chu_fa64_fan_hui0
 1980 0fba 0029     		cmp r1, # 0
 1981 0fbc 01D1     		bne __chu_fa64_ji_suan
 1982 0fbe 0028     		cmp r0, # 0
 1983 0fc0 19D0     		beq __chu_fa64_fan_hui0
 1984              	__chu_fa64_ji_suan:
 1985 0fc2 0024     		movs r4, # 0
 1986 0fc4 2746     		mov r7, r4
 1987 0fc6 2346     		mov r3, r4
 1988 0fc8 2546     		mov r5, r4
 1989 0fca 0126     		movs r6, # 1
 1990 0fcc F607     		lsls r6, r6, # 31
 1991              	__chu_fa64_xun_huan:
 1992 0fce 4900     		lsls r1, r1, # 1
 1993 0fd0 4041     		adcs r0, r0, r0
 1994 0fd2 6441     		adcs r4, r4, r4
 1995 0fd4 9442     		cmp r4, r2
 1996 0fd6 02D3     		bcc __chu_fa_yi_wei
 1997 0fd8 9B19     		adds r3, r3, r6
 1998 0fda 7D41     		adcs r5, r5, r7
 1999 0fdc A41A     		subs r4, r4, r2
 2000              	__chu_fa_yi_wei:
 2001 0fde 3600     		movs r6, r6
 2002 0fe0 04D0     		beq __di_yi_wei
 2003 0fe2 7608     		lsrs r6, r6, # 1        @高32位移位
 2004 0fe4 F3D1     		bne __chu_fa64_xun_huan
 2005 0fe6 0127     		movs r7, # 1
 2006 0fe8 FF07     		lsls r7, r7, # 31
 2007 0fea F0E7     		b __chu_fa64_xun_huan
 2008              	__di_yi_wei:	            @低32位移位
 2009 0fec 7F08     		lsrs r7, r7, # 1
 2010 0fee EED1     		bne __chu_fa64_xun_huan
 2011 0ff0 1846     		mov r0, r3
 2012 0ff2 2946     		mov r1, r5
 2013 0ff4 F8BD     		pop {r3-r7,pc}
 2014              	__chu_fa64_fan_hui0:
 2015 0ff6 0020     		movs r0, # 0
 2016 0ff8 0021     		movs r1, # 0
 2017 0ffa F8BD     		pop {r3-r7,pc}
 2018              	__chengfa:
 2019              		@入R0 乘以 R1
 2020              		@出 R0高32 ， R1低32
 2021              		@0xffffffff*0xffffffff
 2022              		@4        F F F E 0 0 0 1                       @4
 2023              		@3                F F F E 0 0 0 1               @3
 2024              		@2                F F F E 0 0 0 1               @2
 2025              		@1                        F F F E 0 0 0 1       @1
ARM GAS  1.s 			page 39


 2026              		@         F F F F F F F E 0 0 0 0 0 0 0 1
 2027 0ffc FCB5     		push {r2-r7,lr}
 2028 0ffe 0028     		cmp r0, # 0
 2029 1000 1ED0     		beq __cheng_fa_fan_hui
 2030 1002 0029     		cmp r1, # 0
 2031 1004 1CD0     		beq __cheng_fa_fan_hui
 2032              	__ji_suan_cheng_fa:
 2033 1006 0246     		mov r2, r0
 2034 1008 0B46     		mov r3, r1
 2035 100a 000C     		lsrs r0, r0, # 16       @高16
 2036 100c 1204     		lsls r2, r2, # 16       @ 低16
 2037 100e 120C     		lsrs r2, r2, # 16
 2038 1010 090C     		lsrs r1, r1, # 16       @高16
 2039 1012 1B04     		lsls r3, r3, # 16       @低16
 2040 1014 1B0C     		lsrs r3, r3, # 16
 2041 1016 1446     		mov r4, r2
 2042 1018 0546     		mov r5, r0
 2043 101a 5A43     		muls r2, r2, r3         @1
 2044 101c 5843     		muls r0, r0, r3         @2
 2045 101e 4C43     		muls r4, r4, r1         @3
 2046 1020 4D43     		muls r5, r5, r1         @4
 2047 1022 0646     		mov r6, r0
 2048 1024 2746     		mov r7, r4
 2049 1026 0004     		lsls r0, r0, # 16       @2低32
 2050 1028 2404     		lsls r4, r4, # 16       @3低32
 2051 102a 360C     		lsrs r6, r6, # 16       @2高32
 2052 102c 3F0C     		lsrs r7, r7, # 16       @3高32
 2053 102e 0021     		movs r1, # 0
 2054 1030 1218     		adds r2, r2, r0         @低32
 2055 1032 4E41     		adcs r6, r6, r1         @高32
 2056 1034 1219     		adds r2, r2, r4
 2057 1036 7E41     		adcs r6, r6, r7
 2058 1038 7619     		adds r6, r6, r5
 2059 103a 3046     		mov r0, r6
 2060 103c 1146     		mov r1, r2
 2061 103e FCBD     		pop {r2-r7,pc}
 2062              	__cheng_fa_fan_hui:
 2063 1040 0020     		movs r0, # 0
 2064 1042 0021     		movs r1, # 0
 2065 1044 FCBD     		pop {r2-r7,pc}
 2066              		
 2067              	_chufa:				@软件除法
 2068              		@ r0 除以 r1 等于 商(r0)
 2069 1046 1EB5     		push {r1-r4,lr}
 2070 1048 0028     		cmp r0, # 0
 2071 104a 0ED0     		beq _chufafanhui
 2072 104c 0029     		cmp r1, # 0
 2073 104e 0CD0     		beq _chufafanhui
 2074 1050 0246     		mov r2, r0
 2075 1052 0123     		movs r3, # 1
 2076 1054 DB07     		lsls r3, r3, # 31
 2077 1056 0020     		movs r0, # 0
 2078 1058 0446     		mov r4, r0
 2079              	_chufaxunhuan:
 2080 105a 5200     		lsls r2, r2, # 1
 2081 105c 6441     		adcs r4, r4, r4
 2082 105e 8C42     		cmp r4, r1
ARM GAS  1.s 			page 40


 2083 1060 01D3     		bcc _chufaweishubudao0
 2084 1062 C018     		adds r0, r0, r3
 2085 1064 641A     		subs r4, r4, r1
 2086              	_chufaweishubudao0:
 2087 1066 5B08     		lsrs r3, r3, # 1
 2088 1068 F7D1     		bne _chufaxunhuan
 2089              	_chufafanhui:
 2090 106a 1EBD     		pop {r1-r4,pc}
 2091              	
 2092              	_nmi_handler:
 2093 106c 7047     		bx lr
 2094              	_hard_fault:
 2095 106e 7047     		bx lr
 2096              	_svc_handler:
 2097 1070 7047     		bx lr
 2098              	_pendsv_handler:
 2099 1072 7047     		bx lr
 2100              	_systickzhongduan:
 2101 1074 10B5     		push {r4,lr}
 2102 1076 3748     		ldr r0, = 0xe0000d04
 2103 1078 3749     		ldr r1, = 0x02000000
 2104 107a 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 2105 107c 374A     		ldr r2, = shangxiabi_qiehuan
 2106 107e 1368     		ldr r3, [r2]
 2107 1080 012B     		cmp r3, # 1
 2108 1082 28D1     		bne __shangbi_dft
 2109 1084 0023     	        movs r3, # 0
 2110 1086 1360     		str r3, [r2]
 2111 1088 354A     		ldr r2, = 0x48000400
 2112 108a 0223     		movs r3, #  0x02
 2113 108c 9362     		str r3, [r2, # 0x28]    @cd4053_9_10  0X28上臂开
 2114 108e 3548     		ldr r0, = liangcheng
 2115 1090 3549     		ldr r1, = shangbi_liangcheng
 2116 1092 0068     		ldr r0, [r0]
 2117 1094 4000     		lsls r0, r0, # 1
 2118 1096 354A     		ldr r2, = 0x48000000
 2119 1098 0B5A     		ldrh  r3, [r1, r0]
 2120 109a 5361     		str r3, [r2, # 0x14]
 2121 109c 344A     		ldr r2, = dma_r
 2122 109e 3548     		ldr r0, = 0x40020000
 2123 10a0 C068     		ldr r0, [r0, # 0x0c]
 2124 10a2 1060     		str r0, [r2]
 2125 10a4 FFF72DFE 		bl __dft
 2126 10a8 C043     		mvns r0, r0
 2127 10aa C943     		mvns r1, r1
 2128 10ac 0130     		adds r0, r0, # 1
 2129 10ae 0131     		adds r1, r1, # 1
 2130 10b0 314A     		ldr r2, = xiabi_rr
 2131 10b2 324B     		ldr r3, = xiabi_ii
 2132 10b4 1060     		str r0, [r2]
 2133 10b6 1960     		str r1, [r3]
 2134 10b8 0446     	        mov r4, r0
 2135 10ba 314A     		ldr r2, = lvboqizhizhen3
 2136 10bc 3148     		ldr r0, =lvboqihuanchong3
 2137 10be FFF748FE 		bl __lv_bo_qi
 2138 10c2 3149     		ldr r1, = xiabi_i
 2139 10c4 0860     		str r0, [r1]
ARM GAS  1.s 			page 41


 2140 10c6 2146     		mov r1, r4
 2141 10c8 304A     		ldr r2, = lvboqizhizhen2
 2142 10ca 3148     		ldr r0, = lvboqihuanchong2
 2143 10cc FFF741FE 		bl __lv_bo_qi
 2144 10d0 3049     		ldr r1, = xiabi_r
 2145 10d2 0860     		str r0, [r1]
 2146 10d4 34E0     		b __systick_fanhui
 2147              		
 2148              	__shangbi_dft:
 2149 10d6 0123     		movs r3, # 1
 2150 10d8 1360     		str r3, [r2]
 2151 10da 214A     		ldr r2, = 0x48000400
 2152 10dc 0223     	        movs r3, #  0x02
 2153 10de 9361     		str r3, [r2, # 0x18]    @cd4053_9_10 下臂开
 2154 10e0 2048     	        ldr r0, = liangcheng
 2155 10e2 2D49     		ldr r1, = xiabi_liangcheng
 2156 10e4 0068     		ldr r0, [r0]
 2157 10e6 4000     		lsls r0, r0, # 1
 2158 10e8 204A     		ldr r2, = 0x48000000
 2159 10ea 0B5A     		ldrh r3, [r1, r0]
 2160 10ec 5361     		str r3, [r2, # 0x14]
 2161 10ee 2B4A     		ldr r2, = dma_i
 2162 10f0 2048     		ldr r0, = 0x40020000
 2163 10f2 C068     		ldr r0, [r0, # 0x0c]
 2164 10f4 1060     		str r0, [r2]
 2165 10f6 FFF704FE 		bl __dft
 2166 10fa 294A     		ldr r2, = shangbi_rr
 2167 10fc 294B     		ldr r3, = shangbi_ii
 2168 10fe 1060     		str r0, [r2]
 2169 1100 1960     		str r1, [r3]
 2170 1102 0446     		mov r4, r0
 2171 1104 284A     		ldr r2, = lvboqizhizhen1
 2172 1106 2948     		ldr r0, =lvboqihuanchong1
 2173 1108 FFF723FE 		bl __lv_bo_qi
 2174 110c 2849     		ldr r1, = shangbi_i
 2175 110e 0860     		str r0, [r1]
 2176 1110 2146     		mov r1, r4
 2177 1112 284A     	        ldr r2, = lvboqizhizhen
 2178 1114 2848     		ldr r0, =lvboqihuanchong
 2179 1116 FFF71CFE 		bl __lv_bo_qi
 2180 111a 2849     		ldr r1, = shangbi_r
 2181 111c 0860     		str r0, [r1]
 2182 111e 2848     		ldr r0, = jishu
 2183 1120 0168     		ldr r1, [r0]
 2184 1122 0131     		adds r1, r1, # 1
 2185 1124 0160     		str r1, [r0]
 2186 1126 0529     		cmp r1, # 5
 2187 1128 0AD1     		bne __systick_fanhui
 2188 112a 0021     		movs r1, # 0
 2189 112c 0160     		str r1, [r0]
 2190 112e 2548     		ldr r0, = xianshi_biaozhi
 2191 1130 0121     		movs r1, # 1
 2192 1132 0160     		str r1, [r0]
 2193 1134 FFF7F6FB 		bl __jisuan_z_fudu
 2194 1138 2348     		ldr r0, = zidong_dangwei_kaiguan
 2195 113a 0068     		ldr r0, [r0]
 2196 113c 0128     		cmp r0, # 1
ARM GAS  1.s 			page 42


 2197 113e FFD0     		beq __systick_fanhui
 2198              	@	bl __zidong_dangwei
 2199              	__systick_fanhui:	
 2200 1140 10BD     		pop {r4,pc}
 2201              	aaa:
 2202 1142 7047     		bx lr
 2203 1144 00100000 		.ltorg
 2203      20000020 
 2203      0C300140 
 2203      00200000 
 2203      040D00E0 
 2204              		.end
ARM GAS  1.s 			page 43


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 jiaozhun33
                 1.s:11     .data:0000000000000010 jiaozhun_100
                 1.s:13     .data:0000000000000020 jiaozhun_300
                 1.s:15     .data:0000000000000030 jiaozhun_1K
                 1.s:17     .data:0000000000000040 jiaozhun_3K
                 1.s:19     .data:0000000000000050 jiaozhun_10K
                 1.s:21     .data:0000000000000060 jiaozhun_30K
                 1.s:23     .data:0000000000000070 jiaozhun_100K
                 1.s:25     .data:0000000000000080 jiaozhun_300K
                 1.s:27     .data:0000000000000090 pinlv_100hz
                 1.s:29     .data:00000000000000a0 pinlv_1khz
                 1.s:31     .data:00000000000000b0 pinlv_10khz
                 1.s:33     .data:00000000000000c0 pinlv_100khz
                 1.s:36     .data:00000000000000d0 $d
                 1.s:37     .data:00000000000000d0 jiaodu_jiaozhun_yong_cordic
                 1.s:39     .data:00000000000001c0 jiaozhun_yong_cordic
                 1.s:41     .data:0000000000000238 cordic_yong_cos_sin
                 1.s:43     .data:00000000000002b8 cordic_yong_atan_biao
                 1.s:46     .data:0000000000000300 zheng_xian_100khz
                 1.s:49     .data:0000000000000320 zheng_xian_10khz
                 1.s:52     .data:0000000000000390 zheng_xian_1khz
                 1.s:55     .data:0000000000000780 zheng_xian_100hz
                 1.s:59     .data:0000000000000f50 cos_sin_biao_100k
                 1.s:61     .data:0000000000000ff4 cos_sin_biao_10k
                 1.s:63     .data:0000000000001638 cos_sin_biao_100_1k
                 1.s:65     .data:0000000000003578 shangbi_liangcheng
                 1.s:67     .data:000000000000358a xiabi_liangcheng
                 1.s:70     .data:00000000000035a0 zukang_xiaoshu_dian
                 1.s:73     .data:00000000000035b0 zukang_huansuan_biao
                 1.s:75     .data:00000000000035d4 zukang_danwei
                 1.s:78     .data:00000000000035f8 an_jian_biao
                 1.s:489    .text:0000000000000254 __an_jian0
                 1.s:461    .text:000000000000021e __dang_wei_jia
                 1.s:431    .text:00000000000001e4 __pin_lv_jia
                 1.s:429    .text:00000000000001e2 __an_jian3
                 1.s:83     .data:0000000000003608 pinlv_biao
                 1.s:822    .text:0000000000000550 __pinlv_100
                 1.s:892    .text:0000000000000664 __pinlv_1K
                 1.s:963    .text:0000000000000740 __pinlv_10K
                 1.s:1031   .text:000000000000081c __pinlv_100K
                 1.s:89     .data:0000000000003620 pinlv_xianshi_biao
                 1.s:94     .data:0000000000003630 dangwei_xianshi_biao
                 1.s:105    .data:0000000000003654 kong
                 1.s:107    .data:0000000000003658 _fu
                 1.s:109    .data:0000000000003659 jiaodufuhao
                 1.s:111    .data:000000000000365d yjmwxwx
                 1.s:114    *ABS*:0000000020001000 STACKINIT
                 1.s:115    *ABS*:0000000020000000 asciimabiao
                 1.s:116    *ABS*:0000000020000020 lcd_beiguang
                 1.s:117    *ABS*:0000000020000024 shangbi_r
                 1.s:118    *ABS*:0000000020000028 shangbi_i
                 1.s:119    *ABS*:000000002000002c xiabi_r
                 1.s:120    *ABS*:0000000020000030 xiabi_i
                 1.s:121    *ABS*:0000000020000034 shangxiabi_qiehuan
                 1.s:122    *ABS*:0000000020000038 liangcheng
                 1.s:123    *ABS*:000000002000003c z_r
ARM GAS  1.s 			page 44


                 1.s:124    *ABS*:0000000020000040 z_i
                 1.s:125    *ABS*:0000000020000044 dma_r
                 1.s:126    *ABS*:0000000020000048 dma_i
                 1.s:127    *ABS*:000000002000004c huandangyanshi
                 1.s:128    *ABS*:0000000020000050 shangbi_rr
                 1.s:129    *ABS*:0000000020000054 shangbi_ii
                 1.s:130    *ABS*:0000000020000058 xiabi_rr
                 1.s:131    *ABS*:000000002000005c xiabi_ii
                 1.s:132    *ABS*:0000000020000060 jishu
                 1.s:133    *ABS*:0000000020000064 xianshi_biaozhi
                 1.s:134    *ABS*:0000000020000068 z_fudu
                 1.s:135    *ABS*:000000002000006c cossin
                 1.s:136    *ABS*:0000000020000070 pinlv
                 1.s:137    *ABS*:0000000020000074 anjian
                 1.s:138    *ABS*:0000000020000078 zhenfu
                 1.s:139    *ABS*:000000002000007c shezhi_pinlv
                 1.s:140    *ABS*:0000000020000080 zidong_dangwei_kaiguan
                 1.s:141    *ABS*:0000000020000084 z_r_jiaozhun
                 1.s:142    *ABS*:0000000020000088 z_i_jiaozhun
                 1.s:145    *ABS*:0000000020000100 dianyabiao
                 1.s:146    *ABS*:00000000200008d0 lvboqizhizhen
                 1.s:147    *ABS*:00000000200008d8 lvboqihuanchong
                 1.s:148    *ABS*:0000000020000a68 lvboqizhizhen1
                 1.s:149    *ABS*:0000000020000a70 lvboqihuanchong1
                 1.s:150    *ABS*:0000000020000c00 lvboqizhizhen2
                 1.s:151    *ABS*:0000000020000c08 lvboqihuanchong2
                 1.s:152    *ABS*:0000000020000d98 lvboqizhizhen3
                 1.s:153    *ABS*:0000000020000da0 lvboqihuanchong3
                 1.s:158    .text:0000000000000000 vectors
                 1.s:204    .text:00000000000000b0 _start
                 1.s:2092   .text:000000000000106c _nmi_handler
                 1.s:2094   .text:000000000000106e _hard_fault
                 1.s:2096   .text:0000000000001070 _svc_handler
                 1.s:2098   .text:0000000000001072 _pendsv_handler
                 1.s:2100   .text:0000000000001074 _systickzhongduan
                 1.s:2201   .text:0000000000001142 aaa
                            .text:0000000000000000 $d
                 1.s:203    .text:00000000000000b0 $t
                 1.s:205    .text:00000000000000b0 shizhong
                 1.s:212    .text:00000000000000bc denghse
                 1.s:216    .text:00000000000000c2 dengpllguan
                 1.s:228    .text:00000000000000d6 dengpll
                 1.s:237    .text:00000000000000e0 _waisheshizhong
                 1.s:268    .text:0000000000000106 _neicunqingling
                 1.s:258    .text:00000000000000f6 _neicunqingling1
                 1.s:262    .text:00000000000000fc _neicunqinglingxunhuan1
                 1.s:277    .text:0000000000000114 _waishezhongduan
                 1.s:272    .text:000000000000010c _neicunqinglingxunhuan
                 1.s:299    .text:000000000000011a io_she_zhi
                 1.s:334    .text:0000000000000132 spi_chushihua
                 1.s:341    .text:000000000000013c _lcdchushihua
                 1.s:1714   .text:0000000000000de6 _xielcd
                 1.s:1707   .text:0000000000000ddc _lcdyanshi
                 1.s:1690   .text:0000000000000dc0 _lcdxianshi
                 1.s:373    .text:0000000000000184 yjmwxwx_yanshi
                 1.s:382    .text:0000000000000194 _adcchushihua
                 1.s:386    .text:000000000000019a _dengadcjiaozhun
ARM GAS  1.s 			page 45


                 1.s:392    .text:00000000000001a4 _kaiadc
                 1.s:397    .text:00000000000001ac _deng_adc_wen_ding
                 1.s:401    .text:00000000000001b2 _tongdaoxuanze
                 1.s:808    .text:000000000000053c __pinlv_shezhi
                 1.s:490    .text:0000000000000254 ting
                 1.s:441    .text:00000000000001f6 __pin_lv_fan_hui
                 1.s:455    .text:0000000000000214 __pinlv_xianshi_yanshi
                 1.s:471    .text:0000000000000230 __dang_wei_fan_hui
                 1.s:485    .text:000000000000024e __dangwei_xianshi_yanshi
                 1.s:495    .text:0000000000000256 dzd
                 1.s:1180   .text:0000000000000994 __jisuan_zukang
                 1.s:1417   .text:0000000000000b70 __xianshi_zukang
                 1.s:607    .text:00000000000003d0 __jiaozhun_jiaodu
                 1.s:587    .text:00000000000003ac __xiangwei_xuanzhuan
                 1.s:547    .text:0000000000000370 __jiaozhun_fudu
                 1.s:1491   .text:0000000000000c02 __xianshi_liangcheng
                 1.s:800    .text:000000000000052e __an_jian
                 1.s:539    .text:00000000000002be __cai_dan_diao_du
                 1.s:545    .text:00000000000002c8 $d
                 1.s:548    .text:0000000000000370 $t
                 1.s:1366   .text:0000000000000b24 __ji_suan_fu_du
                 1.s:562    .text:000000000000038a __fudu_jiaozhun_xunhuan
                 1.s:569    .text:0000000000000394 __fudu_jian
                 1.s:566    .text:0000000000000390 __fudu_jia
                 1.s:571    .text:0000000000000396 __jiaozhun_xuanzhuan
                 1.s:578    .text:00000000000003a2 __baocun_fudu_jiaozhun
                 1.s:582    .text:00000000000003a8 __jiaozhun_fudu_fanhui
                 1.s:629    .text:00000000000003f6 __jiaodu_jiaozhun_xunhuan
                 1.s:1306   .text:0000000000000a64 __atan2_ji_suan
                 1.s:668    .text:0000000000000444 __jiaodu_fanzhuan
                 1.s:697    .text:000000000000047c __jiaodu_xuanzhuan
                 1.s:712    .text:0000000000000496 __xianshi_shangxiabi_jiaodu
                 1.s:731    .text:00000000000004be __xian_shi_jiao_du
                 1.s:751    .text:00000000000004e4 __jiaodu_bu_shi_zheng
                 1.s:756    .text:00000000000004ee __xian_shi_jiaodu
                 1.s:1766   .text:0000000000000e4c _zhuanascii
                 1.s:769    .text:0000000000000508 __jiaozhun_shu_zhi
                 1.s:776    .text:0000000000000512 __z_jiaozhun_xunhuan
                 1.s:783    .text:000000000000051c __z_jian
                 1.s:780    .text:0000000000000518 __z_jia
                 1.s:785    .text:000000000000051e __z_xuanzhuan
                 1.s:792    .text:000000000000052a __baocun_z_jiaozhun
                 1.s:890    .text:00000000000005ca $d
                 1.s:890    .text:00000000000005cc $d
                 1.s:894    .text:0000000000000664 $t
                 1.s:960    .text:00000000000006de $d
                 1.s:960    .text:00000000000006e0 $d
                 1.s:965    .text:0000000000000740 $t
                 1.s:1030   .text:00000000000007ba $d
                 1.s:1030   .text:00000000000007bc $d
                 1.s:1033   .text:000000000000081c $t
                 1.s:1098   .text:0000000000000896 __pinlv_yanshi
                 1.s:1100   .text:0000000000000898 __pinlv_yanshi_xunhuan
                 1.s:1104   .text:000000000000089e __pin_lv_xian_shi
                 1.s:1117   .text:00000000000008ba $d
                 1.s:1117   .text:00000000000008bc $d
                 1.s:1119   .text:0000000000000924 __jisuan_z_fudu
ARM GAS  1.s 			page 46


                 1.s:1120   .text:0000000000000924 $t
                 1.s:2067   .text:0000000000001046 _chufa
                 1.s:1145   .text:000000000000095a __zidong_dangwei
                 1.s:1147   .text:000000000000095c __huan_dang
                 1.s:1167   .text:0000000000000982 __dang_wei_jian
                 1.s:1176   .text:0000000000000992 __zi_dong_dang_wei_fan_hui
                 1.s:1796   .text:0000000000000e7e __fu_shu_chu_fa
                 1.s:1202   .text:00000000000009ba __jisuan_cos_sin
                 1.s:1212   .text:00000000000009c8 __xiaoyu_180
                 1.s:1214   .text:00000000000009ca __js_cos_sin
                 1.s:1223   .text:00000000000009da __jisuan_jiaodu_bushi0
                 1.s:1225   .text:00000000000009dc __jiance_chao90
                 1.s:1232   .text:00000000000009e8 __xiaoyu_90
                 1.s:1234   .text:00000000000009ea __suan_cossin
                 1.s:1245   .text:0000000000000a02 __suan_cos_sin1
                 1.s:1260   .text:0000000000000a1c __cordic_cos_sin
                 1.s:1251   .text:0000000000000a0e __cos_sin_fanhui
                 1.s:1258   .text:0000000000000a1a __cossin_fh
                 1.s:1274   .text:0000000000000a2c cordicxunhuan
                 1.s:1319   .text:0000000000000a7a __cordic_atan2_xun_huan
                 1.s:1320   .text:0000000000000a7a __du_cos_sin
                 1.s:1340   .text:0000000000000a9e __ni_shi_zhen_zhuan
                 1.s:1333   .text:0000000000000a92 __shun_shi_zhen_zhuan
                 1.s:1346   .text:0000000000000aa8 __xuan_zhuan_wan
                 1.s:1365   .text:0000000000000acc $d
                 1.s:1371   .text:0000000000000b24 $t
                 1.s:1376   .text:0000000000000b2e _shibubushifushu
                 1.s:1381   .text:0000000000000b36 _xububushifushu
                 1.s:1386   .text:0000000000000b3e _panduanxubushibushi0
                 1.s:1390   .text:0000000000000b44 _jisuanfudu1
                 1.s:1405   .text:0000000000000b5a _alpha_min_beta_max
                 1.s:1397   .text:0000000000000b4c _alpha_max_beta_min
                 1.s:1416   .text:0000000000000b68 $d
                 1.s:1418   .text:0000000000000b70 $t
                 1.s:1441   .text:0000000000000ba0 aaa1
                 1.s:1446   .text:0000000000000baa aaa2
                 1.s:1470   .text:0000000000000bda bbb1
                 1.s:1475   .text:0000000000000be4 bbb2
                 1.s:1505   .text:0000000000000c1e __xianshi_shangxia_bi
                 1.s:1520   .text:0000000000000c3c aa1
                 1.s:1525   .text:0000000000000c46 aa2
                 1.s:1546   .text:0000000000000c70 bb1
                 1.s:1551   .text:0000000000000c7a bb2
                 1.s:1575   .text:0000000000000cac cc1
                 1.s:1580   .text:0000000000000cb6 cc2
                 1.s:1601   .text:0000000000000ce0 dd1
                 1.s:1606   .text:0000000000000cea dd2
                 1.s:1618   .text:0000000000000d02 __dft
                 1.s:1634   .text:0000000000000d20 __dft_xunhuan
                 1.s:1642   .text:0000000000000d2e __du_sin
                 1.s:1662   .text:0000000000000d52 __lv_bo_qi
                 1.s:1679   .text:0000000000000d6c __huanchong_leijia
                 1.s:1687   .text:0000000000000d7a $d
                 1.s:1687   .text:0000000000000d7c $d
                 1.s:1691   .text:0000000000000dc0 $t
                 1.s:1699   .text:0000000000000dce _lcdxianshixunhuan
                 1.s:1710   .text:0000000000000de0 _lcdyanshixunhuan
ARM GAS  1.s 			page 47


                 1.s:1728   .text:0000000000000dfe __lcd_ming_ling
                 1.s:1725   .text:0000000000000dfa __lcd_shu_ju
                 1.s:1730   .text:0000000000000e00 __xie_lcd_shu_ju
                 1.s:1753   .text:0000000000000e3c __spi_mang
                 1.s:1758   .text:0000000000000e44 __yanshi_595
                 1.s:1760   .text:0000000000000e46 __yanshi__595
                 1.s:1773   .text:0000000000000e56 _xunhuanqiuma
                 1.s:1792   .text:0000000000000e7a _qiumafanhui
                 1.s:1787   .text:0000000000000e72 _meidaoxiaoshudian
                 1.s:1806   .text:0000000000000e8c __tiao_guo_bei_chu_shu_0_pan_duan
                 1.s:1812   .text:0000000000000e96 __ji_suan_chu_fa
                 1.s:1824   .text:0000000000000eaa b1
                 1.s:1831   .text:0000000000000eb6 b2
                 1.s:2018   .text:0000000000000ffc __chengfa
                 1.s:1833   .text:0000000000000eba b3
                 1.s:1838   .text:0000000000000ec2 a1
                 1.s:1849   .text:0000000000000ed6 b4
                 1.s:1855   .text:0000000000000ee0 b5
                 1.s:1857   .text:0000000000000ee4 b6
                 1.s:1862   .text:0000000000000eec a2
                 1.s:1881   .text:0000000000000f10 b7
                 1.s:1887   .text:0000000000000f1a b8
                 1.s:1974   .text:0000000000000fb4 __chufa64
                 1.s:1893   .text:0000000000000f26 __bao_cun_chu_fa_shi_bu_jie_guo
                 1.s:1905   .text:0000000000000f38 b9
                 1.s:1912   .text:0000000000000f44 b10
                 1.s:1918   .text:0000000000000f50 a3
                 1.s:1928   .text:0000000000000f62 b11
                 1.s:1935   .text:0000000000000f6e b12
                 1.s:1941   .text:0000000000000f7a a4
                 1.s:1952   .text:0000000000000f8e b13
                 1.s:1958   .text:0000000000000f98 b14
                 1.s:1965   .text:0000000000000fa6 __bao_cun_chu_fa_xu_bu_jie_guo
                 1.s:2014   .text:0000000000000ff6 __chu_fa64_fan_hui0
                 1.s:1984   .text:0000000000000fc2 __chu_fa64_ji_suan
                 1.s:1991   .text:0000000000000fce __chu_fa64_xun_huan
                 1.s:2000   .text:0000000000000fde __chu_fa_yi_wei
                 1.s:2008   .text:0000000000000fec __di_yi_wei
                 1.s:2062   .text:0000000000001040 __cheng_fa_fan_hui
                 1.s:2032   .text:0000000000001006 __ji_suan_cheng_fa
                 1.s:2089   .text:000000000000106a _chufafanhui
                 1.s:2079   .text:000000000000105a _chufaxunhuan
                 1.s:2086   .text:0000000000001066 _chufaweishubudao0
                 1.s:2148   .text:00000000000010d6 __shangbi_dft
                 1.s:2199   .text:0000000000001140 __systick_fanhui
                 1.s:2203   .text:0000000000001144 $d

NO UNDEFINED SYMBOLS
