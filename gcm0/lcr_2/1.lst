ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@lcr_2
   3              		@作者：yjmwxwx
   4              		@时间：2022-01-01
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              	H:
  10 0000 2048     		.ascii " H"
  11              	mH:
  12 0002 6D48     		.ascii "mH"
  13              	uH:
  14 0004 7548     		.ascii "uH"
  15              	nH:
  16 0006 6E48     		.ascii "nH"
  17 0008 00000000 		.align 4
  17      00000000 
  18              	diangan_danwei:
  19 0010 20000000 		.word diangan_danwei100hz
  20 0014 80000000 		.word diangan_danwei1khz
  21 0018 E0000000 		.word diangan_danwei10khz
  22 001c 40010000 		.word diangan_danwei100khz
  23              	diangan_danwei100hz:
  24 0020 04000000 		.word uH,uH,uH,uH,uH,uH,uH,mH
  24      04000000 
  24      04000000 
  24      04000000 
  24      04000000 
  25 0040 02000000 		.word mH,mH,mH,mH,mH,mH,mH,H
  25      02000000 
  25      02000000 
  25      02000000 
  25      02000000 
  26 0060 00000000 		.word H,H,H,H,H,H,H,H
  26      00000000 
  26      00000000 
  26      00000000 
  26      00000000 
  27              	diangan_danwei1khz:
  28 0080 06000000 		.word nH,uH,uH,uH,uH,uH,uH,uH
  28      04000000 
  28      04000000 
  28      04000000 
  28      04000000 
  29 00a0 04000000 		.word uH,mH,mH,mH,mH,mH,mH,mH
  29      02000000 
  29      02000000 
  29      02000000 
  29      02000000 
  30 00c0 02000000 		.word mH,mH,H,H,H,H,H,H
  30      02000000 
  30      00000000 
  30      00000000 
  30      00000000 
  31              	diangan_danwei10khz:
  32 00e0 06000000 		.word nH,uH,uH,uH,uH,uH,uH,uH
ARM GAS  1.s 			page 2


  32      04000000 
  32      04000000 
  32      04000000 
  32      04000000 
  33 0100 04000000 		.word uH,uH,uH,uH,mH,mH,mH,mH
  33      04000000 
  33      04000000 
  33      04000000 
  33      02000000 
  34 0120 02000000 		.word mH,mH,mH,mH,mH,H,H,H
  34      02000000 
  34      02000000 
  34      02000000 
  34      02000000 
  35              	diangan_danwei100khz:
  36 0140 06000000 		.word nH,nH,nH,uH,uH,uH,uH,uH
  36      06000000 
  36      06000000 
  36      04000000 
  36      04000000 
  37 0160 04000000 		.word uH,uH,uH,uH,uH,uH,uH,mH
  37      04000000 
  37      04000000 
  37      04000000 
  37      04000000 
  38 0180 02000000 		.word mH,mH,mH,mH,mH,mH,mH,mH
  38      02000000 
  38      02000000 
  38      02000000 
  38      02000000 
  39              	diangan_xiaoshudian:
  40 01a0 B0010000 		.word diangan_100hz
  41 01a4 C8010000 		.word diangan_1khz
  42 01a8 E0010000 		.word diangan_10khz
  43 01ac F8010000 		.word diangan_100khz
  44              	diangan_100hz:
  45 01b0 03040404 		.byte 3,4,4,4,0xff,0xff,0xff,3
  45      FFFFFF03 
  46 01b8 03030404 		.byte 3,3,4,4,4,0xff,0xff,2
  46      04FFFF02 
  47 01c0 03030304 		.byte 3,3,3,4,4,4,0xff,0xff
  47      0404FFFF 
  48              	diangan_1khz:
  49 01c8 FF030303 		.byte 0xff,3,3,3,4,4,4,0xff
  49      040404FF 
  50 01d0 FF020303 		.byte 0xff,2,3,3,3,4,4,0xff
  50      030404FF 
  51 01d8 FFFF0203 		.byte 0xff,0xff,2,3,3,3,4,0xff
  51      030304FF 
  52              	diangan_10khz:
  53 01e0 04020202 		.byte 4,2,2,2,3,3,3,4
  53      03030304 
  54 01e8 04FFFFFF 		.byte 4,0xff,0xff,0xff,2,3,3,4
  54      02030304 
  55 01f0 0404FFFF 		.byte 4,4,0xff,0xff,0xff,2,3,4
  55      FF020304 
  56              	diangan_100khz:
ARM GAS  1.s 			page 3


  57 01f8 03040401 		.byte 3,4,4,1,2,2,2,3
  57      02020203 
  58 0200 03040404 		.byte 3,4,4,4,0xff,0xff,0xff,3
  58      FFFFFF03 
  59 0208 03030404 		.byte 3,3,4,4,4,0xff,0xff,0xff
  59      04FFFFFF 
  60              		
  61              		
  62              	MF:
  63 0210 6D46     		.ascii "mF"
  64              	UF:
  65 0212 7546     		.ascii "uF"
  66              	NF:
  67 0214 6E46     		.ascii "nF"
  68              	PF:
  69 0216 7046     		.ascii "pF"
  70 0218 00000000 		.align 4
  70      00000000 
  71              	dianrong_danwei:
  72 0220 30020000 		.word dianrong_danwei100hz
  73 0224 90020000 		.word dianrong_danwei1khz
  74 0228 F0020000 		.word dianrong_danwei10khz
  75 022c 50030000 		.word dianrong_danwei100khz
  76              	dianrong_danwei100hz:
  77 0230 10020000 		.word MF,UF,UF,UF,UF,UF,UF,UF
  77      12020000 
  77      12020000 
  77      12020000 
  77      12020000 
  78 0250 12020000 		.word UF,UF,UF,UF,NF,NF,NF,NF
  78      12020000 
  78      12020000 
  78      12020000 
  78      14020000 
  79 0270 14020000 		.word NF,NF,NF,PF,PF,PF,PF,PF
  79      14020000 
  79      14020000 
  79      16020000 
  79      16020000 
  80              	dianrong_danwei1khz:
  81 0290 10020000 		.word MF,UF,UF,UF,UF,UF,UF,NF
  81      12020000 
  81      12020000 
  81      12020000 
  81      12020000 
  82 02b0 14020000 		.word NF,NF,NF,NF,NF,NF,NF,NF
  82      14020000 
  82      14020000 
  82      14020000 
  82      14020000 
  83 02d0 14020000 		.word NF,NF,PF,PF,PF,PF,PF,PF
  83      14020000 
  83      16020000 
  83      16020000 
  83      16020000 
  84              	dianrong_danwei10khz:
  85 02f0 12020000 		.word UF,UF,UF,UF,UF,UF,UF,NF
ARM GAS  1.s 			page 4


  85      12020000 
  85      12020000 
  85      12020000 
  85      12020000 
  86 0310 14020000 		.word NF,NF,NF,NF,NF,NF,NF,NF
  86      14020000 
  86      14020000 
  86      14020000 
  86      14020000 
  87 0330 16020000 		.word PF,PF,PF,PF,PF,PF,PF,PF
  87      16020000 
  87      16020000 
  87      16020000 
  87      16020000 
  88              	dianrong_danwei100khz:
  89 0350 12020000 		.word UF,UF,UF,UF,NF,NF,NF,NF
  89      12020000 
  89      12020000 
  89      12020000 
  89      14020000 
  90 0370 14020000 		.word NF,NF,NF,NF,NF,PF,PF,PF
  90      14020000 
  90      14020000 
  90      14020000 
  90      14020000 
  91 0390 16020000 		.word PF,PF,PF,PF,PF,PF,PF,PF
  91      16020000 
  91      16020000 
  91      16020000 
  91      16020000 
  92              	dianrong_xiaoshudian:
  93 03b0 C0030000 		.word dianrong_xiaoshudian100hz
  94 03b4 D8030000 		.word dianrong_xiaoshudian1khz
  95 03b8 F0030000 		.word dianrong_xiaoshudian10khz
  96 03bc 08040000 		.word dianrong_xiaoshudian100khz
  97              	dianrong_xiaoshudian100hz:
  98 03c0 04040404 		.byte 4,4,4,4,4,4,3,2
  98      04040302 
  99 03c8 02020303 		.byte 2,2,3,3,3,3,3,3
  99      03030303 
 100 03d0 03030304 		.byte 3,3,3,4,4,4,4,3
 100      04040403 
 101              	dianrong_xiaoshudian1khz:
 102 03d8 03040302 		.byte 3,4,3,2,2,2,2,4
 102      02020204 
 103 03e0 03020202 		.byte 3,2,2,2,2,2,2,1
 103      02020201 
 104 03e8 01010403 		.byte 1,1,4,3,3,3,3,3
 104      03030303 
 105              	dianrong_xiaoshudian10khz:
 106 03f0 FF030303 		.byte 0xff,3,3,3,2,2,1,3
 106      02020103 
 107 03f8 03030202 		.byte 3,3,2,2,2,1,1,1
 107      02010101 
 108 0400 03030303 		.byte 3,3,3,3,2,2,2,2
 108      02020202 
 109              	dianrong_xiaoshudian100khz:
ARM GAS  1.s 			page 5


 110 0408 04010101 		.byte 4,1,1,1,3,3,3,2
 110      03030302 
 111 0410 02020101 		.byte 2,2,1,1,1,3,3,3
 111      01030303 
 112 0418 02020202 		.byte 2,2,2,2,2,1,1,1
 112      02010101 
 113              	dianrong_weishu:
 114 0420 30040000 		.word dianrong_weishu100hz
 115 0424 60040000 		.word dianrong_weishu1khz
 116 0428 90040000 		.word dianrong_weishu10khz
 117 042c C0040000 		.word dianrong_weishu100khz
 118              	dianrong_weishu100hz:	
 119 0430 E8030A00 		.short 1000,10,10,10,100,100,10,10
 119      0A000A00 
 119      64006400 
 119      0A000A00 
 120 0440 0A006400 		.short 10,100,1000,1000,1000,10,10,100
 120      E803E803 
 120      E8030A00 
 120      0A006400 
 121 0450 0A000A00 		.short 10,10,100,10,10,100,100,100
 121      64000A00 
 121      0A006400 
 121      64006400 
 122              	dianrong_weishu1khz:
 123 0460 E8036400 		.short 1000,100,10,1,1,1,1,10
 123      0A000100 
 123      01000100 
 123      01000A00 
 124 0470 01000100 		.short 1,1,1,1,10,10,10,10
 124      01000100 
 124      0A000A00 
 124      0A000A00 
 125 0480 0A000A00 		.short 10,10,100,10,10,100,100,1000
 125      64000A00 
 125      0A006400 
 125      6400E803 
 126              	dianrong_weishu10khz:
 127 0490 E8036400 		.short 1000,100,100,100,100,100,10,10
 127      64006400 
 127      64006400 
 127      0A000A00 
 128 04a0 0A006400 		.short 10,100,10,10,100,10,10,100
 128      0A000A00 
 128      64000A00 
 128      0A006400 
 129 04b0 0A000A00 		.short 10,10,100,100,10,100,100,1000
 129      64006400 
 129      0A006400 
 129      6400E803 
 130              	dianrong_weishu100khz:
 131 04c0 E8030A00 		.short 1000,10,10,10,10,10,10,10
 131      0A000A00 
 131      0A000A00 
 131      0A000A00 
 132 04d0 0A006400 		.short 10,100,10,10,100,10,10,100
 132      0A000A00 
ARM GAS  1.s 			page 6


 132      64000A00 
 132      0A006400 
 133 04e0 0A000A00 		.short 10,10,100,100,100,100,100,1000
 133      64006400 
 133      64006400 
 133      6400E803 
 134              		
 135              	jiaozhun_0.5555:
 136 04f0 20353535 		.ascii " 555 "
 136      20
 137              	jiaozhun_1.666:
 138 04f5 20313636 		.ascii " 1663"
 138      33
 139              	jiaozhun_3.333:
 140 04fa 20333333 		.ascii " 3333"
 140      33
 141              	jiaozhun_5.555:
 142 04ff 20353535 		.ascii " 5555"
 142      35
 143              	jiaozhun_10:
 144 0504 20313020 		.ascii " 10  "
 144      20
 145              	jiaozhun_16.66:
 146 0509 31362E36 		.ascii "16.66"
 146      36
 147              	jiaozhun_33.33:
 148 050e 33332E33 		.ascii "33.33"
 148      33
 149              	jiaozhun_100:
 150 0513 20313030 		.ascii " 100 "
 150      20
 151              	jiaozhun_300:
 152 0518 20333030 		.ascii " 300 "
 152      20
 153              	jiaozhun_600:
 154 051d 20363030 		.ascii " 600 "
 154      20
 155              	jiaozhun_1k:	
 156 0522 20313030 		.ascii " 1000"
 156      30
 157              	jiaozhun_3k:
 158 0527 20333030 		.ascii " 3000"
 158      30
 159              	jiaozhun_6k:
 160 052c 20363030 		.ascii " 6000"
 160      30
 161              	jiaozhun_10k:
 162 0531 20203130 		.ascii "  10 "
 162      20
 163              	jiaozhun_30k:
 164 0536 20203330 		.ascii "  30 "
 164      20
 165              	jiaozhun_60k:
 166 053b 20203630 		.ascii "  60 "
 166      20
 167              	jiaozhun_100k:
 168 0540 20313030 		.ascii " 100 "
ARM GAS  1.s 			page 7


 168      20
 169              	jiaozhun_300k:
 170 0545 20333030 		.ascii " 300 "
 170      20
 171              	jiaozhun_600k:
 172 054a 20363030 		.ascii " 600 "
 172      20
 173              	jiaozhun_1M:
 174 054f 20203120 		.ascii "  1  "
 174      20
 175              	jiaozhun_1.8M:
 176 0554 20312E38 		.ascii " 1.8 "
 176      20
 177              	jiaozhun_3M:
 178 0559 20203320 		.ascii "  3  "
 178      20
 179              	jiaozhun_6M:
 180 055e 20203620 		.ascii "  6  "
 180      20
 181              	jiaozhun_18M:
 182 0563 20203138 		.ascii "  18 "
 182      20
 183              	jiaozhun:	
 184 0568 6A69616F 		.ascii "jiaozhun"
 184      7A68756E 
 185              	jiaozhun_wancheng:
 186 0570 6A69616F 		.ascii "jiao zhun wan le"
 186      207A6875 
 186      6E207761 
 186      6E206C65 
 187              	guan_ji:
 188 0580 2071696E 		.ascii " qing guan ji   "
 188      67206775 
 188      616E206A 
 188      69202020 
 189              	pinlv_100hz:
 190 0590 20207069 		.ascii "  pin lv 100HZ  "
 190      6E206C76 
 190      20313030 
 190      485A2020 
 191              	pinlv_1khz:
 192 05a0 20207069 		.ascii "  pin lv 1KHZ   "
 192      6E206C76 
 192      20314B48 
 192      5A202020 
 193              	pinlv_10khz:
 194 05b0 20207069 		.ascii "  pin lv 10KHZ  "
 194      6E206C76 
 194      2031304B 
 194      485A2020 
 195              	pinlv_100khz:
 196 05c0 20207069 		.ascii "  pin lv 100KHZ "
 196      6E206C76 
 196      20313030 
 196      4B485A20 
 197              	jiaozhun_xianshi_biao:
 198              		
ARM GAS  1.s 			page 8


 199              		.align 4
 200              	jiaodu_jiaozhun_yong_cordic:
 201 05d0 0080FFFF 		.int -32768,0,0,32768,23170,23170,30274,12540,32138,6393,32610,3212,32729,1608,32758,804,32766,402
 201      00000000 
 201      00000000 
 201      00800000 
 201      825A0000 
 202              	jiaozhun_yong_cordic:
 203 06c0 00800000 		.int 32768,16384,8192,4096,2048,1024,512,256,128,64,32,16,8,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1
 203      00400000 
 203      00200000 
 203      00100000 
 203      00080000 
 204              	cordic_yong_cos_sin:
 205 0738 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
 205      00400000 
 205      412D0000 
 205      412D0000 
 205      203B0000 
 206              	cordic_yong_atan_biao:	@弧度
 207 07b8 87640000 		.int 0x00006487,0x00003B58,0x00001F5B,0x00000FEA,0x000007FD,0x000003FF,0x000001FF,0x000000FF,0x000
 207      583B0000 
 207      5B1F0000 
 207      EA0F0000 
 207      FD070000 
 208 07f8 00000000 		.align 4
 208      00000000 
 209              	zheng_xian_100khz:
 210 0800 0A0D1012 		.byte 10,13,16,18,20,20,20,18,16,13,10,7,4,2,0,0,0,2,4,7
 210      14141412 
 210      100D0A07 
 210      04020000 
 210      00020407 
 211 0814 00000000 		.align 4
 211      00000000 
 211      00000000 
 212              	zheng_xian_10khz:
 213 0820 38003E00 		.short 56,62,69,76,82,88,93,98,102,106,108,110,111,111,110,108,106,102,98,93,88,82,76,69,62,56,49,
 213      45004C00 
 213      52005800 
 213      5D006200 
 213      66006A00 
 214 0884 00000000 		.align 4
 214      00000000 
 214      00000000 
 215              	zheng_xian_1khz:
 216 0890 8C009000 		.short 140,144,148,153,157,161,166,170,174,178,183,187,191,195,199,203,207,211,214,218,221,225,228
 216      94009900 
 216      9D00A100 
 216      A600AA00 
 216      AE00B200 
 217              		
 218              		.align 4
 219              	zheng_xian_100hz:
 220 0a20 18011901 		.short 280,281,283,285,287,288,290,292,294,295,297,299,301,302,304,306,308,309,311,313,315,316,318
 220      1B011D01 
 220      1F012001 
ARM GAS  1.s 			page 9


 220      22012401 
 220      26012701 
 221              		
 222              	
 223              		.align 4
 224              	cos_sin_biao_100k:
 225 11f0 00800000 		.int 0x00008000,0x00000000,0x0000678D,0xFFFFB4C4,0x0000278D,0xFFFF8644,0xFFFFD873,0xFFFF8644,0xFFF
 225      00000000 
 225      8D670000 
 225      C4B4FFFF 
 225      8D270000 
 226              		
 227              	cos_sin_biao_10k:
 228              	cos_sin_biao_1k:
 229 1294 00800000 		.int 0x8000,0x0000,0x79BC,0xFFFFD873,0x678D,0xFFFFB4C4,0x4B3C,0xFFFF9873,0x278D,0xFFFF8644,0x0000,
 229      00000000 
 229      BC790000 
 229      73D8FFFF 
 229      8D670000 
 230              	cos_sin_biao_100:
 231 1338 00800000 		.int 0x8000,0x0000,0x7EFD,0xFFFFEFF6,0x7BFA,0xFFFFE02B,0x7702,0xFFFFD0E2,0x702A,0xFFFFC256,0x678D,
 231      00000000 
 231      FD7E0000 
 231      F6EFFFFF 
 231      FA7B0000 
 232              	shangbi_liangcheng:
 233 14cc 0E000C00 		.short 0x0e,0x0c,0x0a,0x06,0x08,0x04,0x02,0x00
 233      0A000600 
 233      08000400 
 233      02000000 
 234 14dc 00000000 		.short 0x00,0x00,0x200,0x200,0x200,0x40,0x40,0x40
 234      00020002 
 234      00024000 
 234      40004000 
 235 14ec 40024002 		.short 0x240,0x240,0x240,0x240,0x240,0x240,0x240,0x240
 235      40024002 
 235      40024002 
 235      40024002 
 236              	xiabi_liangcheng:
 237 14fc 00000000 		.short 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
 237      00000000 
 237      00000000 
 237      00000000 
 238 150c 02000400 		.short 0x02,0x04,0x200,0x202,0x204,0x40,0x42,0x44
 238      00020202 
 238      04024000 
 238      42004400 
 239 151c 40024202 		.short 0x240,0x242,0x244,0x248,0x246,0x24a,0x24c,0x24e
 239      44024802 
 239      46024A02 
 239      4C024E02 
 240 152c 00000000 		.align 4
 241              	zukang_xiaoshu_dian:			@jdjd
 242 1530 03040404 		.byte 3,4,4,4,2,2,2,3
 242      02020203 
 243 1538 03040404 		.byte 3,4,4,4,4,2,2,3
 243      04020203 
ARM GAS  1.s 			page 10


 244 1540 03030401 		.byte 3,3,4,1,1,2,2,3
 244      01020203 
 245 1548 00000000 		.align 4
 245      00000000 
 246              	qiwang_fudu:	@期望幅度
 247 1550 50C30000 		.int 50000,10000,10000,10000,10000,10000,33333,10000
 247      10270000 
 247      10270000 
 247      10270000 
 247      10270000 
 248 1570 10270000 		.int 10000,5000,10000,10000,5000,10000,10000,5000
 248      88130000 
 248      10270000 
 248      10270000 
 248      88130000 
 249 1590 10270000 		.int 10000,10000,5000,10000,10000,1000,1000,1000
 249      10270000 
 249      88130000 
 249      10270000 
 249      10270000 
 250              	qiwang_jiaodu_100hz:
 251 15b0 00000000 		.int 0,0,0,0,0,0,0,0
 251      00000000 
 251      00000000 
 251      00000000 
 251      00000000 
 252 15d0 00000000 		.int 0,0,0,0,0,0,0,0
 252      00000000 
 252      00000000 
 252      00000000 
 252      00000000 
 253 15f0 00000000 		.int 0,0,0,0,0,0,0,0
 253      00000000 
 253      00000000 
 253      00000000 
 253      00000000 
 254              	qiwang_jiaodu_1khz:
 255 1610 00000000 		.int 0,0,0,0,0,0,0,0
 255      00000000 
 255      00000000 
 255      00000000 
 255      00000000 
 256 1630 00000000 		.int 0,0,0,0,0,0,0,0
 256      00000000 
 256      00000000 
 256      00000000 
 256      00000000 
 257 1650 00000000 		.int 0,0,0,0,0,0,0,0
 257      00000000 
 257      00000000 
 257      00000000 
 257      00000000 
 258              	qiwang_jiaodu_10khz:
 259 1670 00000000 		.int 0,0,0,0,0,0,0,0
 259      00000000 
 259      00000000 
 259      00000000 
ARM GAS  1.s 			page 11


 259      00000000 
 260 1690 00000000 		.int 0,0,0,0,0,0,0,0
 260      00000000 
 260      00000000 
 260      00000000 
 260      00000000 
 261 16b0 00000000 		.int 0,0,0,0,0,0,0,0
 261      00000000 
 261      00000000 
 261      00000000 
 261      00000000 
 262              	qiwang_jiaodu_100khz:
 263 16d0 00000000 		.int 0,0,0,0,0,0,0,0
 263      00000000 
 263      00000000 
 263      00000000 
 263      00000000 
 264 16f0 00000000 		.int 0,0,0,0,0,0,0,0
 264      00000000 
 264      00000000 
 264      00000000 
 264      00000000 
 265 1710 00000000 		.int 0,0,0,0,0,0,0,0
 265      00000000 
 265      00000000 
 265      00000000 
 265      00000000 
 266              	qiwang_jiaodu_biao:
 267 1730 B0150000 		.word qiwang_jiaodu_100hz
 268 1734 10160000 		.word qiwang_jiaodu_1khz
 269 1738 70160000 		.word qiwang_jiaodu_10khz
 270 173c D0160000 		.word qiwang_jiaodu_100khz
 271              	zukang_dianzu_biao:
 272 1740 03D90000 		.int 55555,16666,33333,55555,10000,16666,33333,10000
 272      1A410000 
 272      35820000 
 272      03D90000 
 272      10270000 
 273 1760 30750000 		.int 30000,6000,10000,30000,6000,10000,30000,6000
 273      70170000 
 273      10270000 
 273      30750000 
 273      70170000 
 274 1780 10270000 		.int 10000,30000,6000,10000,18000,3000,6000,1800
 274      30750000 
 274      70170000 
 274      10270000 
 274      50460000 
 275              	zukang_danwei:
 276              		@毫欧=0XF46D，欧=0XF420, 千欧=0XF44B，兆欧=0XF44D
 277 17a0 6DF40000 		.int 0xf46d,0xf46d,0xf46d,0xf46d,0xf420,0xf420,0xf420,0xf420
 277      6DF40000 
 277      6DF40000 
 277      6DF40000 
 277      20F40000 
 278 17c0 20F40000 		.int 0xf420,0xf420,0xf420,0xf420,0xf420,0xf44b,0xf44b,0xf44b
 278      20F40000 
ARM GAS  1.s 			page 12


 278      20F40000 
 278      20F40000 
 278      20F40000 
 279 17e0 4BF40000 		.int 0xf44b,0xf44b,0xf44b,0xf44d,0xf44d,0xf44d,0xf44d,0xf44d
 279      4BF40000 
 279      4BF40000 
 279      4DF40000 
 279      4DF40000 
 280              	pinlv_qiehuan_yanshi_biao:
 281 1800 F4010000 		.int 500,300,300,20
 281      2C010000 
 281      2C010000 
 281      14000000 
 282              	an_jian_biao:
 283 1810 AD040000 		.word __an_jian0         	   	   +1
 284 1814 EB010000 		.word __dang_wei_jia     	   	   +1
 285 1818 AF010000 		.word __pin_lv_jia      	   	   +1
 286 181c FD010000 		.word __an_jian3         	           +1
 287              	pinlv_biao:
 288 1820 93080000 		.word __pinlv_100			+1
 289 1824 E1090000 		.word __pinlv_1K			+1
 290 1828 D50A0000 		.word __pinlv_10K			+1
 291 182c C90B0000 		.word __pinlv_100K			+1
 292              		.align 4
 293              	pinlv_xianshi_biao:
 294 1830 90050000 		.word pinlv_100hz
 295 1834 A0050000 		.word pinlv_1khz
 296 1838 B0050000 		.word pinlv_10khz
 297 183c C0050000 		.word pinlv_100khz
 298              	dangwei_xianshi_biao:
 299 1840 F0040000 		.word jiaozhun_0.5555
 300 1844 F5040000 		.word jiaozhun_1.666
 301 1848 FA040000 		.word jiaozhun_3.333
 302 184c FF040000 		.word jiaozhun_5.555
 303 1850 04050000 		.word jiaozhun_10
 304 1854 09050000 		.word jiaozhun_16.66
 305 1858 0E050000 		.word jiaozhun_33.33
 306 185c 13050000 		.word jiaozhun_100
 307 1860 18050000 		.word jiaozhun_300
 308 1864 1D050000 		.word jiaozhun_600
 309 1868 22050000 		.word jiaozhun_1k
 310 186c 27050000 		.word jiaozhun_3k
 311 1870 2C050000 		.word jiaozhun_6k
 312 1874 31050000 		.word jiaozhun_10k
 313 1878 36050000 		.word jiaozhun_30k
 314 187c 3B050000 		.word jiaozhun_60k
 315 1880 40050000 		.word jiaozhun_100k
 316 1884 45050000 		.word jiaozhun_300k
 317 1888 4A050000 		.word jiaozhun_600k
 318 188c 4F050000 		.word jiaozhun_1M
 319 1890 54050000 		.word jiaozhun_1.8M
 320 1894 59050000 		.word jiaozhun_3M
 321 1898 5E050000 		.word jiaozhun_6M
 322 189c 63050000 		.word jiaozhun_18M
 323              		
 324              	kong:
 325 18a0 20202020 		.int 0x20202020
ARM GAS  1.s 			page 13


 326              	_fu:
 327 18a4 2D       		.ascii "-"
 328              	jiaodu1:
 329 18a5 F23D0000 		.int 0x3df2
 330              	jiaodufuhao:
 331 18a9 DF000000 		.int 0xdf
 332              	yjmwxwx:
 333 18ad 796A6D77 		.ascii "yjmwxwx-20220101"
 333      7877782D 
 333      32303232 
 333      30313031 
 334 18bd 000000   		.align 4
 335              		.equ STACKINIT,        	        0x20001000
 336              		.equ asciimabiao,		0x20000000
 337              		.equ lcd_beiguang,		0x20000020
 338              		.equ shangbi_r, 		0x20000024
 339              		.equ shangbi_i,			0x20000028
 340              		.equ xiabi_r,			0x2000002c
 341              		.equ xiabi_i,			0x20000030
 342              		.equ shangxiabi_qiehuan,	0x20000034
 343              		.equ liangcheng,		0x20000038
 344              		.equ z_r,			0x2000003c
 345              		.equ z_i,			0x20000040
 346              		.equ lvbo_changdu,		0x20000044
 347              		.equ lvbo_youyi,		0x20000048
 348              		.equ huandangyanshi,		0x2000004c
 349              		.equ shangbi_rr,		0x20000050
 350              		.equ shangbi_ii,		0x20000054
 351              		.equ xiabi_rr,			0x20000058
 352              		.equ xiabi_ii,			0x2000005c
 353              		.equ jishu,			0x20000060
 354              		.equ xianshi_biaozhi,		0x20000064
 355              		.equ z_fudu,			0x20000068
 356              		.equ cossin,			0x2000006c
 357              		.equ pinlv,			0x20000070
 358              		.equ anjian,			0x20000074
 359              		.equ zhenfu,			0x20000078
 360              		.equ shezhi_pinlv,		0x2000007c
 361              		.equ zidong_dangwei_kaiguan,	0x20000080
 362              		.equ z_r_jiaozhun,		0x20000084
 363              		.equ z_i_jiaozhun,		0x20000088
 364              		.equ z_jiaozhun, 		0x2000008c
 365              		.equ flash_cachu_biaozhi,	0x20000094
 366              		.equ jiaozhun_biao_zhizhen,	0x20000098
 367              		.equ cs,			0x2000009c
 368              		.equ ls,			0x200000a0
 369              	
 370              	
 371              		
 372              		.equ dianyabiao,		0x20000100
 373              		.equ lvboqizhizhen,		0x200008d0
 374              		.equ lvboqihuanchong,		0x200008d8
 375              		.equ lvboqizhizhen1,            0x20000a68  @0x200009e0
 376              		.equ lvboqihuanchong1,          0x20000a70  @0x200009e8
 377              	        .equ lvboqizhizhen2,            0x20000c00  @0x20000af0
 378              		.equ lvboqihuanchong2,          0x20000c08  @0x20000af8
 379              		.equ lvboqizhizhen3,            0x20000d98  @0x20000c00
ARM GAS  1.s 			page 14


 380              		.equ lvboqihuanchong3,          0x20000da0  @0x20000c08
 381              		.equ fjiesuo, 	                0x1fffef62
 382              		.equ ojiesuo,                   0x1fffef6e
 383              		.equ quanca,                    0x1fffeff8
 384              		.equ yeca,                      0x1fffefda
 385              		.equ zica,                      0x1ffff020
 386              		.equ xieflash,                  0x1fffef9a
 387              		.equ zixie,                     0x1ffff048
 388              		.equ xiebaohu,                  0x1ffff0a6
 389              		.equ jiancedubaohu,             0x1ffff124
 390              		.equ flashmang,                 0x1fffef7a
 391              		
 392              		
 393              		.section .text
 394              	
 395              	vectors:
 396 0000 00100020 		.word STACKINIT
 397 0004 B1000000 		.word _start + 1
 398 0008 19140000 		.word _nmi_handler + 1
 399 000c 1B140000 		.word _hard_fault  + 1
 400 0010 00000000 		.word 0
 401 0014 00000000 		.word 0
 402 0018 00000000 		.word 0
 403 001c 00000000 		.word 0
 404 0020 00000000 		.word 0
 405 0024 00000000 		.word 0
 406 0028 00000000 		.word 0
 407 002c 1D140000 		.word _svc_handler +1
 408 0030 00000000 		.word 0
 409 0034 00000000 		.word 0
 410 0038 1F140000 		.word _pendsv_handler +1
 411 003c 21140000 		.word _systickzhongduan +1           @ 15
 412 0040 DF140000 		.word aaa +1     @ _wwdg +1          @ 0
 413 0044 DF140000 		.word aaa +1     @_pvd +1            @ 1
 414 0048 DF140000 		.word aaa +1     @_rtc +1            @ 2
 415 004c DF140000 		.word aaa +1     @_flash +1          @ 3
 416 0050 DF140000 		.word aaa +1	@ _rcc + 1           @ 4
 417 0054 DF140000 		.word aaa +1      @_exti0_1  +1      @ 5
 418 0058 DF140000 		.word aaa +1      @ _exti2_3 +1      @ 6
 419 005c DF140000 		.word aaa +1       @_exti4_15 +1     @ 7
 420 0060 DF140000 		.word aaa +1                         @ 8
 421 0064 DF140000 		.word aaa +1	@__dma_wan  +1	     @ 9
 422 0068 DF140000 		.word aaa +1    @_dma1_2_3 +1        @ 10
 423 006c DF140000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 424 0070 DF140000 		.word aaa +1	 @_adc1 +1           @ 12
 425 0074 DF140000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 426 0078 DF140000 		.word aaa +1        @ _tim1_cc +1    @ 14
 427 007c DF140000 		.word aaa +1         @_tim2 +1       @ 15
 428 0080 DF140000 		.word aaa +1          @_tim3 +1      @ 16
 429 0084 DF140000 		.word aaa +1                         @ 17
 430 0088 DF140000 		.word aaa +1		             @ 18
 431 008c DF140000 		.word aaa +1	@_tim14 +1           @ 19
 432 0090 DF140000 		.word aaa +1                         @ 20
 433 0094 DF140000 		.word aaa +1         @_tim16 +1      @ 21
 434 0098 DF140000 		.word aaa +1         @_tim17 +1      @ 22
 435 009c DF140000 		.word aaa +1          @_i2c   +1     @ 23
 436 00a0 DF140000 		.word aaa +1                         @ 24
ARM GAS  1.s 			page 15


 437 00a4 DF140000 		.word aaa +1           @_spi   +1    @ 25
 438 00a8 DF140000 		.word aaa +1                         @ 26
 439 00ac DF140000 		.word aaa +1         @_usart1 +1     @ 27
 440              		.align 2
 441              	_start:	
 442              	shizhong:
 443 00b0 CB4A     		ldr r2, = 0x40022000   @FLASH访问控制
 444 00b2 3221     		movs r1, # 0x32
 445 00b4 1160     		str r1, [r2]           @FLASH缓冲 缓冲开启
 446 00b6 CB48     		ldr r0, = 0x40021000 @ rcc
 447 00b8 CB49     		ldr r1, = 0x10001
 448 00ba 0160     		str r1, [r0]
 449              	denghse:
 450 00bc 0168     		ldr r1, [r0]
 451 00be 8903     		lsls r1, r1, # 14
 452 00c0 FCD5     		bpl denghse
 453              	dengpllguan:
 454 00c2 0168     		ldr r1, [r0]
 455 00c4 8901     		lsls r1, r1, # 6
 456 00c6 FCD4     		bmi dengpllguan
 457 00c8 C849     		ldr r1, = 0x154002	@0x150002
 458 00ca 0046     		mov r0, r0
 459 00cc 4160     		str r1, [r0, # 0x04]
 460 00ce 0046     		mov r0, r0
 461 00d0 C749     		ldr r1, = 0x1010000
 462 00d2 0046     		mov r0, r0
 463 00d4 0160     		str r1, [r0]
 464              	
 465              	dengpll:
 466 00d6 0168     		ldr r1, [r0]
 467 00d8 8901     		lsls r1, # 6
 468 00da FCD5     		bpl dengpll
 469              	
 470              	
 471 00dc C549     		ldr r1, = 100
 472 00de 0163     		str r1, [r0, # 0x30]
 473              	
 474              	_waisheshizhong:	                         @ 外设时钟
 475              		@+0x14=RCC_AHBENR
 476              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 477 00e0 C048     		ldr r0, = 0x40021000
 478 00e2 C549     		ldr r1, = 0x60001
 479 00e4 4161     		str r1, [r0, # 0x14]
 480              	
 481              		@+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 482              		@0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22=DBGMCU
 483 00e6 C549     		ldr r1, = 0x1a00
 484 00e8 8161     		str r1, [r0, # 0x18]
 485              		@+0X1C=RCC_APB1ENR
 486              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 487              		@ 22=I2C2 @ 23=USB @ 28=PWR
 488 00ea C54A     		ldr r2, = 0x902
 489 00ec C261     		str r2, [r0, # 0x1c]
 490              	
 491 00ee C548     		ldr r0, = shezhi_pinlv
 492 00f0 0068     		ldr r0, [r0]
 493 00f2 0128     		cmp r0, # 1
ARM GAS  1.s 			page 16


 494 00f4 07D1     		bne _neicunqingling
 495              	_neicunqingling1:
 496 00f6 C448     		ldr r0, = 0x20001000
 497 00f8 C44A     		ldr r2, = 0x20000100
 498 00fa 0021     		movs r1, # 0
 499              	_neicunqinglingxunhuan1:
 500 00fc 0438     		subs r0, r0, # 4
 501 00fe 0160     		str r1, [r0]
 502 0100 9042     		cmp r0, r2
 503 0102 FBD1     		bne _neicunqinglingxunhuan1
 504 0104 06E0     		b _waishezhongduan
 505              	
 506              	
 507              		
 508              	_neicunqingling:
 509 0106 C048     		ldr r0, = 0x20001000
 510 0108 C14A     		ldr r2, = 0x20000000
 511 010a 0021     		movs r1, # 0
 512              	_neicunqinglingxunhuan:
 513 010c 0438     	        subs r0, r0, # 4
 514 010e 0160     		str r1, [r0]
 515 0110 9042     		cmp r0, r2
 516 0112 FBD1     		bne _neicunqinglingxunhuan
 517              	
 518              		
 519              	_waishezhongduan:		@外设中断
 520              		@0xE000E100    0-31  写1开，写0没效
 521              		@0XE000E180    0-31 写1关，写0没效
 522              		@0XE000E200    0-31 挂起，写0没效
 523              		@0XE000E280    0-31 清除， 写0没效
 524 0114 BF48     		ldr r0, =  0xe000e100
 525 0116 C049     		ldr r1, = 0x200 @0x10200  @ 0x10000
 526 0118 0160     		str r1, [r0]
 527              		
 528              	@_kanmengou:
 529              	@	ldr r0, = 0x40003000
 530              	@	ldr r1, = 0x5555
 531              	@	str r1, [r0]
 532              	@	movs r1, # 7
 533              	@	str r1, [r0, # 4]
 534              	@	ldr r1, = 0xfff
 535              	@	str r1, [r0, # 8]
 536              	@	ldr r1, = 0xaaaa
 537              	@	str r1, [r0]
 538              	@	ldr r1, = 0xcccc
 539              	@	str r1, [r0]
 540              		
 541              	io_she_zhi:
 542              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 543              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 544              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 545              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 546              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 547              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 548              		@偏移0x10 = 输入数据寄存器
 549              		@偏移0x14 = 输出数据寄存器
 550              		@偏移0x18 = 端口开  0-15置位
ARM GAS  1.s 			page 17


 551              		@偏移0x28 = 端口关
 552              		@0X20 = 复用低
 553              		@GPIO口0（0-3位）每个IO口占用4位
 554              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 555              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 556              		@0x24 = 复用高
 557              		@GPIO口8 （0-3位）每个IO口占用4位
 558              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 559              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 560              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 561              	@	bkpt # 1
 562              	@	movs r0, # 0
 563              	@	cmp r0, # 0
 564              	@	beq __jlink_moshi
 565              	@__anjian_moshi:	
 566              	@	ldr r0, = 0x48000000
 567              	@	ldr r1, = 0x249a57 
 568              	@	str r1, [r0]
 569              	@	ldr r1, = 0x14000000
 570              	@	str r1, [r0, # 0x0c]
 571              	@	b __pa_shezhi
 572              	__jlink_moshi:	
 573 011a C048     		ldr r0, = 0x48000000
 574 011c C049     		ldr r1, = 0x28249a57
 575 011e 0160     		str r1, [r0]
 576              	__pa_shezhi:	
 577 0120 B021     		movs r1, # 0xb0
 578 0122 4160     		str r1, [r0, # 0x04]
 579 0124 BF49     		ldr r1, = 0x30cffc
 580 0126 8160     		str r1, [r0, # 0x08]
 581 0128 BB49     		ldr r1, = 0x200
 582 012a 4162     		str r1, [r0, # 0x24]
 583              		
 584              		
 585 012c BE48     	        ldr r0, = 0x48000400
 586 012e 0421     		movs r1, # 0x04
 587 0130 0160     		str r1, [r0]
 588 0132 0C21     		movs r1, # 0x0c
 589 0134 8160     		str r1, [r0, # 0x08]
 590              		
 591              	spi_chushihua:
 592 0136 BD48     		ldr r0, = 0x40013000
 593 0138 BD49     		ldr  r1, = 0x708
 594 013a 4160     		str r1, [r0, # 0x04]
 595 013c BD49     		ldr r1, = 0x7c
 596 013e 0160     		str r1, [r0]
 597              	
 598              	_lcdchushihua:
 599 0140 3320     		movs r0, # 0x33
 600 0142 0021     		movs r1, # 0
 601 0144 01F025F8 		bl _xielcd
 602 0148 01F01EF8 		bl _lcdyanshi
 603              	
 604 014c 3220     		movs r0, # 0x32
 605 014e 0021     		movs r1, # 0
 606 0150 01F01FF8 		bl _xielcd
 607 0154 01F018F8 		bl _lcdyanshi
ARM GAS  1.s 			page 18


 608 0158 2820     		movs r0, # 0x28
 609 015a 0021     		movs r1, # 0
 610 015c 01F019F8 		bl _xielcd
 611 0160 01F012F8 		bl _lcdyanshi
 612 0164 0C20     		movs r0, # 0x0c
 613 0166 0021     		movs r1, # 0
 614 0168 01F013F8 		bl _xielcd
 615 016c 01F00CF8 		bl _lcdyanshi
 616 0170 0120     		movs r0, # 0x01
 617 0172 0021     		movs r1, # 0
 618 0174 01F00DF8 		bl _xielcd
 619 0178 01F006F8 		bl _lcdyanshi
 620              	
 621 017c A148     		ldr r0, = shezhi_pinlv
 622 017e 0068     		ldr r0, [r0]
 623 0180 0128     		cmp r0, # 1
 624 0182 0DD0     		beq __pinlv_dangwei_chushihua
 625 0184 8020     		movs r0, # 0x80
 626 0186 AC49     		ldr r1, = yjmwxwx
 627 0188 1022     		movs r2, # 16
 628 018a 00F0EFFF 		bl _lcdxianshi
 629 018e AB48     		ldr r0, = 0xffffff
 630              	yjmwxwx_yanshi:
 631 0190 0138     		subs r0, r0, # 1
 632 0192 FDD1     		bne yjmwxwx_yanshi
 633              		
 634 0194 0120     		movs r0, # 0x01
 635 0196 0021     		movs r1, # 0
 636 0198 00F0FBFF 		bl _xielcd
 637 019c 00F0F4FF 		bl _lcdyanshi
 638              		
 639              		
 640              	__pinlv_dangwei_chushihua:
 641              	
 642 01a0 A748     		ldr r0, = pinlv
 643 01a2 0321     		movs r1, # 3
 644 01a4 0160     		str r1, [r0]
 645 01a6 00F06AFB 		bl __pinlv_shezhi
 646              	@	ldr r0, = liangcheng
 647              	@	movs r1, # 0
 648              	@	str r1, [r0]
 649 01aa 7FE1     		b ting
 650              		
 651 01ac 26E0     		b __an_jian3
 652              	
 653              	__pin_lv_jia:
 654 01ae 72B6     		cpsid i
 655 01b0 A348     		ldr r0, = pinlv
 656 01b2 0168     		ldr r1, [r0]
 657 01b4 0131     		adds r1, r1, # 1
 658 01b6 0160     		str r1, [r0]
 659 01b8 0429     		cmp r1, # 4
 660 01ba 01D1     		bne __pin_lv_fan_hui
 661 01bc 0021     		movs r1, # 0
 662 01be 0160     		str r1, [r0]
 663              	__pin_lv_fan_hui:
 664 01c0 0A46     		mov r2, r1
ARM GAS  1.s 			page 19


 665 01c2 9200     		lsls r2, r2, # 2
 666 01c4 0120     	        movs r0, # 0x01
 667 01c6 0021     		movs r1, # 0
 668 01c8 00F0E3FF 		bl _xielcd
 669 01cc 00F0DCFF 		bl _lcdyanshi
 670 01d0 8020     	        movs r0, # 0x80
 671 01d2 9C49     		ldr r1, = pinlv_xianshi_biao
 672 01d4 8958     		ldr r1, [r1, r2]
 673 01d6 1022     		movs r2, # 16
 674 01d8 00F0C8FF 		bl _lcdxianshi
 675              		
 676 01dc 9748     		ldr r0, = 0xffffff
 677              	__pinlv_xianshi_yanshi:
 678 01de 0138     		subs r0, r0, # 1
 679 01e0 FDD1     		bne __pinlv_xianshi_yanshi
 680 01e2 9948     		ldr r0, = 0xe000ed0c
 681 01e4 9949     		ldr r1, = 0x05fa0004
 682 01e6 0160     		str r1, [r0]			@复位
 683 01e8 01BE     		bkpt # 1
 684              	__dang_wei_jia:
 685 01ea 9948     		ldr r0, = liangcheng
 686 01ec 0168     		ldr r1, [r0]
 687 01ee 0131     		adds r1, r1, # 1
 688 01f0 0160     		str r1, [r0]
 689 01f2 1729     		cmp r1, # 23
 690 01f4 01D1     		bne __dang_wei_fan_hui
 691 01f6 0021     		movs r1, # 0
 692 01f8 0160     		str r1, [r0]
 693              	__dang_wei_fan_hui:
 694 01fa 04BE     		bkpt # 4
 695              		
 696              	
 697              	
 698              	
 699              	
 700              		
 701              	__an_jian3:
 702              	__jiaozhun_chengxu:
 703 01fc 944B     		ldr r3, = liangcheng
 704 01fe 1B68     		ldr r3, [r3]
 705 0200 9B00     		lsls r3, r3, # 2
 706 0202 0120     		movs r0, # 0x01
 707 0204 0021     		movs r1, # 0
 708 0206 00F0C4FF 		bl _xielcd
 709 020a 00F0BDFF 		bl _lcdyanshi
 710              		
 711 020e 8E20     		movs r0, # 0x8e
 712 0210 9049     		ldr r1, = zukang_danwei
 713 0212 C918     		adds r1, r1, r3
 714 0214 0222     		movs r2, # 2
 715 0216 00F0A9FF 		bl _lcdxianshi
 716              		
 717 021a 8920     		movs r0, # 0x89
 718 021c 8E49     		ldr r1, = dangwei_xianshi_biao
 719 021e C958     		ldr r1, [r1, r3]
 720 0220 0522     		movs r2, # 5
 721 0222 00F0A3FF 		bl _lcdxianshi
ARM GAS  1.s 			page 20


 722              	
 723 0226 8020     	        movs r0, # 0x80
 724 0228 8C49     		ldr r1, = jiaozhun
 725 022a 0822     		movs r2, # 8
 726 022c 00F09EFF 		bl _lcdxianshi
 727              		
 728              	__dangwei_qiehuan_xunhuan:
 729 0230 8B48     		ldr r0, = 0x20000090			@0等待用户确认
 730              							@1进入校准
 731              							@其他跳过校准
 732 0232 0068     		ldr r0, [r0]
 733 0234 0128     		cmp r0, # 1	
 734 0236 02D0     		beq __jinru_jiaozhun
 735 0238 0028     		cmp r0, # 0
 736 023a F9D0     		beq __dangwei_qiehuan_xunhuan
 737 023c 82E0     		b __bu_jiaozhun			
 738              	__jinru_jiaozhun:
 739 023e 8948     		ldr r0, = flash_cachu_biaozhi
 740 0240 0068     		ldr r0, [r0]
 741 0242 0128     		cmp r0, # 1
 742 0244 17D0     		beq __jiaozhun_kaishi
 743              	__cachu_flash:
 744 0246 884C     		ldr r4, = fjiesuo
 745 0248 0325     		movs r5, # 3
 746 024a 7D44     		add r5, r5, pc
 747 024c AE46     		mov lr, r5
 748 024e A746     		mov pc, r4
 749 0250 864C     		ldr r4, = ojiesuo
 750 0252 0325     		movs r5, # 3
 751 0254 7D44     		add r5, r5, pc
 752 0256 AE46     		mov lr, r5
 753 0258 A746     		mov pc, r4
 754 025a 854C     		ldr r4, = yeca
 755 025c 8548     		ldr r0, = 0x8003800
 756 025e 0325     		movs r5, # 3
 757 0260 7D44     		add r5, r5, pc
 758 0262 AE46     		mov lr, r5
 759 0264 A746     		mov pc, r4
 760 0266 8448     		ldr r0, = 0x8003c00
 761 0268 0325     		movs r5, # 3
 762 026a 7D44     		add r5, r5, pc
 763 026c AE46     		mov lr, r5
 764 026e A746     		mov pc, r4
 765 0270 7C48     		ldr r0, = flash_cachu_biaozhi
 766 0272 0121     		movs r1, # 1
 767 0274 0160     		str r1, [r0]
 768              		
 769              		@       写FLASH
 770              		@       ldr r4, = xieflash
 771              		@       ldr r0, = 0x8003c00
 772              		@       ldr r1, = 0x12345678
 773              		@       movs r5, # 3
 774              		@       add r5,  r5, pc
 775              		@       mov lr, r5
 776              		@       mov pc, r4
 777              		
 778              	
ARM GAS  1.s 			page 21


 779              	
 780              	
 781              	__jiaozhun_kaishi:	
 782 0276 7249     		ldr r1, = pinlv
 783 0278 0B68     		ldr r3, [r1]
 784 027a 9B00     		lsls r3, r3, # 2
 785 027c C020     		movs r0, # 0xc0
 786 027e 7149     		ldr r1, = pinlv_xianshi_biao
 787 0280 C958     		ldr r1, [r1, r3]
 788 0282 1022     		movs r2, # 16
 789 0284 00F072FF 		bl _lcdxianshi
 790              		
 791 0288 7C48     	        ldr r0, = zidong_dangwei_kaiguan
 792 028a 0121     		movs r1, # 1
 793 028c 0160     		str r1, [r0]
 794              	__deng_zukang_wending:
 795              	
 796 028e 6C48     		ldr r0, = pinlv
 797 0290 0068     		ldr r0, [r0]
 798 0292 8000     		lsls r0, r0, # 2
 799 0294 7A4F     		ldr r7, = pinlv_qiehuan_yanshi_biao
 800 0296 3F58     		ldr r7, [r7, r0]
 801              	dzd1:
 802 0298 00F04EFD 		bl __jisuan_zukang
 803 029c 00F040FE 		bl __xianshi_zukang
 804              	
 805 02a0 013F     		subs r7, r7, # 1
 806 02a2 F9D1     		bne dzd1
 807 02a4 7748     		ldr r0, = qiwang_jiaodu_biao
 808 02a6 6649     		ldr r1, = pinlv
 809 02a8 694A     		ldr r2, = liangcheng
 810 02aa 0968     		ldr r1, [r1]
 811 02ac 1268     		ldr r2, [r2]
 812 02ae 8900     		lsls r1, r1, # 2
 813 02b0 4158     		ldr r1, [r0, r1]
 814 02b2 9200     		lsls r2, r2, # 2
 815 02b4 1646     		mov r6, r2
 816 02b6 8858     		ldr r0, [r1, r2] 	@读出期望角度
 817 02b8 00F02CFA 		bl __jiaozhun_jiaodu
 818 02bc 724A     		ldr r2, = z_r_jiaozhun
 819 02be 734B     		ldr r3, = z_i_jiaozhun
 820 02c0 1060     		str r0, [r2]
 821 02c2 1960     		str r1, [r3]
 822 02c4 00F014FA 		bl __xiangwei_xuanzhuan
 823 02c8 7148     		ldr r0, = qiwang_fudu
 824 02ca 8059     		ldr r0, [r0, r6]	@读出期望幅度
 825 02cc 00F0F4F9 		bl __jiaozhun_fudu
 826 02d0 7049     		ldr r1, = z_jiaozhun
 827 02d2 0860     		str r0, [r1]
 828              	
 829 02d4 644C     		ldr r4, = fjiesuo
 830 02d6 0325     		movs r5, # 3
 831 02d8 7D44     		add r5, r5, pc
 832 02da AE46     		mov lr, r5
 833 02dc A746     		mov pc, r4
 834 02de 634C     		ldr r4, = ojiesuo
 835 02e0 0325     		movs r5, # 3
ARM GAS  1.s 			page 22


 836 02e2 7D44     		add r5, r5, pc
 837 02e4 AE46     		mov lr, r5
 838 02e6 A746     		mov pc, r4
 839              		
 840              		
 841              		
 842 02e8 6B4B     	        ldr r3, = jiaozhun_biao_zhizhen
 843 02ea 1868     		ldr r0, [r3]
 844 02ec 614C     		ldr r4, = 0x8003800
 845 02ee 0019     		adds r0, r0, r4			@写地址
 846 02f0 6A4C     		ldr r4, = xieflash
 847 02f2 6549     		ldr r1, = z_r_jiaozhun
 848 02f4 0968     		ldr r1, [r1]			@数据
 849 02f6 0325     		movs r5, # 3
 850 02f8 7D44     		add r5,  r5, pc
 851 02fa AE46     		mov lr, r5
 852 02fc A746     		mov pc, r4
 853              	
 854 02fe 664B     		ldr r3, = jiaozhun_biao_zhizhen
 855 0300 1868     		ldr r0, [r3]
 856 0302 5C4C     		ldr r4, = 0x8003800
 857 0304 0019     		adds r0, r0, r4
 858 0306 0430     		adds r0, r0, # 4
 859 0308 644C     		ldr r4, = xieflash
 860 030a 6049     		ldr r1, = z_i_jiaozhun
 861 030c 0968     		ldr r1, [r1]
 862 030e 0325     		movs r5, # 3
 863 0310 7D44     		add r5,  r5, pc
 864 0312 AE46     		mov lr, r5
 865 0314 A746     		mov pc, r4
 866              	
 867 0316 604B     		ldr r3, = jiaozhun_biao_zhizhen
 868 0318 1868     		ldr r0, [r3]
 869 031a 564C     		ldr r4, = 0x8003800
 870 031c 0019     		adds r0, r0, r4
 871 031e 0830     		adds r0, r0, # 8
 872 0320 5E4C     		ldr r4, = xieflash
 873 0322 5C49     		ldr r1, = z_jiaozhun
 874 0324 0968     		ldr r1, [r1]
 875 0326 0325     		movs r5, # 3
 876 0328 7D44     		add r5,  r5, pc
 877 032a AE46     		mov lr, r5
 878 032c A746     		mov pc, r4
 879 032e 29E0     		b __jiaozhun_chengxu_fanhui
 880              	
 881 0330 4D4C     	        ldr r4, = fjiesuo
 882 0332 0325     		movs r5, # 3
 883 0334 7D44     		add r5, r5, pc
 884 0336 AE46     		mov lr, r5
 885 0338 A746     		mov pc, r4
 886 033a 4C4C     		ldr r4, = ojiesuo
 887 033c 0325     		movs r5, # 3
 888 033e 7D44     		add r5, r5, pc
 889 0340 AE46     		mov lr, r5
 890 0342 A746     		mov pc, r4
 891              	
 892              	
ARM GAS  1.s 			page 23


 893              	__bu_jiaozhun:	
 894 0344 544B     		ldr r3, = jiaozhun_biao_zhizhen
 895 0346 1868     		ldr r0, [r3]
 896 0348 4A4C     		ldr r4, = 0x8003800
 897 034a 0019     		adds r0, r0, r4                 @写地址
 898 034c 534C     		ldr r4, = xieflash
 899 034e 5449     		ldr r1, = 0x8000
 900 0350 0325     		movs r5, # 3
 901 0352 7D44     		add r5,  r5, pc
 902 0354 AE46     		mov lr, r5
 903 0356 A746     		mov pc, r4
 904              	
 905 0358 4F4B     		ldr r3, = jiaozhun_biao_zhizhen
 906 035a 1868     		ldr r0, [r3]
 907 035c 454C     		ldr r4, = 0x8003800
 908 035e 0019     		adds r0, r0, r4
 909 0360 0430     		adds r0, r0, # 4
 910 0362 4E4C     		ldr r4, = xieflash
 911 0364 0021     		movs r1, # 0
 912 0366 0325     		movs r5, # 3
 913 0368 7D44     		add r5,  r5, pc
 914 036a AE46     		mov lr, r5
 915 036c A746     		mov pc, r4
 916              	
 917 036e 4A4B     		ldr r3, = jiaozhun_biao_zhizhen
 918 0370 1868     		ldr r0, [r3]
 919 0372 404C     		ldr r4, = 0x8003800
 920 0374 0019     		adds r0, r0, r4
 921 0376 0830     		adds r0, r0, # 8
 922 0378 484C     		ldr r4, = xieflash
 923 037a 4949     		ldr r1, = 0x8000
 924 037c 0325     		movs r5, # 3
 925 037e 7D44     		add r5,  r5, pc
 926 0380 AE46     		mov lr, r5
 927 0382 A746     		mov pc, r4
 928              		
 929              	__jiaozhun_chengxu_fanhui:	
 930 0384 444B     		ldr r3, = jiaozhun_biao_zhizhen
 931 0386 1868     		ldr r0, [r3]
 932 0388 0C30     		adds r0, r0, # 0x0c
 933 038a 1860     		str r0, [r3]
 934 038c 2C48     		ldr r0, = pinlv
 935 038e 0068     		ldr r0, [r0]
 936 0390 0328     		cmp r0, # 3
 937 0392 23D1     		bne __jiaozhun_qiehuan_pinlv
 938 0394 3248     		ldr r0, = 0x20000090
 939 0396 0021     		movs r1, # 0
 940 0398 0160     		str r1, [r0]
 941 039a 2D48     		ldr r0, = liangcheng
 942 039c 0168     		ldr r1, [r0]
 943 039e 0131     		adds r1, r1, # 1
 944 03a0 0160     		str r1, [r0]
 945 03a2 1829     		cmp r1, # 24
 946 03a4 1AD1     		bne __jiaozhun_qiehuan_pinlv
 947 03a6 72B6     		cpsid i
 948              	_neicun_xie0:
 949 03a8 1748     		ldr r0, = 0x20001000
ARM GAS  1.s 			page 24


 950 03aa 194A     		ldr r2, = 0x20000000
 951 03ac 0021     		movs r1, # 0
 952              	_neicun_xie0_xunhuan:
 953 03ae 0438     		subs r0, r0, # 4
 954 03b0 0160     		str r1, [r0]
 955 03b2 9042     		cmp r0, r2
 956 03b4 FBD1     		bne _neicun_xie0_xunhuan
 957              		
 958 03b6 0120     	        movs r0, # 0x01
 959 03b8 0021     		movs r1, # 0
 960 03ba 00F0EAFE 		bl _xielcd
 961 03be 00F0E3FE 		bl _lcdyanshi
 962              	
 963 03c2 8020     		movs r0, # 0x80
 964 03c4 3749     		ldr r1, = jiaozhun_wancheng
 965 03c6 1022     		movs r2, # 16
 966 03c8 00F0D0FE 		bl _lcdxianshi
 967 03cc 00F0DCFE 		bl _lcdyanshi
 968              	
 969 03d0 C020     		movs r0, # 0xc0
 970 03d2 3549     		ldr r1, = guan_ji
 971 03d4 1022     		movs r2, # 16
 972 03d6 00F0C9FE 		bl _lcdxianshi
 973              		
 974 03da C8BE     		bkpt # 200
 975              	__jiaozhun_qiehuan_pinlv:	
 976 03dc E7E6     		b __pin_lv_jia
 977 03de 00000020 		.ltorg
 977      02400010 
 977      02400100 
 977      01000240 
 977      15000000 
 978              	
 979              	
 980              	
 981              	
 982              	
 983              	
 984              	
 985              	
 986              	
 987              	
 988              	
 989              	
 990              	__an_jian0:
 991              	ting:
 992 04ac 00F044FC 		bl __jisuan_zukang
 993              	@	bl __xianshi_shangxia_bi
 994              	@	b ting
 995              		
 996 04b0 00F036FD 		bl __xianshi_zukang
 997 04b4 5D48     	        ldr r0, = liangcheng
 998 04b6 0068     		ldr r0, [r0]
 999 04b8 0221     		movs r1, # 2
 1000 04ba 5D4A     		ldr r2, = asciimabiao
 1001 04bc FF23     		movs r3, # 0xff
 1002 04be 00F09BFE 		bl _zhuanascii
ARM GAS  1.s 			page 25


 1003 04c2 C020     		movs r0, # 0xc0
 1004 04c4 5A49     		ldr r1, = asciimabiao
 1005 04c6 0222     		movs r2, # 2
 1006 04c8 00F050FE 		bl _lcdxianshi
 1007 04cc 8E20     		movs r0, # 0x8e
 1008 04ce 574A     		ldr r2, = liangcheng
 1009 04d0 5849     		ldr r1, = zukang_danwei
 1010 04d2 1268     		ldr r2, [r2]
 1011 04d4 9200     		lsls r2, r2, # 2
 1012 04d6 8918     		adds r1, r1, r2
 1013 04d8 0222     		movs r2, # 2
 1014 04da 00F047FE 		bl _lcdxianshi
 1015              	
 1016 04de 5648     	        ldr r0, = z_i
 1017 04e0 0068     		ldr r0, [r0]
 1018 04e2 0000     		movs r0, r0
 1019 04e4 23D4     		bmi __dianrong_xianshi
 1020              	__diangan_xianshi:
 1021 04e6 5549     	        ldr r1, = 52151         @0.15915494309189535×3276
 1022 04e8 4843     		muls r0, r0, r1
 1023 04ea C00B     		lsrs r0, r0, # 15
 1024 04ec 5449     		ldr r1, = ls
 1025 04ee 0860     		str r0, [r1]
 1026 04f0 544A     		ldr r2, = pinlv
 1027 04f2 5549     		ldr r1, = diangan_xiaoshudian
 1028 04f4 1268     		ldr r2, [r2]
 1029 04f6 9200     		lsls r2, r2, # 2
 1030 04f8 8A58     		ldr r2, [r1, r2]
 1031 04fa 4C49     		ldr r1, = liangcheng
 1032 04fc 0968     		ldr r1, [r1]
 1033 04fe 535C     		ldrb r3, [r2, r1]       @读出小数点位置
 1034 0500 0621     	        movs r1, # 6
 1035 0502 4B4A     		ldr r2, = asciimabiao
 1036 0504 00F078FE 		bl _zhuanascii
 1037 0508 C820     		movs r0, # 0xc8
 1038 050a 4949     		ldr r1, = asciimabiao
 1039 050c 0622     		movs r2, # 6
 1040 050e 00F02DFE 		bl _lcdxianshi
 1041              	
 1042 0512 CE20     		movs r0, # 0xce
 1043 0514 4B4A     		ldr r2, = pinlv
 1044 0516 1268     		ldr r2, [r2]
 1045 0518 4C49     		ldr r1, = diangan_danwei
 1046 051a 9200     		lsls r2, r2, # 2
 1047 051c 8A58     		ldr r2, [r1, r2]
 1048 051e 4349     		ldr r1, = liangcheng
 1049 0520 0968     		ldr r1, [r1]
 1050 0522 8900     		lsls r1, r1, # 2
 1051 0524 5158     		ldr r1, [r2, r1]
 1052 0526 0222     		movs r2, # 2
 1053 0528 00F020FE 		bl _lcdxianshi
 1054              		
 1055              		
 1056 052c BEE7     		b ting
 1057              	
 1058              	
 1059              	
ARM GAS  1.s 			page 26


 1060              		
 1061              	__dianrong_xianshi:
 1062 052e 00F028F8 		bl __jisuan_dianrong
 1063 0532 4748     		ldr r0, = cs
 1064 0534 0068     		ldr r0, [r0]
 1065 0536 434A     		ldr r2, = pinlv
 1066 0538 4649     		ldr r1, = dianrong_xiaoshudian
 1067 053a 1268     		ldr r2, [r2]
 1068 053c 9200     		lsls r2, r2, # 2
 1069 053e 8A58     		ldr r2, [r1, r2]
 1070 0540 3A49     		ldr r1, = liangcheng
 1071 0542 0968     		ldr r1, [r1]
 1072 0544 535C     		ldrb r3, [r2, r1]	@读出小数点位置
 1073 0546 0621     		movs r1, # 6
 1074 0548 394A     		ldr r2, = asciimabiao
 1075 054a 00F055FE 		bl _zhuanascii
 1076 054e C820     		movs r0, # 0xc8
 1077 0550 3749     		ldr r1, = asciimabiao
 1078 0552 0622     		movs r2, # 6
 1079 0554 00F00AFE 		bl _lcdxianshi
 1080              		
 1081 0558 CE20     	        movs r0, # 0xce
 1082 055a 3A4A     		ldr r2, = pinlv
 1083 055c 1268     		ldr r2, [r2]
 1084 055e 3E49     		ldr r1, = dianrong_danwei
 1085 0560 9200     		lsls r2, r2, # 2
 1086 0562 8A58     		ldr r2, [r1, r2]
 1087 0564 3149     		ldr r1, = liangcheng
 1088 0566 0968     		ldr r1, [r1]
 1089 0568 8900     		lsls r1, r1, # 2
 1090 056a 5158     		ldr r1, [r2, r1]
 1091 056c 0222     		movs r2, # 2
 1092 056e 00F0FDFD 		bl _lcdxianshi
 1093 0572 9BE7     		b ting
 1094              	
 1095              	
 1096              		
 1097 0574 00F07BF9 	        bl __an_jian
 1098              	@__cai_dan_diao_du
 1099 0578 8000     		lsls r0, r0, # 2
 1100 057a 3849     		ldr r1, = an_jian_biao
 1101 057c 0A58     		ldr r2, [r1, r0]
 1102 057e 9746     		mov pc, r2
 1103              		
 1104 0580 94E7     		b ting
 1105              		
 1106              		
 1107              	__jisuan_dianrong:
 1108 0582 06B5     		push {r1-r2,lr}
 1109              		@入口r0= z_i
 1110 0584 0146     		mov r1, r0
 1111 0586 C943     		mvns  r1, r1
 1112 0588 0131     		adds r1, r1, # 1
 1113 058a 2E4A     		ldr r2, = pinlv
 1114 058c 1268     		ldr r2, [r2]
 1115 058e 3448     		ldr r0, = dianrong_weishu
 1116 0590 9200     		lsls r2, r2, # 2
ARM GAS  1.s 			page 27


 1117 0592 8258     		ldr r2, [r0, r2]
 1118 0594 2548     		ldr r0, = liangcheng
 1119 0596 0068     		ldr r0, [r0]
 1120 0598 4000     		lsls r0, r0, # 1
 1121 059a 125A     		ldrh r2, [r2, r0]
 1122 059c 3148     		ldr r0, = 1591549431
 1123 059e 5143     		muls r1, r1, r2
 1124 05a0 00F027FF 		bl _chufa
 1125 05a4 2A49     		ldr r1, = cs
 1126 05a6 0860     		str r0, [r1]
 1127 05a8 06BD     		pop {r1-r2,pc}
 1128              	dddd:
 1129 05aa 00F0C5FB 		bl __jisuan_zukang
 1130 05ae 2E4A     	        ldr r2, = z_r_jiaozhun
 1131 05b0 2E4B     		ldr r3, = z_i_jiaozhun
 1132 05b2 1068     		ldr r0, [r2]
 1133 05b4 1968     		ldr r1, [r3]
 1134 05b6 00F09BF8 		bl __xiangwei_xuanzhuan
 1135 05ba 2D48     		ldr r0, = z_jiaozhun
 1136 05bc 0068     		ldr r0, [r0]
 1137 05be 2D49     		ldr r1, = z_r
 1138 05c0 1D4A     		ldr r2, = z_i
 1139 05c2 0B68     		ldr r3, [r1]
 1140 05c4 1468     		ldr r4, [r2]
 1141 05c6 4343     		muls r3, r3, r0
 1142 05c8 4443     		muls r4, r4, r0
 1143 05ca DB13     		asrs r3, r3, # 15
 1144 05cc E413     		asrs r4, r4, # 15
 1145 05ce 0B60     		str r3, [r1]
 1146 05d0 1460     		str r4, [r2]
 1147 05d2 00F0A5FC 		bl __xianshi_zukang
 1148              	
 1149 05d6 2748     		ldr r0, = z_r
 1150 05d8 1749     		ldr r1, = z_i
 1151 05da 0068     		ldr r0, [r0]
 1152 05dc 0968     		ldr r1, [r1]
 1153 05de 00F017FC 		bl __atan2_ji_suan
 1154 05e2 C921     		movs r1, # 0xc9
 1155 05e4 00F00BF9 		bl __xian_shi_jiao_du
 1156 05e8 00F09AFC 		bl __xianshi_zukang
 1157 05ec DDE7     		b dddd
 1158              	
 1159              	
 1160              	
 1161              	
 1162              		
 1163 05ee 04BE     		bkpt # 4
 1164 05f0 0120     	        movs r0, # 0x01
 1165 05f2 0021     		movs r1, # 0
 1166 05f4 00F0CDFD 		bl _xielcd
 1167 05f8 00F0C6FD 		bl _lcdyanshi
 1168 05fc 56E7     		b ting
 1169              		
 1170              	
 1171              	
 1172              		
 1173 05fe 00F09BFB 		bl __jisuan_zukang
ARM GAS  1.s 			page 28


 1174 0602 8E20     		movs r0, # 0x8e
 1175 0604 094A     		ldr r2, = liangcheng
 1176 0606 0B49     		ldr r1, = zukang_danwei
 1177 0608 1268     		ldr r2, [r2]
 1178 060a 9200     		lsls r2, r2, # 2
 1179 060c 8918     		adds r1, r1, r2
 1180 060e 0222     		movs r2, # 2
 1181 0610 00F0ACFD 		bl _lcdxianshi
 1182 0614 00F084FC 		bl __xianshi_zukang
 1183 0618 00F0C2FC 		bl __xianshi_liangcheng
 1184 061c 00F027F9 	        bl __an_jian
 1185              	__cai_dan_diao_du:
 1186 0620 8000     		lsls r0, r0, # 2
 1187 0622 0E49     		ldr r1, = an_jian_biao
 1188 0624 0A58     		ldr r2, [r1, r0]
 1189 0626 9746     		mov pc, r2
 1190 0628 40E7     		b ting
 1191 062a 00003800 		.ltorg
 1191      00200000 
 1191      0020A017 
 1191      00004000 
 1191      0020B7CB 
 1192              	
 1193              	
 1194              	
 1195              	@__xie_flash:
 1196              		@FPEC解锁
 1197              	 @       ldr r4, = fjiesuo
 1198              	@	movs r5, # 3
 1199              	@	add r5, r5, pc
 1200              	@	mov lr, r5
 1201              	@	mov pc, r4
 1202              	@	OPTWRE解锁
 1203              	@	ldr r4, = ojiesuo
 1204              	@	movs r5, # 3
 1205              	@	add r5, r5, pc
 1206              	@	mov lr, r5
 1207              	@	mov pc, r4
 1208              	@	页擦除
 1209              	@
 1210              	@	ldr r4, = yeca
 1211              	@	ldr r0, = 0x8003c00
 1212              	@	movs r5, # 3
 1213              	@	add r5, r5, pc
 1214              	@	mov lr, r5
 1215              	@	mov pc, r4
 1216              	@	写FLASH
 1217              	@	ldr r4, = xieflash
 1218              	@	ldr r0, = 0x8003c00
 1219              	@	ldr r1, = 0x12345678
 1220              	@	movs r5, # 3
 1221              	@	add r5,  r5, pc
 1222              	@	mov lr, r5
 1223              	@	mov pc, r4
 1224              		
 1225              	_adcchushihua:
 1226              		@入口R3=1连续模式，0触发模式
ARM GAS  1.s 			page 29


 1227 0678 012B     		cmp r3, # 1
 1228 067a 01D0     		beq __adc_lianxu
 1229 067c A84B     		ldr r3, = 0x8c3
 1230 067e 00E0     		b __adc_chushi_hua
 1231              	__adc_lianxu:
 1232 0680 A84B     		ldr r3, = 0x2003
 1233              	__adc_chushi_hua:	
 1234 0682 A948     		ldr r0, = 0x40012400  @ adc基地址
 1235 0684 A949     		ldr r1, = 0x80000000
 1236 0686 8160     		str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 1237              	_dengadcjiaozhun:
 1238 0688 8168     		ldr r1, [r0, # 0x08]
 1239 068a 0900     		movs r1, r1
 1240 068c FCD4     		bmi _dengadcjiaozhun   @ 等ADC校准
 1241 068e 0121     		movs r1, # 1
 1242 0690 0160     		str r1, [r0]
 1243              	_kaiadc:
 1244 0692 8168     		ldr r1, [r0, # 0x08]
 1245 0694 0122     		movs r2, # 0x01
 1246 0696 1143     		orrs r1, r1, r2
 1247 0698 8160     		str r1, [r0, # 0x08]
 1248              	_deng_adc_wen_ding:
 1249 069a 0168     		ldr r1, [r0]
 1250 069c C907     		lsls r1, r1, # 31
 1251 069e FCD5     		bpl _deng_adc_wen_ding @ 等ADC稳定
 1252              	_tongdaoxuanze:
 1253 06a0 A249     		ldr r1, = 0x80000000
 1254 06a2 0161     		str r1, [r0, # 0x10]
 1255 06a4 A249     		ldr r1, = 0x01
 1256 06a6 8162     		str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 1257              	@	ldr r1, = 0x2003 @0x8c3 @ 0xc43         @TIM3 0x8c3 @0x2003 @0x8c3
 1258 06a8 C360     		str r3, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 1259 06aa 0021     		movs r1, # 0
 1260 06ac 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 1261 06ae 8168     		ldr r1, [r0, # 0x08]
 1262 06b0 A04A     		ldr r2, = 0x04         @ 开始转换
 1263 06b2 1143     		orrs r1, r1, r2
 1264 06b4 8160     		str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 1265 06b6 F746     		mov pc, lr
 1266              	
 1267              	
 1268              	
 1269              		
 1270              	__jiaozhun_fudu:
 1271              		@入口 R0=期望幅度
 1272              		@出口R0= 幅度校准值
 1273 06b8 7EB5     		push {r1-r6,lr}
 1274 06ba 0246     		mov r2, r0
 1275 06bc 9E48     		ldr r0, = z_r
 1276 06be 9F49     		ldr r1, = z_i
 1277 06c0 0068     		ldr r0, [r0]
 1278 06c2 0968     		ldr r1, [r1]
 1279 06c4 00F006FC 		bl __ji_suan_fu_du
 1280 06c8 0021     		movs r1, # 0
 1281 06ca 9D4B     		ldr r3, = jiaozhun_yong_cordic
 1282 06cc 9D4D     		ldr r5, = 32768
 1283 06ce 0646     		mov r6, r0
ARM GAS  1.s 			page 30


 1284              	__fudu_jiaozhun_xunhuan:
 1285 06d0 5C58     		ldr r4, [r3, r1]
 1286 06d2 8242     		cmp r2, r0
 1287 06d4 01D3     		bcc __fudu_jian
 1288              	__fudu_jia:
 1289 06d6 2D19     		adds r5, r5, r4
 1290 06d8 00E0     		b __jiaozhun_xuanzhuan
 1291              	__fudu_jian:
 1292 06da 2D1B     		subs r5, r5, r4
 1293              	__jiaozhun_xuanzhuan:
 1294 06dc 3046     		mov r0, r6
 1295 06de 6843     		muls r0, r0, r5
 1296 06e0 C00B     		lsrs r0, r0, # 15
 1297 06e2 0431     		adds r1, r1, # 4
 1298 06e4 7829     		cmp r1, # 120
 1299 06e6 F3D1     		bne __fudu_jiaozhun_xunhuan
 1300              	__baocun_fudu_jiaozhun:
 1301 06e8 2800     		movs r0, r5
 1302 06ea 00D5     		bpl __jiaozhun_fudu_fanhui
 1303 06ec 9548     		ldr r0, = 32768
 1304              	__jiaozhun_fudu_fanhui:
 1305 06ee 7EBD     		pop {r1-r6,pc}
 1306              		
 1307              		
 1308              	__xiangwei_xuanzhuan:
 1309 06f0 FCB5     		push {r2-r7,lr}
 1310 06f2 914A     		ldr r2, = z_r
 1311 06f4 914B     		ldr r3, = z_i
 1312 06f6 1468     		ldr r4, [r2]
 1313 06f8 1D68     		ldr r5, [r3]
 1314 06fa 0646     		mov r6, r0
 1315 06fc 0F46     		mov r7, r1
 1316 06fe 6043     	        muls r0, r0, r4 @X*COS
 1317 0700 6F43     		muls r7, r7, r5 @Y*SIN
 1318 0702 6143     		muls r1, r1, r4 @X*SIN
 1319 0704 6E43     		muls r6, r6, r5 @Y*COS
 1320 0706 C01B     		subs r0, r0, r7
 1321 0708 7118     		adds r1, r6, r1
 1322 070a C013     		asrs r0, r0, # 15
 1323 070c C913     		asrs r1, r1, # 15
 1324 070e 1060     		str r0, [r2]
 1325 0710 1960     		str r1, [r3]
 1326 0712 FCBD     		pop {r2-r7,pc}
 1327              	
 1328              	__jiaozhun_jiaodu:
 1329              		@入口r0=期望角度
 1330              		@出口R0=COS，R1=SIN
 1331 0714 FCB5     		push {r2-r7,lr}
 1332 0716 4346     		mov r3, r8
 1333 0718 4C46     		mov r4, r9
 1334 071a 5546     		mov r5, r10
 1335 071c 5E46     		mov r6, r11
 1336 071e 6746     		mov r7, r12
 1337 0720 F8B4     		push {r3-r7}
 1338 0722 8446     		mov r12, r0
 1339 0724 8748     		ldr r0, = 32768	@180度
 1340 0726 0021     		movs r1, # 0
ARM GAS  1.s 			page 31


 1341 0728 8046     		mov r8, r0
 1342 072a 8946     		mov r9, r1
 1343 072c 8248     		ldr r0, = z_r
 1344 072e 8349     		ldr r1, = z_i
 1345 0730 0668     		ldr r6, [r0]
 1346 0732 0F68     		ldr r7, [r1]
 1347 0734 844B     		ldr r3, = jiaodu_jiaozhun_yong_cordic
 1348 0736 0022     		movs r2, # 0
 1349              	__jiaodu_jiaozhun_xunhuan:
 1350 0738 9C58     		ldr r4, [r3, r2]
 1351 073a 0432     		adds r2, r2, # 4
 1352 073c 9D58     		ldr r5, [r3, r2]
 1353 073e 3046     		mov r0, r6
 1354 0740 3946     		mov r1, r7
 1355 0742 00F065FB 		bl __atan2_ji_suan
 1356 0746 6146     		mov r1, r12
 1357 0748 401A     		subs r0, r0, r1
 1358 074a 1CD4     		bmi __jiaodu_fanzhuan
 1359 074c B246     		mov r10, r6
 1360 074e BB46     		mov r11, r7
 1361 0750 4646     		mov r6, r8
 1362 0752 4F46     		mov r7, r9
 1363 0754 3046     		mov r0, r6
 1364 0756 3946     		mov r1, r7
 1365 0758 6643     		muls r6, r6, r4 @X*COS
 1366 075a 6943     		muls r1, r1, r5 @Y*SIN
 1367 075c 6843     		muls r0, r0, r5 @X*SIN
 1368 075e 6743     		muls r7, r7, r4 @Y*COS
 1369 0760 7618     		adds r6, r6, r1
 1370 0762 3F1A     		subs r7, r7, r0
 1371 0764 F613     		asrs r6, r6, # 15
 1372 0766 FF13     		asrs r7, r7, # 15
 1373 0768 B046     		mov r8, r6
 1374 076a B946     		mov r9, r7
 1375 076c 5646     		mov r6, r10
 1376 076e 5F46     		mov r7, r11
 1377 0770 3046     		mov r0, r6
 1378 0772 3946     		mov r1, r7
 1379 0774 6643     		muls r6, r6, r4	@X*COS
 1380 0776 6943     		muls r1, r1, r5	@Y*SIN
 1381 0778 6843     		muls r0, r0, r5	@X*SIN
 1382 077a 6743     		muls r7, r7, r4	@Y*COS
 1383 077c 7618     		adds r6, r6, r1
 1384 077e 3F1A     		subs r7, r7, r0
 1385 0780 F613     		asrs r6, r6, # 15
 1386 0782 FF13     		asrs r7, r7, # 15
 1387 0784 1BE0     		b __jiaodu_xuanzhuan
 1388              	__jiaodu_fanzhuan:
 1389 0786 B246     		mov r10, r6
 1390 0788 BB46     		mov r11, r7
 1391 078a 4646     		mov r6, r8
 1392 078c 4F46     		mov r7, r9
 1393 078e 3046     		mov r0, r6
 1394 0790 3946     		mov r1, r7
 1395 0792 6643     		muls r6, r6, r4 @X*COS
 1396 0794 6943     		muls r1, r1, r5 @Y*SIN
 1397 0796 6843     		muls r0, r0, r5 @X*SIN
ARM GAS  1.s 			page 32


 1398 0798 6743     		muls r7, r7, r4 @Y*COS
 1399 079a 761A     		subs r6, r6, r1
 1400 079c 3F18     		adds r7, r7, r0
 1401 079e F613     		asrs r6, r6, # 15
 1402 07a0 FF13     		asrs r7, r7, # 15
 1403 07a2 B046     		mov r8, r6
 1404 07a4 B946     		mov r9, r7
 1405 07a6 5646     		mov r6, r10
 1406 07a8 5F46     		mov r7, r11
 1407 07aa 3046     		mov r0, r6
 1408 07ac 3946     		mov r1, r7
 1409 07ae 6643     		muls r6, r6, r4 @X*COS
 1410 07b0 6943     		muls r1, r1, r5 @Y*SIN
 1411 07b2 6843     		muls r0, r0, r5 @X*SIN
 1412 07b4 6743     		muls r7, r7, r4 @Y*COS
 1413 07b6 761A     		subs r6, r6, r1
 1414 07b8 3F18     		adds r7, r7, r0
 1415 07ba F613     		asrs r6, r6, # 15
 1416 07bc FF13     		asrs r7, r7, # 15
 1417              	__jiaodu_xuanzhuan:
 1418 07be 0432     		adds r2, r2, # 4
 1419 07c0 F02A     		cmp r2, # 240
 1420 07c2 B9D1     		bne __jiaodu_jiaozhun_xunhuan
 1421 07c4 4046     		mov r0, r8
 1422 07c6 4946     		mov r1, r9
 1423 07c8 F8BC     		pop {r3-r7}
 1424 07ca 9846     		mov r8, r3
 1425 07cc A146     		mov r9, r4
 1426 07ce AA46     		mov r10, r5
 1427 07d0 B346     		mov r11, r6
 1428 07d2 BC46     		mov r12, r7
 1429 07d4 FCBD     		pop {r2-r7,pc}
 1430              			
 1431              	__xianshi_shangxiabi_jiaodu:
 1432 07d6 0FB5     		push {r0-r3,lr}
 1433 07d8 5C48     		ldr r0, = shangbi_r
 1434 07da 5D49     		ldr r1, = shangbi_i
 1435 07dc 0068     		ldr r0, [r0]
 1436 07de 0968     		ldr r1, [r1]
 1437 07e0 00F016FB 		bl __atan2_ji_suan
 1438 07e4 8821     		movs r1, # 0x88	@ 显示位置
 1439 07e6 00F00AF8 		bl __xian_shi_jiao_du
 1440 07ea 5A48     		ldr r0, = xiabi_r
 1441 07ec 5A49     		ldr r1, = xiabi_i
 1442 07ee 0068     		ldr r0, [r0]
 1443 07f0 0968     		ldr r1, [r1]
 1444 07f2 00F00DFB 		bl __atan2_ji_suan
 1445 07f6 C821     		movs r1, # 0xc8 @ 显示位置
 1446 07f8 00F001F8 		bl __xian_shi_jiao_du
 1447 07fc 0FBD     		pop {r0-r3,pc}
 1448              	
 1449              		
 1450              	__xian_shi_jiao_du:
 1451              		@入口R0=角度 r1=要显示的位置
 1452 07fe 3FB5     		push {r0-r5,lr}
 1453 0800 0446     		mov r4, r0
 1454 0802 0D46     		mov r5, r1
ARM GAS  1.s 			page 33


 1455 0804 2846     		mov r0, r5
 1456 0806 0830     		adds r0, r0, # 8
 1457 0808 5449     		ldr r1, = jiaodufuhao
 1458 080a 0122     		movs r2, # 1
 1459 080c 00F0AEFC 		bl _lcdxianshi
 1460              	
 1461 0810 2400     		movs r4, r4
 1462 0812 07D5     		bpl __jiaodu_bu_shi_zheng
 1463 0814 2846     		mov r0, r5
 1464 0816 5249     		ldr r1, = _fu
 1465 0818 0122     		movs r2, # 1
 1466 081a 00F0A7FC 		bl _lcdxianshi
 1467 081e E443     		mvns r4, r4
 1468 0820 0134     		adds r4, r4, # 1
 1469 0822 04E0     		b __xian_shi_jiaodu
 1470              	__jiaodu_bu_shi_zheng:
 1471 0824 2846     		mov r0, r5
 1472 0826 4F49     		ldr r1, = kong
 1473 0828 0122     		movs r2, # 1
 1474 082a 00F09FFC 		bl _lcdxianshi
 1475              	__xian_shi_jiaodu:
 1476 082e 2046     		mov r0, r4
 1477 0830 0621     		movs r1, # 6
 1478 0832 4D4A     		ldr r2, = asciimabiao
 1479 0834 0323     		movs r3, # 3
 1480 0836 00F0DFFC 		bl _zhuanascii
 1481 083a 2846     		mov r0, r5
 1482 083c 0130     		adds r0, r0, # 1
 1483 083e 4A49     		ldr r1, = asciimabiao
 1484 0840 0622     		movs r2, # 6
 1485 0842 00F093FC 		bl _lcdxianshi
 1486 0846 3FBD     		pop {r0-r5,pc}
 1487              		
 1488              	__jiaozhun_shu_zhi:
 1489              		@入口R0=期望值，R1=当前值
 1490 0848 7CB5     		push {r2-r6,lr}
 1491 084a 3D4B     		ldr r3, = jiaozhun_yong_cordic
 1492 084c 3D4D     		ldr r5, = 32768
 1493 084e 0E46     		mov r6, r1
 1494 0850 0022     		movs r2, # 0
 1495              	__z_jiaozhun_xunhuan:
 1496 0852 9C58     		ldr r4, [r3, r2]
 1497 0854 8842     		cmp r0, r1
 1498 0856 01D3     		bcc __z_jian
 1499              	__z_jia:
 1500 0858 2D19     		adds r5, r5, r4
 1501 085a 00E0     		b __z_xuanzhuan
 1502              	__z_jian:
 1503 085c 2D1B     		subs r5, r5, r4
 1504              	__z_xuanzhuan:
 1505 085e 3146     		mov r1, r6
 1506 0860 6943     		muls r1, r1, r5
 1507 0862 C90B     		lsrs r1, r1, # 15
 1508 0864 0432     		adds r2, r2, # 4
 1509 0866 782A     		cmp r2, # 120
 1510 0868 F3D1     		bne __z_jiaozhun_xunhuan
 1511              	__baocun_z_jiaozhun:
ARM GAS  1.s 			page 34


 1512 086a 2846     		mov r0, r5
 1513 086c 7CBD     		pop {r2-r6,pc}
 1514              	
 1515              		
 1516              			
 1517              		
 1518              		
 1519              	__an_jian:
 1520 086e 02B5     		push {r1,lr}
 1521 0870 3E49     		ldr r1, = 0x48000010
 1522 0872 0868     		ldr r0, [r1]	@pa4
 1523 0874 3E48     		ldr r0, = 0x4000
 1524 0876 C043     		mvns r0, r0
 1525 0878 4004     		lsls r0, r0, # 17
 1526 087a 800F     		lsrs r0, r0, # 30
 1527 087c 02BD     		pop {r1,pc}
 1528              	__pinlv_shezhi:
 1529              		@入口R0
 1530              		@0=100, 1=1KHZ, 2=10KHZ, 3=100KHZ
 1531 087e 0FB5     		push {r0-r3,lr}
 1532 0880 3C49     		ldr r1, = shezhi_pinlv
 1533 0882 0122     		movs r2, # 1
 1534 0884 0A60     		str r2, [r1]
 1535 0886 3C4A     		ldr r2, = pinlv
 1536 0888 3C49     		ldr r1, = pinlv_biao
 1537 088a 1268     		ldr r2, [r2]
 1538 088c 9200     	        lsls r2, r2, # 2
 1539 088e 8A58     		ldr r2, [r1, r2]
 1540 0890 9746     		mov pc, r2
 1541              		
 1542              	__pinlv_100:
 1543              		@tim1ch3DMA
 1544 0892 3B48     		ldr r0, = 0x40020000
 1545 0894 0021     		movs r1, # 0
 1546 0896 8165     		str r1, [r0, # 0x58]
 1547 0898 8160     		str r1, [r0, # 0x08]
 1548 089a 3A49     		ldr r1, = 0x40012c3c @ 外设地址
 1549 089c 0166     		str r1, [r0, # 0x60]
 1550 089e 3A49     		ldr r1, = zheng_xian_100hz @ 储存器地址
 1551 08a0 4166     		str r1, [r0, # 0x64]
 1552 08a2 3A49     		ldr r1, = 1000             @点数
 1553 08a4 C165     		str r1, [r0, # 0x5c]
 1554 08a6 3A49     		ldr r1, = 0x35b1         @ 储存到外设
 1555 08a8 8165     		str r1, [r0, # 0x58]
 1556              		
 1557              	        @ adc dma
 1558 08aa 3A49     		ldr r1, = 0x40012440
 1559 08ac 0161     		str r1, [r0, # 0x10]
 1560 08ae 3A49     		ldr r1, = dianyabiao
 1561 08b0 4161     		str r1, [r0, # 0x14]
 1562 08b2 3649     		ldr r1, = 1000
 1563 08b4 C160     		str r1, [r0, # 0x0c]
 1564 08b6 3949     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 1565 08b8 8160     		str r1, [r0, # 0x08]
 1566              		
 1567              		@tim3chushihua:
 1568 08ba 394B     		ldr r3, = 0x40000400 @ tim3_cr1
ARM GAS  1.s 			page 35


 1569 08bc 394A     		ldr r2, = 0
 1570 08be 9A62     		str r2, [r3, # 0x28] @ psc
 1571 08c0 394A     		ldr r2, = 11199
 1572 08c2 DA62     		str r2, [r3, # 0x2c] @ ARR
 1573 08c4 2022     		movs r2, # 0x20
 1574 08c6 5A60     		str r2, [r3, # 0x04] @ TRGO
 1575 08c8 0622     		movs r2, # 0x06
 1576 08ca 9A60     		str r2, [r3, # 0x08]
 1577 08cc 8022     		movs r2, # 0x80
 1578              		@tim1chushiha:
 1579 08ce 3748     		ldr r0, = 0x40012c00 @ tim1_cr1
 1580 08d0 0021     		movs r1, # 0
 1581 08d2 8162     		str r1, [r0, # 0x28] @ psc
 1582 08d4 3649     		ldr r1, = 559
 1583 08d6 C162     		str r1, [r0, # 0x2c] @ ARR
 1584 08d8 2021     		movs r1, # 0x20
 1585 08da 4160     		str r1, [r0, # 0x04] @ TRGO
 1586 08dc 3549     		ldr r1, = 0x68
 1587 08de C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1588 08e0 3549     		ldr r1, = 0x100    @  CC3
 1589 08e2 0162     		str r1, [r0, # 0x20] @ ccer
 1590 08e4 1749     		ldr r1, = 0x8000
 1591 08e6 4164     		str r1, [r0, # 0x44] @ BDTR
 1592 08e8 3449     		ldr r1, = 0x800 @ CC3 DMA
 1593 08ea C160     		str r1, [r0, # 0x0c] @ DIER
 1594 08ec 3449     		ldr r1, = 0x81
 1595 08ee 0160     		str r1, [r0]
 1596 08f0 1A60     		str r2, [r3]
 1597 08f2 3448     		ldr r0, = 0xe000e010
 1598 08f4 3449     		ldr r1, = 11999999
 1599 08f6 4160     		str r1, [r0, # 4]
 1600 08f8 8160     		str r1, [r0, # 8]
 1601 08fa 0721     		movs r1, # 0x07
 1602 08fc 0160     		str r1, [r0]    @systick 开
 1603 08fe 3348     	        ldr r0, = cossin
 1604 0900 3349     		ldr r1, = cos_sin_biao_100
 1605 0902 0160     		str r1, [r0]
 1606 0904 3348     		ldr r0, = lcd_beiguang
 1607 0906 C021     		movs r1, # 0xc0
 1608 0908 0160     		str r1, [r0]
 1609 090a 3348     		ldr r0, = lvbo_changdu
 1610 090c 3349     		ldr r1, = lvbo_youyi
 1611 090e 2022     		movs r2, # 32
 1612 0910 0A23     		movs r3, # 10
 1613 0912 0260     		str r2, [r0]
 1614 0914 0B60     		str r3, [r1]
 1615 0916 0023     		movs r3, # 0
 1616 0918 FFF7AEFE 		bl _adcchushihua
 1617 091c 0FBD     		pop {r0-r3,pc}
 1618 091e 0000C308 		.ltorg
 1618      00000320 
 1618      00000024 
 1618      01400000 
 1618      00800100 
 1619              		
 1620              	__pinlv_1K:
 1621              		@tim1ch3DMA
ARM GAS  1.s 			page 36


 1622 09e0 2248     		ldr r0, = 0x40020000
 1623 09e2 0021     		movs r1, # 0
 1624 09e4 8165     		str r1, [r0, # 0x58]
 1625 09e6 8160     		str r1, [r0, # 0x08]
 1626 09e8 2149     		ldr r1, = 0x40012c3c @ 外设地址
 1627 09ea 0166     		str r1, [r0, # 0x60]
 1628 09ec 2149     		ldr r1, = zheng_xian_1khz @ 储存器地址
 1629 09ee 4166     		str r1, [r0, # 0x64]
 1630 09f0 2149     		ldr r1, =  200             @点数
 1631 09f2 C165     		str r1, [r0, # 0x5c]
 1632 09f4 2149     		ldr r1, = 0x35b1         @ 储存到外设
 1633 09f6 8165     		str r1, [r0, # 0x58]
 1634              		@ adc dma
 1635 09f8 2149     		ldr r1, = 0x40012440
 1636 09fa 0161     		str r1, [r0, # 0x10]
 1637 09fc 2149     		ldr r1, = dianyabiao
 1638 09fe 4161     		str r1, [r0, # 0x14]
 1639 0a00 2149     		ldr r1, = 1000
 1640 0a02 C160     		str r1, [r0, # 0x0c]
 1641 0a04 2149     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 1642 0a06 8160     		str r1, [r0, # 0x08]
 1643              		
 1644              		
 1645              		@tim3chushihua:
 1646 0a08 214B     		ldr r3, = 0x40000400 @ tim3_cr1
 1647 0a0a 224A     		ldr r2, = 0
 1648 0a0c 9A62     		str r2, [r3, # 0x28] @ psc
 1649 0a0e 224A     		ldr r2, = 2799
 1650 0a10 DA62     		str r2, [r3, # 0x2c] @ ARR
 1651 0a12 2022     		movs r2, # 0x20
 1652 0a14 5A60     		str r2, [r3, # 0x04] @ TRGO
 1653 0a16 0622     		movs r2, # 0x06
 1654 0a18 9A60     		str r2, [r3, # 0x08]
 1655 0a1a 8022     		movs r2, # 0x80
 1656              		@tim1chushiha:
 1657 0a1c 1F48     		ldr r0, = 0x40012c00 @ tim1_cr1
 1658 0a1e 0021     		movs r1, # 0
 1659 0a20 8162     		str r1, [r0, # 0x28] @ psc
 1660 0a22 1F49     		ldr r1, = 279
 1661 0a24 C162     		str r1, [r0, # 0x2c] @ ARR
 1662 0a26 2021     		movs r1, # 0x20
 1663 0a28 4160     		str r1, [r0, # 0x04] @ TRGO
 1664 0a2a 1E49     		ldr r1, = 0x68
 1665 0a2c C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1666 0a2e 1E49     		ldr r1, = 0x100    @  CC3
 1667 0a30 0162     		str r1, [r0, # 0x20] @ ccer
 1668 0a32 1E49     		ldr r1, = 0x8000
 1669 0a34 4164     		str r1, [r0, # 0x44] @ BDTR
 1670 0a36 1E49     		ldr r1, = 0x800 @ CC3 DMA
 1671 0a38 C160     		str r1, [r0, # 0x0c] @ DIER
 1672 0a3a 1E49     		ldr r1, = 0x81
 1673 0a3c 0160     		str r1, [r0]
 1674 0a3e 1A60     		str r2, [r3]
 1675 0a40 1D48     	        ldr r0, = 0xe000e010
 1676 0a42 1E49     		ldr r1, = 2799999
 1677 0a44 4160     		str r1, [r0, # 4]
 1678 0a46 8160     		str r1, [r0, # 8]
ARM GAS  1.s 			page 37


 1679 0a48 0721     		movs r1, # 0x07
 1680 0a4a 0160     		str r1, [r0]    @systick 开
 1681 0a4c 1C48     		ldr r0, = cossin
 1682 0a4e 1D49     		ldr r1, = cos_sin_biao_1k
 1683 0a50 0160     		str r1, [r0]
 1684 0a52 1D48     		ldr r0, = lcd_beiguang
 1685 0a54 C021     		movs r1, # 0xc0
 1686 0a56 0160     		str r1, [r0]
 1687 0a58 1C48     	        ldr r0, = lvbo_changdu
 1688 0a5a 1D49     		ldr r1, = lvbo_youyi
 1689 0a5c 3222     		movs r2, # 50
 1690 0a5e 0A23     		movs r3, # 10
 1691 0a60 0260     		str r2, [r0]
 1692 0a62 0B60     		str r3, [r1]
 1693 0a64 0023     		movs r3, # 0
 1694 0a66 FFF707FE 		bl _adcchushihua
 1695 0a6a 0FBD     		pop {r0-r3,pc}
 1696 0a6c 00000240 		.ltorg
 1696      3C2C0140 
 1696      90080000 
 1696      C8000000 
 1696      B1350000 
 1697              		
 1698              	__pinlv_10K:
 1699              		@tim1ch3DMA
 1700 0ad4 2248     		ldr r0, = 0x40020000
 1701 0ad6 0021     		movs r1, # 0
 1702 0ad8 8165     		str r1, [r0, # 0x58]
 1703 0ada 8160     		str r1, [r0, # 0x08]
 1704 0adc 2149     		ldr r1, = 0x40012c3c @ 外设地址
 1705 0ade 0166     		str r1, [r0, # 0x60]
 1706 0ae0 2149     		ldr r1, = zheng_xian_10khz @ 储存器地址
 1707 0ae2 4166     		str r1, [r0, # 0x64]
 1708 0ae4 2149     		ldr r1, = 50 @ 200             @点数
 1709 0ae6 C165     		str r1, [r0, # 0x5c]
 1710 0ae8 2149     		ldr r1, = 0x35b1 @ 0x31b1         @ 储存到外设
 1711 0aea 8165     		str r1, [r0, # 0x58]
 1712              		@ adc dma
 1713 0aec 2149     		ldr r1, = 0x40012440
 1714 0aee 0161     		str r1, [r0, # 0x10]
 1715 0af0 2149     		ldr r1, = dianyabiao
 1716 0af2 4161     		str r1, [r0, # 0x14]
 1717 0af4 2149     		ldr r1, = 1000
 1718 0af6 C160     		str r1, [r0, # 0x0c]
 1719 0af8 2149     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 1720 0afa 8160     		str r1, [r0, # 0x08]
 1721              	
 1722              		@tim3chushihua:
 1723 0afc 214B     		ldr r3, = 0x40000400 @ tim3_cr1
 1724 0afe 224A     		ldr r2, = 0
 1725 0b00 9A62     		str r2, [r3, # 0x28] @ psc
 1726 0b02 224A     		ldr r2, = 279
 1727 0b04 DA62     		str r2, [r3, # 0x2c] @ ARR
 1728 0b06 2022     		movs r2, # 0x20
 1729 0b08 5A60     		str r2, [r3, # 0x04] @ TRGO
 1730 0b0a 0622     		movs r2, # 0x06
 1731 0b0c 9A60     		str r2, [r3, # 0x08]
ARM GAS  1.s 			page 38


 1732 0b0e 8022     		movs r2, # 0x80
 1733              		@tim1chushiha:
 1734 0b10 1F48     		ldr r0, = 0x40012c00 @ tim1_cr1
 1735 0b12 0021     		movs r1, # 0
 1736 0b14 8162     		str r1, [r0, # 0x28] @ psc
 1737 0b16 1F49     		ldr r1, = 111 @ 27
 1738 0b18 C162     		str r1, [r0, # 0x2c] @ ARR
 1739 0b1a 2021     		movs r1, # 0x20
 1740 0b1c 4160     		str r1, [r0, # 0x04] @ TRGO
 1741 0b1e 1E49     		ldr r1, = 0x68
 1742 0b20 C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1743 0b22 1E49     		ldr r1, = 0x100    @  CC3
 1744 0b24 0162     		str r1, [r0, # 0x20] @ ccer
 1745 0b26 1E49     		ldr r1, = 0x8000
 1746 0b28 4164     		str r1, [r0, # 0x44] @ BDTR
 1747 0b2a 1E49     		ldr r1, = 0x800 @ CC3 DMA
 1748 0b2c C160     		str r1, [r0, # 0x0c] @ DIER
 1749 0b2e 1E49     		ldr r1, = 0x81
 1750 0b30 0160     		str r1, [r0]
 1751 0b32 1A60     		str r2, [r3]
 1752 0b34 1D48     		ldr r0, = 0xe000e010
 1753 0b36 1E49     		ldr r1, = 279999
 1754 0b38 4160     		str r1, [r0, # 4]
 1755 0b3a 8160     		str r1, [r0, # 8]
 1756 0b3c 0721     		movs r1, # 0x07
 1757 0b3e 0160     		str r1, [r0]    @systick 开
 1758 0b40 1C48     		ldr r0, = cossin
 1759 0b42 1D49     		ldr r1, = cos_sin_biao_10k
 1760 0b44 0160     		str r1, [r0]
 1761 0b46 1D48     		ldr r0, = lcd_beiguang
 1762 0b48 8021     		movs r1, # 0x80
 1763 0b4a 0160     		str r1, [r0]
 1764 0b4c 1C48     	        ldr r0, = lvbo_changdu
 1765 0b4e 1D49     		ldr r1, = lvbo_youyi
 1766 0b50 5022     		movs r2, # 80
 1767 0b52 0B23     		movs r3, # 11
 1768 0b54 0260     		str r2, [r0]
 1769 0b56 0B60     		str r3, [r1]
 1770 0b58 0023     		movs r3, # 0
 1771 0b5a FFF78DFD 		bl _adcchushihua
 1772 0b5e 0FBD     		pop {r0-r3,pc}
 1773 0b60 00000240 		.ltorg
 1773      3C2C0140 
 1773      20080000 
 1773      32000000 
 1773      B1350000 
 1774              		
 1775              	__pinlv_100K:
 1776              	        @tim1ch3DMA
 1777 0bc8 2548     		ldr r0, = 0x40020000
 1778 0bca 0021     		movs r1, # 0
 1779 0bcc 8165     		str r1, [r0, # 0x58]
 1780 0bce 8160     		str r1, [r0, # 0x08]
 1781 0bd0 2449     		ldr r1, = 0x40012c3c @ 外设地址
 1782 0bd2 0166     		str r1, [r0, # 0x60]
 1783 0bd4 2449     		ldr r1, = zheng_xian_100khz @ 储存器地址
 1784 0bd6 4166     		str r1, [r0, # 0x64]
ARM GAS  1.s 			page 39


 1785 0bd8 2449     		ldr r1, = 20             @点数
 1786 0bda C165     		str r1, [r0, # 0x5c]
 1787 0bdc 2449     		ldr r1, = 0x31b1         @ 储存到外设
 1788 0bde 8165     		str r1, [r0, # 0x58]
 1789              		@ adc dma
 1790 0be0 2449     		ldr r1, = 0x40012440
 1791 0be2 0161     		str r1, [r0, # 0x10]
 1792 0be4 2449     		ldr r1, = dianyabiao
 1793 0be6 4161     		str r1, [r0, # 0x14]
 1794 0be8 2449     		ldr r1, = 1000
 1795 0bea C160     		str r1, [r0, # 0x0c]
 1796 0bec 2449     		ldr r1, = 0x35a1 @  0x583        @ 5a1
 1797 0bee 8160     		str r1, [r0, # 0x08]
 1798              		
 1799              	@tim1chushiha:
 1800 0bf0 2448     		ldr r0, = 0x40012c00 @ tim1_cr1
 1801 0bf2 0021     		movs r1, # 0
 1802 0bf4 8162     		str r1, [r0, # 0x28] @ psc
 1803 0bf6 2449     		ldr r1, = 27
 1804 0bf8 C162     		str r1, [r0, # 0x2c] @ ARR
 1805 0bfa 2449     		ldr r1, = 0x68
 1806 0bfc C161     		str r1, [r0, # 0x1c] @ ccmr2  CC3
 1807 0bfe 2449     		ldr r1, = 0x100    @  CC3
 1808 0c00 0162     		str r1, [r0, # 0x20] @ ccer
 1809 0c02 2449     		ldr r1, = 0x8000
 1810 0c04 4164     		str r1, [r0, # 0x44] @ BDTR
 1811 0c06 2449     		ldr r1, = 0x800 @ CC3 DMA
 1812 0c08 C160     		str r1, [r0, # 0x0c] @ DIER
 1813 0c0a 2449     		ldr r1, = 0x81
 1814 0c0c 0160     		str r1, [r0]
 1815 0c0e 2448     		ldr r0, = 0xe000e010
 1816 0c10 2449     		ldr r1, = 55999
 1817 0c12 4160     		str r1, [r0, # 4]
 1818 0c14 8160     		str r1, [r0, # 8]
 1819 0c16 0721     		movs r1, # 0x07
 1820 0c18 0160     		str r1, [r0]    @systick 开
 1821 0c1a 2348     		ldr r0, = cossin
 1822 0c1c 2349     		ldr r1, = cos_sin_biao_100k
 1823 0c1e 0160     		str r1, [r0]
 1824 0c20 2348     		ldr r0, = lcd_beiguang
 1825 0c22 0021     		movs r1, # 0
 1826 0c24 0160     		str r1, [r0]
 1827 0c26 2348     	        ldr r0, = lvbo_changdu
 1828 0c28 2349     		ldr r1, = lvbo_youyi
 1829 0c2a 6422     		movs r2, # 100
 1830 0c2c 0C23     		movs r3, # 12
 1831 0c2e 0260     		str r2, [r0]
 1832 0c30 0B60     		str r3, [r1]
 1833              		
 1834              		
 1835 0c32 0123     		movs r3, # 1
 1836 0c34 FFF720FD 		bl _adcchushihua
 1837 0c38 0FBD     		pop {r0-r3,pc}
 1838              	__pinlv_yanshi:
 1839 0c3a 2048     		ldr r0, = 0x1ffff
 1840              	__pinlv_yanshi_xunhuan:
 1841 0c3c 0138     		subs r0, r0, # 1
ARM GAS  1.s 			page 40


 1842 0c3e FDD1     		bne __pinlv_yanshi_xunhuan
 1843 0c40 F746     		mov pc, lr
 1844              	__pin_lv_xian_shi:
 1845 0c42 0FB5     		push {r0-r3,lr}
 1846 0c44 1E48     		ldr r0, = pinlv
 1847 0c46 0121     		movs r1, # 1
 1848 0c48 0068     		ldr r0, [r0]
 1849 0c4a 1E4A     		ldr r2, = asciimabiao
 1850 0c4c FF23     		movs r3, # 0xff
 1851 0c4e 00F0D3FA 		bl _zhuanascii
 1852 0c52 8020     		movs r0, # 0x80
 1853 0c54 1B49     		ldr r1, = asciimabiao
 1854 0c56 0122     		movs r2, # 1
 1855 0c58 00F088FA 		bl _lcdxianshi
 1856 0c5c 0FBD     		pop {r0-r3,pc}
 1857 0c5e 00000000 		.ltorg
 1857      02403C2C 
 1857      01400008 
 1857      00001400 
 1857      0000B131 
 1858              		
 1859              	__jisuan_z_fudu:
 1860 0cc8 07B5     		push {r0-r2,lr}
 1861 0cca 6B48     		ldr r0, = xiabi_rr
 1862 0ccc 6B49     		ldr r1, = xiabi_ii
 1863 0cce 0068     		ldr r0, [r0]
 1864 0cd0 0968     		ldr r1, [r1]
 1865 0cd2 4012     		asrs r0, r0, # 9
 1866 0cd4 4912     		asrs r1, r1, # 9
 1867 0cd6 00F0FDF8 		bl __ji_suan_fu_du
 1868 0cda 0246     		mov r2, r0
 1869 0cdc 6848     		ldr r0, = shangbi_rr
 1870 0cde 6949     		ldr r1, = shangbi_ii
 1871 0ce0 0068     		ldr r0, [r0]
 1872 0ce2 0968     		ldr r1, [r1]
 1873 0ce4 4012     		asrs r0, r0, # 9
 1874 0ce6 4912     		asrs r1, r1, # 9
 1875 0ce8 00F0F4F8 		bl __ji_suan_fu_du
 1876 0cec 1146     		mov r1, r2
 1877 0cee 664A     		ldr r2, = 1000
 1878 0cf0 5043     		muls r0, r0, r2
 1879 0cf2 00F07EFB 		bl _chufa
 1880 0cf6 6549     		ldr r1, = z_fudu
 1881 0cf8 4009     		lsrs r0, r0, # 5
 1882 0cfa 0860     		str r0, [r1]
 1883 0cfc 07BD     		pop {r0-r2,pc}
 1884              		
 1885              	__zidong_dangwei:
 1886 0cfe 0FB5     		push {r0-r3,lr}
 1887              	__huan_dang:
 1888 0d00 6248     		ldr r0, = z_fudu
 1889 0d02 0068     		ldr r0, [r0]
 1890 0d04 624B     		ldr r3, =  900
 1891 0d06 5B09     		lsrs r3, r3, # 5
 1892 0d08 9842     		cmp r0, r3
 1893 0d0a 0CD3     		bcc __dang_wei_jian
 1894 0d0c 614B     		ldr r3, =  3000
ARM GAS  1.s 			page 41


 1895 0d0e 5B09     		lsrs r3, r3, # 5
 1896 0d10 9842     		cmp r0, r3
 1897 0d12 10D3     		bcc __zi_dong_dang_wei_fan_hui
 1898 0d14 6048     		ldr r0, = liangcheng
 1899 0d16 0168     		ldr r1, [r0]
 1900 0d18 0131     		adds r1, r1, # 1
 1901 0d1a 0160     		str r1, [r0]
 1902 0d1c 1829     		cmp r1, # 24
 1903 0d1e 0AD1     		bne __zi_dong_dang_wei_fan_hui
 1904 0d20 1721     		movs r1, # 23
 1905 0d22 0160     		str r1, [r0]
 1906 0d24 07E0     		b __zi_dong_dang_wei_fan_hui
 1907              	__dang_wei_jian:
 1908 0d26 5C48     		ldr r0, = liangcheng
 1909 0d28 0168     		ldr r1, [r0]
 1910 0d2a 0139     		subs r1, r1, # 1
 1911 0d2c 0160     		str r1, [r0]
 1912 0d2e FF29     		cmp r1, # 0xff
 1913 0d30 01D3     		bcc __zi_dong_dang_wei_fan_hui
 1914 0d32 0021     		movs r1, # 0
 1915 0d34 0160     		str r1, [r0]
 1916              	__zi_dong_dang_wei_fan_hui:
 1917 0d36 0FBD     		pop {r0-r3,pc}
 1918              	
 1919              		
 1920              	__jisuan_zukang:
 1921 0d38 1FB5     		push {r0-r4,lr}
 1922 0d3a 5848     		ldr r0, = zukang_dianzu_biao
 1923 0d3c 5649     		ldr r1, = liangcheng
 1924 0d3e 0968     		ldr r1, [r1]
 1925 0d40 8900     		lsls r1, r1, # 2
 1926 0d42 4458     		ldr r4, [r0, r1]
 1927 0d44 5648     		ldr r0, = shangbi_r
 1928 0d46 5749     		ldr r1, = shangbi_i
 1929 0d48 574A     		ldr r2, = xiabi_r
 1930 0d4a 584B     		ldr r3, = xiabi_i
 1931 0d4c 0068     		ldr r0, [r0]
 1932 0d4e 0968     		ldr r1, [r1]
 1933 0d50 1268     		ldr r2, [r2]
 1934 0d52 1B68     		ldr r3, [r3]
 1935 0d54 6043     		muls r0, r0, r4
 1936 0d56 6143     		muls r1, r1, r4
 1937 0d58 00F067FA 		bl __fu_shu_chu_fa
 1938 0d5c 5448     		ldr r0, = z_r
 1939 0d5e 554B     		ldr r3, = z_i
 1940 0d60 1960     		str r1, [r3]
 1941 0d62 0260     		str r2, [r0]
 1942 0d64 1FBD     		pop {r0-r4,pc}
 1943              	
 1944              		
 1945              		
 1946              	__jisuan_cos_sin:				@jd
 1947              		@入口R0=角度 （-18000到+18000）
 1948              		@出口R0=COS，R1=SIN
 1949 0d66 FCB5     		push {r2-r7,lr}
 1950 0d68 5349     		ldr r1, = 18000
 1951 0d6a 8842     		cmp r0, r1
ARM GAS  1.s 			page 42


 1952 0d6c 02D9     		bls __xiaoyu_180
 1953 0d6e 401A     		subs r0, r0, r1
 1954 0d70 0127     		movs r7, # 1
 1955 0d72 00E0     		b __js_cos_sin
 1956              	__xiaoyu_180:
 1957 0d74 0027     		movs r7, # 0
 1958              	__js_cos_sin:
 1959 0d76 5149     		ldr r1, = 9000
 1960 0d78 514A     		ldr r2, = 51471
 1961 0d7a 0000     		movs r0, r0
 1962 0d7c 03D5     		bpl __jisuan_jiaodu_bushi0
 1963 0d7e C043     		mvns r0, r0
 1964 0d80 0130     		adds r0, r0, # 1
 1965 0d82 0124     		movs r4, # 1
 1966 0d84 00E0     		b __jiance_chao90
 1967              	__jisuan_jiaodu_bushi0:
 1968 0d86 0024     		movs r4, # 0
 1969              	__jiance_chao90:
 1970 0d88 8842     		cmp r0, r1
 1971 0d8a 03D9     		bls __xiaoyu_90
 1972 0d8c 4A4E     		ldr r6, = 18000
 1973 0d8e 301A     		subs r0, r6, r0
 1974 0d90 0126     		movs r6, # 1
 1975 0d92 00E0     		b __suan_cossin
 1976              	__xiaoyu_90:
 1977 0d94 0026     		movs r6, # 0
 1978              	__suan_cossin:
 1979 0d96 4B4D     		ldr r5, = 10000
 1980 0d98 6843     		muls r0, r0, r5
 1981 0d9a 00F02AFB 		bl _chufa
 1982 0d9e 5043     		muls r0, r0, r2
 1983 0da0 2946     		mov r1, r5
 1984 0da2 00F026FB 		bl _chufa
 1985 0da6 012C     		cmp r4, # 1
 1986 0da8 01D1     		bne __suan_cos_sin1
 1987 0daa C043     		mvns r0, r0
 1988 0dac 0130     		adds r0, r0, # 1
 1989              	__suan_cos_sin1:
 1990 0dae 00F00BF8 		bl __cordic_cos_sin
 1991 0db2 012E     		cmp r6, # 1
 1992 0db4 01D1     		bne __cos_sin_fanhui
 1993 0db6 C043     		mvns r0, r0
 1994 0db8 0130     		adds r0, r0, # 1
 1995              	__cos_sin_fanhui:
 1996 0dba 012F     		cmp r7, # 1
 1997 0dbc 03D1     		bne __cossin_fh
 1998 0dbe C043     		mvns r0, r0
 1999 0dc0 C943     		mvns r1, r1
 2000 0dc2 0130     		adds r0, r0, # 1
 2001 0dc4 0131     		adds r1, r1, # 1
 2002              	__cossin_fh:
 2003 0dc6 FCBD     		pop {r2-r7,pc}
 2004              	__cordic_cos_sin:
 2005              		@入口R0
 2006              		@出口R0=COS，R1=SIN
 2007              		@ x= 0x4dba
 2008              		@ r1=x,r2=y,r0=z,r4=d,r5=k,r6=cordic_mabiao
ARM GAS  1.s 			page 43


 2009              	
 2010 0dc8 FCB5     		push {r2-r7,lr}
 2011 0dca 4246     		mov r2, r8
 2012 0dcc 4B46     		mov r3, r9
 2013 0dce 0CB4     		push {r2-r3}
 2014 0dd0 0025     		movs r5, # 0
 2015 0dd2 2A46     		mov r2, r5
 2016 0dd4 2C46     		mov r4, r5
 2017 0dd6 3C49     		ldr r1, = 0x4dba
 2018              	cordicxunhuan:				 @ 循环
 2019 0dd8 C413     		asrs r4, r0, # 15
 2020              		@ x
 2021 0dda 1746     		mov r7, r2
 2022 0ddc 2A41     		asrs r2, r2, r5
 2023 0dde 6240     		eors r2, r2, r4
 2024 0de0 121B     		subs r2, r2, r4
 2025 0de2 8B1A     		subs r3, r1, r2
 2026              		@ y
 2027 0de4 0E46     		mov r6, r1
 2028 0de6 2941     		asrs r1, r1, r5
 2029 0de8 6140     		eors r1, r1, r4
 2030 0dea 091B     		subs r1, r1, r4
 2031 0dec 7F18     		adds r7, r7, r1
 2032              		@ z
 2033 0dee 374E     		ldr r6, = cordic_yong_atan_biao
 2034 0df0 AA00     		lsls r2, r5, # 2
 2035 0df2 B158     		ldr r1, [r6, r2]
 2036 0df4 6140     		eors r1, r1, r4
 2037 0df6 091B     		subs r1, r1, r4
 2038 0df8 401A     		subs r0, r0, r1
 2039 0dfa 1946     		mov r1, r3
 2040 0dfc 3A46     		mov r2, r7
 2041 0dfe 0135     		adds r5, # 1
 2042 0e00 102D     		cmp r5, # 16
 2043 0e02 E9D1     		bne cordicxunhuan
 2044 0e04 1846     		mov r0, r3
 2045 0e06 3946     		mov r1, r7
 2046 0e08 0CBC     		pop {r2-r3}
 2047 0e0a 9046     		mov r8, r2
 2048 0e0c 9946     		mov r9, r3
 2049 0e0e FCBD     		pop {r2-r7,pc}
 2050              	__atan2_ji_suan:				@jt
 2051              		@入口R0=实部，R1=虚部，结果=R0
 2052 0e10 FCB5     		push {r2-r7,lr}
 2053 0e12 4246     		mov r2, r8
 2054 0e14 04B4     		push {r2}
 2055 0e16 2E4B     		ldr r3, = cordic_yong_cos_sin
 2056 0e18 0A22     		movs r2, # 10
 2057 0e1a 5043     		muls r0, r0, r2
 2058 0e1c 5143     		muls r1, r1, r2
 2059 0e1e 0022     		movs r2, # 0
 2060 0e20 9046     		mov r8, r2
 2061 0e22 264C     		ldr r4, = 9000
 2062 0e24 E403     		lsls r4, r4, # 15
 2063              	__cordic_atan2_xun_huan:
 2064              	__du_cos_sin:
 2065 0e26 1D68     		ldr r5, [r3]	@cos
ARM GAS  1.s 			page 44


 2066 0e28 0433     		adds r3, r3, # 4
 2067 0e2a 2F46     		mov r7, r5
 2068 0e2c 1E68     		ldr r6, [r3]	@sin
 2069 0e2e 0433     		adds r3, r3, # 4
 2070 0e30 3246     		mov r2, r6
 2071 0e32 4543     		muls r5, r5, r0         @x*cos
 2072 0e34 4243     		muls r2, r2, r0         @x*sin
 2073 0e36 4E43     		muls r6, r6, r1         @y*sin
 2074 0e38 4F43     		muls r7, r7, r1         @y*cos
 2075 0e3a 0900     		movs r1, r1
 2076 0e3c 05D5     		bpl __ni_shi_zhen_zhuan
 2077              	__shun_shi_zhen_zhuan:
 2078 0e3e AD1B     		subs r5, r5, r6
 2079 0e40 BF18     		adds r7, r7, r2
 2080 0e42 4646     		mov r6, r8
 2081 0e44 3619     		adds r6, r6, r4
 2082 0e46 B046     		mov r8, r6
 2083 0e48 04E0     		b __xuan_zhuan_wan
 2084              	__ni_shi_zhen_zhuan:
 2085 0e4a AD19     		adds r5, r5, r6
 2086 0e4c BF1A     		subs r7, r7, r2
 2087 0e4e 4646     		mov r6, r8
 2088 0e50 361B     		subs r6, r6, r4
 2089 0e52 B046     		mov r8, r6
 2090              	__xuan_zhuan_wan:
 2091 0e54 1E4E     		ldr r6, = cordic_yong_cos_sin
 2092 0e56 2022     		movs r2, # 32
 2093 0e58 9200     		lsls r2, r2, # 2
 2094 0e5a B618     		adds r6, r6, r2
 2095 0e5c AD13     		asrs r5, r5, # 14
 2096 0e5e BF13     		asrs r7, r7, # 14
 2097 0e60 2846     		mov r0, r5
 2098 0e62 3946     		mov r1, r7
 2099 0e64 6408     		lsrs r4, r4, # 1	@旋转
 2100 0e66 B342     		cmp r3,	r6
 2101 0e68 DDD1     		bne __cordic_atan2_xun_huan
 2102 0e6a 4046     		mov r0, r8
 2103 0e6c C043     		mvns r0, r0
 2104 0e6e 0130     		adds r0, r0, # 1
 2105 0e70 C013     		asrs r0, r0, # 15      @除32768等于角度
 2106 0e72 04BC     		pop {r2}
 2107 0e74 9046     		mov r8, r2
 2108 0e76 FCBD     		pop {r2-r7,pc}
 2109 0e78 58000020 		.ltorg
 2109      5C000020 
 2109      50000020 
 2109      54000020 
 2109      E8030000 
 2110              	__ji_suan_fu_du:	    @ 计算幅度
 2111              		@ 入r0= 实部，r1= 虚部
 2112              		@ 出r0 = 幅度
 2113              		@ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
 2114              		@ Alpha * Max + Beta * Min
 2115 0ed4 0EB5     		push {r1-r3,lr}
 2116 0ed6 0000     		movs r0, r0
 2117 0ed8 01D5     		bpl _shibubushifushu
 2118 0eda C043     		mvns r0, r0                             @ 是负数转成正数
ARM GAS  1.s 			page 45


 2119 0edc 0130     		adds r0, r0, # 1
 2120              	_shibubushifushu:	                               @ 实部不是负数
 2121 0ede 0900     		movs r1, r1
 2122 0ee0 01D5     		bpl _xububushifushu
 2123 0ee2 C943     		mvns r1, r1                             @ 是负数转成正数
 2124 0ee4 0131     		adds r1, r1, # 1
 2125              	_xububushifushu:	                                @ 虚部不是负数
 2126 0ee6 0028     		cmp r0, # 0
 2127 0ee8 01D1     		bne _panduanxubushibushi0
 2128 0eea 0846     		mov r0, r1
 2129 0eec 0EBD     		pop {r1-r3,pc}
 2130              	_panduanxubushibushi0:
 2131 0eee 0029     		cmp r1, # 0
 2132 0ef0 00D1     		bne _jisuanfudu1
 2133 0ef2 0EBD     		pop {r1-r3,pc}
 2134              	_jisuanfudu1:
 2135 0ef4 084A     		ldr r2, = 32765		@ Alpha q15 0.948059448969 @
 2136              					@ 感觉这个小了，要乘1.0547
 2137 0ef6 094B     		ldr r3, = 13572		@ Beta q15 0.392699081699
 2138              					@感觉这个小了要乘1.0547
 2139 0ef8 8142     		cmp r1, r0
 2140 0efa 06D8     		bhi _alpha_min_beta_max
 2141              	_alpha_max_beta_min:
 2142 0efc 5043     		muls r0, r0, r2
 2143 0efe 5943     		muls r1, r1, r3
 2144 0f00 C013     		asrs r0, r0, # 15
 2145 0f02 C913     		asrs r1, r1, # 15
 2146 0f04 4018     		adds r0, r0, r1
 2147 0f06 0121     		movs r1, # 1
 2148 0f08 0EBD     		pop {r1-r3,pc}
 2149              	_alpha_min_beta_max:
 2150 0f0a 5843     		muls r0, r0, r3
 2151 0f0c 5143     		muls r1, r1, r2
 2152 0f0e C013     		asrs r0, r0, # 15
 2153 0f10 C913     		asrs r1, r1, # 15
 2154 0f12 4018     		adds r0, r0, r1
 2155 0f14 0021     		movs r1, # 0
 2156 0f16 0EBD     		pop {r1-r3,pc}
 2157              	
 2158              	
 2159              		
 2160 0f18 FD7F0000 		.ltorg
 2160      04350000 
 2161              	__xianshi_zukang:
 2162 0f20 3FB5     		push {r0-r5,lr}
 2163 0f22 804C     		ldr r4, = z_r
 2164 0f24 804D     		ldr r5, = z_i
 2165 0f26 2468     		ldr r4, [r4]
 2166 0f28 2D68     		ldr r5, [r5]
 2167 0f2a 2400     		movs r4, r4
 2168 0f2c 07D5     		bpl aaa1
 2169 0f2e 8020     		movs r0, # 0x80
 2170 0f30 7E49     		ldr r1, = _fu
 2171 0f32 0122     		movs r2, # 1
 2172 0f34 00F01AF9 		bl _lcdxianshi
 2173 0f38 E443     		mvns r4, r4
 2174 0f3a 0134     		adds r4, r4, # 1
ARM GAS  1.s 			page 46


 2175 0f3c 04E0     		b aaa2
 2176              	aaa1:
 2177 0f3e 8020     		movs r0, # 0x80
 2178 0f40 7B49     		ldr r1, = kong
 2179 0f42 0122     		movs r2, # 1
 2180 0f44 00F012F9 		bl _lcdxianshi
 2181              	aaa2:
 2182 0f48 2046     		mov r0, r4
 2183 0f4a 0621     		movs r1, # 6
 2184 0f4c 794A     		ldr r2, = asciimabiao
 2185 0f4e 7A4C     	        ldr r4, = zukang_xiaoshu_dian
 2186 0f50 7A4B     		ldr r3, = liangcheng
 2187 0f52 1B68     		ldr r3, [r3]
 2188 0f54 E35C     		ldrb r3, [r4, r3]
 2189 0f56 00F04FF9 		bl _zhuanascii
 2190 0f5a 8120     		movs r0, # 0x81
 2191 0f5c 7549     		ldr r1, = asciimabiao
 2192 0f5e 0622     		movs r2, # 6
 2193 0f60 00F004F9 		bl _lcdxianshi
 2194              	
 2195              	
 2196 0f64 2C00     		movs r4, r5
 2197 0f66 07D5     		bpl bbb1
 2198 0f68 8720     		movs r0, # 0x87
 2199 0f6a 7049     		ldr r1, = _fu
 2200 0f6c 0122     		movs r2, # 1
 2201 0f6e 00F0FDF8 		bl _lcdxianshi
 2202 0f72 E443     		mvns r4, r4
 2203 0f74 0134     		adds r4, r4, # 1
 2204 0f76 04E0     		b bbb2
 2205              	bbb1:
 2206 0f78 8720     		movs r0, # 0x87
 2207 0f7a 6D49     		ldr r1, = kong
 2208 0f7c 0122     		movs r2, # 1
 2209 0f7e 00F0F5F8 		bl _lcdxianshi
 2210              	bbb2:
 2211 0f82 2046     		mov r0, r4
 2212 0f84 0621     		movs r1, # 6
 2213 0f86 6B4A     		ldr r2, = asciimabiao
 2214 0f88 6B4D     		ldr r5, = zukang_xiaoshu_dian
 2215 0f8a 6C4B     		ldr r3, = liangcheng
 2216 0f8c 1B68     		ldr r3, [r3]
 2217 0f8e EB5C     		ldrb r3, [r5, r3]
 2218 0f90 00F032F9 		bl _zhuanascii
 2219 0f94 8820     		movs r0, # 0x88
 2220 0f96 6749     		ldr r1, = asciimabiao
 2221 0f98 0622     		movs r2, # 6
 2222 0f9a 00F0E7F8 		bl _lcdxianshi
 2223 0f9e 3FBD     		pop {r0-r5,pc}
 2224              	
 2225              	
 2226              	__xianshi_liangcheng:
 2227 0fa0 0FB5     		push {r0-r3,lr}
 2228 0fa2 6648     	        ldr r0, = liangcheng
 2229 0fa4 0221     		movs r1, # 2
 2230 0fa6 0068     		ldr r0, [r0]
 2231 0fa8 624A     		ldr r2, = asciimabiao
ARM GAS  1.s 			page 47


 2232 0faa FF23     		movs r3, # 0xff
 2233 0fac 00F024F9 		bl _zhuanascii
 2234 0fb0 C020     		movs r0, # 0xc0
 2235 0fb2 6049     		ldr r1, = asciimabiao
 2236 0fb4 0222     		movs r2, # 2
 2237 0fb6 00F0D9F8 		bl _lcdxianshi
 2238 0fba 0FBD     		pop {r0-r3,pc}
 2239              		
 2240              	__xianshi_shangxia_bi:
 2241 0fbc FFB5     		push {r0-r7,lr}
 2242 0fbe 6048     		ldr r0, = shangbi_r
 2243 0fc0 604A     		ldr r2, = shangbi_i
 2244 0fc2 0168     		ldr r1, [r0]
 2245 0fc4 1768     		ldr r7, [r2]
 2246 0fc6 0C00     		movs r4, r1
 2247 0fc8 07D5     		bpl aa1
 2248 0fca 8020     		movs r0, # 0x80
 2249 0fcc 5749     		ldr r1, = _fu
 2250 0fce 0122     		movs r2, # 1
 2251 0fd0 00F0CCF8 		bl _lcdxianshi
 2252 0fd4 E443     		mvns r4, r4
 2253 0fd6 0134     		adds r4, r4, # 1
 2254 0fd8 04E0     		b aa2
 2255              	aa1:
 2256 0fda 8020     		movs r0, # 0x80
 2257 0fdc 5449     		ldr r1, = kong
 2258 0fde 0122     		movs r2, # 1
 2259 0fe0 00F0C4F8 		bl _lcdxianshi
 2260              	aa2:
 2261 0fe4 2046     		mov r0, r4
 2262 0fe6 0621     		movs r1, # 6
 2263 0fe8 524A     		ldr r2, = asciimabiao
 2264 0fea FF23     		movs r3, # 0xff
 2265 0fec 00F004F9 		bl _zhuanascii
 2266 0ff0 8120     		movs r0, # 0x81
 2267 0ff2 5049     		ldr r1, = asciimabiao
 2268 0ff4 0622     		movs r2, # 6
 2269 0ff6 00F0B9F8 		bl _lcdxianshi
 2270              	
 2271              	
 2272 0ffa 3C00     		movs r4, r7
 2273 0ffc 07D5     		bpl bb1
 2274 0ffe 8920     		movs r0, # 0x89
 2275 1000 4A49     		ldr r1, = _fu
 2276 1002 0122     		movs r2, # 1
 2277 1004 00F0B2F8 		bl _lcdxianshi
 2278 1008 E443     		mvns r4, r4
 2279 100a 0134     		adds r4, r4, # 1
 2280 100c 04E0     		b bb2
 2281              	bb1:
 2282 100e 8920     		movs r0, # 0x89
 2283 1010 4749     		ldr r1, = kong
 2284 1012 0122     		movs r2, # 1
 2285 1014 00F0AAF8 		bl _lcdxianshi
 2286              	bb2:
 2287 1018 2046     		mov r0, r4
 2288 101a 0621     		movs r1, # 6
ARM GAS  1.s 			page 48


 2289 101c 454A     		ldr r2, = asciimabiao
 2290 101e FF23     		movs r3, # 0xff
 2291 1020 00F0EAF8 		bl _zhuanascii
 2292 1024 8A20     		movs r0, # 0x8a
 2293 1026 4349     		ldr r1, = asciimabiao
 2294 1028 0622     		movs r2, # 6
 2295 102a 00F09FF8 		bl _lcdxianshi
 2296              	
 2297 102e 4648     	        ldr r0, = xiabi_r
 2298 1030 464A     		ldr r2, = xiabi_i
 2299 1032 0168     		ldr r1, [r0]
 2300 1034 1768     		ldr r7, [r2]
 2301 1036 0C00     		movs r4, r1
 2302 1038 07D5     		bpl cc1
 2303 103a C020     		movs r0, # 0xc0
 2304 103c 3B49     		ldr r1, = _fu
 2305 103e 0122     		movs r2, # 1
 2306 1040 00F094F8 		bl _lcdxianshi
 2307 1044 E443     		mvns r4, r4
 2308 1046 0134     		adds r4, r4, # 1
 2309 1048 04E0     		b cc2
 2310              	cc1:
 2311 104a C020     		movs r0, # 0xc0
 2312 104c 3849     		ldr r1, = kong
 2313 104e 0122     		movs r2, # 1
 2314 1050 00F08CF8 		bl _lcdxianshi
 2315              	cc2:
 2316 1054 2046     		mov r0, r4
 2317 1056 0621     		movs r1, # 6
 2318 1058 364A     		ldr r2, = asciimabiao
 2319 105a FF23     		movs r3, # 0xff
 2320 105c 00F0CCF8 		bl _zhuanascii
 2321 1060 C120     		movs r0, # 0xc1
 2322 1062 3449     		ldr r1, = asciimabiao
 2323 1064 0622     		movs r2, # 6
 2324 1066 00F081F8 		bl _lcdxianshi
 2325              	
 2326              	
 2327 106a 3C00     		movs r4, r7
 2328 106c 07D5     		bpl dd1
 2329 106e C920     		movs r0, # 0xc9
 2330 1070 2E49     		ldr r1, = _fu
 2331 1072 0122     		movs r2, # 1
 2332 1074 00F07AF8 		bl _lcdxianshi
 2333 1078 E443     		mvns r4, r4
 2334 107a 0134     		adds r4, r4, # 1
 2335 107c 04E0     		b dd2
 2336              	dd1:
 2337 107e C920     		movs r0, # 0xc9
 2338 1080 2B49     		ldr r1, = kong
 2339 1082 0122     		movs r2, # 1
 2340 1084 00F072F8 		bl _lcdxianshi
 2341              	dd2:
 2342 1088 2046     		mov r0, r4
 2343 108a 0621     		movs r1, # 6
 2344 108c 294A     		ldr r2, = asciimabiao
 2345 108e FF23     		movs r3, # 0xff
ARM GAS  1.s 			page 49


 2346 1090 00F0B2F8 		bl _zhuanascii
 2347 1094 CA20     		movs r0, # 0xca
 2348 1096 2749     		ldr r1, = asciimabiao
 2349 1098 0622     		movs r2, # 6
 2350 109a 00F067F8 		bl _lcdxianshi
 2351 109e FFBD     		pop {r0-r7,pc}
 2352              	
 2353              	__dft:
 2354 10a0 FCB5     		push {r2-r7,lr}
 2355 10a2 4246     		mov r2, r8
 2356 10a4 4B46     		mov r3, r9
 2357 10a6 0CB4     		push {r2-r3}
 2358 10a8 2949     		ldr r1, = 0x12345678
 2359 10aa 8946     		mov r9, r1
 2360 10ac 2948     		ldr r0, = dianyabiao
 2361 10ae 2A49     		ldr r1, = cossin
 2362 10b0 0968     		ldr r1, [r1]
 2363 10b2 2A4B     		ldr r3, = 0x7d0      @1000
 2364 10b4 2A4C     		ldr r4, = 2048
 2365 10b6 1B18     		adds r3, r3, r0
 2366 10b8 9846     		mov r8, r3
 2367 10ba 0022     		movs r2, # 0
 2368 10bc 1746     		mov r7, r2
 2369              	__dft_xunhuan:
 2370 10be 0388     		ldrh r3, [r0]
 2371 10c0 0D68     		ldr r5, [r1]
 2372 10c2 4D45     		cmp r5, r9
 2373 10c4 02D1     		bne __du_sin
 2374 10c6 2449     		ldr r1, = cossin
 2375 10c8 0968     		ldr r1, [r1]
 2376 10ca 0D68     		ldr r5, [r1]
 2377              	__du_sin:	
 2378 10cc 4E68     		ldr r6, [r1, # 0x04]
 2379 10ce 1B1B     		subs r3, r3, r4
 2380 10d0 5D43     		muls r5, r5, r3
 2381 10d2 AD11     		asrs r5, r5, # 6
 2382 10d4 5E43     		muls r6, r6, r3
 2383 10d6 B611     		asrs r6, r6, # 6
 2384 10d8 5219     		adds r2, r2, r5
 2385 10da BF19     		adds r7, r7, r6
 2386 10dc 0230     		adds r0, r0, # 0x02
 2387 10de 0831     		adds r1, r1, # 0x08
 2388 10e0 4045     		cmp r0, r8
 2389 10e2 ECD1     		bne __dft_xunhuan
 2390 10e4 1046     		mov r0, r2
 2391 10e6 3946     		mov r1, r7
 2392 10e8 4012     		asrs r0, r0, # 9
 2393 10ea 4912     		asrs r1, r1, # 9
 2394 10ec 0CBC     		pop {r2-r3}
 2395 10ee 9046     		mov r8, r2
 2396 10f0 9946     		mov r9, r3
 2397 10f2 FCBD     		pop {r2-r7,pc}
 2398              		
 2399              	__lv_bo_qi:
 2400              		@地址顺序：指针，累加值，缓冲区
 2401              		@入口R0=缓冲区，R1=数据, r2,=指针
 2402              		@出口R0
ARM GAS  1.s 			page 50


 2403 10f4 F8B5     		push {r3-r7,lr}
 2404 10f6 1B4C     		ldr r4, = lvbo_changdu
 2405 10f8 1B4F     		ldr r7, = lvbo_youyi
 2406 10fa 2468     		ldr r4, [r4]
 2407 10fc 3F68     		ldr r7, [r7]
 2408 10fe 1568     		ldr r5, [r2]
 2409 1100 2B46     		mov r3, r5
 2410 1102 AB00     		lsls r3, r5, # 2
 2411 1104 C658     		ldr r6, [r0, r3]
 2412 1106 C150     		str r1, [r0, r3]
 2413 1108 0135     		adds r5, r5, # 1
 2414 110a 1560     		str r5, [r2]
 2415 110c A542     		cmp r5, r4
 2416 110e 01D1     		bne __huanchong_leijia
 2417 1110 0025     		movs r5, # 0
 2418 1112 1560     		str r5, [r2]
 2419              	__huanchong_leijia:
 2420 1114 0438     		subs r0, r0, # 4
 2421 1116 0568     		ldr r5, [r0]
 2422 1118 4919     		adds r1, r1, r5
 2423 111a 891B     		subs r1, r1, r6
 2424 111c 0160     		str r1, [r0]
 2425 111e 3941     		asrs r1, r1, r7	 @# 12 @12 @  7	@128
 2426 1120 0846     		mov r0, r1
 2427 1122 F8BD     		pop {r3-r7,pc}
 2428 1124 3C000020 		.ltorg
 2428      40000020 
 2428      A4180000 
 2428      A0180000 
 2428      00000020 
 2429              	
 2430              		
 2431              	_lcdxianshi:		  		@r0=LCD位置，r1=数据地址，r2=长度
 2432 116c 1FB5     		push {r0-r4,lr}
 2433 116e 0C46     		mov r4, r1
 2434              	
 2435 1170 0021     		movs r1, # 0
 2436 1172 00F00EF8 		bl _xielcd
 2437              	
 2438 1176 0121     		movs r1, # 1
 2439 1178 0023     		movs r3, # 0
 2440              	_lcdxianshixunhuan:
 2441 117a E05C     		ldrb r0, [r4,r3]
 2442 117c 00F009F8 		bl _xielcd
 2443 1180 0133     		adds r3, r3, # 1
 2444 1182 9342     		cmp r3, r2
 2445 1184 F9D1     		bne _lcdxianshixunhuan
 2446 1186 1FBD     		pop {r0-r4,pc}
 2447              	
 2448              	_lcdyanshi:
 2449 1188 20B5     		push {r5,lr}
 2450 118a D54D     		ldr r5, = 0x1000
 2451              	_lcdyanshixunhuan:
 2452 118c 013D     		subs r5, r5, # 1
 2453 118e FDD1     		bne _lcdyanshixunhuan
 2454 1190 20BD     		pop {r5,pc}
 2455              	_xielcd:					@入R0=8位,r1=0命令,r1=1数据
ARM GAS  1.s 			page 51


 2456 1192 3FB5     		push {r0-r5,lr}
 2457 1194 D34C     		ldr r4, = lcd_beiguang  @ 量程开关 (第6位和第7位)
 2458 1196 0246     		mov r2, r0
 2459 1198 2568     		ldr r5, [r4]
 2460 119a 1209     		lsrs r2, r2, # 4
 2461 119c 9200     		lsls r2, r2, # 2	@ 高四位
 2462 119e 0007     		lsls r0, r0, # 28
 2463 11a0 800E     		lsrs r0, r0, # 26	@ 低四位
 2464 11a2 C907     		lsls r1, r1, # 31
 2465 11a4 01D5     		bpl __lcd_ming_ling
 2466              	__lcd_shu_ju:
 2467 11a6 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 2468 11a8 00E0     		b __xie_lcd_shu_ju
 2469              	__lcd_ming_ling:
 2470 11aa 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 2471              	__xie_lcd_shu_ju:
 2472 11ac 5B19     		adds r3, r3, r5
 2473 11ae 0146     		mov r1, r0
 2474 11b0 D218     		adds r2, r2, r3
 2475 11b2 CD4D     		ldr r5, = 0x4001300c
 2476 11b4 1000     		movs r0, r2
 2477 11b6 2870     		strb r0, [r5]
 2478 11b8 00F016F8 		bl __spi_mang
 2479 11bc 00F018F8 		bl __yanshi_595
 2480 11c0 0238     		subs r0, r0, # 0x02
 2481 11c2 2870     		strb r0, [r5]
 2482 11c4 00F010F8 		bl __spi_mang
 2483 11c8 00F012F8 		bl __yanshi_595
 2484 11cc 0846     		mov r0, r1
 2485 11ce C018     		adds r0, r0, r3
 2486 11d0 2870     		strb r0, [r5]
 2487 11d2 00F009F8 		bl __spi_mang
 2488 11d6 00F00BF8 		bl __yanshi_595
 2489 11da 0238     		subs r0, r0, # 0x02
 2490 11dc 2870     		strb r0, [r5]
 2491 11de 00F003F8 		bl __spi_mang
 2492 11e2 00F005F8 		bl __yanshi_595
 2493 11e6 3FBD     		pop {r0-r5,pc}
 2494              	__spi_mang:
 2495 11e8 AA68     		ldr r2, [r5, # 0x08]
 2496 11ea 1206     		lsls r2, r2, # 24
 2497 11ec FCD4     		bmi __spi_mang
 2498 11ee F746     		mov pc, lr
 2499              	__yanshi_595:
 2500 11f0 BE4A     		ldr r2, = 0x2000
 2501              	__yanshi__595:
 2502 11f2 013A     		subs r2, r2, # 1
 2503 11f4 FDD1     		bne __yanshi__595
 2504 11f6 F746     		mov pc, lr
 2505              		
 2506              	
 2507              	_zhuanascii:						@ 16进制转ASCII
 2508              		@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 2509 11f8 FFB5     		push {r0-r7,lr}
 2510 11fa 1F46     		mov r7, r3
 2511 11fc 0546     		mov r5, r0
 2512 11fe 0E46     		mov r6, r1
ARM GAS  1.s 			page 52


 2513 1200 0A21     		movs r1, # 10
 2514              	_xunhuanqiuma:
 2515 1202 00F0F6F8 		bl _chufa
 2516 1206 0446     		mov r4, r0
 2517 1208 4C43     		muls r4, r1
 2518 120a 2B1B     		subs r3, r5, r4
 2519 120c 3033     		adds r3, r3, # 0x30
 2520 120e 0546     		mov r5, r0
 2521 1210 013E     		subs r6, r6, # 1
 2522 1212 08D0     		beq _qiumafanhui
 2523 1214 BE42     		cmp r6, r7
 2524 1216 02D1     		bne _meidaoxiaoshudian
 2525 1218 2E24     		movs r4, # 0x2e		@小数点
 2526 121a 9455     		strb r4, [r2,r6]	@插入小数点
 2527 121c 013E     		subs r6, r6, # 1
 2528              	_meidaoxiaoshudian:
 2529 121e 9355     		strb r3, [r2,r6]
 2530 1220 3600     		movs r6, r6
 2531 1222 EED1     		bne _xunhuanqiuma
 2532 1224 FFBD     		pop {r0-r7,pc}
 2533              	_qiumafanhui:
 2534 1226 9355     		strb r3, [r2, r6]
 2535 1228 FFBD     		pop {r0-r7,pc}
 2536              	
 2537              	__fu_shu_chu_fa:
 2538              		@入口R0=a R1=b,R2=c R3=d
 2539              		@出口R2=实部 R1=虚部
 2540 122a F0B5     		push {r4-r7,lr}
 2541 122c 002A     		cmp r2, # 0
 2542 122e 03D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 2543 1230 002B     		cmp r3, # 0
 2544 1232 01D1     		bne __tiao_guo_bei_chu_shu_0_pan_duan
 2545 1234 0246     		mov r2, r0
 2546 1236 F0BD     		pop {r4-r7,pc}
 2547              	__tiao_guo_bei_chu_shu_0_pan_duan:
 2548 1238 4446     		mov r4, r8
 2549 123a 4D46     		mov r5, r9
 2550 123c 5646     		mov r6, r10
 2551 123e 5F46     		mov r7, r11
 2552 1240 F0B4     		push {r4-r7}
 2553              	__ji_suan_chu_fa:
 2554 1242 8046     		mov r8, r0	@a
 2555 1244 8946     		mov r9, r1	@b
 2556 1246 9246     		mov r10, r2	@c
 2557 1248 9B46     		mov r11, r3	@d
 2558 124a 0027     		movs r7, # 0
 2559              		@ (a+bi)/(c+di)=(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)
 2560 124c 0000     		movs r0, r0
 2561 124e 02D5     		bpl b1
 2562 1250 C043     		mvns r0, r0
 2563 1252 0130     		adds r0, r0, # 1
 2564 1254 0127     		movs r7, # 1
 2565              	b1:
 2566 1256 5146     		mov r1, r10
 2567 1258 0900     		movs r1, r1
 2568 125a 02D5     		bpl b2
 2569 125c C943     		mvns r1, r1
ARM GAS  1.s 			page 53


 2570 125e 0131     		adds r1, r1, # 1
 2571 1260 0137     		adds r7, r7, # 1
 2572              	b2:
 2573 1262 00F0A1F8 		bl __chengfa
 2574              	b3:
 2575 1266 012F     		cmp r7, # 1
 2576 1268 01D1     		bne a1
 2577 126a C043     		mvns r0, r0
 2578 126c C943     		mvns r1, r1
 2579              	a1:
 2580 126e 0446     		mov r4, r0	@a*c高32
 2581 1270 0D46     		mov r5, r1	@a*c低32
 2582 1272 0027     		movs r7, # 0
 2583 1274 4846     		mov r0, r9
 2584 1276 5946     		mov r1, r11
 2585 1278 0000     		movs r0, r0
 2586 127a 02D5     		bpl b4
 2587 127c C043     		mvns r0, r0
 2588 127e 0130     		adds r0, r0, # 1
 2589 1280 0137     		adds r7, r7, # 1
 2590              	b4:
 2591 1282 0900     		movs r1, r1
 2592 1284 02D5     		bpl b5
 2593 1286 C943     		mvns r1, r1
 2594 1288 0131     		adds r1, r1, # 1
 2595 128a 0137     		adds r7, r7, # 1
 2596              	b5:
 2597 128c 00F08CF8 		bl __chengfa
 2598              	b6:
 2599 1290 012F     		cmp r7, # 1
 2600 1292 01D1     		bne a2
 2601 1294 C043     		mvns r0, r0
 2602 1296 C943     		mvns r1, r1
 2603              	a2:
 2604 1298 4919     		adds r1, r1, r5	@ac+bd低32
 2605 129a 6041     		adcs r0, r0, r4	@ac+bd高32
 2606 129c 0646     		mov r6, r0
 2607 129e 0F46     		mov r7, r1
 2608 12a0 5046     		mov r0, r10
 2609 12a2 4043     		muls r0, r0, r0
 2610 12a4 0446     		mov r4, r0	@c*c
 2611 12a6 5846     		mov r0, r11
 2612 12a8 4043     		muls r0, r0, r0
 2613 12aa 0019     		adds r0, r0, r4
 2614 12ac 01B4     		push {r0}
 2615 12ae 3946     		mov r1, r7
 2616 12b0 0027     		movs r7, # 0
 2617 12b2 0200     		movs r2, r0
 2618 12b4 02D5     		bpl b7
 2619 12b6 D243     		mvns r2, r2
 2620 12b8 0132     		adds r2, r2, # 1
 2621 12ba 0137     		adds r7, r7, # 1
 2622              	b7:
 2623 12bc 3000     		movs r0, r6
 2624 12be 02D5     		bpl b8
 2625 12c0 C043     		mvns r0, r0
 2626 12c2 C943     		mvns r1, r1
ARM GAS  1.s 			page 54


 2627 12c4 0137     		adds r7, r7, # 1
 2628              	b8:
 2629 12c6 00F04BF8 		bl __chufa64
 2630 12ca 012F     		cmp r7, # 1
 2631 12cc 01D1     		bne __bao_cun_chu_fa_shi_bu_jie_guo
 2632 12ce C043     		mvns r0, r0
 2633 12d0 C943     		mvns r1, r1
 2634              	__bao_cun_chu_fa_shi_bu_jie_guo:
 2635 12d2 0646     		mov r6, r0	@实部高32
 2636 12d4 0F46     		mov r7, r1	@实部低32
 2637              		@r8=a, r9=b, r10=c, r11=d
 2638              		@(b*c-a*d)/(c*c+d*d)
 2639 12d6 0025     		movs r5, # 0
 2640 12d8 4846     		mov r0, r9
 2641 12da 0000     		movs r0, r0
 2642 12dc 02D5     		bpl b9
 2643 12de C043     		mvns r0, r0
 2644 12e0 0130     		adds r0, r0, # 1
 2645 12e2 0135     		adds r5, r5, # 1
 2646              	b9:
 2647 12e4 5146     		mov r1, r10
 2648 12e6 0900     		movs r1, r1
 2649 12e8 02D5     		bpl b10
 2650 12ea C943     		mvns r1, r1
 2651 12ec 0131     		adds r1, r1, # 1
 2652 12ee 0135     		adds r5, r5, # 1
 2653              	b10:
 2654 12f0 00F05AF8 		bl __chengfa
 2655 12f4 012D     		cmp r5, # 1
 2656 12f6 01D1     		bne a3
 2657 12f8 C043     		mvns r0, r0
 2658 12fa C943     		mvns r1, r1
 2659              	a3:
 2660 12fc 0446     		mov r4, r0      @b*c高32
 2661 12fe 0D46     		mov r5, r1      @b*c低32
 2662 1300 0023     		movs r3, # 0
 2663 1302 4046     		mov r0, r8
 2664 1304 0000     		movs r0, r0
 2665 1306 02D5     		bpl b11
 2666 1308 C043     		mvns r0, r0
 2667 130a 0130     		adds r0, r0, # 1
 2668 130c 0133     		adds r3, r3, # 1
 2669              	b11:
 2670 130e 5946     		mov r1, r11
 2671 1310 0900     		movs r1, r1
 2672 1312 02D5     		bpl b12
 2673 1314 C943     		mvns r1, r1
 2674 1316 0131     		adds r1, r1, # 1
 2675 1318 0133     		adds r3, r3, # 1
 2676              	b12:
 2677 131a 00F045F8 		bl __chengfa
 2678 131e 012B     		cmp r3, # 1
 2679 1320 01D1     		bne a4
 2680 1322 C043     		mvns r0, r0
 2681 1324 C943     		mvns r1, r1
 2682              	a4:
 2683 1326 6D1A     		subs r5, r5, r1 @bc-ad低32
ARM GAS  1.s 			page 55


 2684 1328 8441     		sbcs r4, r4, r0 @bc-ad高32
 2685 132a 04BC     		pop {r2}
 2686 132c 2946     		mov r1, r5
 2687 132e 0025     		movs r5, # 0
 2688 1330 1200     		movs r2, r2
 2689 1332 02D5     		bpl b13
 2690 1334 D243     		mvns r2, r2
 2691 1336 0132     		adds r2, r2, # 1
 2692 1338 0135     		adds r5, r5, # 1
 2693              	b13:
 2694 133a 2000     		movs r0, r4
 2695 133c 02D5     		bpl b14
 2696 133e C043     		mvns r0, r0
 2697 1340 C943     		mvns r1, r1
 2698 1342 0135     		adds r5, r5, # 1
 2699              	b14:
 2700 1344 00F00CF8 		bl __chufa64
 2701 1348 012D     		cmp r5, # 1
 2702 134a 02D1     		bne __bao_cun_chu_fa_xu_bu_jie_guo
 2703 134c C943     		mvns r1, r1
 2704 134e C043     		mvns r0, r0
 2705 1350 0131     		adds r1, r1, # 1
 2706              	__bao_cun_chu_fa_xu_bu_jie_guo:
 2707 1352 3A46     		mov r2, r7
 2708 1354 F0BC     		pop {r4-r7}
 2709 1356 A046     		mov r8, r4
 2710 1358 A946     		mov r9, r5
 2711 135a B246     		mov r10, r6
 2712 135c BB46     		mov r11, r7
 2713 135e F0BD     		pop {r4-r7,pc}
 2714              	
 2715              	__chufa64:
 2716              		@64位除32位
 2717              		@ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 2718 1360 F8B5     		push {r3-r7,lr}
 2719 1362 002A     		cmp r2, # 0
 2720 1364 1DD0     		beq __chu_fa64_fan_hui0
 2721 1366 0029     		cmp r1, # 0
 2722 1368 01D1     		bne __chu_fa64_ji_suan
 2723 136a 0028     		cmp r0, # 0
 2724 136c 19D0     		beq __chu_fa64_fan_hui0
 2725              	__chu_fa64_ji_suan:
 2726 136e 0024     		movs r4, # 0
 2727 1370 2746     		mov r7, r4
 2728 1372 2346     		mov r3, r4
 2729 1374 2546     		mov r5, r4
 2730 1376 0126     		movs r6, # 1
 2731 1378 F607     		lsls r6, r6, # 31
 2732              	__chu_fa64_xun_huan:
 2733 137a 4900     		lsls r1, r1, # 1
 2734 137c 4041     		adcs r0, r0, r0
 2735 137e 6441     		adcs r4, r4, r4
 2736 1380 9442     		cmp r4, r2
 2737 1382 02D3     		bcc __chu_fa_yi_wei
 2738 1384 9B19     		adds r3, r3, r6
 2739 1386 7D41     		adcs r5, r5, r7
 2740 1388 A41A     		subs r4, r4, r2
ARM GAS  1.s 			page 56


 2741              	__chu_fa_yi_wei:
 2742 138a 3600     		movs r6, r6
 2743 138c 04D0     		beq __di_yi_wei
 2744 138e 7608     		lsrs r6, r6, # 1        @高32位移位
 2745 1390 F3D1     		bne __chu_fa64_xun_huan
 2746 1392 0127     		movs r7, # 1
 2747 1394 FF07     		lsls r7, r7, # 31
 2748 1396 F0E7     		b __chu_fa64_xun_huan
 2749              	__di_yi_wei:	            @低32位移位
 2750 1398 7F08     		lsrs r7, r7, # 1
 2751 139a EED1     		bne __chu_fa64_xun_huan
 2752 139c 1846     		mov r0, r3
 2753 139e 2946     		mov r1, r5
 2754 13a0 F8BD     		pop {r3-r7,pc}
 2755              	__chu_fa64_fan_hui0:
 2756 13a2 0020     		movs r0, # 0
 2757 13a4 0021     		movs r1, # 0
 2758 13a6 F8BD     		pop {r3-r7,pc}
 2759              	__chengfa:
 2760              		@入R0 乘以 R1
 2761              		@出 R0高32 ， R1低32
 2762              		@0xffffffff*0xffffffff
 2763              		@4        F F F E 0 0 0 1                       @4
 2764              		@3                F F F E 0 0 0 1               @3
 2765              		@2                F F F E 0 0 0 1               @2
 2766              		@1                        F F F E 0 0 0 1       @1
 2767              		@         F F F F F F F E 0 0 0 0 0 0 0 1
 2768 13a8 FCB5     		push {r2-r7,lr}
 2769 13aa 0028     		cmp r0, # 0
 2770 13ac 1ED0     		beq __cheng_fa_fan_hui
 2771 13ae 0029     		cmp r1, # 0
 2772 13b0 1CD0     		beq __cheng_fa_fan_hui
 2773              	__ji_suan_cheng_fa:
 2774 13b2 0246     		mov r2, r0
 2775 13b4 0B46     		mov r3, r1
 2776 13b6 000C     		lsrs r0, r0, # 16       @高16
 2777 13b8 1204     		lsls r2, r2, # 16       @ 低16
 2778 13ba 120C     		lsrs r2, r2, # 16
 2779 13bc 090C     		lsrs r1, r1, # 16       @高16
 2780 13be 1B04     		lsls r3, r3, # 16       @低16
 2781 13c0 1B0C     		lsrs r3, r3, # 16
 2782 13c2 1446     		mov r4, r2
 2783 13c4 0546     		mov r5, r0
 2784 13c6 5A43     		muls r2, r2, r3         @1
 2785 13c8 5843     		muls r0, r0, r3         @2
 2786 13ca 4C43     		muls r4, r4, r1         @3
 2787 13cc 4D43     		muls r5, r5, r1         @4
 2788 13ce 0646     		mov r6, r0
 2789 13d0 2746     		mov r7, r4
 2790 13d2 0004     		lsls r0, r0, # 16       @2低32
 2791 13d4 2404     		lsls r4, r4, # 16       @3低32
 2792 13d6 360C     		lsrs r6, r6, # 16       @2高32
 2793 13d8 3F0C     		lsrs r7, r7, # 16       @3高32
 2794 13da 0021     		movs r1, # 0
 2795 13dc 1218     		adds r2, r2, r0         @低32
 2796 13de 4E41     		adcs r6, r6, r1         @高32
 2797 13e0 1219     		adds r2, r2, r4
ARM GAS  1.s 			page 57


 2798 13e2 7E41     		adcs r6, r6, r7
 2799 13e4 7619     		adds r6, r6, r5
 2800 13e6 3046     		mov r0, r6
 2801 13e8 1146     		mov r1, r2
 2802 13ea FCBD     		pop {r2-r7,pc}
 2803              	__cheng_fa_fan_hui:
 2804 13ec 0020     		movs r0, # 0
 2805 13ee 0021     		movs r1, # 0
 2806 13f0 FCBD     		pop {r2-r7,pc}
 2807              		
 2808              	_chufa:				@软件除法
 2809              		@ r0 除以 r1 等于 商(r0)
 2810 13f2 1EB5     		push {r1-r4,lr}
 2811 13f4 0028     		cmp r0, # 0
 2812 13f6 0ED0     		beq _chufafanhui
 2813 13f8 0029     		cmp r1, # 0
 2814 13fa 0CD0     		beq _chufafanhui
 2815 13fc 0246     		mov r2, r0
 2816 13fe 0123     		movs r3, # 1
 2817 1400 DB07     		lsls r3, r3, # 31
 2818 1402 0020     		movs r0, # 0
 2819 1404 0446     		mov r4, r0
 2820              	_chufaxunhuan:
 2821 1406 5200     		lsls r2, r2, # 1
 2822 1408 6441     		adcs r4, r4, r4
 2823 140a 8C42     		cmp r4, r1
 2824 140c 01D3     		bcc _chufaweishubudao0
 2825 140e C018     		adds r0, r0, r3
 2826 1410 641A     		subs r4, r4, r1
 2827              	_chufaweishubudao0:
 2828 1412 5B08     		lsrs r3, r3, # 1
 2829 1414 F7D1     		bne _chufaxunhuan
 2830              	_chufafanhui:
 2831 1416 1EBD     		pop {r1-r4,pc}
 2832              		
 2833              	_nmi_handler:
 2834 1418 7047     		bx lr
 2835              	_hard_fault:
 2836 141a 7047     		bx lr
 2837              	_svc_handler:
 2838 141c 7047     		bx lr
 2839              	_pendsv_handler:
 2840 141e 7047     		bx lr
 2841              	_systickzhongduan:
 2842 1420 10B5     		push {r4,lr}
 2843 1422 334A     		ldr r2, = shangxiabi_qiehuan
 2844 1424 1368     		ldr r3, [r2]
 2845 1426 012B     		cmp r3, # 1
 2846 1428 24D1     		bne __shangbi_dft
 2847              	__xiabi_dft:
 2848 142a 0023     		movs r3, # 0
 2849 142c 1360     		str r3, [r2]
 2850 142e 314A     		ldr r2, = 0x48000400
 2851 1430 0223     		movs r3, #  0x02
 2852 1432 9362     		str r3, [r2, # 0x28]    @cd4053_9_10  0X28上臂开
 2853 1434 3048     		ldr r0, = liangcheng
 2854 1436 3149     		ldr r1, = shangbi_liangcheng
ARM GAS  1.s 			page 58


 2855 1438 0068     		ldr r0, [r0]
 2856 143a 4000     		lsls r0, r0, # 1
 2857 143c 304A     		ldr r2, = 0x48000000
 2858 143e 0B5A     		ldrh  r3, [r1, r0]
 2859 1440 5361     		str r3, [r2, # 0x14]
 2860 1442 FFF72DFE 		bl __dft
 2861 1446 C043     		mvns r0, r0
 2862 1448 C943     		mvns r1, r1
 2863 144a 0130     		adds r0, r0, # 1
 2864 144c 0131     		adds r1, r1, # 1
 2865 144e 2D4A     		ldr r2, = xiabi_rr
 2866 1450 2D4B     		ldr r3, = xiabi_ii
 2867 1452 1060     		str r0, [r2]
 2868 1454 1960     		str r1, [r3]
 2869 1456 0446     		mov r4, r0
 2870 1458 2C4A     		ldr r2, = lvboqizhizhen3
 2871 145a 2D48     		ldr r0, =lvboqihuanchong3
 2872 145c FFF74AFE 		bl __lv_bo_qi
 2873 1460 2C49     		ldr r1, = xiabi_i
 2874 1462 0860     		str r0, [r1]
 2875 1464 2146     		mov r1, r4
 2876 1466 2C4A     		ldr r2, = lvboqizhizhen2
 2877 1468 2C48     		ldr r0, = lvboqihuanchong2
 2878 146a FFF743FE 		bl __lv_bo_qi
 2879 146e 2C49     		ldr r1, = xiabi_r
 2880 1470 0860     		str r0, [r1]
 2881 1472 30E0     		b __systick_fanhui
 2882              	
 2883              	__shangbi_dft:
 2884 1474 0123     		movs r3, # 1
 2885 1476 1360     		str r3, [r2]
 2886 1478 1F48     		ldr r0, = liangcheng
 2887 147a 2A49     		ldr r1, = xiabi_liangcheng
 2888 147c 0068     		ldr r0, [r0]
 2889 147e 4000     		lsls r0, r0, # 1
 2890 1480 1F4A     		ldr r2, = 0x48000000
 2891 1482 0B5A     		ldrh r3, [r1, r0]
 2892 1484 1B48     	        ldr r0, = 0x48000400
 2893 1486 0221     		movs r1, #  0x02
 2894 1488 8161     		str r1, [r0, # 0x18]    @cd4053_9_10 下臂开
 2895 148a 5361     		str r3, [r2, # 0x14]
 2896 148c FFF708FE 		bl __dft
 2897 1490 254A     		ldr r2, = shangbi_rr
 2898 1492 264B     		ldr r3, = shangbi_ii
 2899 1494 1060     		str r0, [r2]
 2900 1496 1960     		str r1, [r3]
 2901 1498 0446     		mov r4, r0
 2902 149a 254A     		ldr r2, = lvboqizhizhen1
 2903 149c 2548     		ldr r0, =lvboqihuanchong1
 2904 149e FFF729FE 		bl __lv_bo_qi
 2905 14a2 2549     		ldr r1, = shangbi_i
 2906 14a4 0860     		str r0, [r1]
 2907 14a6 2146     		mov r1, r4
 2908 14a8 244A     		ldr r2, = lvboqizhizhen
 2909 14aa 2548     		ldr r0, =lvboqihuanchong
 2910 14ac FFF722FE 		bl __lv_bo_qi
 2911 14b0 2449     		ldr r1, = shangbi_r
ARM GAS  1.s 			page 59


 2912 14b2 0860     		str r0, [r1]
 2913 14b4 2448     		ldr r0, = jishu
 2914 14b6 0168     		ldr r1, [r0]
 2915 14b8 0131     		adds r1, r1, # 1
 2916 14ba 0160     		str r1, [r0]
 2917 14bc 0529     		cmp r1, # 5
 2918 14be 0AD1     		bne __systick_fanhui
 2919 14c0 0021     		movs r1, # 0
 2920 14c2 0160     		str r1, [r0]
 2921 14c4 2148     		ldr r0, = xianshi_biaozhi
 2922 14c6 0121     		movs r1, # 1
 2923 14c8 0160     		str r1, [r0]
 2924 14ca FFF7FDFB 		bl __jisuan_z_fudu
 2925 14ce 2048     		ldr r0, = zidong_dangwei_kaiguan
 2926 14d0 0068     		ldr r0, [r0]
 2927 14d2 0128     		cmp r0, # 1
 2928 14d4 FFD0     		beq __systick_fanhui
 2929              	@	bl __zidong_dangwei
 2930              	__systick_fanhui:
 2931 14d6 1F48     		ldr r0, = 0xe0000d04
 2932 14d8 1F49     		ldr r1, = 0x02000000
 2933 14da 0160     		str r1, [r0]                 @ 清除SYSTICK中断
 2934 14dc 10BD     		pop {r4,pc}
 2935              	
 2936              	aaa:
 2937 14de 7047     		bx lr
 2938 14e0 00100000 		.ltorg
 2938      20000020 
 2938      0C300140 
 2938      00200000 
 2938      34000020 
 2939              		.end
ARM GAS  1.s 			page 60


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 H
                 1.s:11     .data:0000000000000002 mH
                 1.s:13     .data:0000000000000004 uH
                 1.s:15     .data:0000000000000006 nH
                 1.s:17     .data:0000000000000008 $d
                 1.s:18     .data:0000000000000010 diangan_danwei
                 1.s:23     .data:0000000000000020 diangan_danwei100hz
                 1.s:27     .data:0000000000000080 diangan_danwei1khz
                 1.s:31     .data:00000000000000e0 diangan_danwei10khz
                 1.s:35     .data:0000000000000140 diangan_danwei100khz
                 1.s:39     .data:00000000000001a0 diangan_xiaoshudian
                 1.s:44     .data:00000000000001b0 diangan_100hz
                 1.s:48     .data:00000000000001c8 diangan_1khz
                 1.s:52     .data:00000000000001e0 diangan_10khz
                 1.s:56     .data:00000000000001f8 diangan_100khz
                 1.s:62     .data:0000000000000210 MF
                 1.s:64     .data:0000000000000212 UF
                 1.s:66     .data:0000000000000214 NF
                 1.s:68     .data:0000000000000216 PF
                 1.s:71     .data:0000000000000220 dianrong_danwei
                 1.s:76     .data:0000000000000230 dianrong_danwei100hz
                 1.s:80     .data:0000000000000290 dianrong_danwei1khz
                 1.s:84     .data:00000000000002f0 dianrong_danwei10khz
                 1.s:88     .data:0000000000000350 dianrong_danwei100khz
                 1.s:92     .data:00000000000003b0 dianrong_xiaoshudian
                 1.s:97     .data:00000000000003c0 dianrong_xiaoshudian100hz
                 1.s:101    .data:00000000000003d8 dianrong_xiaoshudian1khz
                 1.s:105    .data:00000000000003f0 dianrong_xiaoshudian10khz
                 1.s:109    .data:0000000000000408 dianrong_xiaoshudian100khz
                 1.s:113    .data:0000000000000420 dianrong_weishu
                 1.s:118    .data:0000000000000430 dianrong_weishu100hz
                 1.s:122    .data:0000000000000460 dianrong_weishu1khz
                 1.s:126    .data:0000000000000490 dianrong_weishu10khz
                 1.s:130    .data:00000000000004c0 dianrong_weishu100khz
                 1.s:135    .data:00000000000004f0 jiaozhun_0.5555
                 1.s:137    .data:00000000000004f5 jiaozhun_1.666
                 1.s:139    .data:00000000000004fa jiaozhun_3.333
                 1.s:141    .data:00000000000004ff jiaozhun_5.555
                 1.s:143    .data:0000000000000504 jiaozhun_10
                 1.s:145    .data:0000000000000509 jiaozhun_16.66
                 1.s:147    .data:000000000000050e jiaozhun_33.33
                 1.s:149    .data:0000000000000513 jiaozhun_100
                 1.s:151    .data:0000000000000518 jiaozhun_300
                 1.s:153    .data:000000000000051d jiaozhun_600
                 1.s:155    .data:0000000000000522 jiaozhun_1k
                 1.s:157    .data:0000000000000527 jiaozhun_3k
                 1.s:159    .data:000000000000052c jiaozhun_6k
                 1.s:161    .data:0000000000000531 jiaozhun_10k
                 1.s:163    .data:0000000000000536 jiaozhun_30k
                 1.s:165    .data:000000000000053b jiaozhun_60k
                 1.s:167    .data:0000000000000540 jiaozhun_100k
                 1.s:169    .data:0000000000000545 jiaozhun_300k
                 1.s:171    .data:000000000000054a jiaozhun_600k
                 1.s:173    .data:000000000000054f jiaozhun_1M
                 1.s:175    .data:0000000000000554 jiaozhun_1.8M
                 1.s:177    .data:0000000000000559 jiaozhun_3M
ARM GAS  1.s 			page 61


                 1.s:179    .data:000000000000055e jiaozhun_6M
                 1.s:181    .data:0000000000000563 jiaozhun_18M
                 1.s:183    .data:0000000000000568 jiaozhun
                 1.s:185    .data:0000000000000570 jiaozhun_wancheng
                 1.s:187    .data:0000000000000580 guan_ji
                 1.s:189    .data:0000000000000590 pinlv_100hz
                 1.s:191    .data:00000000000005a0 pinlv_1khz
                 1.s:193    .data:00000000000005b0 pinlv_10khz
                 1.s:195    .data:00000000000005c0 pinlv_100khz
                 1.s:197    .data:00000000000005d0 jiaozhun_xianshi_biao
                 1.s:200    .data:00000000000005d0 jiaodu_jiaozhun_yong_cordic
                 1.s:202    .data:00000000000006c0 jiaozhun_yong_cordic
                 1.s:204    .data:0000000000000738 cordic_yong_cos_sin
                 1.s:206    .data:00000000000007b8 cordic_yong_atan_biao
                 1.s:209    .data:0000000000000800 zheng_xian_100khz
                 1.s:212    .data:0000000000000820 zheng_xian_10khz
                 1.s:215    .data:0000000000000890 zheng_xian_1khz
                 1.s:219    .data:0000000000000a20 zheng_xian_100hz
                 1.s:224    .data:00000000000011f0 cos_sin_biao_100k
                 1.s:227    .data:0000000000001294 cos_sin_biao_10k
                 1.s:228    .data:0000000000001294 cos_sin_biao_1k
                 1.s:230    .data:0000000000001338 cos_sin_biao_100
                 1.s:232    .data:00000000000014cc shangbi_liangcheng
                 1.s:236    .data:00000000000014fc xiabi_liangcheng
                 1.s:241    .data:0000000000001530 zukang_xiaoshu_dian
                 1.s:246    .data:0000000000001550 qiwang_fudu
                 1.s:250    .data:00000000000015b0 qiwang_jiaodu_100hz
                 1.s:254    .data:0000000000001610 qiwang_jiaodu_1khz
                 1.s:258    .data:0000000000001670 qiwang_jiaodu_10khz
                 1.s:262    .data:00000000000016d0 qiwang_jiaodu_100khz
                 1.s:266    .data:0000000000001730 qiwang_jiaodu_biao
                 1.s:271    .data:0000000000001740 zukang_dianzu_biao
                 1.s:275    .data:00000000000017a0 zukang_danwei
                 1.s:280    .data:0000000000001800 pinlv_qiehuan_yanshi_biao
                 1.s:282    .data:0000000000001810 an_jian_biao
                 1.s:990    .text:00000000000004ac __an_jian0
                 1.s:684    .text:00000000000001ea __dang_wei_jia
                 1.s:653    .text:00000000000001ae __pin_lv_jia
                 1.s:701    .text:00000000000001fc __an_jian3
                 1.s:287    .data:0000000000001820 pinlv_biao
                 1.s:1542   .text:0000000000000892 __pinlv_100
                 1.s:1620   .text:00000000000009e0 __pinlv_1K
                 1.s:1698   .text:0000000000000ad4 __pinlv_10K
                 1.s:1775   .text:0000000000000bc8 __pinlv_100K
                 1.s:293    .data:0000000000001830 pinlv_xianshi_biao
                 1.s:298    .data:0000000000001840 dangwei_xianshi_biao
                 1.s:324    .data:00000000000018a0 kong
                 1.s:326    .data:00000000000018a4 _fu
                 1.s:328    .data:00000000000018a5 jiaodu1
                 1.s:330    .data:00000000000018a9 jiaodufuhao
                 1.s:332    .data:00000000000018ad yjmwxwx
                 1.s:335    *ABS*:0000000020001000 STACKINIT
                 1.s:336    *ABS*:0000000020000000 asciimabiao
                 1.s:337    *ABS*:0000000020000020 lcd_beiguang
                 1.s:338    *ABS*:0000000020000024 shangbi_r
                 1.s:339    *ABS*:0000000020000028 shangbi_i
                 1.s:340    *ABS*:000000002000002c xiabi_r
ARM GAS  1.s 			page 62


                 1.s:341    *ABS*:0000000020000030 xiabi_i
                 1.s:342    *ABS*:0000000020000034 shangxiabi_qiehuan
                 1.s:343    *ABS*:0000000020000038 liangcheng
                 1.s:344    *ABS*:000000002000003c z_r
                 1.s:345    *ABS*:0000000020000040 z_i
                 1.s:346    *ABS*:0000000020000044 lvbo_changdu
                 1.s:347    *ABS*:0000000020000048 lvbo_youyi
                 1.s:348    *ABS*:000000002000004c huandangyanshi
                 1.s:349    *ABS*:0000000020000050 shangbi_rr
                 1.s:350    *ABS*:0000000020000054 shangbi_ii
                 1.s:351    *ABS*:0000000020000058 xiabi_rr
                 1.s:352    *ABS*:000000002000005c xiabi_ii
                 1.s:353    *ABS*:0000000020000060 jishu
                 1.s:354    *ABS*:0000000020000064 xianshi_biaozhi
                 1.s:355    *ABS*:0000000020000068 z_fudu
                 1.s:356    *ABS*:000000002000006c cossin
                 1.s:357    *ABS*:0000000020000070 pinlv
                 1.s:358    *ABS*:0000000020000074 anjian
                 1.s:359    *ABS*:0000000020000078 zhenfu
                 1.s:360    *ABS*:000000002000007c shezhi_pinlv
                 1.s:361    *ABS*:0000000020000080 zidong_dangwei_kaiguan
                 1.s:362    *ABS*:0000000020000084 z_r_jiaozhun
                 1.s:363    *ABS*:0000000020000088 z_i_jiaozhun
                 1.s:364    *ABS*:000000002000008c z_jiaozhun
                 1.s:365    *ABS*:0000000020000094 flash_cachu_biaozhi
                 1.s:366    *ABS*:0000000020000098 jiaozhun_biao_zhizhen
                 1.s:367    *ABS*:000000002000009c cs
                 1.s:368    *ABS*:00000000200000a0 ls
                 1.s:372    *ABS*:0000000020000100 dianyabiao
                 1.s:373    *ABS*:00000000200008d0 lvboqizhizhen
                 1.s:374    *ABS*:00000000200008d8 lvboqihuanchong
                 1.s:375    *ABS*:0000000020000a68 lvboqizhizhen1
                 1.s:376    *ABS*:0000000020000a70 lvboqihuanchong1
                 1.s:377    *ABS*:0000000020000c00 lvboqizhizhen2
                 1.s:378    *ABS*:0000000020000c08 lvboqihuanchong2
                 1.s:379    *ABS*:0000000020000d98 lvboqizhizhen3
                 1.s:380    *ABS*:0000000020000da0 lvboqihuanchong3
                 1.s:381    *ABS*:000000001fffef62 fjiesuo
                 1.s:382    *ABS*:000000001fffef6e ojiesuo
                 1.s:383    *ABS*:000000001fffeff8 quanca
                 1.s:384    *ABS*:000000001fffefda yeca
                 1.s:385    *ABS*:000000001ffff020 zica
                 1.s:386    *ABS*:000000001fffef9a xieflash
                 1.s:387    *ABS*:000000001ffff048 zixie
                 1.s:388    *ABS*:000000001ffff0a6 xiebaohu
                 1.s:389    *ABS*:000000001ffff124 jiancedubaohu
                 1.s:390    *ABS*:000000001fffef7a flashmang
                 1.s:395    .text:0000000000000000 vectors
                 1.s:441    .text:00000000000000b0 _start
                 1.s:2833   .text:0000000000001418 _nmi_handler
                 1.s:2835   .text:000000000000141a _hard_fault
                 1.s:2837   .text:000000000000141c _svc_handler
                 1.s:2839   .text:000000000000141e _pendsv_handler
                 1.s:2841   .text:0000000000001420 _systickzhongduan
                 1.s:2936   .text:00000000000014de aaa
                            .text:0000000000000000 $d
                 1.s:440    .text:00000000000000b0 $t
ARM GAS  1.s 			page 63


                 1.s:442    .text:00000000000000b0 shizhong
                 1.s:449    .text:00000000000000bc denghse
                 1.s:453    .text:00000000000000c2 dengpllguan
                 1.s:465    .text:00000000000000d6 dengpll
                 1.s:474    .text:00000000000000e0 _waisheshizhong
                 1.s:508    .text:0000000000000106 _neicunqingling
                 1.s:495    .text:00000000000000f6 _neicunqingling1
                 1.s:499    .text:00000000000000fc _neicunqinglingxunhuan1
                 1.s:519    .text:0000000000000114 _waishezhongduan
                 1.s:512    .text:000000000000010c _neicunqinglingxunhuan
                 1.s:541    .text:000000000000011a io_she_zhi
                 1.s:572    .text:000000000000011a __jlink_moshi
                 1.s:576    .text:0000000000000120 __pa_shezhi
                 1.s:591    .text:0000000000000136 spi_chushihua
                 1.s:598    .text:0000000000000140 _lcdchushihua
                 1.s:2455   .text:0000000000001192 _xielcd
                 1.s:2448   .text:0000000000001188 _lcdyanshi
                 1.s:640    .text:00000000000001a0 __pinlv_dangwei_chushihua
                 1.s:2431   .text:000000000000116c _lcdxianshi
                 1.s:630    .text:0000000000000190 yjmwxwx_yanshi
                 1.s:1528   .text:000000000000087e __pinlv_shezhi
                 1.s:991    .text:00000000000004ac ting
                 1.s:663    .text:00000000000001c0 __pin_lv_fan_hui
                 1.s:677    .text:00000000000001de __pinlv_xianshi_yanshi
                 1.s:693    .text:00000000000001fa __dang_wei_fan_hui
                 1.s:702    .text:00000000000001fc __jiaozhun_chengxu
                 1.s:728    .text:0000000000000230 __dangwei_qiehuan_xunhuan
                 1.s:738    .text:000000000000023e __jinru_jiaozhun
                 1.s:893    .text:0000000000000344 __bu_jiaozhun
                 1.s:781    .text:0000000000000276 __jiaozhun_kaishi
                 1.s:743    .text:0000000000000246 __cachu_flash
                 1.s:794    .text:000000000000028e __deng_zukang_wending
                 1.s:801    .text:0000000000000298 dzd1
                 1.s:1920   .text:0000000000000d38 __jisuan_zukang
                 1.s:2161   .text:0000000000000f20 __xianshi_zukang
                 1.s:1328   .text:0000000000000714 __jiaozhun_jiaodu
                 1.s:1308   .text:00000000000006f0 __xiangwei_xuanzhuan
                 1.s:1270   .text:00000000000006b8 __jiaozhun_fudu
                 1.s:929    .text:0000000000000384 __jiaozhun_chengxu_fanhui
                 1.s:975    .text:00000000000003dc __jiaozhun_qiehuan_pinlv
                 1.s:948    .text:00000000000003a8 _neicun_xie0
                 1.s:952    .text:00000000000003ae _neicun_xie0_xunhuan
                 1.s:977    .text:00000000000003de $d
                 1.s:977    .text:00000000000003e0 $d
                 1.s:992    .text:00000000000004ac $t
                 1.s:2507   .text:00000000000011f8 _zhuanascii
                 1.s:1061   .text:000000000000052e __dianrong_xianshi
                 1.s:1020   .text:00000000000004e6 __diangan_xianshi
                 1.s:1107   .text:0000000000000582 __jisuan_dianrong
                 1.s:1519   .text:000000000000086e __an_jian
                 1.s:2808   .text:00000000000013f2 _chufa
                 1.s:1128   .text:00000000000005aa dddd
                 1.s:2050   .text:0000000000000e10 __atan2_ji_suan
                 1.s:1450   .text:00000000000007fe __xian_shi_jiao_du
                 1.s:2226   .text:0000000000000fa0 __xianshi_liangcheng
                 1.s:1185   .text:0000000000000620 __cai_dan_diao_du
                 1.s:1191   .text:000000000000062a $d
ARM GAS  1.s 			page 64


                 1.s:1191   .text:000000000000062c $d
                 1.s:1225   .text:0000000000000678 _adcchushihua
                 1.s:1227   .text:0000000000000678 $t
                 1.s:1231   .text:0000000000000680 __adc_lianxu
                 1.s:1233   .text:0000000000000682 __adc_chushi_hua
                 1.s:1237   .text:0000000000000688 _dengadcjiaozhun
                 1.s:1243   .text:0000000000000692 _kaiadc
                 1.s:1248   .text:000000000000069a _deng_adc_wen_ding
                 1.s:1252   .text:00000000000006a0 _tongdaoxuanze
                 1.s:2110   .text:0000000000000ed4 __ji_suan_fu_du
                 1.s:1284   .text:00000000000006d0 __fudu_jiaozhun_xunhuan
                 1.s:1291   .text:00000000000006da __fudu_jian
                 1.s:1288   .text:00000000000006d6 __fudu_jia
                 1.s:1293   .text:00000000000006dc __jiaozhun_xuanzhuan
                 1.s:1300   .text:00000000000006e8 __baocun_fudu_jiaozhun
                 1.s:1304   .text:00000000000006ee __jiaozhun_fudu_fanhui
                 1.s:1349   .text:0000000000000738 __jiaodu_jiaozhun_xunhuan
                 1.s:1388   .text:0000000000000786 __jiaodu_fanzhuan
                 1.s:1417   .text:00000000000007be __jiaodu_xuanzhuan
                 1.s:1431   .text:00000000000007d6 __xianshi_shangxiabi_jiaodu
                 1.s:1470   .text:0000000000000824 __jiaodu_bu_shi_zheng
                 1.s:1475   .text:000000000000082e __xian_shi_jiaodu
                 1.s:1488   .text:0000000000000848 __jiaozhun_shu_zhi
                 1.s:1495   .text:0000000000000852 __z_jiaozhun_xunhuan
                 1.s:1502   .text:000000000000085c __z_jian
                 1.s:1499   .text:0000000000000858 __z_jia
                 1.s:1504   .text:000000000000085e __z_xuanzhuan
                 1.s:1511   .text:000000000000086a __baocun_z_jiaozhun
                 1.s:1618   .text:000000000000091e $d
                 1.s:1618   .text:0000000000000920 $d
                 1.s:1622   .text:00000000000009e0 $t
                 1.s:1696   .text:0000000000000a6c $d
                 1.s:1700   .text:0000000000000ad4 $t
                 1.s:1773   .text:0000000000000b60 $d
                 1.s:1777   .text:0000000000000bc8 $t
                 1.s:1838   .text:0000000000000c3a __pinlv_yanshi
                 1.s:1840   .text:0000000000000c3c __pinlv_yanshi_xunhuan
                 1.s:1844   .text:0000000000000c42 __pin_lv_xian_shi
                 1.s:1857   .text:0000000000000c5e $d
                 1.s:1857   .text:0000000000000c60 $d
                 1.s:1859   .text:0000000000000cc8 __jisuan_z_fudu
                 1.s:1860   .text:0000000000000cc8 $t
                 1.s:1885   .text:0000000000000cfe __zidong_dangwei
                 1.s:1887   .text:0000000000000d00 __huan_dang
                 1.s:1907   .text:0000000000000d26 __dang_wei_jian
                 1.s:1916   .text:0000000000000d36 __zi_dong_dang_wei_fan_hui
                 1.s:2537   .text:000000000000122a __fu_shu_chu_fa
                 1.s:1946   .text:0000000000000d66 __jisuan_cos_sin
                 1.s:1956   .text:0000000000000d74 __xiaoyu_180
                 1.s:1958   .text:0000000000000d76 __js_cos_sin
                 1.s:1967   .text:0000000000000d86 __jisuan_jiaodu_bushi0
                 1.s:1969   .text:0000000000000d88 __jiance_chao90
                 1.s:1976   .text:0000000000000d94 __xiaoyu_90
                 1.s:1978   .text:0000000000000d96 __suan_cossin
                 1.s:1989   .text:0000000000000dae __suan_cos_sin1
                 1.s:2004   .text:0000000000000dc8 __cordic_cos_sin
                 1.s:1995   .text:0000000000000dba __cos_sin_fanhui
ARM GAS  1.s 			page 65


                 1.s:2002   .text:0000000000000dc6 __cossin_fh
                 1.s:2018   .text:0000000000000dd8 cordicxunhuan
                 1.s:2063   .text:0000000000000e26 __cordic_atan2_xun_huan
                 1.s:2064   .text:0000000000000e26 __du_cos_sin
                 1.s:2084   .text:0000000000000e4a __ni_shi_zhen_zhuan
                 1.s:2077   .text:0000000000000e3e __shun_shi_zhen_zhuan
                 1.s:2090   .text:0000000000000e54 __xuan_zhuan_wan
                 1.s:2109   .text:0000000000000e78 $d
                 1.s:2115   .text:0000000000000ed4 $t
                 1.s:2120   .text:0000000000000ede _shibubushifushu
                 1.s:2125   .text:0000000000000ee6 _xububushifushu
                 1.s:2130   .text:0000000000000eee _panduanxubushibushi0
                 1.s:2134   .text:0000000000000ef4 _jisuanfudu1
                 1.s:2149   .text:0000000000000f0a _alpha_min_beta_max
                 1.s:2141   .text:0000000000000efc _alpha_max_beta_min
                 1.s:2160   .text:0000000000000f18 $d
                 1.s:2162   .text:0000000000000f20 $t
                 1.s:2176   .text:0000000000000f3e aaa1
                 1.s:2181   .text:0000000000000f48 aaa2
                 1.s:2205   .text:0000000000000f78 bbb1
                 1.s:2210   .text:0000000000000f82 bbb2
                 1.s:2240   .text:0000000000000fbc __xianshi_shangxia_bi
                 1.s:2255   .text:0000000000000fda aa1
                 1.s:2260   .text:0000000000000fe4 aa2
                 1.s:2281   .text:000000000000100e bb1
                 1.s:2286   .text:0000000000001018 bb2
                 1.s:2310   .text:000000000000104a cc1
                 1.s:2315   .text:0000000000001054 cc2
                 1.s:2336   .text:000000000000107e dd1
                 1.s:2341   .text:0000000000001088 dd2
                 1.s:2353   .text:00000000000010a0 __dft
                 1.s:2369   .text:00000000000010be __dft_xunhuan
                 1.s:2377   .text:00000000000010cc __du_sin
                 1.s:2399   .text:00000000000010f4 __lv_bo_qi
                 1.s:2419   .text:0000000000001114 __huanchong_leijia
                 1.s:2428   .text:0000000000001124 $d
                 1.s:2432   .text:000000000000116c $t
                 1.s:2440   .text:000000000000117a _lcdxianshixunhuan
                 1.s:2451   .text:000000000000118c _lcdyanshixunhuan
                 1.s:2469   .text:00000000000011aa __lcd_ming_ling
                 1.s:2466   .text:00000000000011a6 __lcd_shu_ju
                 1.s:2471   .text:00000000000011ac __xie_lcd_shu_ju
                 1.s:2494   .text:00000000000011e8 __spi_mang
                 1.s:2499   .text:00000000000011f0 __yanshi_595
                 1.s:2501   .text:00000000000011f2 __yanshi__595
                 1.s:2514   .text:0000000000001202 _xunhuanqiuma
                 1.s:2533   .text:0000000000001226 _qiumafanhui
                 1.s:2528   .text:000000000000121e _meidaoxiaoshudian
                 1.s:2547   .text:0000000000001238 __tiao_guo_bei_chu_shu_0_pan_duan
                 1.s:2553   .text:0000000000001242 __ji_suan_chu_fa
                 1.s:2565   .text:0000000000001256 b1
                 1.s:2572   .text:0000000000001262 b2
                 1.s:2759   .text:00000000000013a8 __chengfa
                 1.s:2574   .text:0000000000001266 b3
                 1.s:2579   .text:000000000000126e a1
                 1.s:2590   .text:0000000000001282 b4
                 1.s:2596   .text:000000000000128c b5
ARM GAS  1.s 			page 66


                 1.s:2598   .text:0000000000001290 b6
                 1.s:2603   .text:0000000000001298 a2
                 1.s:2622   .text:00000000000012bc b7
                 1.s:2628   .text:00000000000012c6 b8
                 1.s:2715   .text:0000000000001360 __chufa64
                 1.s:2634   .text:00000000000012d2 __bao_cun_chu_fa_shi_bu_jie_guo
                 1.s:2646   .text:00000000000012e4 b9
                 1.s:2653   .text:00000000000012f0 b10
                 1.s:2659   .text:00000000000012fc a3
                 1.s:2669   .text:000000000000130e b11
                 1.s:2676   .text:000000000000131a b12
                 1.s:2682   .text:0000000000001326 a4
                 1.s:2693   .text:000000000000133a b13
                 1.s:2699   .text:0000000000001344 b14
                 1.s:2706   .text:0000000000001352 __bao_cun_chu_fa_xu_bu_jie_guo
                 1.s:2755   .text:00000000000013a2 __chu_fa64_fan_hui0
                 1.s:2725   .text:000000000000136e __chu_fa64_ji_suan
                 1.s:2732   .text:000000000000137a __chu_fa64_xun_huan
                 1.s:2741   .text:000000000000138a __chu_fa_yi_wei
                 1.s:2749   .text:0000000000001398 __di_yi_wei
                 1.s:2803   .text:00000000000013ec __cheng_fa_fan_hui
                 1.s:2773   .text:00000000000013b2 __ji_suan_cheng_fa
                 1.s:2830   .text:0000000000001416 _chufafanhui
                 1.s:2820   .text:0000000000001406 _chufaxunhuan
                 1.s:2827   .text:0000000000001412 _chufaweishubudao0
                 1.s:2883   .text:0000000000001474 __shangbi_dft
                 1.s:2847   .text:000000000000142a __xiabi_dft
                 1.s:2930   .text:00000000000014d6 __systick_fanhui
                 1.s:2938   .text:00000000000014e0 $d

NO UNDEFINED SYMBOLS
