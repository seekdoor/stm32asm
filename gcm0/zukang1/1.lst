ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6						
   2              		@作者：yjmwxwx
   3              		@时间：2021-01-01
   4              		@编译器：ARM-NONE-EABI
   5              		.thumb
   6              		.syntax unified
   7              		.section .data
   8              	yjmwxwx:
   9 0000 796A6D77 		.ascii "yjmwxwx-20210101"
   9      7877782D 
   9      32303231 
   9      30313031 
  10              		
  11              		.align 4
  12              	si5351:		@0=148999000,1=149000000,2=28000000
  13 0010 00021303 		.byte 0x00,2,0x13,3,0,4,0,7,0,15,0,16,0x7F,17,0x5F,18,0x1F
  13      00040007 
  13      000F0010 
  13      7F115F12 
  13      1F
  14 0021 138C148C 		.byte 19,0x8C,20,0x8C,21,0x8C,22,0x8C,23,0x8C,26,0,27,0x19,28,0
  14      158C168C 
  14      178C1A00 
  14      1B191C00 
  15 0031 1D0F1EE1 		.byte 29,0x0F,30,0xE1,31,0,32,0,33,0x07,34,0x30,35,0xD4,36,0
  15      1F002000 
  15      21072230 
  15      23D42400 
  16 0041 250F26E1 		.byte 37,0x0F,38,0xE1,39,0,40,0x0C,41,0x2C,42,0,43,0x01,44,0
  16      2700280C 
  16      292C2A00 
  16      2B012C00 
  17 0051 2D012E00 		.byte 45,0x01,46,0,47,0,48,0,49,0,50,0,51,0x01,52,0
  17      2F003000 
  17      31003200 
  17      33013400 
  18 0061 35013600 		.byte 53,0x01,54,0,55,0,56,0,57,0,58,0,59,0x0E,60,0
  18      37003800 
  18      39003A00 
  18      3B0E3C00 
  19 0071 3D0D3EF6 		.byte 61,0x0D,62,0xF6,63,0,64,0,65,0x0C,90,0,91,0,149,0
  19      3F004000 
  19      410C5A00 
  19      5B009500 
  20 0081 96009700 		.byte 150,0,151,0,152,0,153,0,154,0,155,0,162,0,163,0
  20      98009900 
  20      9A009B00 
  20      A200A300 
  21 0091 A400A500 		.byte 164,0,165,0,166,0,167,0,183,0x92
  21      A600A700 
  21      B792
  22 009b 00000000 		.align 4
  22      00
  23              		.equ STACKINIT,        	        0x20001000
  24              		.equ asciimabiao,		0x20000000
  25              	        .equ liangcheng,                0x20000924
  26              		.section .text
ARM GAS  1.s 			page 2


  27              	vectors:
  28 0000 00100020 		.word STACKINIT
  29 0004 B1000000 		.word _start + 1
  30 0008 95040000 		.word _nmi_handler + 1
  31 000c 97040000 		.word _hard_fault  + 1
  32 0010 00000000 		.word 0
  33 0014 00000000 		.word 0
  34 0018 00000000 		.word 0
  35 001c 00000000 		.word 0
  36 0020 00000000 		.word 0
  37 0024 00000000 		.word 0
  38 0028 00000000 		.word 0
  39 002c 99040000 		.word _svc_handler +1
  40 0030 00000000 		.word 0
  41 0034 00000000 		.word 0
  42 0038 9B040000 		.word _pendsv_handler +1
  43 003c 9D040000 		.word _systickzhongduan +1           @ 15
  44 0040 9D040000 		.word aaa +1     @ _wwdg +1          @ 0
  45 0044 9D040000 		.word aaa +1     @_pvd +1            @ 1
  46 0048 9D040000 		.word aaa +1     @_rtc +1            @ 2
  47 004c 9D040000 		.word aaa +1     @_flash +1          @ 3
  48 0050 9D040000 		.word aaa +1	@ _rcc + 1           @ 4
  49 0054 9D040000 		.word aaa +1      @_exti0_1  +1      @ 5
  50 0058 9D040000 		.word aaa +1      @ _exti2_3 +1      @ 6
  51 005c 9D040000 		.word aaa +1       @_exti4_15 +1     @ 7
  52 0060 9D040000 		.word aaa +1                         @ 8
  53 0064 9D040000 		.word aaa +1	@__dma_wan  +1	     @ 9
  54 0068 9D040000 		.word aaa +1    @_dma1_2_3 +1        @ 10
  55 006c 9D040000 		.word aaa +1       @_dma1_4_5 +1     @ 11
  56 0070 9D040000 		.word aaa +1	 @_adc1 +1           @ 12
  57 0074 9D040000 		.word aaa +1       @_tim1_brk_up +1  @ 13
  58 0078 9D040000 		.word aaa +1        @ _tim1_cc +1    @ 14
  59 007c 9D040000 		.word aaa +1         @_tim2 +1       @ 15
  60 0080 9D040000 		.word aaa +1          @_tim3 +1      @ 16
  61 0084 9D040000 		.word aaa +1                         @ 17
  62 0088 9D040000 		.word aaa +1		             @ 18
  63 008c 9D040000 		.word aaa +1	@_tim14 +1           @ 19
  64 0090 9D040000 		.word aaa +1                         @ 20
  65 0094 9D040000 		.word aaa +1         @_tim16 +1      @ 21
  66 0098 9D040000 		.word aaa +1         @_tim17 +1      @ 22
  67 009c 9D040000 		.word aaa +1          @_i2c   +1     @ 23
  68 00a0 9D040000 		.word aaa +1                         @ 24
  69 00a4 9D040000 		.word aaa +1           @_spi   +1    @ 25
  70 00a8 9D040000 		.word aaa +1                         @ 26
  71 00ac 9D040000 		.word aaa +1         @_usart1 +1     @ 27
  72              		.align 2
  73              	_start:
  74              	shizhong:
  75 00b0 FB4A     	        ldr r2, = 0x40022000   @FLASH访问控制
  76 00b2 3221     	        movs r1, # 0x32
  77 00b4 1160     	        str r1, [r2]           @FLASH缓冲 缓冲开启
  78 00b6 FB48     	        ldr r0, = 0x40021000 @ rcc
  79 00b8 FB49     		ldr r1, = 0x10001
  80 00ba 0160     	        str r1, [r0]
  81              	denghse:
  82 00bc 0168     	        ldr r1, [r0]
  83 00be 8903     	        lsls r1, r1, # 14
ARM GAS  1.s 			page 3


  84 00c0 FCD5     	        bpl denghse
  85              	dengpllguan:
  86 00c2 0168     	        ldr r1, [r0]
  87 00c4 8901     		lsls r1, r1, # 6
  88 00c6 FCD4     		bmi dengpllguan
  89 00c8 F849     		ldr r1, = 0x150002
  90 00ca 0046     		mov r0, r0
  91 00cc 4160     		str r1, [r0, # 0x04]
  92 00ce 0046     		mov r0, r0
  93 00d0 F749     		ldr r1, = 0x1010000
  94 00d2 0046     		mov r0, r0
  95 00d4 0160     		str r1, [r0]
  96              	
  97              	dengpll:
  98 00d6 0168     	        ldr r1, [r0]
  99 00d8 8901     		lsls r1, # 6
 100 00da FCD5     		bpl dengpll
 101              	
 102              	
 103 00dc F549     		ldr r1, = 100
 104 00de 0163     		str r1, [r0, # 0x30]
 105              	_waisheshizhong:                         @ 外设时钟
 106              	        @+0x14=RCC_AHBENR
 107              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 108 00e0 F048     		ldr r0, = 0x40021000
 109 00e2 F549     		ldr r1, = 0x60001
 110 00e4 4161     	        str r1, [r0, # 0x14]
 111              	
 112              	        @+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 113              	        @0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22
 114 00e6 F549     	        ldr r1, = 0xa00
 115 00e8 8161     		str r1, [r0, # 0x18]
 116              		@+0X1C=RCC_APB1ENR
 117              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 118              		@ 22=I2C2 @ 23=USB @ 28=PWR
 119 00ea F54A     	        ldr r2, = 0x902
 120 00ec C261     	        str r2, [r0, # 0x1c]
 121              	
 122              	_neicunqingling:
 123 00ee F548     		ldr r0, = 0x20000000
 124 00f0 0021     		movs r1, # 0
 125 00f2 F54B     		ldr r3, = 0x1000
 126              	_neicunqinglingxunhuan:
 127 00f4 043B     		subs r3, # 4
 128 00f6 C150     		str r1, [r0, r3]
 129 00f8 FCD1     		bne _neicunqinglingxunhuan
 130              	
 131              	_waishezhongduan:				@外设中断
 132              		@0xE000E100    0-31  写1开，写0没效
 133              		@0XE000E180    0-31 写1关，写0没效
 134              		@0XE000E200    0-31 挂起，写0没效
 135              		@0XE000E280    0-31 清除， 写0没效
 136 00fa F448     		ldr r0, =  0xe000e100
 137 00fc F449     		ldr r1, = 0x200 @0x10200  @ 0x10000
 138 00fe 0160     		str r1, [r0]
 139              	@_kanmengou:
 140              	@	ldr r0, = 0x40003000
ARM GAS  1.s 			page 4


 141              	@	ldr r1, = 0x5555
 142              	@	str r1, [r0]
 143              	@	movs r1, # 7
 144              	@	str r1, [r0, # 4]
 145              	@	ldr r1, = 0xfff
 146              	@	str r1, [r0, # 8]
 147              	@	ldr r1, = 0xaaaa
 148              	@	str r1, [r0]
 149              	@	ldr r1, = 0xcccc
 150              	@	str r1, [r0]
 151              	
 152              	
 153              	@_systick:				@ systick定时器初始化
 154              	@
 155              	@	ldr r0, = 0xe000e010
 156              	@	ldr r1, = 0xffffff
 157              	@	str r1, [r0, # 4]
 158              	@	str r1, [r0, # 8]	
 159              	@	movs r1, # 0x07
 160              	@	str r1, [r0]
 161              		
 162              	io_she_zhi:
 163              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 164              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 165              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 166              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 167              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 168              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 169              		@偏移0x10 = 输入数据寄存器
 170              		@偏移0x14 = 输出数据寄存器
 171              		@偏移0x18 = 端口开  0-15置位
 172              		@偏移0x28 = 端口关
 173              		@0X20 = 复用低
 174              		@GPIO口0（0-3位）每个IO口占用4位
 175              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 176              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 177              		@0x24 = 复用高
 178              		@GPIO口8 （0-3位）每个IO口占用4位
 179              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 180              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 181              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 182              	
 183 0100 F448     		ldr r0, = 0x48000000
 184 0102 F549     		ldr r1, = 0x281454ff
 185 0104 0160     		str r1, [r0]
 186 0106 F549     		ldr r1, =  0x6f0
 187 0108 4160     		str r1, [r0, # 0x04]
 188 010a F549     		ldr r1, = 0x0c3c0000
 189 010c 8160     		str r1, [r0, # 0x08]
 190 010e F549     		ldr r1, = 0x100
 191 0110 C160     		str r1, [r0, # 0x0c]
 192              		
 193 0112 F548     		ldr r0, = 0x48000400
 194 0114 0221     		movs r1, # 0x02
 195 0116 4160     		str r1, [r0, # 0x04]
 196 0118 0421     		movs r1, # 0x04
 197 011a C160     		str r1, [r0, # 0x0c]
ARM GAS  1.s 			page 5


 198              	
 199              	__si5351_chu_shi_hua:
 200 011c 0023     		movs r3, # 0
 201 011e F34C     		ldr r4, = si5351
 202 0120 F34D     		ldr r5, = 138           @76
 203              	__xie_si5351_xun_huan:
 204 0122 AB42     		cmp r3, r5
 205 0124 0BD0     		beq __xie_wan_si5351
 206 0126 C020     		movs r0, # 0xc0
 207 0128 0133     		adds r3, r3, # 1
 208 012a E15C     		ldrb r1, [r4, r3]
 209 012c 0133     		adds r3, r3, # 1
 210 012e E25C     		ldrb r2, [r4, r3]
 211 0130 00F02CF8 		bl __xie_i2c_8_wei
 212 0134 F029     		cmp r1, # 0xf0
 213 0136 00D0     		beq __si5351_mang
 214 0138 F3E7     		b __xie_si5351_xun_huan
 215              	__si5351_mang:
 216 013a 023B     		subs r3, r3, # 2
 217 013c F1E7     		b __xie_si5351_xun_huan
 218              	__xie_wan_si5351:
 219              		
 220              	_lcdchushihua:
 221 013e 3320     		movs r0, # 0x33
 222 0140 0021     		movs r1, # 0
 223 0142 00F03FF9 		bl _xielcd
 224 0146 00F038F9 		bl _lcdyanshi
 225              	
 226 014a 3220     		movs r0, # 0x32
 227 014c 0021     		movs r1, # 0
 228 014e 00F039F9 		bl _xielcd
 229 0152 00F032F9 		bl _lcdyanshi
 230 0156 2820     		movs r0, # 0x28
 231 0158 0021     		movs r1, # 0
 232 015a 00F033F9 		bl _xielcd
 233 015e 00F02CF9 		bl _lcdyanshi
 234 0162 0C20     		movs r0, # 0x0c
 235 0164 0021     		movs r1, # 0
 236 0166 00F02DF9 		bl _xielcd
 237 016a 00F026F9 		bl _lcdyanshi
 238 016e 0120     		movs r0, # 0x01
 239 0170 0021     		movs r1, # 0
 240 0172 00F027F9 		bl _xielcd
 241 0176 00F020F9 		bl _lcdyanshi
 242              	
 243 017a 8020     	        movs r0, # 0x80
 244 017c DD49     	        ldr r1, = yjmwxwx
 245 017e 1022     		movs r2, # 16
 246 0180 00F00DF9 	        bl _lcdxianshi
 247 0184 DC48     		ldr r0, = 0xffff
 248              	yjmwxwx_yanshi:
 249 0186 0138     		subs r0, r0, # 1
 250 0188 FDD1     		bne yjmwxwx_yanshi
 251              	ting:
 252 018a FEE7     		b ting
 253              		
 254              	__xie_i2c_8_wei:
ARM GAS  1.s 			page 6


 255 018c F8B5     		push {r3-r7,lr}
 256              		@r0=从地址，r1=数据地址，r2=数据
 257 018e D14F     		ldr r7, = 0x48000000
 258 0190 CF4B     		ldr r3, = 0x200 	@pa9=SDA
 259 0192 DA4C     		ldr r4, = 0x400		@pa10=SCL
 260              	__i2c_qi_8:
 261 0194 BB61     		str r3, [r7, # 0x18]	@ SDA=1
 262 0196 BC61     		str r4, [r7, # 0x18]	@ SCL=1
 263 0198 00F0EBF8 		bl __i2c_yan_shi
 264 019c BB62     		str r3, [r7, # 0x28]	@ SDA=0
 265 019e 00F0E8F8 		bl __i2c_yan_shi
 266 01a2 BC62     		str r4, [r7, # 0x28]	@ SCL=0
 267 01a4 00F0E5F8 		bl __i2c_yan_shi
 268 01a8 0026     		movs r6, # 0
 269              	__xie_cong_di_zhi_8:
 270 01aa 0825     		movs r5, # 8
 271 01ac C005     		lsls r0, r0, # 23
 272 01ae 06E0     		b __xie_shu_ju_8
 273              	__xie_cong_ji_di_zhi:
 274 01b0 0846     		mov r0, r1
 275 01b2 0825     		movs r5, # 8
 276 01b4 C005     		lsls r0, r0, # 23
 277 01b6 02E0     		b __xie_shu_ju_8
 278              	__xie_cong_ji_shu_ju:
 279 01b8 1046     		mov r0, r2
 280 01ba 0825     		movs r5, # 8
 281 01bc C005     		lsls r0, r0, # 23
 282              	__xie_shu_ju_8:
 283 01be 4000     		lsls r0, r0, # 1
 284 01c0 01D5     		bpl __SDA_8_deng_yu_0
 285 01c2 BB61     		str r3, [r7, # 0x18]	@SDA=1
 286 01c4 00E0     		b __SCL_8_gao
 287              	__SDA_8_deng_yu_0:
 288 01c6 BB62     		str r3, [r7, # 0x28]	@SDA=0
 289              	__SCL_8_gao:
 290 01c8 BC61     		str r4, [r7, # 0x18]	@SCL=1
 291 01ca 00F0D2F8 		bl __i2c_yan_shi
 292 01ce BC62     		str r4, [r7, # 0x28]	@SCL=0
 293 01d0 00F0CFF8 		bl __i2c_yan_shi
 294 01d4 013D     		subs r5, r5, # 1
 295 01d6 F2D1     		bne __xie_shu_ju_8
 296 01d8 BB61     		str r3, [r7, # 0x18]	@SDA=1
 297 01da 00F0CAF8 		bl __i2c_yan_shi
 298 01de BC61     		str r4, [r7, # 0x18]	@SCL=1
 299 01e0 00F0C7F8 		bl __i2c_yan_shi
 300              	__du_apk_8:
 301 01e4 3D69     		ldr r5, [r7, # 0x10]	@读APK
 302 01e6 AD05     		lsls r5, r5, # 22
 303 01e8 01D5     		bpl __apk_di_8
 304              	__apk_gao_8:
 305 01ea F021     		movs r1, # 0xf0
 306 01ec 07E0     		b __i2c_ting_8
 307              	__apk_di_8:
 308 01ee BC62     		str r4, [r7, # 0x28]	@SCL=0
 309 01f0 00F0BFF8 		bl __i2c_yan_shi
 310 01f4 0136     		adds r6, r6, # 1
 311 01f6 012E     		cmp r6, # 1
ARM GAS  1.s 			page 7


 312 01f8 DAD0     		beq __xie_cong_ji_di_zhi
 313 01fa 022E     		cmp r6, # 2
 314 01fc DCD0     		beq __xie_cong_ji_shu_ju
 315              	__i2c_ting_8:
 316 01fe BB62     		str r3, [r7, # 0x28]	@SDA=0
 317 0200 00F0B7F8 		bl __i2c_yan_shi
 318 0204 BC61     		str r4, [r7, # 0x18]	@SCL=1
 319 0206 00F0B4F8 		bl __i2c_yan_shi
 320 020a BB61     		str r3, [r7, # 0x18]	@SDA=1
 321 020c F8BD     		pop {r3-r7,pc}
 322              	__xie_i2c:
 323 020e FCB5     		push {r2-r7,lr}
 324 0210 0231     		adds r1, r1, # 2
 325 0212 B04A     		ldr r2, = 0x48000000
 326 0214 AE4B     		ldr r3, = 0x200 	@pa9=SDA
 327 0216 B94C     		ldr r4, = 0x400		@pa10=SCL
 328              	__i2c_qi:
 329 0218 9361     		str r3, [r2, # 0x18]	@ SDA=1
 330 021a 9461     		str r4, [r2, # 0x18]	@ SCL=1
 331 021c 00F0A9F8 		bl __i2c_yan_shi
 332 0220 9362     		str r3, [r2, # 0x28]	@ SDA=0
 333 0222 00F0A6F8 		bl __i2c_yan_shi
 334 0226 9462     		str r4, [r2, # 0x28]	@ SCL=0
 335 0228 00F0A3F8 		bl __i2c_yan_shi
 336 022c 0027     		movs r7, # 0
 337              	__xie_shu_ju_xun_huan:
 338 022e 0825     		movs r5, # 8
 339 0230 C65D     		ldrb r6, [r0, r7]
 340 0232 F605     		lsls r6, r6, # 23
 341              	__xie_shu_ju:
 342 0234 7600     		lsls r6, r6, # 1
 343 0236 01D5     		bpl __SDA_deng_yu_0
 344 0238 9361     		str r3, [r2, # 0x18]	@SDA=1
 345 023a 00E0     		b __SCL_gao
 346              	__SDA_deng_yu_0:
 347 023c 9362     		str r3, [r2, # 0x28]	@SDA=0
 348              	__SCL_gao:
 349 023e 9461     		str r4, [r2, # 0x18]	@SCL=1
 350 0240 00F097F8 		bl __i2c_yan_shi
 351 0244 9462     		str r4, [r2, # 0x28]	@SCL=0
 352 0246 00F094F8 		bl __i2c_yan_shi
 353 024a 013D     		subs r5, r5, # 1
 354 024c F2D1     		bne __xie_shu_ju
 355 024e 9361     		str r3, [r2, # 0x18]	@SDA=1
 356 0250 00F08FF8 		bl __i2c_yan_shi
 357 0254 9461     		str r4, [r2, # 0x18]	@SCL=1
 358 0256 00F08CF8 		bl __i2c_yan_shi
 359              	__du_apk:
 360 025a 1569     		ldr r5, [r2, # 0x10]	@读APK
 361 025c AD05     		lsls r5, r5, # 22
 362 025e 00D5     		bpl __apk_di
 363              	__apk_gao:
 364 0260 FEE7     		b __apk_gao
 365              	__apk_di:
 366 0262 9462     		str r4, [r2, # 0x28]	@SCL=0
 367 0264 00F085F8 		bl __i2c_yan_shi
 368 0268 0137     		adds r7, r7, # 1
ARM GAS  1.s 			page 8


 369 026a 0139     		subs r1, r1, # 1
 370 026c DFD1     		bne __xie_shu_ju_xun_huan
 371              	__i2c_ting:
 372 026e 9362     		str r3, [r2, # 0x28]	@SDA=0
 373 0270 00F07FF8 		bl __i2c_yan_shi
 374 0274 9461     		str r4, [r2, # 0x18]	@SCL=1
 375 0276 00F07CF8 		bl __i2c_yan_shi
 376 027a 9361     		str r3, [r2, # 0x18]	@SDA=1
 377 027c FCBD     		pop {r2-r7,pc}
 378              	__du_i2c:
 379 027e FCB5     		push {r2-r7,lr}
 380 0280 8846     		mov r8, r1
 381 0282 0021     		movs r1, # 0
 382 0284 934A     		ldr r2, = 0x48000000
 383 0286 924B     		ldr r3, = 0x200 	@pa9=SDA
 384 0288 9C4C     		ldr r4, = 0x400		@pa10=SCL
 385              	__i2c_qi1:
 386 028a 9361     		str r3, [r2, # 0x18]	@ SDA=1
 387 028c 9461     		str r4, [r2, # 0x18]	@ SCL=1
 388 028e 00F070F8 		bl __i2c_yan_shi
 389 0292 9362     		str r3, [r2, # 0x28]	@ SDA=0
 390 0294 00F06DF8 		bl __i2c_yan_shi
 391 0298 9462     		str r4, [r2, # 0x28]	@ SCL=0
 392 029a 00F06AF8 		bl __i2c_yan_shi
 393 029e 0825     		movs r5, # 8
 394 02a0 0227     		movs r7, # 2
 395 02a2 C026     		movs r6, # 0xc0
 396 02a4 F605     		lsls r6, r6, # 23
 397 02a6 02E0     		b __xie_shu_ju1
 398              	__yao_du_de_di_zhi:
 399 02a8 B726     		movs r6, # 0xb7
 400 02aa F605     		lsls r6, r6, # 23
 401 02ac 0825     		movs r5, # 8
 402              	__xie_shu_ju1:
 403 02ae 7600     		lsls r6, r6, # 1
 404 02b0 01D5     		bpl __SDA_deng_yu0_1
 405 02b2 9361     		str r3, [r2, # 0x18]	@SDA=1
 406 02b4 00E0     		b __SCL_gao1
 407              	__SDA_deng_yu0_1:
 408 02b6 9362     		str r3, [r2, # 0x28]	@SDA=0
 409              	__SCL_gao1:
 410 02b8 9461     		str r4, [r2, # 0x18]	@SCL=1
 411 02ba 00F05AF8 		bl __i2c_yan_shi
 412 02be 9462     		str r4, [r2, # 0x28]	@SCL=0
 413 02c0 00F057F8 		bl __i2c_yan_shi
 414 02c4 013D     		subs r5, r5, # 1
 415 02c6 F2D1     		bne __xie_shu_ju1
 416 02c8 9361     		str r3, [r2, # 0x18]	@SDA=1
 417 02ca 00F052F8 		bl __i2c_yan_shi
 418 02ce 9461     		str r4, [r2, # 0x18]	@SCL=1
 419 02d0 00F04FF8 		bl __i2c_yan_shi
 420              	__du_apk1:
 421 02d4 1569     		ldr r5, [r2, # 0x10]	@读APK
 422 02d6 AD05     		lsls r5, r5, # 22
 423 02d8 00D5     		bpl __apk_di1
 424              	__apk_gao1:
 425 02da FEE7     		b __apk_gao1
ARM GAS  1.s 			page 9


 426              	__apk_di1:
 427 02dc 9462     		str r4, [r2, # 0x28]	@SCL=0
 428 02de 00F048F8 		bl __i2c_yan_shi
 429 02e2 FF2F     		cmp r7, # 0xff
 430 02e4 10D0     		beq __du_shu_ju
 431 02e6 013F     		subs r7, r7, # 1
 432 02e8 DED1     		bne __yao_du_de_di_zhi
 433              	__i2c_qi2:
 434 02ea 9361     		str r3, [r2, # 0x18]    @ SDA=1
 435 02ec 9461     		str r4, [r2, # 0x18]    @ SCL=1
 436 02ee 00F040F8 		bl __i2c_yan_shi
 437 02f2 9362     		str r3, [r2, # 0x28]    @ SDA=0
 438 02f4 00F03DF8 		bl __i2c_yan_shi
 439 02f8 9462     		str r4, [r2, # 0x28]    @ SCL=0
 440 02fa 00F03AF8 		bl __i2c_yan_shi
 441 02fe C126     		movs r6, # 0xc1		@读
 442 0300 F605     		lsls r6, r6, # 23
 443 0302 0825     		movs r5, # 8
 444 0304 FF27     		movs r7, # 0xff
 445 0306 D2E7     		b __xie_shu_ju1
 446              	__du_shu_ju:
 447 0308 0825     		movs r5, # 8
 448 030a 0027     		movs r7, # 0
 449 030c 9361     		str r3, [r2, # 0x18]	@ SDA=1
 450              	__du_shu_ju_xun_huan:
 451 030e 00F030F8 		bl __i2c_yan_shi
 452 0312 9462     		str r4, [r2, # 0x28]	@SCL=0
 453 0314 00F02DF8 		bl __i2c_yan_shi
 454 0318 9461     		str r4, [r2, # 0x18]	@SCL=1
 455 031a 00F02AF8 		bl __i2c_yan_shi
 456 031e 1669     		ldr r6, [r2, # 0x10]	@读SDA
 457 0320 B605     		lsls r6, r6, # 22
 458 0322 F60F     		lsrs r6, r6, # 31
 459 0324 7F00     		lsls r7, r7, # 1
 460 0326 3743     		orrs r7, r7, r6
 461 0328 013D     		subs r5, r5, # 1
 462 032a F0D1     		bne __du_shu_ju_xun_huan
 463 032c 9462     		str r4, [r2, # 0x28]	@SCL=0
 464 032e 00F020F8 		bl __i2c_yan_shi
 465 0332 4754     		strb r7, [r0, r1]
 466 0334 0131     		adds r1, r1, # 1
 467 0336 4145     		cmp r1, r8
 468 0338 09D1     		bne __ying_da
 469              	__fei_ying_da:
 470 033a 9361     		str r3, [r2, # 0x18]	@SDA=0
 471 033c 00F019F8 		bl __i2c_yan_shi
 472 0340 9461     		str r4, [r2, # 0x18]    @SCL=1
 473 0342 00F016F8 		bl __i2c_yan_shi
 474 0346 9462     		str r4, [r2, # 0x28]    @SCL=0
 475 0348 00F013F8 		bl __i2c_yan_shi
 476 034c 09E0     		b __i2c_ting1
 477              	__ying_da:
 478 034e 9362     		str r3, [r2, # 0x28]	@SDA=0
 479 0350 00F00FF8 		bl __i2c_yan_shi
 480 0354 9461     		str r4, [r2, # 0x18]	@SCL=1
 481 0356 00F00CF8 		bl __i2c_yan_shi
 482 035a 9462     		str r4, [r2, # 0x28]	@SCL=0
ARM GAS  1.s 			page 10


 483 035c 00F009F8 		bl __i2c_yan_shi
 484 0360 D2E7     		b  __du_shu_ju
 485              	__i2c_ting1:
 486 0362 9362     		str r3, [r2, # 0x28]	@SDA=0
 487 0364 00F005F8 		bl __i2c_yan_shi
 488 0368 9461     		str r4, [r2, # 0x18]	@SCL=1
 489 036a 00F002F8 		bl __i2c_yan_shi
 490 036e 9361     		str r3, [r2, # 0x18]	@SDA=1
 491 0370 FCBD     		pop {r2-r7,pc}	
 492              	__i2c_yan_shi:
 493 0372 08B5     		push {r3, lr}
 494 0374 624B     		ldr r3, = 0x500
 495              	__i2c_yan_shi_xun_huan:
 496 0376 013B     		subs r3, r3, # 1
 497 0378 FDD1     		bne __i2c_yan_shi_xun_huan
 498 037a 08BD     		pop {r3, pc}
 499              	__kai_dma:
 500 037c 07B5     		push {r0-r2,lr}
 501 037e 614A     		ldr r2, = 0x40012400
 502 0380 1121     		movs r1, # 0x11
 503 0382 9160     		str r1, [r2, # 0x08]
 504              	__deng_adc_wan:
 505 0384 9168     		ldr r1, [r2, # 0x08]
 506 0386 0129     		cmp r1, # 1
 507 0388 FCD1     		bne __deng_adc_wan
 508 038a 5F48     		ldr r0, = 0x40020000
 509 038c 0021     		movs r1, # 0
 510 038e 8160     		str r1, [r0, # 0x08]
 511 0390 5E49     		ldr r1, = 912
 512 0392 C160     		str r1, [r0, # 0x0c]
 513 0394 5E49     		ldr r1, = 0x583
 514 0396 8160     		str r1, [r0, # 0x08]
 515 0398 0521     		movs r1, # 0x05
 516 039a 9160     		str r1, [r2, # 0x08]
 517 039c 07BD     		pop {r0-r2,pc}
 518              	_lcdxianshi:	  		@r0=LCD位置，r1=数据地址，r2=长度
 519 039e 1FB5     		push {r0-r4,lr}
 520 03a0 0C46     		mov r4, r1
 521              	
 522 03a2 0021     		movs r1, # 0
 523 03a4 00F00EF8 		bl _xielcd
 524              	
 525 03a8 0121     		movs r1, # 1
 526 03aa 0023     		movs r3, # 0
 527              	_lcdxianshixunhuan:
 528 03ac E05C     		ldrb r0, [r4,r3]
 529 03ae 00F009F8 		bl _xielcd
 530 03b2 0133     		adds r3, r3, # 1
 531 03b4 9342     		cmp r3, r2
 532 03b6 F9D1     		bne _lcdxianshixunhuan
 533 03b8 1FBD     		pop {r0-r4,pc}
 534              	
 535              	_lcdyanshi:
 536 03ba 20B5     		push {r5,lr}
 537 03bc 424D     		ldr r5, = 0x1000
 538              	_lcdyanshixunhuan:
 539 03be 013D     		subs r5, r5, # 1
ARM GAS  1.s 			page 11


 540 03c0 FDD1     		bne _lcdyanshixunhuan
 541 03c2 20BD     		pop {r5,pc}
 542              	
 543              	_xielcd:			@入R0=8位,r1=0命令,r1=1数据
 544 03c4 3FB5     		push {r0-r5,lr}
 545 03c6 534C     		ldr r4, = liangcheng  @ 量程开关 (第6位和第7位)
 546 03c8 0246     		mov r2, r0
 547 03ca 2568     		ldr r5, [r4]
 548 03cc 1209     		lsrs r2, r2, # 4
 549 03ce 9200     		lsls r2, r2, # 2	@ 高四位
 550 03d0 0007     		lsls r0, r0, # 28
 551 03d2 800E     		lsrs r0, r0, # 26	@ 低四位
 552 03d4 C907     		lsls r1, r1, # 31
 553 03d6 01D5     		bpl __lcd_ming_ling
 554              	__lcd_shu_ju:
 555 03d8 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 556 03da 00E0     		b __xie_lcd_shu_ju
 557              	__lcd_ming_ling:
 558 03dc 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 559              	__xie_lcd_shu_ju:
 560 03de 5B19     		adds r3, r3, r5
 561 03e0 0146     		mov r1, r0
 562 03e2 D218     		adds r2, r2, r3
 563 03e4 1000     		movs r0, r2
 564 03e6 00F00BF8 		bl __74hc595
 565 03ea 0238     		subs r0, r0, # 0x02
 566 03ec 00F008F8 		bl __74hc595
 567 03f0 0846     		mov r0, r1
 568 03f2 C018     		adds r0, r0, r3
 569 03f4 00F004F8 		bl __74hc595
 570 03f8 0238     		subs r0, r0, # 0x02
 571 03fa 00F001F8 		bl __74hc595
 572 03fe 3FBD     		pop {r0-r5,pc}
 573              		
 574              	__74hc595:			@ 入R0=8位
 575 0400 FFB5     		push {r0-r7,lr}
 576 0402 344E     		ldr r6, = 0x48000000
 577 0404 2025     		movs r5, # 0x20		@ SRCLK
 578 0406 4022     		movs r2, # 0x40		@ RCLK
 579 0408 8023     		movs r3, # 0x80		@ SER
 580 040a 1824     		movs r4, # 24
 581              	__595_yiweixunhuan:
 582 040c B262     		str r2, [r6, # 0x28]	@ rclk=0
 583 040e B562     		str r5, [r6, # 0x28]	@ srclk=0
 584              		@ovs r7, # 0xff
 585 0410 414F     		ldr r7, = 0x1ff
 586              	__595_yanshi:
 587 0412 013F     		subs r7, r7, # 1
 588 0414 FDD1     		bne __595_yanshi
 589 0416 0146     		mov r1, r0
 590 0418 A140     		lsls r1, r1, r4
 591 041a 01D5     		bpl __ser_0
 592              	__ser_1:
 593 041c B361     		str r3, [r6, # 0x18]	@ ser=1
 594 041e 00E0     		b __595_yiwei
 595              	__ser_0:
 596 0420 B362     		str r3, [r6, # 0x28]	@ ser=0
ARM GAS  1.s 			page 12


 597              	__595_yiwei:
 598 0422 B561     		str r5, [r6, # 0x18]
 599              		@movs r7, # 0xff
 600 0424 3C4F     		ldr r7, = 0x1ff
 601              	__595_yanshi1:
 602 0426 013F     		subs r7, r7, # 1
 603 0428 FDD1     		bne __595_yanshi1
 604 042a 0134     		adds r4, r4, # 1
 605 042c 202C     		cmp r4, # 32
 606 042e EDD1     		bne __595_yiweixunhuan
 607 0430 B261     		str r2, [r6, # 0x18]	@ rclk=1
 608              		@movs r7, # 0xff
 609 0432 394F     		ldr r7, = 0x1ff
 610              	__595_yanshi2:
 611 0434 013F     		subs r7, r7, # 1
 612 0436 FDD1     		bne __595_yanshi2
 613 0438 B262     		str r2, [r6, # 0x28]	@ rclk = 0
 614 043a FFBD     		pop {r0-r7,pc}
 615              	
 616              	
 617              	
 618              	_zhuanascii:					@ 16进制转ASCII
 619              			@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 620 043c FFB5     		push {r0-r7,lr}
 621 043e 1F46     		mov r7, r3
 622 0440 0546     		mov r5, r0
 623 0442 0E46     		mov r6, r1
 624 0444 0A21     		movs r1, # 10
 625              	_xunhuanqiuma:
 626 0446 00F012F8 		bl _chufa
 627 044a 0446     		mov r4, r0
 628 044c 4C43     		muls r4, r1
 629 044e 2B1B     		subs r3, r5, r4
 630 0450 3033     		adds r3, r3, # 0x30
 631 0452 0546     		mov r5, r0
 632 0454 013E     		subs r6, r6, # 1
 633 0456 08D0     		beq _qiumafanhui
 634 0458 BE42     		cmp r6, r7
 635 045a 02D1     		bne _meidaoxiaoshudian
 636 045c 2E24     		movs r4, # 0x2e		@小数点
 637 045e 9455     		strb r4, [r2,r6]	@插入小数点
 638 0460 013E     		subs r6, r6, # 1
 639              	_meidaoxiaoshudian:
 640 0462 9355     		strb r3, [r2,r6]
 641 0464 3600     		movs r6, r6
 642 0466 EED1     		bne _xunhuanqiuma
 643 0468 FFBD     		pop {r0-r7,pc}
 644              	_qiumafanhui:
 645 046a 9355     		strb r3, [r2, r6]
 646 046c FFBD     		pop {r0-r7,pc}
 647              	
 648              	_chufa:				@软件除法
 649              		@ r0 除以 r1 等于 商(r0)
 650 046e 1EB5     		push {r1-r4,lr}
 651 0470 0028     		cmp r0, # 0
 652 0472 0ED0     		beq _chufafanhui
 653 0474 0029     		cmp r1, # 0
ARM GAS  1.s 			page 13


 654 0476 0CD0     		beq _chufafanhui
 655 0478 0246     		mov r2, r0
 656 047a 0123     		movs r3, # 1
 657 047c DB07     		lsls r3, r3, # 31
 658 047e 0020     		movs r0, # 0
 659 0480 0446     		mov r4, r0
 660              	_chufaxunhuan:
 661 0482 5200     		lsls r2, r2, # 1
 662 0484 6441     		adcs r4, r4, r4
 663 0486 8C42     		cmp r4, r1
 664 0488 01D3     		bcc _chufaweishubudao0
 665 048a C018     		adds r0, r0, r3
 666 048c 641A     		subs r4, r4, r1
 667              	_chufaweishubudao0:
 668 048e 5B08     		lsrs r3, r3, # 1
 669 0490 F7D1     		bne _chufaxunhuan
 670              	_chufafanhui:
 671 0492 1EBD     		pop {r1-r4,pc}
 672              	
 673              	_nmi_handler:
 674 0494 7047     		bx lr
 675              	_hard_fault:
 676 0496 7047     		bx lr
 677              	_svc_handler:
 678 0498 7047     		bx lr
 679              	_pendsv_handler:
 680 049a 7047     		bx lr
 681              	_systickzhongduan:
 682              	aaa:
 683 049c 7047     		bx lr
 684 049e 00000020 		.ltorg
 684      02400010 
 684      02400100 
 684      01000200 
 684      15000000 
 685              		.end
ARM GAS  1.s 			page 14


DEFINED SYMBOLS
                 1.s:8      .data:0000000000000000 yjmwxwx
                 1.s:11     .data:0000000000000010 $d
                 1.s:12     .data:0000000000000010 si5351
                 1.s:23     *ABS*:0000000020001000 STACKINIT
                 1.s:24     *ABS*:0000000020000000 asciimabiao
                 1.s:25     *ABS*:0000000020000924 liangcheng
                 1.s:27     .text:0000000000000000 vectors
                 1.s:73     .text:00000000000000b0 _start
                 1.s:673    .text:0000000000000494 _nmi_handler
                 1.s:675    .text:0000000000000496 _hard_fault
                 1.s:677    .text:0000000000000498 _svc_handler
                 1.s:679    .text:000000000000049a _pendsv_handler
                 1.s:681    .text:000000000000049c _systickzhongduan
                 1.s:682    .text:000000000000049c aaa
                            .text:0000000000000000 $d
                 1.s:72     .text:00000000000000b0 $t
                 1.s:74     .text:00000000000000b0 shizhong
                 1.s:81     .text:00000000000000bc denghse
                 1.s:85     .text:00000000000000c2 dengpllguan
                 1.s:97     .text:00000000000000d6 dengpll
                 1.s:105    .text:00000000000000e0 _waisheshizhong
                 1.s:122    .text:00000000000000ee _neicunqingling
                 1.s:126    .text:00000000000000f4 _neicunqinglingxunhuan
                 1.s:131    .text:00000000000000fa _waishezhongduan
                 1.s:162    .text:0000000000000100 io_she_zhi
                 1.s:199    .text:000000000000011c __si5351_chu_shi_hua
                 1.s:203    .text:0000000000000122 __xie_si5351_xun_huan
                 1.s:218    .text:000000000000013e __xie_wan_si5351
                 1.s:254    .text:000000000000018c __xie_i2c_8_wei
                 1.s:215    .text:000000000000013a __si5351_mang
                 1.s:220    .text:000000000000013e _lcdchushihua
                 1.s:543    .text:00000000000003c4 _xielcd
                 1.s:535    .text:00000000000003ba _lcdyanshi
                 1.s:518    .text:000000000000039e _lcdxianshi
                 1.s:248    .text:0000000000000186 yjmwxwx_yanshi
                 1.s:251    .text:000000000000018a ting
                 1.s:260    .text:0000000000000194 __i2c_qi_8
                 1.s:492    .text:0000000000000372 __i2c_yan_shi
                 1.s:269    .text:00000000000001aa __xie_cong_di_zhi_8
                 1.s:282    .text:00000000000001be __xie_shu_ju_8
                 1.s:273    .text:00000000000001b0 __xie_cong_ji_di_zhi
                 1.s:278    .text:00000000000001b8 __xie_cong_ji_shu_ju
                 1.s:287    .text:00000000000001c6 __SDA_8_deng_yu_0
                 1.s:289    .text:00000000000001c8 __SCL_8_gao
                 1.s:300    .text:00000000000001e4 __du_apk_8
                 1.s:307    .text:00000000000001ee __apk_di_8
                 1.s:304    .text:00000000000001ea __apk_gao_8
                 1.s:315    .text:00000000000001fe __i2c_ting_8
                 1.s:322    .text:000000000000020e __xie_i2c
                 1.s:328    .text:0000000000000218 __i2c_qi
                 1.s:337    .text:000000000000022e __xie_shu_ju_xun_huan
                 1.s:341    .text:0000000000000234 __xie_shu_ju
                 1.s:346    .text:000000000000023c __SDA_deng_yu_0
                 1.s:348    .text:000000000000023e __SCL_gao
                 1.s:359    .text:000000000000025a __du_apk
                 1.s:365    .text:0000000000000262 __apk_di
ARM GAS  1.s 			page 15


                 1.s:363    .text:0000000000000260 __apk_gao
                 1.s:371    .text:000000000000026e __i2c_ting
                 1.s:378    .text:000000000000027e __du_i2c
                 1.s:385    .text:000000000000028a __i2c_qi1
                 1.s:402    .text:00000000000002ae __xie_shu_ju1
                 1.s:398    .text:00000000000002a8 __yao_du_de_di_zhi
                 1.s:407    .text:00000000000002b6 __SDA_deng_yu0_1
                 1.s:409    .text:00000000000002b8 __SCL_gao1
                 1.s:420    .text:00000000000002d4 __du_apk1
                 1.s:426    .text:00000000000002dc __apk_di1
                 1.s:424    .text:00000000000002da __apk_gao1
                 1.s:446    .text:0000000000000308 __du_shu_ju
                 1.s:433    .text:00000000000002ea __i2c_qi2
                 1.s:450    .text:000000000000030e __du_shu_ju_xun_huan
                 1.s:477    .text:000000000000034e __ying_da
                 1.s:469    .text:000000000000033a __fei_ying_da
                 1.s:485    .text:0000000000000362 __i2c_ting1
                 1.s:495    .text:0000000000000376 __i2c_yan_shi_xun_huan
                 1.s:499    .text:000000000000037c __kai_dma
                 1.s:504    .text:0000000000000384 __deng_adc_wan
                 1.s:527    .text:00000000000003ac _lcdxianshixunhuan
                 1.s:538    .text:00000000000003be _lcdyanshixunhuan
                 1.s:557    .text:00000000000003dc __lcd_ming_ling
                 1.s:554    .text:00000000000003d8 __lcd_shu_ju
                 1.s:559    .text:00000000000003de __xie_lcd_shu_ju
                 1.s:574    .text:0000000000000400 __74hc595
                 1.s:581    .text:000000000000040c __595_yiweixunhuan
                 1.s:586    .text:0000000000000412 __595_yanshi
                 1.s:595    .text:0000000000000420 __ser_0
                 1.s:592    .text:000000000000041c __ser_1
                 1.s:597    .text:0000000000000422 __595_yiwei
                 1.s:601    .text:0000000000000426 __595_yanshi1
                 1.s:610    .text:0000000000000434 __595_yanshi2
                 1.s:618    .text:000000000000043c _zhuanascii
                 1.s:625    .text:0000000000000446 _xunhuanqiuma
                 1.s:648    .text:000000000000046e _chufa
                 1.s:644    .text:000000000000046a _qiumafanhui
                 1.s:639    .text:0000000000000462 _meidaoxiaoshudian
                 1.s:670    .text:0000000000000492 _chufafanhui
                 1.s:660    .text:0000000000000482 _chufaxunhuan
                 1.s:667    .text:000000000000048e _chufaweishubudao0
                 1.s:684    .text:000000000000049e $d
                 1.s:684    .text:00000000000004a0 $d

NO UNDEFINED SYMBOLS
