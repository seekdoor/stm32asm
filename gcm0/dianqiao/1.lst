ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@@ 电桥						
   3              		@作者：yjmwxwx
   4              		@时间：2020-08-08
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              		.align 4
  10              	
  11              	zheng_xian_100hz:
  12 0000 46464646 		.byte 0x46,0x46,0x46,0x46,0x46,0x46,0x46,0x46,0x46,0x46,0x47,0x47,0x47,0x47,0x47,0x47,0x47,0x47,0x
  12      46464646 
  12      46464747 
  12      47474747 
  12      47474748 
  13              	zheng_xian_1khz:
  14 0fa0 46474849 		.byte 0x46,0x47,0x48,0x49,0x4a,0x4b,0x4c,0x4d,0x4e,0x4f,0x50,0x51,0x53,0x54,0x55,0x56,0x57,0x58,0x
  14      4A4B4C4D 
  14      4E4F5051 
  14      53545556 
  14      5758595A 
  15              	zheng_xian_10khz:
  16 1130 05050505 		.byte 0x5,0x5,0x5,0x5,0x6,0x6,0x6,0x6,0x6,0x6,0x7,0x7,0x7,0x7,0x7,0x7,0x7,0x8,0x8,0x8,0x8,0x8,0x8,
  16      06060606 
  16      06060707 
  16      07070707 
  16      07080808 
  17              		
  18 11f8 0E0E0E0F 		.byte 0xe,0xe,0xe,0xf,0xf,0x10,0x10,0x10,0x11,0x11,0x12,0x12,0x12,0x13,0x13,0x14,0x14,0x14,0x15,0x
  18      0F101010 
  18      11111212 
  18      12131314 
  18      14141515 
  19              	zheng_xian_100khz:
  20 12c0 07090B0D 	        .byte  0x7,0x9,0xb,0xd,0xe,0xe,0xe,0xd,0xb,0x9,0x7,0x5,0x3,0x1,0x0,0x0,0x0,0x1,0x3,0x5
  20      0E0E0E0D 
  20      0B090705 
  20      03010000 
  20      00010305 
  21              	
  22 12d4 00000000 		.align 4
  22      00000000 
  22      00000000 
  23              	xuan_zhuan_yin_zi:
  24 12e0 00800000 		.int 0x8000,0x0000,0x678D,0xFFFFB4C4,0x278D,0xFFFF8644,0xFFFFD873,0xFFFF8644,0xFFFF9873,0xFFFFB4C4
  24      00000000 
  24      8D670000 
  24      C4B4FFFF 
  24      8D270000 
  25              		.align 4
  26              	cordic_yong_cos_sin:
  27 1f60 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
  27      00400000 
  27      412D0000 
  27      412D0000 
  27      203B0000 
ARM GAS  1.s 			page 2


  28              		
  29              	pin_lv_biao:
  30 1fe0 D9040000 		.word __pin_lv100   +1
  31 1fe4 3D050000 		.word __pin_lv1K    +1
  32 1fe8 A1050000 		.word __pin_lv10K   +1
  33 1fec 05060000 		.word __pin_lv100K  +1
  34              	dang_wei_biao:
  35 1ff0 7B070000 		.word __dang_wei0 +1
  36 1ff4 A5070000 		.word __dang_wei1 +1
  37 1ff8 CD070000 		.word __dang_wei2 +1
  38 1ffc F5070000 		.word __dang_wei3 +1
  39 2000 1D080000 		.word __dang_wei4 +1
  40 2004 45080000 		.word __dang_wei5 +1
  41              	an_jian_biao:
  42 2008 AB030000 		.word __an_jian0         	   	   +1	
  43 200c 37030000 		.word __dang_wei_jia     	   	   +1
  44 2010 65030000 		.word __pin_lv_jia      	   	   +1
  45 2014 93030000 		.word __an_jian3         	           +1
  46 2018 99030000 		.word __an_jian4 		   	   +1
  47 201c 9F030000 		.word __an_jian5          	          +1
  48 2020 A5030000 		.word __an_jian6 		          +1
  49 2024 21030000 		.word __an_jian7			   +1
  50 2028 00000000 		.align 4
  50      00000000 
  51              	yjmwxwx:
  52 2030 796A6D77 		.ascii "yjmwxwx-20200808"
  52      7877782D 
  52      32303230 
  52      30383038 
  53              		.align 4
  54              	kong:
  55 2040 20202020 		.int 0x20202020
  56              	_fu:
  57 2044 2D       		.ascii "-"
  58              	hao_ou:
  59 2045 6DF40000 		.int 0xf46d
  60              	ou:
  61 2049 20F40000 	        .int 0xf420
  62              	qian_ou:
  63 204d 6BF40000 		.int 0xf46b
  64              	zhao_ou:
  65 2051 4DF40000 		.int 0xf44d
  66              		.int 
  67              	kai_lu_jiao_zhun:
  68 2055 6B616920 		.ascii "kai lu jiao zhun"
  68      6C75206A 
  68      69616F20 
  68      7A68756E 
  69              	duan_lu_jiao_zhun:
  70 2065 6475616E 		.ascii "duan lu jiaozhun"
  70      206C7520 
  70      6A69616F 
  70      7A68756E 
  71              	pi_pei_jiao_zhun:
  72 2075 70692070 		.ascii "pi pei jiao zhun"
  72      6569206A 
  72      69616F20 
ARM GAS  1.s 			page 3


  72      7A68756E 
  73 2085 00000000 		.align 4	
  73      00000000 
  73      000000
  74              		.equ STACKINIT,        	        0x20001000
  75              		.equ asciimabiao,		0x20000000
  76              		.equ fuhao,			0x200000f0
  77              		.equ Rs,			0x20000100	@串联电阻
  78              		.equ Xs,			0x20000104	@串联电抗
  79              		.equ Cs,			0x20000108	@串联电容
  80              		.equ jiaodu,			0x20000108
  81              		.equ kailu_r,			0x2000010c
  82              		.equ liangcheng,		0x20000110
  83              		.equ dangwei,			0x20000114
  84              		.equ xuanzhuan_cos,		0x20000188
  85              		.equ xuanzhuan_sin,		0x2000018c
  86              		.equ shibu,			0x20000190
  87              		.equ xubu,			0x20000194
  88              		.equ shangbidianya,		0x20000198
  89              		.equ huandangyanshi,		0x2000019c
  90              		.equ xuanzhuanyinzi,		0x200001a0
  91              		.equ pinlvjiayanshi,		0x200001a4
  92              		.equ pinlv,			0x200001a8
  93              		.equ tongdaoqiehuanyanshi,	0x200001ac
  94              		.equ lvboqiyiwei,		0x200001c0
  95              		.equ lvboqijishu,		0x200001c4
  96              		.equ cankaodianzu,		0x200001c8
  97              		.equ xiaoshudianweizhi,		0x200001cc
  98              		.equ xiabifangdakaiguan,	0x200001d0
  99              		.equ shangbifangdakaiguan,	0x200001d4
 100              		.equ dangweijiayanshi,		0x200001d8
 101              		.equ caidanzhizhen,		0x200001dc
 102              		.equ caidanbiao,		0x200001e0
 103              	        .equ dianyabiaozhizhen,         0x200001f8
 104              	        .equ dianyabiaoman,             0x200001fc
 105              		.equ dianyabiao,		0x20000200
 106              		.equ zhengxiangbiao,		0x20000520
 107              		.equ fanxiangbiao,		0x20000840
 108              	        .equ lvboqizhizhen,             0x20000ba0
 109              	        .equ lvboqihuanchong,           0x20000ba4
 110              	        .equ lvboqizhizhen2,            0x20000d00
 111              	        .equ lvboqihuanchong2,          0x20000d04
 112              		.section .text
 113              	vectors:
 114 0000 00100020 		.word STACKINIT
 115 0004 B1000000 		.word _start + 1
 116 0008 A5100000 		.word _nmi_handler + 1
 117 000c A7100000 		.word _hard_fault  + 1
 118 0010 00000000 		.word 0
 119 0014 00000000 		.word 0
 120 0018 00000000 		.word 0
 121 001c 00000000 		.word 0
 122 0020 00000000 		.word 0
 123 0024 00000000 		.word 0
 124 0028 00000000 		.word 0
 125 002c A9100000 		.word _svc_handler +1
 126 0030 00000000 		.word 0
ARM GAS  1.s 			page 4


 127 0034 00000000 		.word 0
 128 0038 AB100000 		.word _pendsv_handler +1
 129 003c AD100000 		.word _systickzhongduan +1           @ 15
 130 0040 AD100000 		.word aaa +1     @ _wwdg +1          @ 0
 131 0044 AD100000 		.word aaa +1     @_pvd +1            @ 1
 132 0048 AD100000 		.word aaa +1     @_rtc +1            @ 2
 133 004c AD100000 		.word aaa +1     @_flash +1          @ 3
 134 0050 AD100000 		.word aaa +1	@ _rcc + 1           @ 4
 135 0054 AD100000 		.word aaa +1      @_exti0_1  +1      @ 5
 136 0058 AD100000 		.word aaa +1      @ _exti2_3 +1      @ 6
 137 005c AD100000 		.word aaa +1       @_exti4_15 +1     @ 7
 138 0060 AD100000 		.word aaa +1                         @ 8
 139 0064 AD100000 		.word aaa +1	@__dma_wan  +1	     @ 9
 140 0068 AD100000 		.word aaa +1    @_dma1_2_3 +1        @ 10
 141 006c AD100000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 142 0070 AD100000 		.word aaa +1	 @_adc1 +1           @ 12
 143 0074 AD100000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 144 0078 AD100000 		.word aaa +1        @ _tim1_cc +1    @ 14
 145 007c AD100000 		.word aaa +1         @_tim2 +1       @ 15
 146 0080 AD100000 		.word aaa +1          @_tim3 +1      @ 16
 147 0084 AD100000 		.word aaa +1                         @ 17
 148 0088 AD100000 		.word aaa +1		             @ 18
 149 008c AD100000 		.word aaa +1	@_tim14 +1           @ 19
 150 0090 AD100000 		.word aaa +1                         @ 20
 151 0094 AD100000 		.word aaa +1         @_tim16 +1      @ 21
 152 0098 AD100000 		.word aaa +1         @_tim17 +1      @ 22
 153 009c AD100000 		.word aaa +1          @_i2c   +1     @ 23
 154 00a0 AD100000 		.word aaa +1                         @ 24
 155 00a4 AD100000 		.word aaa +1           @_spi   +1    @ 25
 156 00a8 AD100000 		.word aaa +1                         @ 26
 157 00ac AD100000 		.word aaa +1         @_usart1 +1     @ 27
 158              		.align 2
 159              	_start:
 160              	shizhong:
 161 00b0 694A     	        ldr r2, = 0x40022000   @FLASH访问控制
 162 00b2 3221     	        movs r1, # 0x32
 163 00b4 1160     	        str r1, [r2]           @FLASH缓冲 缓冲开启
 164 00b6 6948     	        ldr r0, = 0x40021000 @ rcc
 165 00b8 6949     		ldr r1, = 0x10001
 166 00ba 0160     	        str r1, [r0]
 167              	denghse:
 168 00bc 0168     	        ldr r1, [r0]
 169 00be 8903     	        lsls r1, r1, # 14
 170 00c0 FCD5     	        bpl denghse
 171              	dengpllguan:
 172 00c2 0168     	        ldr r1, [r0]
 173 00c4 8901     		lsls r1, r1, # 6
 174 00c6 FCD4     		bmi dengpllguan
 175 00c8 6649     		ldr r1, = 0x150002
 176 00ca 0046     		mov r0, r0
 177 00cc 4160     		str r1, [r0, # 0x04]
 178 00ce 0046     		mov r0, r0
 179 00d0 6549     		ldr r1, = 0x1010000
 180 00d2 0046     		mov r0, r0
 181 00d4 0160     		str r1, [r0]
 182              	
 183              	dengpll:
ARM GAS  1.s 			page 5


 184 00d6 0168     	        ldr r1, [r0]
 185 00d8 8901     		lsls r1, # 6
 186 00da FCD5     		bpl dengpll
 187              	
 188              	
 189 00dc 6349     		ldr r1, = 100
 190 00de 0163     		str r1, [r0, # 0x30]
 191              	_waisheshizhong:                         @ 外设时钟
 192              	        @+0x14=RCC_AHBENR
 193              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 194 00e0 5E48     		ldr r0, = 0x40021000
 195 00e2 6349     		ldr r1, = 0x60001
 196 00e4 4161     	        str r1, [r0, # 0x14]
 197              	
 198              	        @+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 199              	        @0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22
 200 00e6 6349     	        ldr r1, = 0xa00
 201 00e8 8161     		str r1, [r0, # 0x18]
 202              		@+0X1C=RCC_APB1ENR
 203              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 204              		@ 22=I2C2 @ 23=USB @ 28=PWR
 205 00ea 634A     	        ldr r2, = 0x902
 206 00ec C261     	        str r2, [r0, # 0x1c]
 207              	
 208              	_neicunqingling:
 209 00ee 6348     		ldr r0, = 0x20000000
 210 00f0 0021     		movs r1, # 0
 211 00f2 634B     		ldr r3, = 0x1000
 212              	_neicunqinglingxunhuan:
 213 00f4 043B     		subs r3, # 4
 214 00f6 C150     		str r1, [r0, r3]
 215 00f8 FCD1     		bne _neicunqinglingxunhuan
 216              	
 217              	__fu_zhi_cai_dan_biao:
 218 00fa 6248     		ldr r0, = an_jian_biao
 219 00fc 6249     		ldr r1, = caidanbiao
 220 00fe 0268     		ldr r2, [r0]
 221 0100 4368     		ldr r3, [r0, # 0x04]
 222 0102 8468     	        ldr r4, [r0, # 0x08]
 223 0104 C568     	        ldr r5, [r0, # 0x0c]
 224 0106 0669     	        ldr r6, [r0, # 0x10]
 225 0108 4769     	        ldr r7, [r0, # 0x14]
 226 010a 0A60     	        str r2, [r1]
 227 010c 4B60     	        str r3, [r1, # 0x04]
 228 010e 8C60     	        str r4, [r1, # 0x08]
 229 0110 CD60     	        str r5, [r1, # 0x0c]
 230 0112 0E61     	        str r6, [r1, # 0x10]
 231 0114 4F61     	        str r7, [r1, # 0x14]
 232 0116 8269     		ldr r2, [r0, # 0x18]
 233 0118 C369     		ldr r3, [r0, # 0x1c]
 234 011a 8A61     		str r2, [r1, # 0x18]
 235 011c CB61     		str r3, [r1, # 0x1c]
 236              	_waishezhongduan:				@外设中断
 237              		@0xE000E100    0-31  写1开，写0没效
 238              		@0XE000E180    0-31 写1关，写0没效
 239              		@0XE000E200    0-31 挂起，写0没效
 240              		@0XE000E280    0-31 清除， 写0没效
ARM GAS  1.s 			page 6


 241 011e 5B48     		ldr r0, =  0xe000e100
 242 0120 5B49     		ldr r1, = 0x200 @0x10200  @ 0x10000
 243 0122 0160     		str r1, [r0]
 244              	@_kanmengou:
 245              	@	ldr r0, = 0x40003000
 246              	@	ldr r1, = 0x5555
 247              	@	str r1, [r0]
 248              	@	movs r1, # 7
 249              	@	str r1, [r0, # 4]
 250              	@	ldr r1, = 0xfff
 251              	@	str r1, [r0, # 8]
 252              	@	ldr r1, = 0xaaaa
 253              	@	str r1, [r0]
 254              	@	ldr r1, = 0xcccc
 255              	@	str r1, [r0]
 256              	
 257              	
 258              	@_systick:				@ systick定时器初始化
 259              	@
 260              	@	ldr r0, = 0xe000e010
 261              	@	ldr r1, = 0xffffff
 262              	@	str r1, [r0, # 4]
 263              	@	str r1, [r0, # 8]	
 264              	@	movs r1, # 0x07
 265              	@	str r1, [r0]
 266              		
 267              	io_she_zhi:
 268              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 269              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 270              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 271              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 272              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 273              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 274              		@偏移0x10 = 输入数据寄存器
 275              		@偏移0x14 = 输出数据寄存器
 276              		@偏移0x18 = 端口开  0-15置位
 277              		@偏移0x28 = 端口关
 278              		@0X20 = 复用低
 279              		@GPIO口0（0-3位）每个IO口占用4位
 280              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 281              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 282              		@0x24 = 复用高
 283              		@GPIO口8 （0-3位）每个IO口占用4位
 284              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 285              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 286              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 287              	
 288              	
 289 0124 5B48     		ldr r0, = 0x48000000
 290 0126 5C49     		ldr r1, = 0x2824544f
 291 0128 0160     		str r1, [r0]
 292 012a 5C49     		ldr r1, =  0x2e8
 293 012c 4160     		str r1, [r0, # 0x04]
 294 012e 5849     		ldr r1, = 0x200
 295 0130 4162     		str r1, [r0, # 0x24]
 296 0132 5B49     		ldr r1, = 0x110
 297 0134 C160     		str r1, [r0, # 0x0c]
ARM GAS  1.s 			page 7


 298              		
 299 0136 5B48     		ldr r0, = 0x48000400
 300 0138 0221     		movs r1, # 0x02
 301 013a 4160     		str r1, [r0, # 0x04]
 302 013c 0421     		movs r1, # 0x04
 303 013e C160     		str r1, [r0, # 0x0c]
 304              	
 305              	_lcdchushihua:
 306 0140 3320     		movs r0, # 0x33
 307 0142 0021     		movs r1, # 0
 308 0144 00F0E6FD 		bl _xielcd
 309 0148 00F0DFFD 		bl _lcdyanshi
 310              	
 311 014c 3220     		movs r0, # 0x32
 312 014e 0021     		movs r1, # 0
 313 0150 00F0E0FD 		bl _xielcd
 314 0154 00F0D9FD 		bl _lcdyanshi
 315 0158 2820     		movs r0, # 0x28
 316 015a 0021     		movs r1, # 0
 317 015c 00F0DAFD 		bl _xielcd
 318 0160 00F0D3FD 		bl _lcdyanshi
 319 0164 0C20     		movs r0, # 0x0c
 320 0166 0021     		movs r1, # 0
 321 0168 00F0D4FD 		bl _xielcd
 322 016c 00F0CDFD 		bl _lcdyanshi
 323 0170 0120     		movs r0, # 0x01
 324 0172 0021     		movs r1, # 0
 325 0174 00F0CEFD 		bl _xielcd
 326 0178 00F0C7FD 		bl _lcdyanshi
 327              	
 328 017c 8020     	        movs r0, # 0x80
 329 017e 4A49     	        ldr r1, = yjmwxwx
 330 0180 1022     		movs r2, # 16
 331 0182 00F0B4FD 	        bl _lcdxianshi
 332 0186 4948     		ldr r0, = 0xffff
 333              	yjmwxwx_yanshi:
 334 0188 0138     		subs r0, r0, # 1
 335 018a FDD1     		bne yjmwxwx_yanshi
 336              	
 337              	_adcchushihua:
 338 018c 4848     	        ldr r0, = 0x40012400  @ adc基地址
 339 018e 4949     	        ldr r1, = 0x80000000
 340 0190 8160     	        str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 341              	_dengadcjiaozhun:
 342 0192 8168     	        ldr r1, [r0, # 0x08]
 343 0194 0900     	        movs r1, r1
 344 0196 FCD4     	        bmi _dengadcjiaozhun   @ 等ADC校准
 345 0198 0121     		movs r1, # 1
 346 019a 0160     		str r1, [r0]
 347              	_kaiadc:
 348 019c 8168     	        ldr r1, [r0, # 0x08]
 349 019e 0122     	        movs r2, # 0x01
 350 01a0 1143     	        orrs r1, r1, r2
 351 01a2 8160     	        str r1, [r0, # 0x08]
 352              	_deng_adc_wen_ding:
 353 01a4 0168     	        ldr r1, [r0]
 354 01a6 C907     	        lsls r1, r1, # 31
ARM GAS  1.s 			page 8


 355 01a8 FCD5     	        bpl _deng_adc_wen_ding @ 等ADC稳定
 356              	_tongdaoxuanze:
 357 01aa 4349     	        ldr r1, = 0x40000000
 358 01ac 0161     	        str r1, [r0, # 0x10]
 359 01ae 4349     	        ldr r1, = 0x01
 360 01b0 8162     	        str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 361 01b2 4349     	        ldr r1, = 0x8c3 @ tim1 0x803 @TIM3 0x8c3
 362 01b4 C160     	        str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 363 01b6 0021     	        movs r1, # 0
 364 01b8 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 365 01ba 8168     	        ldr r1, [r0, # 0x08]
 366 01bc 414A     	        ldr r2, = 0x04         @ 开始转换
 367 01be 1143     		orrs r1, r1, r2
 368 01c0 8160     	        str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 369              	dmachushihua:
 370              	        @+0=LSR,+4=IFCR,
 371              	        @+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 372              	        @+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 373              	        @+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 374              	        @+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 375              	        @+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 376              	        @+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 377              	        @+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 378              	        @tim1ch3DMA
 379              	
 380              	        @tim1ch3DMA
 381 01c2 4148     	        ldr r0, = 0x40020000
 382 01c4 4149     	        ldr r1, = 0x40012c3c @ 外设地址
 383 01c6 0166     	        str r1, [r0, # 0x60]
 384 01c8 4149     	        ldr r1, = zheng_xian_100khz @ 储存器地址
 385 01ca 4166     	        str r1, [r0, # 0x64]
 386 01cc 4149     	        ldr r1, = 20            @点数
 387 01ce C165     	        str r1, [r0, # 0x5c]
 388 01d0 4149     	        ldr r1, = 0x31b1         @ 储存到外设
 389 01d2 8165     	        str r1, [r0, # 0x58]
 390              	
 391              		@ adc dma
 392 01d4 3C48     		ldr r0, = 0x40020000
 393 01d6 4149     		ldr r1, = 0x40012440
 394 01d8 0161     		str r1, [r0, # 0x10]
 395 01da 4149     		ldr r1, = dianyabiao
 396 01dc 4161     		str r1, [r0, # 0x14]
 397 01de 4149     		ldr r1, = 400
 398 01e0 C160     		str r1, [r0, # 0x0c]
 399 01e2 4149     		ldr r1, = 0x5a1 @  0x583 	@ 5a1
 400 01e4 8160     		str r1, [r0, # 0x08]
 401              	
 402              	tim3chushihua:
 403 01e6 4148     	        ldr r0, = 0x40000400 @ tim3_cr1
 404 01e8 4149     		ldr r1, = 0
 405 01ea 8162     		str r1, [r0, # 0x28] @ psc
 406 01ec 4149     		ldr r1, = 27
 407 01ee C162     		str r1, [r0, # 0x2c] @ ARR
 408 01f0 2021     	         movs r1, # 0x20
 409 01f2 4160     	        str r1, [r0, # 0x04] @ TRGO
 410 01f4 0621     	        movs r1, # 0x06
 411 01f6 8160     	        str r1, [r0, # 0x08]
ARM GAS  1.s 			page 9


 412 01f8 8021     		movs r1, # 0x80
 413 01fa 0160     		str r1, [r0]
 414              	tim1chushiha:				
 415 01fc 3E48     	        ldr r0, = 0x40012c00 @ tim1_cr1
 416 01fe 0021     	        movs r1, # 0
 417 0200 8162     	        str r1, [r0, # 0x28] @ psc
 418 0202 3C49     		ldr r1, = 27
 419 0204 C162     	        str r1, [r0, # 0x2c] @ ARR
 420 0206 2021     	        movs r1, # 0x20
 421 0208 4160     	        str r1, [r0, # 0x04] @ TRGO
 422 020a 3C49     	        ldr r1, = 0x68
 423 020c C161     	        str r1, [r0, # 0x1c] @ ccmr2  CC3
 424 020e 3C49     		ldr r1, = 0x100    @  CC3
 425 0210 0162     		str r1, [r0, # 0x20] @ ccer
 426 0212 3C49     		ldr r1, = 0x8000
 427 0214 4164     		str r1, [r0, # 0x44] @ BDTR
 428 0216 3C49     	        ldr r1, = 0x800 @ CC3 DMA
 429 0218 C160     	        str r1, [r0, # 0x0c] @ DIER
 430 021a 3C49     	        ldr r1, = 0x81
 431 021c 0160     		str r1, [r0]
 432              	
 433 021e 1D48     		ldr r0,= 0x48000000
 434 0220 0821     		movs r1, # 0x08
 435 0222 8162     		str r1, [r0, # 0x28]
 436              	
 437 0224 1B48     		ldr r0, = 0x48000000
 438 0226 1A49     	        ldr r1, = 0x200
 439 0228 8162     		str r1, [r0, # 0x28]
 440              	
 441 022a 3948     		ldr r0, = liangcheng
 442 022c 0021     		movs r1, # 0x00
 443 022e 0160     		str r1, [r0]
 444              	
 445 0230 3848     		ldr r0, = 0xffffff
 446              	adc_yanshi:
 447 0232 0138     		subs r0, r0, # 1
 448 0234 FDD1     		bne adc_yanshi
 449 0236 0120     	        movs r0, # 0x01
 450 0238 0021     	        movs r1, # 0
 451 023a 00F06BFD 	        bl _xielcd
 452 023e 00F064FD 		bl _lcdyanshi
 453              		
 454              		
 455              	ff:	
 456 0242 3548     	        ldr r0, = dangwei
 457 0244 0121     		movs r1, # 1
 458 0246 0160     		str r1, [r0]
 459 0248 00F090FA 		bl __dang_wei_she_zhi
 460 024c 3348     	        ldr r0, = pinlv
 461 024e 0021     	        movs r1, # 0
 462 0250 0160     		str r1, [r0]
 463 0252 00F03AF9 	        bl __pin_lv_she_zhi
 464              	
 465 0256 A8E0     		b ting
 466 0258 00200240 		.ltorg
 466      00100240 
 466      01000100 
ARM GAS  1.s 			page 10


 466      02001500 
 466      00000101 
 467              	__an_jian7:
 468              	t:
 469 0320 00F03BFB 		bl __ji_suan_zu_kang
 470 0324 00F053F8 		bl __xianshi_zukang1
 471 0328 FAE7     		b t
 472              		.ltorg
 473              		
 474              	__jiao_zhun_yan_shi:
 475 032a 01B4     		push {r0}
 476 032c D948     		ldr r0, = 0xffffff
 477              	__jiao_zhun_yan_shi_xun_huan:
 478 032e 0138     		subs r0, r0, # 1
 479 0330 FDD1     		bne __jiao_zhun_yan_shi_xun_huan
 480 0332 01BC     		pop {r0}
 481 0334 7047     		bx lr
 482              	
 483              	__dang_wei_jia:
 484 0336 D848     		ldr r0, = dangweijiayanshi
 485 0338 0168     		ldr r1, [r0]
 486 033a 0131     		adds r1, r1, # 1
 487 033c 0160     		str r1, [r0]
 488 033e 3229     		cmp r1, # 50
 489 0340 09D1     		bne __dang_wei_fan_hui
 490 0342 0021     		movs r1, # 0
 491 0344 0160     		str r1, [r0]
 492 0346 D548     		ldr r0, = dangwei
 493 0348 0168     		ldr r1, [r0]
 494 034a 0131     		adds r1, r1, # 1
 495 034c 0160     		str r1, [r0]
 496 034e 0629     		cmp r1, # 6
 497 0350 01D1     		bne __dang_wei_fan_hui
 498 0352 0021     		movs r1, # 0
 499 0354 0160     		str r1, [r0]
 500              	__dang_wei_fan_hui:
 501 0356 00F009FA 		bl __dang_wei_she_zhi
 502 035a 00F088FA 		bl __dang_wei_xian_shi
 503 035e 00F051FC 	        bl __an_jian
 504 0362 30E0     		b __cai_dan_diao_du
 505              	__pin_lv_jia:
 506 0364 CE48     		ldr r0, = pinlvjiayanshi
 507 0366 0168     	        ldr r1, [r0]
 508 0368 0131     		adds r1, r1, # 1
 509 036a 0160     		str r1, [r0]
 510 036c 3229     	        cmp r1, # 50
 511 036e 09D1     	        bne __pin_lv_fan_hui
 512 0370 0021     		movs r1, # 0
 513 0372 0160     	        str r1, [r0]
 514 0374 CB48     	        ldr r0, = pinlv
 515 0376 0168     		ldr r1, [r0]
 516 0378 0131     	        adds r1, r1, # 1
 517 037a 0160     	        str r1, [r0]
 518 037c 0429     	        cmp r1, # 4
 519 037e 01D1     	        bne __pin_lv_fan_hui
 520 0380 0021     	        movs r1, # 0
 521 0382 0160     	        str r1, [r0]
ARM GAS  1.s 			page 11


 522              	__pin_lv_fan_hui:
 523 0384 00F0A1F8 	        bl __pin_lv_she_zhi
 524 0388 00F07FFA 		bl __pin_lv_xian_shi
 525 038c 00F03AFC 	        bl __an_jian
 526 0390 19E0     	        b __cai_dan_diao_du
 527              	
 528              	__an_jian3:
 529 0392 00F037FC 	        bl __an_jian
 530 0396 16E0     	        b __cai_dan_diao_du
 531              	__an_jian4:
 532 0398 00F034FC 	        bl __an_jian
 533 039c 13E0     	        b __cai_dan_diao_du
 534              	__an_jian5:
 535 039e 00F031FC 	        bl __an_jian
 536 03a2 10E0     	        b __cai_dan_diao_du
 537              	__an_jian6:
 538 03a4 00F02EFC 	        bl __an_jian
 539 03a8 0DE0     		b __cai_dan_diao_du
 540              	__an_jian0:	
 541              	ting:	
 542 03aa 00F060FA 		bl __dang_wei_xian_shi
 543 03ae 00F0F4FA 		bl __ji_suan_zu_kang
 544 03b2 00F0DDFA 		bl __dian_rong_ji_suan
 545              	@	bl __zi_dong_dang_wei
 546 03b6 00F05AFA 		bl __dang_wei_xian_shi
 547 03ba 00F066FA 		bl __pin_lv_xian_shi
 548 03be 00F040F8 		bl __xianshi_zukang
 549 03c2 00F01FFC 		bl __an_jian
 550              	__cai_dan_diao_du:
 551 03c6 8000     		lsls r0, r0, # 2
 552 03c8 B749     		ldr r1, = caidanbiao
 553 03ca 0A58     		ldr r2, [r1, r0]
 554 03cc 9746     		mov pc, r2
 555              	
 556              	__xianshi_zukang1:
 557 03ce 1FB5     		push {r0-r4,lr}
 558 03d0 B648     		ldr r0, = Rs		@dianzu
 559 03d2 0168     		ldr r1, [r0]
 560 03d4 0C00     	       movs r4, r1
 561 03d6 07D5     		bpl __dian_zu_bu_shi_zheng1
 562 03d8 8020     		movs r0, # 0x80
 563 03da B549     	        ldr r1, = _fu
 564 03dc 0122     	        movs r2, # 1
 565 03de 00F086FC 	        bl _lcdxianshi
 566 03e2 E443     	        mvns r4, r4
 567 03e4 0134     	        adds r4, r4, # 1
 568 03e6 04E0     	        b __xian_shi_dian_zu1
 569              	__dian_zu_bu_shi_zheng1:
 570 03e8 8020     		movs r0, # 0x80
 571 03ea B249     		ldr r1, = kong
 572 03ec 0122     		movs r2, # 1
 573 03ee 00F07EFC 	        bl _lcdxianshi
 574              	__xian_shi_dian_zu1:
 575 03f2 2046     	        mov r0, r4
 576 03f4 0F21     	        movs r1, # 15
 577 03f6 B04A     	        ldr r2, = asciimabiao
 578 03f8 FF23     	        movs r3, # 0xff
ARM GAS  1.s 			page 12


 579 03fa 00F0C7FC 	        bl _zhuanascii
 580 03fe 8120     	        movs r0, # 0x81
 581 0400 AD49     	        ldr r1, = asciimabiao
 582 0402 0F22     	        movs r2, # 15
 583 0404 00F073FC 	        bl _lcdxianshi
 584              	
 585 0408 AC48     	        ldr r0, = Xs		@diankang
 586 040a 0168     	        ldr r1, [r0]
 587 040c 0C00     		movs r4, r1
 588 040e 07D5     	        bpl __dian_kang_bu_shi_zheng1
 589 0410 C020     	        movs r0, # 0xc0
 590 0412 A749     	        ldr r1, = _fu
 591 0414 0122     	        movs r2, # 1
 592 0416 00F06AFC 	        bl _lcdxianshi
 593 041a E443     	        mvns r4, r4
 594 041c 0134     	        adds r4, r4, # 1
 595 041e 04E0     	        b __xian_shi_dian_kang1
 596              	__dian_kang_bu_shi_zheng1:
 597 0420 C020     	        movs r0, # 0xc0
 598 0422 A449     	        ldr r1, = kong
 599 0424 0122     	        movs r2, # 1
 600 0426 00F062FC 	        bl _lcdxianshi
 601              	__xian_shi_dian_kang1:
 602 042a 2046     	        mov r0, r4
 603 042c 0F21     	        movs r1, # 15
 604 042e A24A     	        ldr r2, = asciimabiao
 605 0430 FF23     	        movs r3, # 0xff
 606 0432 00F0ABFC 	        bl _zhuanascii
 607 0436 C120     	        movs r0, # 0xc1
 608 0438 9F49     	        ldr r1, = asciimabiao
 609 043a 0F22     	        movs r2, # 15
 610 043c 00F057FC 	        bl _lcdxianshi
 611 0440 1FBD     		pop {r0-r4,pc}
 612              	__xianshi_zukang:
 613 0442 1FB5     		push {r0-r4,lr}
 614 0444 9E4A     		ldr r2, = cankaodianzu
 615 0446 9948     		ldr r0, = Rs		@dianzu
 616 0448 1268     		ldr r2, [r2]
 617 044a 0168     		ldr r1, [r0]
 618 044c 5143     		muls r1, r1, r2
 619 044e C913     		asrs r1, r1, # 15
 620 0450 0C00     	       movs r4, r1
 621 0452 07D5     		bpl __dian_zu_bu_shi_zheng
 622 0454 8220     		movs r0, # 0x82
 623 0456 9649     	        ldr r1, = _fu
 624 0458 0122     	        movs r2, # 1
 625 045a 00F048FC 	        bl _lcdxianshi
 626 045e E443     	        mvns r4, r4
 627 0460 0134     	        adds r4, r4, # 1
 628 0462 04E0     	        b __xian_shi_dian_zu
 629              	__dian_zu_bu_shi_zheng:
 630 0464 8220     		movs r0, # 0x82
 631 0466 9349     		ldr r1, = kong
 632 0468 0122     		movs r2, # 1
 633 046a 00F040FC 	        bl _lcdxianshi
 634              	__xian_shi_dian_zu:
 635 046e 2046     	        mov r0, r4
ARM GAS  1.s 			page 13


 636 0470 0521     	        movs r1, # 5
 637 0472 944B     		ldr r3, = xiaoshudianweizhi
 638 0474 904A     	        ldr r2, = asciimabiao
 639 0476 1B68     	        ldr r3, [r3]
 640 0478 00F088FC 	        bl _zhuanascii
 641 047c 8320     	        movs r0, # 0x83
 642 047e 8E49     	        ldr r1, = asciimabiao
 643 0480 0522     	        movs r2, # 5
 644 0482 00F034FC 	        bl _lcdxianshi
 645              	
 646 0486 8E4A     		ldr r2, = cankaodianzu
 647 0488 8C48     	        ldr r0, = Xs		@diankang
 648 048a 1268     		ldr r2, [r2]
 649 048c 0168     	        ldr r1, [r0]
 650 048e 5143     		muls r1, r1, r2
 651 0490 C913     		asrs r1, r1, # 15
 652 0492 0C00     	       movs r4, r1
 653 0494 07D5     	        bpl __dian_kang_bu_shi_zheng
 654 0496 8820     	        movs r0, # 0x88
 655 0498 8549     	        ldr r1, = _fu
 656 049a 0122     	        movs r2, # 1
 657 049c 00F027FC 	        bl _lcdxianshi
 658 04a0 E443     	        mvns r4, r4
 659 04a2 0134     	        adds r4, r4, # 1
 660 04a4 04E0     	        b __xian_shi_dian_kang
 661              	__dian_kang_bu_shi_zheng:
 662 04a6 8820     	        movs r0, # 0x88
 663 04a8 8249     	        ldr r1, = kong
 664 04aa 0122     	        movs r2, # 1
 665 04ac 00F01FFC 	        bl _lcdxianshi
 666              	__xian_shi_dian_kang:
 667 04b0 2046     	        mov r0, r4
 668 04b2 0521     	        movs r1, # 5
 669 04b4 834B     		ldr r3, = xiaoshudianweizhi
 670 04b6 804A     	        ldr r2, = asciimabiao
 671 04b8 1B68     	        ldr r3, [r3]
 672 04ba 00F067FC 	        bl _zhuanascii
 673 04be 8920     	        movs r0, # 0x89
 674 04c0 7D49     	        ldr r1, = asciimabiao
 675 04c2 0522     	        movs r2, # 5
 676 04c4 00F013FC 	        bl _lcdxianshi
 677 04c8 1FBD     		pop {r0-r4,pc}
 678              		
 679              	__pin_lv_she_zhi:
 680              		@ pinlv 0=100, 1=1k, 2=10k,3=100k
 681 04ca 0FB5     		push {r0-r3,lr}
 682 04cc 7549     		ldr r1, = pinlv
 683 04ce 7E48     	        ldr r0, = pin_lv_biao
 684 04d0 0968     		ldr r1, [r1]
 685 04d2 8900     		lsls r1, r1, # 2
 686 04d4 4258     	        ldr r2, [r0, r1]
 687 04d6 9746     		mov pc, r2
 688              	__pin_lv100:
 689              		
 690 04d8 7C48     	        ldr r0, = 0x40021000
 691 04da 7D49     	        ldr r1, = 0x154002
 692 04dc 4160     	        str r1, [r0, # 0x04]
ARM GAS  1.s 			page 14


 693 04de 7D48     	        ldr r0, = 0x40012410
 694 04e0 0121     	        movs r1, # 1
 695 04e2 C907     	        lsls r1, r1, # 31
 696 04e4 0160     	        str r1, [r0]
 697              	
 698 04e6 7C48     	        ldr r0, = 0x40020000
 699 04e8 0021     		movs r1, # 0
 700 04ea 8165     	        str r1, [r0, # 0x58]
 701 04ec 7B49     		ldr r1, = zheng_xian_100hz @ 储存器地址
 702 04ee 4166     	        str r1, [r0, # 0x64]
 703 04f0 7B49     		ldr r1, = 4000            @点数
 704 04f2 C165     	        str r1, [r0, # 0x5c]
 705 04f4 7B49     		ldr r1, = 0x31b1         @ 储存到外设
 706 04f6 8165     		str r1, [r0, # 0x58]
 707              		@ adc dma
 708 04f8 7748     		ldr r0, = 0x40020000
 709 04fa 0021     		movs r1, # 0
 710 04fc 8160     	        str r1, [r0, # 0x08]
 711 04fe 7A49     	        ldr r1, = 400
 712 0500 C160     	        str r1, [r0, # 0x0c]
 713 0502 7A49     	        ldr r1, = 0x5a1 @  0x583        @ 5a1
 714 0504 8160     	        str r1, [r0, # 0x08]
 715              	
 716 0506 7A48     	        ldr r0, = 0x40000400
 717 0508 7A49     	        ldr r1, = 55999
 718 050a C162     	        str r1, [r0, # 0x2c]
 719              	
 720 050c 7A48     	       ldr r0, = 0x40012c00 @ tim1_cr1
 721 050e 7B49     		ldr r1, = 139
 722 0510 C162     		str r1, [r0, # 0x2c]
 723 0512 7B4A     		ldr r2, = tongdaoqiehuanyanshi
 724 0514 7B4B     	        ldr r3, = 0x6fffff
 725 0516 1360     		str r3, [r2]
 726              		
 727 0518 7B48     		ldr r0, = xuanzhuanyinzi
 728 051a 7C49     		ldr r1, = xuan_zhuan_yin_zi
 729 051c 0160     		str r1, [r0]
 730 051e 7C48     		ldr r0, = lvboqijishu
 731 0520 7C49     	        ldr r1, = lvboqiyiwei
 732 0522 0423     	        movs r3, # 4
 733 0524 0360     	        str r3, [r0]
 734 0526 0223     	        movs r3, # 2
 735 0528 0B60     	        str r3, [r1]
 736 052a 7B48     	        ldr r0, = lvboqizhizhen
 737 052c 7B4A     	        ldr r2, = lvboqizhizhen2
 738 052e 0021     	        movs r1, # 0
 739 0530 0160     	        str r1, [r0]
 740 0532 1160     	        str r1, [r2]
 741 0534 00F0A9F9 		bl __pin_lv_xian_shi
 742 0538 0FBD     		pop {r0-r3,pc}
 743 053a 9AE0     	        b cai_biao
 744              	__pin_lv1K:
 745              	
 746 053c 6348     		ldr r0, = 0x40021000
 747 053e 6449     		ldr r1, = 0x154002
 748 0540 4160     		str r1, [r0, # 0x04]
 749 0542 6448     		ldr r0, = 0x40012410
ARM GAS  1.s 			page 15


 750 0544 0121     		movs r1, # 1
 751 0546 C907     		lsls r1, r1, # 31
 752 0548 0160     		str r1, [r0]
 753              		
 754 054a 6348     	        ldr r0, = 0x40020000
 755 054c 0021     	        movs r1, # 0
 756 054e 8165     	        str r1, [r0, # 0x58]
 757 0550 7349     	        ldr r1, = zheng_xian_1khz @ 储存器地址
 758 0552 4166     	        str r1, [r0, # 0x64]
 759 0554 6449     	        ldr r1, = 400             @点数
 760 0556 C165     	        str r1, [r0, # 0x5c]
 761 0558 6249     	        ldr r1, = 0x31b1         @ 储存到外设
 762 055a 8165     	        str r1, [r0, # 0x58]
 763              	        @ adc dma
 764 055c 5E48     	        ldr r0, = 0x40020000
 765 055e 0021     	        movs r1, # 0
 766 0560 8160     	        str r1, [r0, # 0x08]
 767 0562 6149     	        ldr r1, = 400
 768 0564 C160     	        str r1, [r0, # 0x0c]
 769 0566 6149     	        ldr r1, = 0x5a1 @  0x583        @ 5a1
 770 0568 8160     	        str r1, [r0, # 0x08]
 771              	
 772 056a 6148     		ldr r0, = 0x40000400
 773 056c 6D49     		ldr r1, = 5599
 774 056e C162     	        str r1, [r0, # 0x2c]
 775              	
 776 0570 6148     	       ldr r0, = 0x40012c00 @ tim1_cr1
 777 0572 6249     		ldr r1, = 139
 778 0574 C162     	        str r1, [r0, # 0x2c]
 779 0576 6448     	        ldr r0, = xuanzhuanyinzi
 780 0578 6449     	        ldr r1, = xuan_zhuan_yin_zi
 781 057a 0160     	        str r1, [r0]
 782 057c 6448     		ldr r0, = lvboqijishu
 783 057e 6549     	        ldr r1, = lvboqiyiwei
 784 0580 5F4A     	        ldr r2, = tongdaoqiehuanyanshi
 785 0582 0423     	        movs r3, # 4
 786 0584 0360     	        str r3, [r0]
 787 0586 0223     	        movs r3, # 2
 788 0588 0B60     	        str r3, [r1]
 789 058a 674B     	        ldr r3, = 0x8ffff
 790 058c 1360     	        str r3, [r2]
 791 058e 6248     	        ldr r0, = lvboqizhizhen
 792 0590 624A     	        ldr r2, = lvboqizhizhen2
 793 0592 0021     	        movs r1, # 0
 794 0594 0160     	        str r1, [r0]
 795 0596 1160     	        str r1, [r2]
 796 0598 00F077F9 	        bl __pin_lv_xian_shi
 797 059c 0FBD     		pop {r0-r3,pc}
 798 059e 68E0     		b cai_biao
 799              	__pin_lv10K:
 800              		
 801              	
 802              	
 803 05a0 4A48     		ldr r0, = 0x40021000
 804 05a2 4B49     		ldr r1, = 0x154002
 805 05a4 4160     		str r1, [r0, # 0x04]
 806 05a6 4B48     		ldr r0, = 0x40012410
ARM GAS  1.s 			page 16


 807 05a8 0121     		movs r1, # 1
 808 05aa C907     		lsls r1, r1, # 31
 809 05ac 0160     		str r1, [r0]
 810              		
 811 05ae 4A48     		ldr r0, = 0x40020000
 812 05b0 0021     		movs r1, # 0
 813 05b2 8165     		str r1, [r0, # 0x58]
 814 05b4 5D49     		ldr r1, = zheng_xian_10khz @ 储存器地址
 815 05b6 4166     		str r1, [r0, # 0x64]
 816 05b8 5D49     		ldr r1, = 200             @点数
 817 05ba C165     	        str r1, [r0, # 0x5c]
 818 05bc 4949     		ldr r1, = 0x31b1         @ 储存到外设
 819 05be 8165     		str r1, [r0, # 0x58]
 820              		@ adc dma
 821 05c0 4548     		ldr r0, = 0x40020000
 822 05c2 0021     		movs r1, # 0
 823 05c4 8160     		str r1, [r0, # 0x08]
 824 05c6 4849     		ldr r1, = 400
 825 05c8 C160     		str r1, [r0, # 0x0c]
 826 05ca 4849     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 827 05cc 8160     	        str r1, [r0, # 0x08]
 828              	
 829 05ce 4848     		ldr r0, = 0x40000400
 830 05d0 5849     		ldr r1, = 559
 831 05d2 C162     		str r1, [r0, # 0x2c]
 832              		
 833 05d4 4848     	       ldr r0, = 0x40012c00 @ tim1_cr1
 834 05d6 5849     	        ldr r1, = 27
 835 05d8 C162     	        str r1, [r0, # 0x2c]
 836 05da 4B48     	        ldr r0, = xuanzhuanyinzi
 837 05dc 4B49     	        ldr r1, = xuan_zhuan_yin_zi
 838 05de 0160     	        str r1, [r0]
 839              	
 840              		
 841 05e0 4B48     		ldr r0, = lvboqijishu
 842 05e2 4C49     	        ldr r1, = lvboqiyiwei
 843 05e4 464A     	        ldr r2, = tongdaoqiehuanyanshi
 844 05e6 2023     	        movs r3, # 32
 845 05e8 0360     	        str r3, [r0]
 846 05ea 0523     	        movs r3, # 5
 847 05ec 0B60     	        str r3, [r1]
 848 05ee 4E4B     	        ldr r3, = 0x8ffff
 849 05f0 1360     	        str r3, [r2]
 850 05f2 4948     	        ldr r0, = lvboqizhizhen
 851 05f4 494A     	        ldr r2, = lvboqizhizhen2
 852 05f6 0021     	        movs r1, # 0
 853 05f8 0160     	        str r1, [r0]
 854 05fa 1160     	        str r1, [r2]
 855 05fc 00F045F9 	        bl __pin_lv_xian_shi
 856 0600 0FBD     		pop {r0-r3,pc}
 857 0602 36E0     		b cai_biao
 858              	__pin_lv100K:
 859              	
 860 0604 4D48     		ldr r0, = xuanzhuan_cos
 861 0606 4E49     		ldr r1, = xuanzhuan_sin
 862 0608 4E4A     		ldr r2, = 32742
 863 060a 4F4B     		ldr r3, = 1286
ARM GAS  1.s 			page 17


 864 060c 0260     		str r2, [r0]
 865 060e 0B60     		str r3, [r1]
 866              	
 867 0610 2E48     	        ldr r0, = 0x40021000
 868 0612 4E49     	        ldr r1, = 0x150002
 869 0614 4160     	        str r1, [r0, # 0x04]
 870 0616 2F48     	        ldr r0, = 0x40012410
 871 0618 0121     	        movs r1, # 1
 872 061a 8907     	        lsls r1, r1, # 30
 873 061c 0160     	        str r1, [r0]
 874 061e 2E48     		ldr r0, = 0x40020000
 875 0620 0021     		movs r1, # 0
 876 0622 8165     		str r1, [r0, # 0x58]
 877 0624 4A49     		ldr r1, = zheng_xian_100khz @ 储存器地址
 878 0626 4166     	        str r1, [r0, # 0x64]
 879 0628 4A49     		ldr r1, = 20             @点数
 880 062a C165     	        str r1, [r0, # 0x5c]
 881 062c 2D49     	        ldr r1, = 0x31b1         @ 储存到外设
 882 062e 8165     	        str r1, [r0, # 0x58]
 883              	        @ adc dma
 884 0630 2948     	        ldr r0, = 0x40020000
 885 0632 0021     	        movs r1, # 0
 886 0634 8160     		str r1, [r0, # 0x08]
 887 0636 4849     		ldr r1, = 300
 888 0638 C160     		str r1, [r0, # 0x0c]
 889 063a 2C49     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 890 063c 8160     	        str r1, [r0, # 0x08]
 891 063e 2C48     		ldr r0, = 0x40000400
 892 0640 3D49     	        ldr r1, = 27
 893 0642 C162     		str r1, [r0, # 0x2c]
 894              	
 895 0644 2C48     	       ldr r0, = 0x40012c00 @ tim1_cr1
 896 0646 3C49     	        ldr r1, = 27
 897 0648 C162     		str r1, [r0, # 0x2c]
 898              	
 899              		
 900 064a 2D4A     		ldr r2, = tongdaoqiehuanyanshi
 901 064c 364B     		ldr r3, = 0x8ffff
 902 064e 1360     		str r3, [r2]
 903              	
 904 0650 2D48     	        ldr r0, = xuanzhuanyinzi
 905 0652 2E49     	        ldr r1, = xuan_zhuan_yin_zi
 906 0654 0160     	        str r1, [r0]
 907              	
 908              	
 909 0656 2E48     	        ldr r0, = lvboqijishu
 910 0658 2E49     		ldr r1, = lvboqiyiwei
 911 065a 4023     		movs r3, # 64
 912 065c 0360     	        str r3, [r0]
 913 065e 0623     	        movs r3, # 6
 914 0660 0B60     		str r3, [r1]
 915 0662 2D48     		ldr r0, = lvboqizhizhen
 916 0664 2D4A     	        ldr r2, = lvboqizhizhen2
 917 0666 0021     		movs r1, # 0
 918 0668 0160     		str r1, [r0]
 919 066a 1160     	        str r1, [r2]
 920 066c 00F00DF9 		bl __pin_lv_xian_shi
ARM GAS  1.s 			page 18


 921              	
 922              		
 923 0670 0FBD     		pop {r0-r3,pc}
 924              	cai_biao:	
 925 0672 0848     		ldr r0, = 0xffffff
 926              	cc100k:
 927 0674 0138     	        subs r0, r0, # 1
 928 0676 FDD1     		bne cc100k
 929              	
 930              	
 931 0678 3848     	        ldr r0, = 0x48000000
 932 067a 3949     	        ldr r1, = 0x200
 933 067c 8162     		str r1, [r0, # 0x28]
 934 067e 00F0D8F9 	        bl __tong_dao_qie_huan
 935 0682 3848     		ldr r0, = 0x20000520
 936 0684 3849     	        ldr r1, = 0x20000840
 937 0686 00F0C8FC 		bl __he_bing_dian_ya_biao
 938 068a 01BE     	        bkpt # 1
 939 068c 00F0C5FC 		bl __he_bing_dian_ya_biao
 940 0690 02BE     		bkpt # 2
 941 0692 0000FFFF 		.ltorg
 941      FF00D801 
 941      00201401 
 941      0020A401 
 941      0020A801 
 942              		
 943              		
 944              	__dang_wei_she_zhi:	
 945              		@ liangcheng 0x00=100,0x80=1K,0x40=10K,0xc0=100K
 946              		@0=9,1=100,2=1k,3=10k,4=100k,5=900k
 947 076c 3FB5     		push {r0-r5,lr}
 948 076e 4E49     		ldr r1, = dangwei
 949 0770 4E48     		ldr r0, = dang_wei_biao
 950 0772 0968     		ldr r1, [r1]
 951 0774 8900     		lsls r1, r1, # 2
 952 0776 4258     		ldr r2, [r0, r1]
 953 0778 9746     		mov pc, r2
 954              	__dang_wei0:
 955 077a 4D48     	        ldr r0, = xiaoshudianweizhi
 956 077c 0221     	        movs r1, # 2
 957 077e 4D4A     	        ldr r2, = cankaodianzu
 958 0780 0160     	        str r1, [r0]
 959 0782 4D49     	        ldr r1, = 32768
 960 0784 1160     	        str r1, [r2]
 961 0786 4D48     	        ldr r0, = shangbifangdakaiguan
 962 0788 0121     		movs r1, # 1
 963 078a 0160     		str r1, [r0]
 964 078c 4C48     	        ldr r0, = xiabifangdakaiguan
 965 078e 0021     	        movs r1, # 0
 966 0790 0160     	        str r1, [r0]
 967 0792 8E20     		movs r0, # 0x8e
 968 0794 4B49     	        ldr r1, = ou
 969 0796 0222     	        movs r2, # 2
 970 0798 00F0A9FA 		bl _lcdxianshi
 971 079c 4A48     	        ldr r0, = liangcheng
 972 079e 0021     	        movs r1, # 0x00
 973 07a0 0160     	        str r1, [r0]
ARM GAS  1.s 			page 19


 974 07a2 3FBD     	        pop {r0-r5,pc}
 975              	__dang_wei1:
 976 07a4 4248     		ldr r0, = xiaoshudianweizhi
 977 07a6 0321     		movs r1, # 3
 978 07a8 424A     		ldr r2, = cankaodianzu
 979 07aa 0160     		str r1, [r0]
 980 07ac 4249     		ldr r1, = 32768
 981 07ae 1160     		str r1, [r2]
 982 07b0 4248     	        ldr r0, = shangbifangdakaiguan
 983 07b2 4349     	        ldr r1, = xiabifangdakaiguan
 984 07b4 0022     		movs r2, # 0
 985 07b6 0260     	        str r2, [r0]
 986 07b8 0A60     	        str r2, [r1]
 987 07ba 8E20     		movs r0, # 0x8e
 988 07bc 4149     	        ldr r1, = ou
 989 07be 0222     	        movs r2, # 2
 990 07c0 00F095FA 	        bl _lcdxianshi
 991 07c4 4048     		ldr r0, = liangcheng
 992 07c6 0021     		movs r1, # 0x00
 993 07c8 0160     		str r1, [r0]
 994 07ca 3FBD     	        pop {r0-r5,pc}
 995              	__dang_wei2:
 996 07cc 3848     	        ldr r0, = xiaoshudianweizhi
 997 07ce 0021     	        movs r1, # 0
 998 07d0 384A     	        ldr r2, = cankaodianzu
 999 07d2 0160     	        str r1, [r0]
 1000 07d4 3849     	        ldr r1, = 32768
 1001 07d6 1160     	        str r1, [r2]
 1002 07d8 3848     		ldr r0, = shangbifangdakaiguan
 1003 07da 3949     		ldr r1, = xiabifangdakaiguan
 1004 07dc 0022     		movs r2, # 0
 1005 07de 0260     		str r2, [r0]
 1006 07e0 0A60     		str r2, [r1]
 1007 07e2 8E20     	        movs r0, # 0x8e
 1008 07e4 3749     	        ldr r1, = ou
 1009 07e6 0222     	        movs r2, # 2
 1010 07e8 00F081FA 	        bl _lcdxianshi
 1011 07ec 3648     		ldr r0, = liangcheng
 1012 07ee 8021     		movs r1, # 0x80
 1013 07f0 0160     		str r1, [r0]
 1014 07f2 3FBD     	        pop {r0-r5,pc}
 1015              	__dang_wei3:
 1016 07f4 2E48     	        ldr r0, = xiaoshudianweizhi
 1017 07f6 0221     	        movs r1, # 2
 1018 07f8 2E4A     	        ldr r2, = cankaodianzu
 1019 07fa 0160     	        str r1, [r0]
 1020 07fc 2E49     	        ldr r1, = 32768
 1021 07fe 1160     	        str r1, [r2]
 1022 0800 2E48     	        ldr r0, = shangbifangdakaiguan
 1023 0802 2F49     	        ldr r1, = xiabifangdakaiguan
 1024 0804 0022     		movs r2, # 0
 1025 0806 0260     	        str r2, [r0]
 1026 0808 0A60     	        str r2, [r1]
 1027 080a 8E20     	        movs r0, # 0x8e
 1028 080c 2F49     	        ldr r1, = qian_ou
 1029 080e 0222     	        movs r2, # 2
 1030 0810 00F06DFA 	        bl _lcdxianshi
ARM GAS  1.s 			page 20


 1031 0814 2C48     		ldr r0, = liangcheng
 1032 0816 4021     		movs r1, # 0x40
 1033 0818 0160     		str r1, [r0]
 1034 081a 3FBD     	        pop {r0-r5,pc}
 1035              	__dang_wei4:
 1036 081c 2448     	        ldr r0, = xiaoshudianweizhi
 1037 081e 0321     	        movs r1, # 3
 1038 0820 244A     	        ldr r2, = cankaodianzu
 1039 0822 0160     	        str r1, [r0]
 1040 0824 2449     	        ldr r1, = 32768
 1041 0826 1160     	        str r1, [r2]
 1042 0828 2448     	        ldr r0, = shangbifangdakaiguan
 1043 082a 2549     	        ldr r1, = xiabifangdakaiguan
 1044 082c 0022     		movs r2, # 0
 1045 082e 0260     	        str r2, [r0]
 1046 0830 0A60     	        str r2, [r1]
 1047 0832 8E20     	        movs r0, # 0x8e
 1048 0834 2549     	        ldr r1, = qian_ou
 1049 0836 0222     	        movs r2, # 2
 1050 0838 00F059FA 	        bl _lcdxianshi
 1051 083c 2248     		ldr r0, = liangcheng
 1052 083e C021     		movs r1, # 0xc0
 1053 0840 0160     		str r1, [r0]
 1054 0842 3FBD     	        pop {r0-r5,pc}
 1055              	__dang_wei5:
 1056 0844 1A48     	        ldr r0, = xiaoshudianweizhi
 1057 0846 0221     	        movs r1, # 2
 1058 0848 1A4A     	        ldr r2, = cankaodianzu
 1059 084a 0160     	        str r1, [r0]
 1060 084c 2049     	        ldr r1, = 3276
 1061 084e 1160     	        str r1, [r2]
 1062 0850 1A48     	        ldr r0, = shangbifangdakaiguan
 1063 0852 0021     		movs r1, # 0
 1064 0854 0160     		str r1, [r0]
 1065 0856 1A48     	        ldr r0, = xiabifangdakaiguan
 1066 0858 0121     	        movs r1, # 1
 1067 085a 0160     		str r1, [r0]
 1068 085c 8E20     	        movs r0, # 0x8e
 1069 085e 1D49     	        ldr r1, = zhao_ou
 1070 0860 0222     	        movs r2, # 2
 1071 0862 00F044FA 	        bl _lcdxianshi
 1072 0866 1848     	        ldr r0, = liangcheng
 1073 0868 C021     	        movs r1, # 0xc0
 1074 086a 0160     	        str r1, [r0]
 1075 086c 3FBD     		pop {r0-r5,pc}
 1076              	__dang_wei_xian_shi:
 1077 086e 0FB5     	        push {r0-r3,lr}
 1078 0870 0D48     		ldr r0, = dangwei
 1079 0872 0121     		movs r1, # 1
 1080 0874 0068     		ldr r0, [r0]
 1081 0876 184A     	        ldr r2, = asciimabiao
 1082 0878 FF23     	        movs r3, # 0xff
 1083 087a 00F087FA 	        bl _zhuanascii
 1084 087e 8020     	        movs r0, # 0x80
 1085 0880 1549     	        ldr r1, = asciimabiao
 1086 0882 0122     	        movs r2, # 1
 1087 0884 00F033FA 	        bl _lcdxianshi
ARM GAS  1.s 			page 21


 1088 0888 0FBD     	        pop {r0-r3,pc}
 1089              	__pin_lv_xian_shi:
 1090 088a 0FB5     	        push {r0-r3,lr}
 1091 088c 1348     	        ldr r0, = pinlv
 1092 088e 0121     	        movs r1, # 1
 1093 0890 0068     		ldr r0, [r0]
 1094 0892 114A     	        ldr r2, = asciimabiao
 1095 0894 FF23     	        movs r3, # 0xff
 1096 0896 00F079FA 	        bl _zhuanascii
 1097 089a C020     		movs r0, # 0xc0
 1098 089c 0E49     	        ldr r1, = asciimabiao
 1099 089e 0122     	        movs r2, # 1
 1100 08a0 00F025FA 	        bl _lcdxianshi
 1101 08a4 0FBD     	        pop {r0-r3,pc}
 1102 08a6 00001401 		.ltorg
 1102      0020F01F 
 1102      0000CC01 
 1102      0020C801 
 1102      00200080 
 1103              	__zi_dong_dang_wei:
 1104 08e0 0FB5     		push {r0-r3,lr}
 1105 08e2 5E48     		ldr r0, = huandangyanshi
 1106 08e4 0168     		ldr r1, [r0]
 1107 08e6 0131     		adds r1, r1, # 1
 1108 08e8 0160     		str r1, [r0]
 1109 08ea 3229     		cmp r1, # 50
 1110 08ec 01D1     		bne __huan_dang
 1111 08ee 0021     		movs r1, # 0
 1112 08f0 0160     		str r1, [r0]
 1113              	__huan_dang:	
 1114 08f2 5B48     		ldr r0, = shibu
 1115 08f4 5B49     		ldr r1, = xubu
 1116 08f6 0268     		ldr r2, [r0]
 1117 08f8 0B68     		ldr r3, [r1]
 1118 08fa 1200     		movs r2, r2
 1119 08fc 01D5     		bpl __jian_ce_xu_bu_shi_bu_shi_fu_shu
 1120 08fe D243     		mvns r2, r2
 1121 0900 0132     		adds r2, r2, # 1
 1122              	__jian_ce_xu_bu_shi_bu_shi_fu_shu:
 1123 0902 1B00     		movs r3, r3
 1124 0904 01D5     		bpl __bi_jiao_shi_xu_da_xiao
 1125 0906 DB43     		mvns r3, r3
 1126 0908 0133     		adds r3, r3, # 1
 1127              	__bi_jiao_shi_xu_da_xiao:	
 1128 090a 9A42     		cmp r2, r3
 1129 090c 00D2     		bcs __dang_wei_pan_duan
 1130 090e 1A46     		mov r2, r3
 1131              	__dang_wei_pan_duan:		
 1132 0910 554B     		ldr r3, = 900
 1133 0912 9A42     		cmp r2, r3
 1134 0914 0BD3     		bcc __dang_wei_jian
 1135 0916 554B     		ldr r3, = 9000
 1136 0918 9A42     		cmp r2, r3
 1137 091a 12D3     		bcc __zi_dong_dang_wei_fan_hui
 1138 091c 5448     		ldr r0, = dangwei
 1139 091e 0168     		ldr r1, [r0]
 1140 0920 0131     		adds r1, r1, # 1
ARM GAS  1.s 			page 22


 1141 0922 0160     		str r1, [r0]
 1142 0924 0629     		cmp r1, # 6
 1143 0926 0AD1     		bne __bao_cun_dang_wei
 1144 0928 0521     		movs r1, # 5
 1145 092a 0160     		str r1, [r0]
 1146 092c 07E0     		b __bao_cun_dang_wei
 1147              	__dang_wei_jian:
 1148 092e 5048     		ldr r0, = dangwei
 1149 0930 0168     		ldr r1, [r0]
 1150 0932 0139     		subs r1, r1, # 1
 1151 0934 0160     		str r1, [r0]
 1152 0936 FF29     		cmp r1, # 0xff
 1153 0938 01D3     		bcc __bao_cun_dang_wei
 1154 093a 0021     		movs r1, # 0
 1155 093c 0160     		str r1, [r0]
 1156              	__bao_cun_dang_wei:	
 1157 093e FFF715FF 		bl __dang_wei_she_zhi
 1158              	__zi_dong_dang_wei_fan_hui:	
 1159 0942 0FBD     		pop {r0-r3,pc}
 1160              	
 1161              	__xiang_wei_xuan_zhuan:
 1162 0944 FCB5     		push {r2-r7,lr}
 1163              		@R0=R,R1=I
 1164 0946 0346     		mov r3, r0
 1165 0948 0846     		mov r0, r1
 1166 094a 4A4C     	        ldr r4, = xuanzhuan_cos         @cos
 1167 094c 4A4D     		ldr r5, = xuanzhuan_sin          @sin
 1168 094e 2468     		ldr r4, [r4]
 1169 0950 2D68     		ldr r5, [r5]
 1170 0952 2646     	        mov r6, r4
 1171 0954 2F46     	        mov r7, r5
 1172 0956 5C43     	        muls r4, r4, r3         @x*cos
 1173 0958 4643     	        muls r6, r6, r0         @y*cos
 1174 095a 5D43     	        muls r5, r5, r3         @x*sin
 1175 095c 4743     	        muls r7, r7, r0         @y*sin
 1176 095e E413     		asrs r4, r4, # 15
 1177 0960 ED13     		asrs r5, r5, # 15
 1178 0962 F613     	        asrs r6, r6, # 15
 1179 0964 FF13     	        asrs r7, r7, # 15
 1180              	
 1181 0966 E419     	        adds r4, r4, r7         @x
 1182 0968 761B     	        subs r6, r6, r5         @y
 1183 096a 3146     		mov r1, r6		@i
 1184 096c 2046     		mov r0, r4		@r
 1185 096e FCBD     		pop {r2-r7,pc}
 1186              	__dian_rong_ji_suan:
 1187 0970 1FB5     		push {r0-r4,lr}
 1188 0972 4248     		ldr r0, = Xs
 1189 0974 0268     		ldr r2, [r0]
 1190 0976 1200     		movs r2, r2
 1191 0978 01D5     		bpl __dianrong_bu_shi_fu
 1192 097a D243     		mvns r2, r2
 1193 097c 0132     		adds r2, r2, # 1
 1194              	__dianrong_bu_shi_fu:
 1195 097e 1000     		movs r0, r2
 1196 0980 0A21     		movs r1, # 10
 1197 0982 00F026FB 		bl __chu_fa
ARM GAS  1.s 			page 23


 1198 0986 0246     		mov r2, r0
 1199 0988 3D49     		ldr r1, = 628318
 1200 098a 4A43     		muls r2, r2, r1
 1201 098c 3D49     		ldr r1, = 0xd4a51000
 1202 098e E820     		movs r0, # 0xe8
 1203 0990 00F0B2FA 		bl __chufa64
 1204 0994 3C4B     		ldr r3, = Cs
 1205 0996 1960     		str r1, [r3]
 1206 0998 1FBD     		pop {r0-r4,pc}
 1207              	
 1208              		
 1209              	__ji_suan_zu_kang:
 1210 099a FFB5     		push {r0-r7,lr}
 1211 099c 3B4B     		ldr r3, = xiabifangdakaiguan
 1212 099e 3C48     		ldr r0, = 0x48000000
 1213 09a0 1A68     		ldr r2, [r3]
 1214 09a2 3C49     		ldr r1, = 0x200
 1215 09a4 8161     		str r1, [r0, # 0x18]
 1216 09a6 0821     		movs r1, # 0x08
 1217 09a8 012A     		cmp r2, # 1
 1218 09aa 01D1     		bne __xiabifangdaguan
 1219 09ac 8161     		str r1, [r0, # 0x18]
 1220 09ae 00E0     		b __jian_bo
 1221              	__xiabifangdaguan:
 1222 09b0 8162     		str r1, [r0, # 0x28]
 1223              	__jian_bo:	
 1224 09b2 00F03EF8 		bl __tong_dao_qie_huan
 1225 09b6 3848     		ldr r0, = zhengxiangbiao
 1226 09b8 3849     		ldr r1, = fanxiangbiao
 1227 09ba 00F093F8 		bl __DFT_ji_suan
 1228 09be 0646     		mov r6, r0
 1229 09c0 0F46     		mov r7, r1
 1230 09c2 374B     		ldr r3, = shangbifangdakaiguan
 1231 09c4 3248     		ldr r0, = 0x48000000
 1232 09c6 1A68     		ldr r2, [r3]
 1233 09c8 3249     	        ldr r1, = 0x200
 1234 09ca 8162     	        str r1, [r0, # 0x28]
 1235 09cc 0821     		movs r1, # 0x08
 1236 09ce 012A     		cmp r2, # 1
 1237 09d0 01D1     	        bne __shangbifangdaguan
 1238 09d2 8161     	        str r1, [r0, # 0x18]
 1239 09d4 00E0     	        b __jian_bo1
 1240              	__shangbifangdaguan:
 1241 09d6 8162     	         str r1, [r0, # 0x28]
 1242              	__jian_bo1:	
 1243 09d8 00F02BF8 	        bl __tong_dao_qie_huan
 1244 09dc 2E48     		ldr r0, = zhengxiangbiao
 1245 09de 2F49     		ldr r1, = fanxiangbiao
 1246 09e0 00F080F8 	        bl __DFT_ji_suan
 1247 09e4 3246     		mov r2, r6
 1248 09e6 3B46     		mov r3, r7
 1249 09e8 D243     		mvns r2, r2
 1250 09ea DB43     		mvns r3, r3
 1251 09ec 0132     		adds r2, r2, # 1
 1252 09ee 0133     		adds r3, r3, # 1
 1253 09f0 C011     		asrs r0, r0, # 7
 1254 09f2 C911     		asrs r1, r1, # 7
ARM GAS  1.s 			page 24


 1255 09f4 D211     		asrs r2, r2, # 7
 1256 09f6 DB11     		asrs r3, r3, # 7
 1257              	@	bl __xiang_wei_xuan_zhuan
 1258 09f8 00F012FA 		bl __fu_shu_chu_fa
 1259 09fc 1346     		mov r3, r2
 1260 09fe 0F46     		mov r7, r1
 1261 0a00 1748     		ldr r0, = shibu
 1262 0a02 1849     		ldr r1, = xubu
 1263 0a04 0F60     		str r7, [r1]
 1264 0a06 0360     		str r3, [r0]
 1265 0a08 2649     		ldr r1, = lvboqijishu
 1266 0a0a 2748     	        ldr r0, = lvboqihuanchong
 1267 0a0c 0968     	        ldr r1, [r1]
 1268 0a0e 274A     	        ldr r2, = lvboqizhizhen
 1269 0a10 00F056F9 	        bl _lvboqi
 1270 0a14 3B46     		mov r3, r7
 1271 0a16 0746     		mov r7, r0
 1272 0a18 2249     		ldr r1, = lvboqijishu
 1273 0a1a 2548     	        ldr r0, = lvboqihuanchong2
 1274 0a1c 0968     	        ldr r1, [r1]
 1275 0a1e 254A     	        ldr r2, = lvboqizhizhen2
 1276 0a20 00F04EF9 	        bl _lvboqi
 1277 0a24 0146     		mov r1, r0
 1278 0a26 3A46     		mov r2, r7
 1279 0a28 234C     		ldr r4, = Rs
 1280 0a2a 144D     		ldr r5, = Xs
 1281 0a2c 2260     		str r2, [r4]
 1282 0a2e 2960     		str r1, [r5]
 1283 0a30 FFBD     		pop {r0-r7,pc}
 1284              	__tong_dao_qie_huan:
 1285 0a32 0FB5     		push {r0-r3,lr}
 1286 0a34 2148     		ldr r0, = dianyabiao
 1287 0a36 224B     		ldr r3, = 0x40012428
 1288 0a38 0121     		movs r1, # 0x01
 1289 0a3a 1960     		str r1, [r3]
 1290 0a3c 00F044F8 		bl __tong_dao_qie_huan_yan_shi
 1291 0a40 1549     		ldr r1, = zhengxiangbiao
 1292 0a42 204A     		ldr r2, =  400
 1293 0a44 00F046F8 		bl __fu_zhi_nei_cun
 1294 0a48 0221     		movs r1, # 0x02
 1295 0a4a 1960     		str r1, [r3]
 1296 0a4c 00F03CF8 		bl __tong_dao_qie_huan_yan_shi
 1297 0a50 1249     		ldr r1, = fanxiangbiao
 1298 0a52 1C4A     		ldr r2, =  400
 1299 0a54 00F03EF8 		bl __fu_zhi_nei_cun
 1300 0a58 0FBD     		pop {r0-r3,pc}
 1301 0a5a 00009C01 		.ltorg
 1301      00209001 
 1301      00209401 
 1301      00208403 
 1301      00002823 
 1302              	__tong_dao_qie_huan_yan_shi:
 1303 0ac8 80B5     		push {r7,lr}
 1304 0aca 294F     		ldr r7, = tongdaoqiehuanyanshi
 1305 0acc 3F68     		ldr r7, [r7]
 1306              	__tong_dao_qie_huan_yan_shi_xun_huan:
 1307 0ace 013F     		subs r7, r7, # 1
ARM GAS  1.s 			page 25


 1308 0ad0 FDD1     		bne __tong_dao_qie_huan_yan_shi_xun_huan
 1309 0ad2 80BD     		pop {r7,pc}
 1310              	__fu_zhi_nei_cun:
 1311              		@ 入口 R0 = 要复制的地址，R1=目标地址，R2=复制的数量
 1312 0ad4 18B5     		push {r3-r4,lr}
 1313 0ad6 0024     		movs r4, # 0
 1314              	__fu_zhi_xun_huan:	
 1315 0ad8 035B     		ldrh r3, [r0, r4]
 1316 0ada 0B53     		strh r3, [r1, r4]
 1317 0adc 0234     		adds r4, r4, # 2
 1318 0ade 013A     		subs r2, r2, # 1
 1319 0ae0 FAD1     		bne __fu_zhi_xun_huan
 1320 0ae2 18BD     		pop {r3-r4,pc}
 1321              	__DFT_ji_suan:
 1322              		@入口R0=正相表，R1=反相表
 1323 0ae4 FCB5     		push {r2-r7,lr}
 1324 0ae6 4446     		mov r4, r8
 1325 0ae8 4D46     		mov r5, r9
 1326 0aea 5646     		mov r6, r10
 1327 0aec 70B4     		push {r4-r6}
 1328 0aee 0026     		movs r6, # 0
 1329 0af0 B046     		mov r8, r6
 1330 0af2 B146     		mov r9, r6
 1331 0af4 1F4A     		ldr r2, = 800
 1332 0af6 9246     		mov r10, r2
 1333 0af8 3246     		mov r2, r6
 1334              	__ji_suan_dft_xun_huan:
 1335 0afa 835A     		ldrh r3, [r0, r2]
 1336 0afc 8C5A     		ldrh r4, [r1, r2]
 1337 0afe 1B1B     		subs r3, r3, r4
 1338              	__ji_suan_dft:
 1339 0b00 1D4D     		ldr r5, = xuan_zhuan_yin_zi
 1340 0b02 AF59     		ldr r7, [r5, r6]
 1341 0b04 0436     		adds r6, r6, # 4
 1342 0b06 5F43     		muls r7, r7, r3		@ 实部
 1343 0b08 FF13     		asrs r7, r7, # 15
 1344 0b0a 4446     		mov r4, r8
 1345 0b0c E419     		adds r4, r4, r7
 1346 0b0e A046     		mov r8, r4
 1347 0b10 AF59     		ldr r7, [r5, r6]
 1348 0b12 0436     		adds r6, r6, # 4
 1349 0b14 5F43     		muls r7, r7, r3		@ 虚部
 1350 0b16 FF13     		asrs r7, r7, # 15
 1351 0b18 4C46     		mov r4, r9
 1352 0b1a E419     		adds r4, r4, r7
 1353 0b1c A146     		mov r9, r4
 1354 0b1e 0232     		adds r2, r2, # 2
 1355 0b20 5245     		cmp r2, r10
 1356 0b22 EAD1     		bne __ji_suan_dft_xun_huan	
 1357 0b24 4046     		mov r0, r8
 1358 0b26 4946     		mov r1, r9
 1359 0b28 70BC     		pop {r4-r6}
 1360 0b2a A046     		mov r8, r4
 1361 0b2c A946     		mov r9, r5
 1362 0b2e B246     		mov r10, r6
 1363 0b30 FCBD     		pop {r2-r7,pc}
 1364              	__xian_shi_jiao_du:
ARM GAS  1.s 			page 26


 1365 0b32 1FB5     		push {r0-r4,lr}
 1366 0b34 1148     	       ldr r0, = jiaodu
 1367 0b36 0168     	        ldr r1, [r0]
 1368 0b38 0C00     	       movs r4, r1
 1369 0b3a 07D5     	        bpl __jiaodu_bu_shi_zheng
 1370 0b3c 8720     	        movs r0, # 0x87
 1371 0b3e 1049     	        ldr r1, = _fu
 1372 0b40 0122     	        movs r2, # 1
 1373 0b42 00F0D4F8 	        bl _lcdxianshi
 1374 0b46 E443     	        mvns r4, r4
 1375 0b48 0134     		adds r4, r4, # 1
 1376 0b4a 04E0     	        b __xian_shi_jiaodu
 1377              	__jiaodu_bu_shi_zheng:
 1378 0b4c 8720     	        movs r0, # 0x87
 1379 0b4e 0D49     		ldr r1, = kong
 1380 0b50 0122     		movs r2, # 1
 1381 0b52 00F0CCF8 	        bl _lcdxianshi
 1382              	__xian_shi_jiaodu:
 1383 0b56 2046     	        mov r0, r4
 1384 0b58 0521     	        movs r1, # 5
 1385 0b5a 0B4A     		ldr r2, = asciimabiao
 1386 0b5c FF23     	        movs r3, # 0xff
 1387 0b5e 00F015F9 	        bl _zhuanascii
 1388 0b62 8820     		movs r0, # 0x88
 1389 0b64 0849     	        ldr r1, = asciimabiao
 1390 0b66 0522     		movs r2, # 5
 1391 0b68 00F0C1F8 		bl _lcdxianshi
 1392 0b6c 1FBD     		pop {r0-r4,pc}
 1393 0b6e 0000AC01 	        .ltorg
 1393      00202003 
 1393      0000E012 
 1393      00000801 
 1393      00204420 
 1394              	
 1395              	
 1396              	_xieflash:			@ flsh解锁
 1397 0b8c 4148     		ldr r0, = 0x40022000
 1398 0b8e 4249     		ldr r1, = 0x45670123
 1399 0b90 4160     		str r1, [r0, # 0x04]
 1400 0b92 4249     		ldr r1, = 0xcdef89ab
 1401 0b94 4160     		str r1, [r0, # 0x04]
 1402              						@擦除2页
 1403 0b96 0125     		movs r5, # 1
 1404 0b98 414C     		ldr r4, = 0x8002000
 1405 0b9a 0127     		movs r7, # 1
 1406 0b9c BF02     		lsls r7, r7, # 10
 1407              	_flashmang:
 1408 0b9e C268     		ldr r2, [r0, # 0x0c]
 1409 0ba0 D207     		lsls r2, r2, # 31
 1410 0ba2 FCD4     		bmi _flashmang
 1411 0ba4 0221     		movs r1, # 2
 1412 0ba6 0161     		str r1, [r0, # 0x10]
 1413 0ba8 4461     		str r4, [r0, # 0x14]
 1414 0baa 4221     		movs r1, # 0x42
 1415 0bac 0161     		str r1, [r0, # 0x10]
 1416 0bae 3C44     		add r4, r4, r7
 1417 0bb0 013D     		subs r5, # 1
ARM GAS  1.s 			page 27


 1418 0bb2 F4D1     		bne _flashmang
 1419              							@写FLASH
 1420 0bb4 3A4F     		ldr r7, = 0x8002000
 1421 0bb6 3B4C     		ldr r4, = kailu_r
 1422 0bb8 0025     		movs r5, # 0
 1423 0bba 0626     		movs r6, # 0x06
 1424              	_flashmang1:
 1425 0bbc C268     		ldr r2, [r0, # 0x0c]
 1426 0bbe D207     		lsls r2, r2, # 31
 1427 0bc0 FCD4     		bmi _flashmang1
 1428 0bc2 0121     		movs r1, # 1
 1429 0bc4 0161     		str r1, [r0, # 0x10]
 1430 0bc6 635B     		ldrh r3, [r4, r5]
 1431 0bc8 7B53     		strh r3, [r7, r5]
 1432 0bca 0235     		adds r5, r5, # 2
 1433              	_flashmang2:
 1434 0bcc C268     		ldr r2, [r0, # 0x0c]
 1435 0bce D207     		lsls r2, r2, # 31
 1436 0bd0 FCD4     		bmi _flashmang2
 1437 0bd2 635B     		ldrh r3, [r4, r5]
 1438 0bd4 7B53     		strh r3, [r7, r5]
 1439 0bd6 0235     		adds r5, r5, # 2
 1440 0bd8 013E     		subs r6, r6, # 1
 1441 0bda EFD1     		bne _flashmang1
 1442              	_flashmang4:
 1443 0bdc C268     		ldr r2, [r0, # 0x0c]
 1444 0bde D207     		lsls r2, r2, # 31
 1445 0be0 FCD4     		bmi _flashmang4
 1446 0be2 8021     		movs r1, # 0x80
 1447              		@str r1, [r0]          		@flsh上锁
 1448 0be4 3048     		ldr r0, = 0xe000ed0c
 1449 0be6 3149     		ldr r1, = 0x05fa0004
 1450 0be8 0160     		str r1, [r0]          		@复位
 1451              		
 1452              	__fu_shu_cheng_fa:
 1453 0bea FCB5     		push {r2-r7,lr}
 1454              		@r0=a,r1=b,r2=c,r3=d
 1455 0bec 0446     	        mov r4, r0      @a
 1456 0bee 0D46     	        mov r5, r1      @b
 1457 0bf0 1646     		mov r6, r2	@c
 1458 0bf2 1F46     		mov r7, r3	@d
 1459 0bf4 5043     	        muls r0, r0, r2 @a*c
 1460 0bf6 5943     		muls r1, r1, r3 @b*d
 1461 0bf8 401A     	        subs r0, r0, r1 @ac-bd
 1462 0bfa 7C43     	        muls r4, r4, r7 @a*d
 1463 0bfc 7543     	        muls r5, r5, r6 @b*c
 1464 0bfe 6419     	        adds r4, r4, r5 @ad+bc
 1465 0c00 2146     		mov r1, r4
 1466 0c02 FCBD     		pop {r2-r7,pc}
 1467              		
 1468              	__an_jian:
 1469 0c04 0EB5     		push {r1-r3,lr}
 1470 0c06 2A48     		ldr r0, = 0x48000010
 1471 0c08 2A49     		ldr r1, = 0x48000410
 1472 0c0a 0268     		ldr r2, [r0]	@pa4
 1473 0c0c 0B68     		ldr r3, [r1]	@pb1
 1474 0c0e 1046     		mov r0, r2	@pa2
ARM GAS  1.s 			page 28


 1475 0c10 4007     		lsls r0, r0, # 29
 1476 0c12 C00F     		lsrs r0, r0, # 31
 1477 0c14 D206     		lsls r2, r2, # 27
 1478 0c16 D20F     		lsrs r2, r2, # 31
 1479 0c18 5200     		lsls r2, r2, # 1
 1480 0c1a 9B07     		lsls r3, r3, # 30
 1481 0c1c 5B0F     		lsrs r3, r3, # 29
 1482 0c1e 1043     		orrs r0, r0, r2
 1483 0c20 1843     		orrs r0, r0, r3
 1484 0c22 C043     		mvns r0, r0
 1485 0c24 4007     		lsls r0, r0, # 29
 1486 0c26 400F     		lsrs r0, r0, # 29
 1487 0c28 0EBD     		pop {r1-r3,pc}
 1488              	__atan2_ji_suan:
 1489              		@入口R0=实部，R1=虚部，结果=R0
 1490 0c2a FCB5     		push {r2-r7,lr}
 1491 0c2c 4246     		mov r2, r8
 1492 0c2e 04B4     		push {r2}
 1493 0c30 214B     		ldr r3, = cordic_yong_cos_sin
 1494 0c32 0A22     		movs r2, # 10
 1495 0c34 5043     		muls r0, r0, r2
 1496 0c36 5143     		muls r1, r1, r2
 1497 0c38 0022     		movs r2, # 0
 1498 0c3a 9046     		mov r8, r2
 1499 0c3c 1F4C     		ldr r4, = 9000
 1500 0c3e E403     		lsls r4, r4, # 15
 1501              	__cordic_atan2_xun_huan:	
 1502              	__du_cos_sin:	
 1503 0c40 1D68     		ldr r5, [r3]	@cos
 1504 0c42 0433     		adds r3, r3, # 4
 1505 0c44 2F46     		mov r7, r5
 1506 0c46 1E68     		ldr r6, [r3]	@sin
 1507 0c48 0433     		adds r3, r3, # 4
 1508 0c4a 3246     		mov r2, r6
 1509 0c4c 4543     	        muls r5, r5, r0         @x*cos
 1510 0c4e 4243     	        muls r2, r2, r0         @x*sin
 1511 0c50 4E43     	        muls r6, r6, r1         @y*sin
 1512 0c52 4F43     	        muls r7, r7, r1         @y*cos
 1513 0c54 0900     		movs r1, r1
 1514 0c56 05D5     		bpl __ni_shi_zhen_zhuan
 1515              	__shun_shi_zhen_zhuan:
 1516 0c58 AD1B     		subs r5, r5, r6
 1517 0c5a BF18     		adds r7, r7, r2
 1518 0c5c 4646     		mov r6, r8
 1519 0c5e 3619     		adds r6, r6, r4
 1520 0c60 B046     		mov r8, r6
 1521 0c62 04E0     		b __xuan_zhuan_wan
 1522              	__ni_shi_zhen_zhuan:
 1523 0c64 AD19     		adds r5, r5, r6
 1524 0c66 BF1A     		subs r7, r7, r2
 1525 0c68 4646     		mov r6, r8
 1526 0c6a 361B     		subs r6, r6, r4
 1527 0c6c B046     		mov r8, r6
 1528              	__xuan_zhuan_wan:
 1529 0c6e 124E     		ldr r6, = cordic_yong_cos_sin
 1530 0c70 2022     		movs r2, # 32
 1531 0c72 9200     		lsls r2, r2, # 2
ARM GAS  1.s 			page 29


 1532 0c74 B618     		adds r6, r6, r2
 1533 0c76 AD13     		asrs r5, r5, # 14
 1534 0c78 BF13     		asrs r7, r7, # 14
 1535 0c7a 2846     		mov r0, r5
 1536 0c7c 3946     		mov r1, r7
 1537 0c7e 6408     		lsrs r4, r4, # 1	@旋转
 1538 0c80 B342     		cmp r3,	r6 
 1539 0c82 DDD1     		bne __cordic_atan2_xun_huan
 1540 0c84 4046     		mov r0, r8
 1541 0c86 C043     		mvns r0, r0
 1542 0c88 0130     		adds r0, r0, # 1
 1543 0c8a C013     		asrs r0, r0, # 15
 1544 0c8c 4246     		mov r2, r8
 1545 0c8e 04BC     		pop {r2}
 1546 0c90 FCBD     		pop {r2-r7,pc}
 1547 0c92 00000020 		.ltorg
 1547      02402301 
 1547      6745AB89 
 1547      EFCD0020 
 1547      00080C01 
 1548              	
 1549              	_lvboqi:
 1550              				@滤波器
 1551              				@R0=地址，R1=长度,r2=表指针地址,r3=ADC数值
 1552              				@出R0=结果
 1553 0cc0 FEB5     		push {r1-r7,lr}	
 1554 0cc2 1568     		ldr r5, [r2]		@读出表指针
 1555 0cc4 8E00     		lsls r6, r1, # 2	
 1556 0cc6 4351     		str r3, [r0, r5]	@数值写到滤波器缓冲区
 1557 0cc8 0435     		adds r5, r5, # 4
 1558 0cca B542     		cmp r5, r6
 1559 0ccc 00D1     		bne _lvboqimeidaohuanchongquding
 1560 0cce 0025     		movs r5, # 0
 1561              	_lvboqimeidaohuanchongquding:
 1562 0cd0 1560     		str r5, [r2]
 1563 0cd2 0027     		movs r7, # 0
 1564              	_lvboqixunhuan:
 1565 0cd4 B542     		cmp r5, r6
 1566 0cd6 00D1     		bne _lvbozonghe
 1567 0cd8 0025     		movs r5, # 0
 1568              	_lvbozonghe:
 1569 0cda 4459     		ldr r4, [r0, r5]
 1570 0cdc 0435     		adds r5, r5, # 4
 1571 0cde 3F19     		adds r7, r7, r4
 1572 0ce0 0139     		subs r1, r1, # 1
 1573 0ce2 F7D1     		bne _lvboqixunhuan
 1574 0ce4 474D     		ldr r5, = lvboqiyiwei
 1575 0ce6 3846     		mov r0, r7
 1576 0ce8 2D68     		ldr r5, [r5]
 1577 0cea 2841     		asrs r0, r0, r5	@修改
 1578 0cec FEBD     		pop {r1-r7,pc}
 1579              	_lcdxianshi:	  		@r0=LCD位置，r1=数据地址，r2=长度
 1580 0cee 1FB5     		push {r0-r4,lr}
 1581 0cf0 0C46     		mov r4, r1
 1582              	
 1583 0cf2 0021     		movs r1, # 0
 1584 0cf4 00F00EF8 		bl _xielcd
ARM GAS  1.s 			page 30


 1585              	
 1586 0cf8 0121     		movs r1, # 1
 1587 0cfa 0023     		movs r3, # 0
 1588              	_lcdxianshixunhuan:
 1589 0cfc E05C     		ldrb r0, [r4,r3]
 1590 0cfe 00F009F8 		bl _xielcd
 1591 0d02 0133     		adds r3, r3, # 1
 1592 0d04 9342     		cmp r3, r2
 1593 0d06 F9D1     		bne _lcdxianshixunhuan
 1594 0d08 1FBD     		pop {r0-r4,pc}
 1595              	
 1596              	_lcdyanshi:
 1597 0d0a 20B5     		push {r5,lr}
 1598 0d0c 3E4D     		ldr r5, = 0x1000
 1599              	_lcdyanshixunhuan:
 1600 0d0e 013D     		subs r5, r5, # 1
 1601 0d10 FDD1     		bne _lcdyanshixunhuan
 1602 0d12 20BD     		pop {r5,pc}
 1603              	
 1604              	_xielcd:			@入R0=8位,r1=0命令,r1=1数据
 1605 0d14 3FB5     		push {r0-r5,lr}
 1606 0d16 3D4C     		ldr r4, = liangcheng  @ 量程开关 (第6位和第7位)
 1607 0d18 0246     		mov r2, r0
 1608 0d1a 2568     		ldr r5, [r4]
 1609 0d1c 1209     		lsrs r2, r2, # 4
 1610 0d1e 9200     		lsls r2, r2, # 2	@ 高四位
 1611 0d20 0007     		lsls r0, r0, # 28
 1612 0d22 800E     		lsrs r0, r0, # 26	@ 低四位
 1613 0d24 C907     		lsls r1, r1, # 31
 1614 0d26 01D5     		bpl __lcd_ming_ling
 1615              	__lcd_shu_ju:
 1616 0d28 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 1617 0d2a 00E0     		b __xie_lcd_shu_ju
 1618              	__lcd_ming_ling:
 1619 0d2c 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 1620              	__xie_lcd_shu_ju:
 1621 0d2e 5B19     		adds r3, r3, r5
 1622 0d30 0146     		mov r1, r0
 1623 0d32 D218     		adds r2, r2, r3
 1624 0d34 1000     		movs r0, r2
 1625 0d36 00F00BF8 		bl __74hc595
 1626 0d3a 0238     		subs r0, r0, # 0x02
 1627 0d3c 00F008F8 		bl __74hc595
 1628 0d40 0846     		mov r0, r1
 1629 0d42 C018     		adds r0, r0, r3
 1630 0d44 00F004F8 		bl __74hc595
 1631 0d48 0238     		subs r0, r0, # 0x02
 1632 0d4a 00F001F8 		bl __74hc595
 1633 0d4e 3FBD     		pop {r0-r5,pc}
 1634              		
 1635              	__74hc595:			@ 入R0=8位
 1636 0d50 FFB5     		push {r0-r7,lr}
 1637 0d52 2F4E     		ldr r6, = 0x48000000
 1638 0d54 2025     		movs r5, # 0x20		@ SRCLK
 1639 0d56 4022     		movs r2, # 0x40		@ RCLK
 1640 0d58 8023     		movs r3, # 0x80		@ SER
 1641 0d5a 1824     		movs r4, # 24
ARM GAS  1.s 			page 31


 1642              	__595_yiweixunhuan:
 1643 0d5c B262     		str r2, [r6, # 0x28]	@ rclk=0
 1644 0d5e B562     		str r5, [r6, # 0x28]	@ srclk=0
 1645              		@ovs r7, # 0xff
 1646 0d60 2C4F     		ldr r7, = 0x1ff
 1647              	__595_yanshi:
 1648 0d62 013F     		subs r7, r7, # 1
 1649 0d64 FDD1     		bne __595_yanshi
 1650 0d66 0146     		mov r1, r0
 1651 0d68 A140     		lsls r1, r1, r4
 1652 0d6a 01D5     		bpl __ser_0
 1653              	__ser_1:
 1654 0d6c B361     		str r3, [r6, # 0x18]	@ ser=1
 1655 0d6e 00E0     		b __595_yiwei
 1656              	__ser_0:
 1657 0d70 B362     		str r3, [r6, # 0x28]	@ ser=0
 1658              	__595_yiwei:
 1659 0d72 B561     		str r5, [r6, # 0x18]
 1660              		@movs r7, # 0xff
 1661 0d74 274F     		ldr r7, = 0x1ff
 1662              	__595_yanshi1:
 1663 0d76 013F     		subs r7, r7, # 1
 1664 0d78 FDD1     		bne __595_yanshi1
 1665 0d7a 0134     		adds r4, r4, # 1
 1666 0d7c 202C     		cmp r4, # 32
 1667 0d7e EDD1     		bne __595_yiweixunhuan
 1668 0d80 B261     		str r2, [r6, # 0x18]	@ rclk=1
 1669              		@movs r7, # 0xff
 1670 0d82 244F     		ldr r7, = 0x1ff
 1671              	__595_yanshi2:
 1672 0d84 013F     		subs r7, r7, # 1
 1673 0d86 FDD1     		bne __595_yanshi2
 1674 0d88 B262     		str r2, [r6, # 0x28]	@ rclk = 0
 1675 0d8a FFBD     		pop {r0-r7,pc}
 1676              	
 1677              	
 1678              	
 1679              	_zhuanascii:					@ 16进制转ASCII
 1680              			@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 1681 0d8c FFB5     		push {r0-r7,lr}
 1682 0d8e 1F46     		mov r7, r3
 1683 0d90 0546     		mov r5, r0
 1684 0d92 0E46     		mov r6, r1
 1685 0d94 0A21     		movs r1, # 10
 1686              	_xunhuanqiuma:
 1687 0d96 00F009F9 		bl _chufa
 1688 0d9a 0446     		mov r4, r0
 1689 0d9c 4C43     		muls r4, r1
 1690 0d9e 2B1B     		subs r3, r5, r4
 1691 0da0 3033     		adds r3, r3, # 0x30
 1692 0da2 0546     		mov r5, r0
 1693 0da4 013E     		subs r6, r6, # 1
 1694 0da6 08D0     		beq _qiumafanhui
 1695 0da8 BE42     		cmp r6, r7
 1696 0daa 02D1     		bne _meidaoxiaoshudian
 1697 0dac 2E24     		movs r4, # 0x2e		@小数点
 1698 0dae 9455     		strb r4, [r2,r6]	@插入小数点
ARM GAS  1.s 			page 32


 1699 0db0 013E     		subs r6, r6, # 1
 1700              	_meidaoxiaoshudian:
 1701 0db2 9355     		strb r3, [r2,r6]
 1702 0db4 3600     		movs r6, r6
 1703 0db6 EED1     		bne _xunhuanqiuma
 1704 0db8 FFBD     		pop {r0-r7,pc}
 1705              	_qiumafanhui:
 1706 0dba 9355     		strb r3, [r2, r6]
 1707 0dbc FFBD     		pop {r0-r7,pc}
 1708              	__ji_suan_fu_du:    @ 计算幅度
 1709              	                @ 入r0= 实部，r1= 虚部
 1710              	                @ 出r0 = 幅度
 1711              	                @ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
 1712              	                @ Alpha * Max + Beta * Min
 1713 0dbe 0EB5     	        push {r1-r3,lr}
 1714 0dc0 0000     	        movs r0, r0
 1715 0dc2 01D5     	        bpl _shibubushifushu
 1716 0dc4 C043     	        mvns r0, r0                             @ 是负数转成正数
 1717 0dc6 0130     	        adds r0, r0, # 1
 1718              	_shibubushifushu:                               @ 实部不是负数
 1719 0dc8 0900     	        movs r1, r1
 1720 0dca 01D5     	        bpl _xububushifushu
 1721 0dcc C943     	        mvns r1, r1                             @ 是负数转成正数
 1722 0dce 0131     	        adds r1, r1, # 1
 1723              	_xububushifushu:                                @ 虚部不是负数
 1724 0dd0 0028     	        cmp r0, # 0
 1725 0dd2 01D1     	        bne _panduanxubushibushi0
 1726 0dd4 0846     	        mov r0, r1
 1727 0dd6 0EBD     	        pop {r1-r3,pc}
 1728              	_panduanxubushibushi0:	
 1729 0dd8 0029     		cmp r1, # 0
 1730 0dda 00D1     		bne _jisuanfudu1
 1731 0ddc 0EBD     		pop {r1-r3,pc}
 1732              	_jisuanfudu1:
 1733 0dde 0E4A     		ldr r2, = 31066		@ Alpha q15 0.948059448969
 1734 0de0 0E4B     		ldr r3, = 12867		@ Beta q15 0.392699081699
 1735 0de2 8142     		cmp r1, r0
 1736 0de4 06D8     		bhi _alpha_min_beta_max
 1737              	_alpha_max_beta_min:
 1738 0de6 5043     		muls r0, r0, r2
 1739 0de8 5943     		muls r1, r1, r3
 1740 0dea C013     		asrs r0, r0, # 15
 1741 0dec C913     		asrs r1, r1, # 15
 1742 0dee 4018     		adds r0, r0, r1
 1743 0df0 0121     		movs r1, # 1
 1744 0df2 0EBD     		pop {r1-r3,pc}
 1745              	_alpha_min_beta_max:
 1746 0df4 5843     		muls r0, r0, r3
 1747 0df6 5143     		muls r1, r1, r2
 1748 0df8 C013     		asrs r0, r0, # 15
 1749 0dfa C913     		asrs r1, r1, # 15
 1750 0dfc 4018     		adds r0, r0, r1
 1751 0dfe 0021     		movs r1, # 0
 1752 0e00 0EBD     		pop {r1-r3,pc}
 1753 0e02 0000C001 		.ltorg
 1753      00200010 
 1753      00001001 
ARM GAS  1.s 			page 33


 1753      00200000 
 1753      0048FF01 
 1754              	__fu_shu_chu_fa:
 1755 0e20 F0B5     		push {r4-r7,lr}
 1756              		@入口R0=a R1=b,R2=c R3=d
 1757              		@出口R1=虚部 R2=实部
 1758 0e22 4446     		mov r4, r8
 1759 0e24 10B4     		push {r4}
 1760              	__ji_suan_chu_fa:
 1761              		@ Z=50*[(a+bi)/(c+di)]=50*[(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)]
 1762 0e26 0446     		mov r4, r0
 1763 0e28 0D46     		mov r5, r1
 1764 0e2a 1646     		mov r6, r2
 1765              		@mov r7, r3
 1766 0e2c 9846     		mov r8, r3
 1767 0e2e 0027     		movs r7,  # 0
 1768 0e30 0000     	        movs r0, r0
 1769 0e32 02D5     	        bpl b1
 1770 0e34 C043     	        mvns r0, r0
 1771 0e36 0130     	        adds r0, r0, # 1
 1772 0e38 0137     	        adds r7, r7, # 1
 1773              	
 1774              	b1:
 1775 0e3a 1200     	        movs r2, r2
 1776 0e3c 02D5     	        bpl b2
 1777 0e3e D243     		mvns r2, r2
 1778 0e40 0132     	        adds r2, r2, # 1
 1779 0e42 0137     	        adds r7, r7, # 1
 1780              	b2:
 1781 0e44 5043     		muls r0, r0, r2
 1782 0e46 012F     	        cmp r7, # 1
 1783 0e48 01D1     	        bne b3
 1784 0e4a C043     	        mvns r0, r0
 1785 0e4c 0130     	        adds r0, r0, # 1
 1786              	b3:
 1787              		@muls r0, r0, r2		@ac
 1788 0e4e 0027     	        movs r7,  # 0
 1789 0e50 0900     	        movs r1, r1
 1790 0e52 02D5     	        bpl b4
 1791 0e54 C943     	        mvns r1, r1
 1792 0e56 0131     	        adds r1, r1, # 1
 1793 0e58 0137     	        adds r7, r7, # 1
 1794              	
 1795              	b4:
 1796 0e5a 1B00     	        movs r3, r3
 1797 0e5c 02D5     	        bpl b5
 1798 0e5e DB43     	        mvns r3, r3
 1799 0e60 0133     	        adds r3, r3, # 1
 1800 0e62 0137     	        adds r7, r7, # 1
 1801              	b5:
 1802 0e64 5943     	        muls r1, r1, r3
 1803 0e66 012F     	        cmp r7, # 1
 1804 0e68 01D1     	        bne b6
 1805 0e6a C943     	        mvns r1, r1
 1806 0e6c 0131     	        adds r1, r1, # 1
 1807              	b6:
 1808              	
ARM GAS  1.s 			page 34


 1809              	@	muls r1, r1, r3		@bd
 1810 0e6e 4018     		adds r0, r0, r1		@ac+bd
 1811 0e70 1200     		movs r2, r2
 1812 0e72 05D5     		bpl b7
 1813 0e74 D243     		mvns r2, r2
 1814 0e76 0132     		adds r2, r2, # 1
 1815 0e78 5243     		muls r2, r2, r2
 1816 0e7a D243     		mvns r2, r2
 1817 0e7c 0132     		adds r2, r2, # 1
 1818 0e7e 00E0     		b b8
 1819              	b7:	
 1820 0e80 5243     	        muls r2, r2, r2         @c*c
 1821              	b8:
 1822 0e82 1B00     		movs r3, r3
 1823 0e84 05D5     		bpl b9
 1824 0e86 DB43     		mvns r3, r3
 1825 0e88 0133     		adds r3, r3, # 1
 1826 0e8a 5B43     		muls r3, r3, r3
 1827 0e8c DB43     		mvns r3, r3
 1828 0e8e 0133     		adds r3, r3, # 1
 1829 0e90 00E0     		b b10
 1830              	b9:	
 1831 0e92 5B43     		muls r3, r3, r3		@d*d
 1832              	b10:	
 1833 0e94 D218     		adds r2, r2, r3		@c*c+d*d
 1834 0e96 7F49     		ldr r1, = 1000
 1835 0e98 0023     		movs r3, # 0
 1836 0e9a 0000     		movs r0, r0
 1837 0e9c 02D5     		bpl a1
 1838 0e9e C043     		mvns r0, r0
 1839 0ea0 0130     		adds r0, r0, # 1
 1840 0ea2 0133     		adds r3, r3, # 1
 1841              	a1:
 1842 0ea4 1200     		movs r2, r2
 1843 0ea6 02D5     		bpl a2
 1844 0ea8 D243     		mvns r2, r2
 1845 0eaa 0132     		adds r2, r2, # 1
 1846 0eac 0133     		adds r3, r3, # 1
 1847              	a2:
 1848 0eae 00F047F8 		bl __chengfa
 1849 0eb2 00F021F8 		bl __chufa64		@(ac+bd)/(c*c+d*d)
 1850 0eb6 012B     		cmp r3, # 1
 1851 0eb8 01D1     		bne a3
 1852 0eba C943     		mvns r1, r1
 1853 0ebc 0131     		adds r1, r1, # 1
 1854              	a3:	
 1855 0ebe 02B4     		push {r1}
 1856 0ec0 4746     		mov r7, r8
 1857 0ec2 7543     		muls r5, r5, r6		@ bc
 1858 0ec4 7C43     		muls r4, r4, r7		@ ad
 1859 0ec6 2D1B     		subs r5, r5, r4		@ bc-ad
 1860 0ec8 7249     		ldr r1, = 1000
 1861 0eca 0023     		movs r3, # 0
 1862 0ecc 2800     		movs r0, r5
 1863 0ece 02D5     		bpl a4
 1864 0ed0 C043     		mvns r0, r0
 1865 0ed2 0130     		adds r0, r0, # 1
ARM GAS  1.s 			page 35


 1866 0ed4 0133     		adds r3, r3, # 1
 1867              	a4:
 1868 0ed6 1200     		movs r2, r2
 1869 0ed8 02D5     		bpl a5
 1870 0eda D243     		mvns r2, r2
 1871 0edc 0132     		adds r2, r2, # 1
 1872 0ede 0133     		adds r3, r3, # 1
 1873              	a5:
 1874 0ee0 00F02EF8 		bl __chengfa
 1875 0ee4 00F008F8 		bl __chufa64
 1876 0ee8 012B     		cmp r3, # 1
 1877 0eea 01D1     		bne __a6
 1878 0eec C943     		mvns r1, r1
 1879 0eee 0131     		adds r1, r1, # 1	@虚部
 1880              	__a6:	
 1881 0ef0 04BC     		pop {r2}		@实
 1882 0ef2 10BC     		pop {r4}
 1883 0ef4 A046     		mov r8, r4
 1884 0ef6 F0BD     		pop {r4-r7,pc}
 1885              	
 1886              	__chufa64:
 1887              	        @64位除32位
 1888              	        @ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1889 0ef8 F8B5     	        push {r3-r7,lr}
 1890 0efa 002A     	        cmp r2, # 0
 1891 0efc 1DD0     	        beq __chu_fa64_fan_hui0
 1892 0efe 0029     	        cmp r1, # 0
 1893 0f00 01D1     	        bne __chu_fa64_ji_suan
 1894 0f02 0028     	        cmp r0, # 0
 1895 0f04 19D0     	        beq __chu_fa64_fan_hui0
 1896              	__chu_fa64_ji_suan:	
 1897 0f06 0024     	        movs r4, # 0
 1898 0f08 2746     	        mov r7, r4
 1899 0f0a 2346     	        mov r3, r4
 1900 0f0c 2546     	        mov r5, r4
 1901 0f0e 0126     	        movs r6, # 1
 1902 0f10 F607     	        lsls r6, r6, # 31
 1903              	__chu_fa64_xun_huan:
 1904 0f12 4900     	        lsls r1, r1, # 1
 1905 0f14 4041     	        adcs r0, r0, r0
 1906 0f16 6441     	        adcs r4, r4, r4
 1907 0f18 9442     	        cmp r4, r2
 1908 0f1a 02D3     	        bcc __chu_fa_yi_wei
 1909 0f1c 9B19     	        adds r3, r3, r6
 1910 0f1e 7D41     	        adcs r5, r5, r7
 1911 0f20 A41A     	        subs r4, r4, r2
 1912              	__chu_fa_yi_wei:
 1913 0f22 3600     	        movs r6, r6
 1914 0f24 04D0     	        beq __di_yi_wei
 1915 0f26 7608     	        lsrs r6, r6, # 1        @高32位移位
 1916 0f28 F3D1     	        bne __chu_fa64_xun_huan
 1917 0f2a 0127     	        movs r7, # 1
 1918 0f2c FF07     	        lsls r7, r7, # 31
 1919 0f2e F0E7     	        b __chu_fa64_xun_huan
 1920              	__di_yi_wei:            @低32位移位
 1921 0f30 7F08     		lsrs r7, r7, # 1
 1922 0f32 EED1     	        bne __chu_fa64_xun_huan
ARM GAS  1.s 			page 36


 1923 0f34 1846     	        mov r0, r3
 1924 0f36 2946     	        mov r1, r5
 1925 0f38 F8BD     	        pop {r3-r7,pc}
 1926              	__chu_fa64_fan_hui0:
 1927 0f3a 0020     		movs r0, # 0
 1928 0f3c 0021     		movs r1, # 0
 1929 0f3e F8BD     		pop {r3-r7,pc}
 1930              	
 1931              		
 1932              	__chengfa:
 1933              	        @入R0 乘以 R1
 1934              	        @出 R0高32 ， R1低32
 1935              		@0xffffffff*0xffffffff
 1936              	        @4        F F F E 0 0 0 1
 1937              	        @3                F F F E 0 0 0 1
 1938              	        @2                F F F E 0 0 0 1
 1939              	        @1                        F F F E 0 0 0 1
 1940              	        @         F F F F F F F E 0 0 0 0 0 0 0 1
 1941 0f40 FCB5     		push {r2-r7,lr}
 1942 0f42 0028     	        cmp r0, # 0
 1943 0f44 1CD0     	        beq __cheng_fa_fan_hui
 1944 0f46 0029     	        cmp r1, # 0
 1945 0f48 1AD0     	        beq __cheng_fa_fan_hui
 1946              	__ji_suan_cheng_fa:	
 1947 0f4a 0246     		mov r2, r0
 1948 0f4c 0B46     		mov r3, r1
 1949 0f4e 000C     		lsrs r0, r0, # 16	@高16
 1950 0f50 1204     		lsls r2, r2, # 16	@ 低16
 1951 0f52 120C     		lsrs r2, r2, # 16
 1952 0f54 090C     	        lsrs r1, r1, # 16	@高16
 1953 0f56 1B04     		lsls r3, r3, # 16	@低16
 1954 0f58 1B0C     		lsrs r3, r3, # 16
 1955 0f5a 1446     		mov r4, r2		
 1956 0f5c 0546     		mov r5, r0		
 1957 0f5e 5A43     		muls r2, r2, r3		@1
 1958 0f60 5843     		muls r0, r0, r3		@2
 1959 0f62 4C43     		muls r4, r4, r1		@3
 1960 0f64 4D43     		muls r5, r5, r1		@4
 1961 0f66 0646     		mov r6, r0		@2
 1962 0f68 2746     		mov r7, r4		@3
 1963 0f6a 0004     		lsls r0, r0, # 16	@2低
 1964 0f6c 2404     		lsls r4, r4, # 16	@3低
 1965 0f6e 360C     		lsrs r6, r6, # 16	@2高
 1966 0f70 3F0C     		lsrs r7, r7, # 16	@3高
 1967 0f72 1218     		adds r2, r2, r0
 1968 0f74 6241     		adcs r2, r2, r4
 1969 0f76 7541     		adcs r5, r5, r6
 1970 0f78 7D41     		adcs r5, r5, r7
 1971 0f7a 2846     		mov r0, r5
 1972 0f7c 1146     		mov r1, r2
 1973 0f7e FCBD     		pop {r2-r7,pc}
 1974              	__cheng_fa_fan_hui:
 1975 0f80 0020     		movs r0, # 0
 1976 0f82 0021     		movs r1, # 0
 1977 0f84 FCBD     		pop {r2-r7,pc}
 1978              	__dai_yu_shu_chufa:                         @软件除法
 1979              	        @ r0 除以 r1 等于 商(r0)余R1
ARM GAS  1.s 			page 37


 1980 0f86 1CB5     	        push {r2-r4,lr}
 1981 0f88 0028     	        cmp r0, # 0
 1982 0f8a 0ED0     	        beq __dai_yu_shu_chufafanhui
 1983 0f8c 0029     	        cmp r1, # 0
 1984 0f8e 0CD0     	        beq __dai_yu_shu_chufafanhui
 1985 0f90 0246     	        mov r2, r0
 1986 0f92 0123     	        movs r3, # 1
 1987 0f94 DB07     	        lsls r3, r3, # 31
 1988 0f96 0020     	        movs r0, # 0
 1989 0f98 0446     	        mov r4, r0
 1990              	__dai_yu_shu_chufaxunhuan:
 1991 0f9a 5200     	        lsls r2, r2, # 1
 1992 0f9c 6441     	        adcs r4, r4, r4
 1993 0f9e 8C42     	        cmp r4, r1
 1994 0fa0 01D3     	        bcc __dai_yu_shu_chufaweishubudao0
 1995 0fa2 C018     		adds r0, r0, r3
 1996 0fa4 641A     	        subs r4, r4, r1
 1997              	__dai_yu_shu_chufaweishubudao0:
 1998 0fa6 5B08     	        lsrs r3, r3, # 1
 1999 0fa8 F7D1     	        bne __dai_yu_shu_chufaxunhuan
 2000              	__dai_yu_shu_chufafanhui:
 2001 0faa 1CBD     	        pop {r2-r4,pc}
 2002              	
 2003              	_chufa:				@软件除法
 2004              		@ r0 除以 r1 等于 商(r0)
 2005 0fac 1EB5     		push {r1-r4,lr}
 2006 0fae 0028     		cmp r0, # 0
 2007 0fb0 0ED0     		beq _chufafanhui
 2008 0fb2 0029     		cmp r1, # 0
 2009 0fb4 0CD0     		beq _chufafanhui
 2010 0fb6 0246     		mov r2, r0
 2011 0fb8 0123     		movs r3, # 1
 2012 0fba DB07     		lsls r3, r3, # 31
 2013 0fbc 0020     		movs r0, # 0
 2014 0fbe 0446     		mov r4, r0
 2015              	_chufaxunhuan:
 2016 0fc0 5200     		lsls r2, r2, # 1
 2017 0fc2 6441     		adcs r4, r4, r4
 2018 0fc4 8C42     		cmp r4, r1
 2019 0fc6 01D3     		bcc _chufaweishubudao0
 2020 0fc8 C018     		adds r0, r0, r3
 2021 0fca 641A     		subs r4, r4, r1
 2022              	_chufaweishubudao0:
 2023 0fcc 5B08     		lsrs r3, r3, # 1
 2024 0fce F7D1     		bne _chufaxunhuan
 2025              	_chufafanhui:
 2026 0fd0 1EBD     		pop {r1-r4,pc}
 2027              	__chu_fa:	@带符号
 2028 0fd2 FEB5     		push {r1-r7,lr}
 2029 0fd4 0028     	        cmp r0, # 0
 2030 0fd6 1ED0     	        beq _chufafanhui1
 2031 0fd8 0029     	        cmp r1, # 0
 2032 0fda 1CD0     	        beq _chufafanhui1
 2033 0fdc 0025     		movs r5, # 0
 2034 0fde 0000     		movs r0, r0
 2035 0fe0 02D5     		bpl __pan_duan_bei_chu_shu
 2036 0fe2 0135     		adds r5, r5, # 1
ARM GAS  1.s 			page 38


 2037 0fe4 C043     		mvns r0, r0
 2038 0fe6 0130     		adds r0, r0, # 1
 2039              	__pan_duan_bei_chu_shu:
 2040 0fe8 0900     		movs r1, r1
 2041 0fea 02D5     		bpl __ji_suan_chu_fa11
 2042 0fec 0135     		adds r5, r5, # 1
 2043 0fee C943     		mvns r1, r1
 2044 0ff0 0131     		adds r1, r1, # 1
 2045              	__ji_suan_chu_fa11:	
 2046 0ff2 0246     	        mov r2, r0
 2047 0ff4 0123     	        movs r3, # 1
 2048 0ff6 DB07     	        lsls r3, r3, # 31
 2049 0ff8 0020     	        movs r0, # 0
 2050 0ffa 0446     	        mov r4, r0
 2051              	_chufaxunhuan1:
 2052 0ffc 5200     	        lsls r2, r2, # 1
 2053 0ffe 6441     	        adcs r4, r4, r4
 2054 1000 8C42     	        cmp r4, r1
 2055 1002 01D3     		bcc _chufaweishubudao00
 2056 1004 C018     		adds r0, r0, r3
 2057 1006 641A     		subs r4, r4, r1
 2058              	_chufaweishubudao00:
 2059 1008 5B08     		lsrs r3, r3, # 1
 2060 100a F7D1     		bne _chufaxunhuan1
 2061 100c 012D     		cmp r5, # 1
 2062 100e 03D1     		bne _chufafanhui2
 2063 1010 C043     		mvns r0, r0
 2064 1012 0130     		adds r0, r0, # 1
 2065 1014 FEBD     		pop {r1-r7,pc}
 2066              	_chufafanhui1:
 2067 1016 0020     		movs r0, #0
 2068              	_chufafanhui2:	
 2069 1018 FEBD     		pop {r1-r7,pc}
 2070              	
 2071              	__he_bing_dian_ya_biao:
 2072              		@入口R0=正相表，R1=反相表
 2073 101a FCB5     		push {r2-r7,lr}
 2074              	@	ldr r0, = zhengxiangbiao
 2075              	@	ldr r1, = fanxiangbiao
 2076 101c 1E4A     		ldr r2, = 0x20000ba0
 2077 101e 0023     		movs r3, # 0
 2078 1020 1E46     		mov r6, r3
 2079 1022 1E4F     		ldr r7, = 200
 2080 1024 9846     		mov r8, r3	
 2081              	__he_bing_dian_ya_biao_xun_huan:
 2082 1026 C45A     	        ldrh r4, [r0, r3]
 2083 1028 CD5A     	        ldrh r5, [r1, r3]
 2084 102a 9846     	        mov r8, r3
 2085 102c AC42     	        cmp r4, r5
 2086 102e 06D8     		bhi __zheng_dian_ya
 2087 1030 2B46     		mov r3, r5
 2088 1032 00F010F8 	        bl __zhuan_bcd
 2089 1036 1A4D     	        ldr r5, = 0x80000000
 2090 1038 1D43     	        orrs r5, r5, r3
 2091 103a 9551     		str r5, [r2, r6]
 2092 103c 03E0     	        b __dian_ya_biao_jia
 2093              	__zheng_dian_ya:
ARM GAS  1.s 			page 39


 2094 103e 2346     	        mov r3, r4
 2095 1040 00F009F8 	        bl __zhuan_bcd
 2096 1044 9351     	        str r3, [r2, r6]
 2097              	__dian_ya_biao_jia:
 2098 1046 4346     	        mov r3, r8
 2099 1048 0233     	        adds r3, r3, # 2
 2100 104a 0436     	        adds r6, r6, # 4
 2101 104c 013F     	        subs r7, r7, # 1
 2102 104e EAD1     		bne __he_bing_dian_ya_biao_xun_huan
 2103 1050 C018     		adds r0, r0, r3
 2104 1052 C918     		adds r1, r1, r3
 2105 1054 FCBD     		pop {r2-r7,pc}
 2106              	__zhuan_bcd:
 2107 1056 F7B5     		push {r0-r2,r4-r7,lr}
 2108 1058 0A21     		movs r1, # 10
 2109 105a 1846     		mov r0, r3
 2110 105c 1D46     		mov r5, r3
 2111 105e 0826     		movs r6, # 8
 2112              	__bcd_xun_huan:
 2113 1060 FFF7A4FF 		bl _chufa
 2114 1064 0446     		mov r4, r0
 2115 1066 4C43     		muls r4, r4, r1
 2116 1068 2D1B     		subs r5, r5, r4
 2117 106a 20B4     		push {r5}
 2118 106c 0546     		mov r5, r0
 2119 106e 013E     		subs r6, r6, # 1
 2120 1070 F6D1     		bne __bcd_xun_huan
 2121 1072 FFBC     		pop {r0-r7}
 2122 1074 3601     		lsls r6, r6, # 4
 2123 1076 2D02     		lsls r5, r5, # 8
 2124 1078 2403     		lsls r4, r4, # 12
 2125 107a 1B04     		lsls r3, r3, # 16
 2126 107c 1205     		lsls r2, r2, # 20
 2127 107e 0906     		lsls r1, r1, # 24
 2128 1080 0007     		lsls r0, r0, # 28
 2129 1082 0343     		orrs r3, r3, r0
 2130 1084 0B43     		orrs r3, r3, r1
 2131 1086 1343     		orrs r3, r3, r2
 2132 1088 2343     		orrs r3, r3, r4
 2133 108a 2B43     		orrs r3, r3, r5
 2134 108c 3343     		orrs r3, r3, r6
 2135 108e 3B43     		orrs r3, r3, r7
 2136 1090 F7BD     		pop {r0-r2,r4-r7,pc}
 2137 1092 0000E803 		.ltorg
 2137      0000A00B 
 2137      0020C800 
 2137      00000000 
 2137      0080
 2138              	_nmi_handler:
 2139 10a4 7047     		bx lr
 2140              	_hard_fault:
 2141 10a6 7047     		bx lr
 2142              	_svc_handler:
 2143 10a8 7047     		bx lr
 2144              	_pendsv_handler:
 2145 10aa 7047     		bx lr
 2146              	_systickzhongduan:
ARM GAS  1.s 			page 40


 2147              	aaa:
 2148 10ac 7047     		bx lr
 2149              		.ltorg
 2150 10ae C046     		.end
ARM GAS  1.s 			page 41


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 $d
                 1.s:11     .data:0000000000000000 zheng_xian_100hz
                 1.s:13     .data:0000000000000fa0 zheng_xian_1khz
                 1.s:15     .data:0000000000001130 zheng_xian_10khz
                 1.s:19     .data:00000000000012c0 zheng_xian_100khz
                 1.s:23     .data:00000000000012e0 xuan_zhuan_yin_zi
                 1.s:26     .data:0000000000001f60 cordic_yong_cos_sin
                 1.s:29     .data:0000000000001fe0 pin_lv_biao
                 1.s:688    .text:00000000000004d8 __pin_lv100
                 1.s:744    .text:000000000000053c __pin_lv1K
                 1.s:799    .text:00000000000005a0 __pin_lv10K
                 1.s:858    .text:0000000000000604 __pin_lv100K
                 1.s:34     .data:0000000000001ff0 dang_wei_biao
                 1.s:954    .text:000000000000077a __dang_wei0
                 1.s:975    .text:00000000000007a4 __dang_wei1
                 1.s:995    .text:00000000000007cc __dang_wei2
                 1.s:1015   .text:00000000000007f4 __dang_wei3
                 1.s:1035   .text:000000000000081c __dang_wei4
                 1.s:1055   .text:0000000000000844 __dang_wei5
                 1.s:41     .data:0000000000002008 an_jian_biao
                 1.s:540    .text:00000000000003aa __an_jian0
                 1.s:483    .text:0000000000000336 __dang_wei_jia
                 1.s:505    .text:0000000000000364 __pin_lv_jia
                 1.s:528    .text:0000000000000392 __an_jian3
                 1.s:531    .text:0000000000000398 __an_jian4
                 1.s:534    .text:000000000000039e __an_jian5
                 1.s:537    .text:00000000000003a4 __an_jian6
                 1.s:467    .text:0000000000000320 __an_jian7
                 1.s:51     .data:0000000000002030 yjmwxwx
                 1.s:54     .data:0000000000002040 kong
                 1.s:56     .data:0000000000002044 _fu
                 1.s:58     .data:0000000000002045 hao_ou
                 1.s:60     .data:0000000000002049 ou
                 1.s:62     .data:000000000000204d qian_ou
                 1.s:64     .data:0000000000002051 zhao_ou
                 1.s:67     .data:0000000000002055 kai_lu_jiao_zhun
                 1.s:69     .data:0000000000002065 duan_lu_jiao_zhun
                 1.s:71     .data:0000000000002075 pi_pei_jiao_zhun
                 1.s:74     *ABS*:0000000020001000 STACKINIT
                 1.s:75     *ABS*:0000000020000000 asciimabiao
                 1.s:76     *ABS*:00000000200000f0 fuhao
                 1.s:77     *ABS*:0000000020000100 Rs
                 1.s:78     *ABS*:0000000020000104 Xs
                 1.s:79     *ABS*:0000000020000108 Cs
                 1.s:80     *ABS*:0000000020000108 jiaodu
                 1.s:81     *ABS*:000000002000010c kailu_r
                 1.s:82     *ABS*:0000000020000110 liangcheng
                 1.s:83     *ABS*:0000000020000114 dangwei
                 1.s:84     *ABS*:0000000020000188 xuanzhuan_cos
                 1.s:85     *ABS*:000000002000018c xuanzhuan_sin
                 1.s:86     *ABS*:0000000020000190 shibu
                 1.s:87     *ABS*:0000000020000194 xubu
                 1.s:88     *ABS*:0000000020000198 shangbidianya
                 1.s:89     *ABS*:000000002000019c huandangyanshi
                 1.s:90     *ABS*:00000000200001a0 xuanzhuanyinzi
                 1.s:91     *ABS*:00000000200001a4 pinlvjiayanshi
ARM GAS  1.s 			page 42


                 1.s:92     *ABS*:00000000200001a8 pinlv
                 1.s:93     *ABS*:00000000200001ac tongdaoqiehuanyanshi
                 1.s:94     *ABS*:00000000200001c0 lvboqiyiwei
                 1.s:95     *ABS*:00000000200001c4 lvboqijishu
                 1.s:96     *ABS*:00000000200001c8 cankaodianzu
                 1.s:97     *ABS*:00000000200001cc xiaoshudianweizhi
                 1.s:98     *ABS*:00000000200001d0 xiabifangdakaiguan
                 1.s:99     *ABS*:00000000200001d4 shangbifangdakaiguan
                 1.s:100    *ABS*:00000000200001d8 dangweijiayanshi
                 1.s:101    *ABS*:00000000200001dc caidanzhizhen
                 1.s:102    *ABS*:00000000200001e0 caidanbiao
                 1.s:103    *ABS*:00000000200001f8 dianyabiaozhizhen
                 1.s:104    *ABS*:00000000200001fc dianyabiaoman
                 1.s:105    *ABS*:0000000020000200 dianyabiao
                 1.s:106    *ABS*:0000000020000520 zhengxiangbiao
                 1.s:107    *ABS*:0000000020000840 fanxiangbiao
                 1.s:108    *ABS*:0000000020000ba0 lvboqizhizhen
                 1.s:109    *ABS*:0000000020000ba4 lvboqihuanchong
                 1.s:110    *ABS*:0000000020000d00 lvboqizhizhen2
                 1.s:111    *ABS*:0000000020000d04 lvboqihuanchong2
                 1.s:113    .text:0000000000000000 vectors
                 1.s:159    .text:00000000000000b0 _start
                 1.s:2138   .text:00000000000010a4 _nmi_handler
                 1.s:2140   .text:00000000000010a6 _hard_fault
                 1.s:2142   .text:00000000000010a8 _svc_handler
                 1.s:2144   .text:00000000000010aa _pendsv_handler
                 1.s:2146   .text:00000000000010ac _systickzhongduan
                 1.s:2147   .text:00000000000010ac aaa
                            .text:0000000000000000 $d
                 1.s:158    .text:00000000000000b0 $t
                 1.s:160    .text:00000000000000b0 shizhong
                 1.s:167    .text:00000000000000bc denghse
                 1.s:171    .text:00000000000000c2 dengpllguan
                 1.s:183    .text:00000000000000d6 dengpll
                 1.s:191    .text:00000000000000e0 _waisheshizhong
                 1.s:208    .text:00000000000000ee _neicunqingling
                 1.s:212    .text:00000000000000f4 _neicunqinglingxunhuan
                 1.s:217    .text:00000000000000fa __fu_zhi_cai_dan_biao
                 1.s:236    .text:000000000000011e _waishezhongduan
                 1.s:267    .text:0000000000000124 io_she_zhi
                 1.s:305    .text:0000000000000140 _lcdchushihua
                 1.s:1604   .text:0000000000000d14 _xielcd
                 1.s:1596   .text:0000000000000d0a _lcdyanshi
                 1.s:1579   .text:0000000000000cee _lcdxianshi
                 1.s:333    .text:0000000000000188 yjmwxwx_yanshi
                 1.s:337    .text:000000000000018c _adcchushihua
                 1.s:341    .text:0000000000000192 _dengadcjiaozhun
                 1.s:347    .text:000000000000019c _kaiadc
                 1.s:352    .text:00000000000001a4 _deng_adc_wen_ding
                 1.s:356    .text:00000000000001aa _tongdaoxuanze
                 1.s:369    .text:00000000000001c2 dmachushihua
                 1.s:402    .text:00000000000001e6 tim3chushihua
                 1.s:414    .text:00000000000001fc tim1chushiha
                 1.s:446    .text:0000000000000232 adc_yanshi
                 1.s:455    .text:0000000000000242 ff
                 1.s:944    .text:000000000000076c __dang_wei_she_zhi
                 1.s:679    .text:00000000000004ca __pin_lv_she_zhi
ARM GAS  1.s 			page 43


                 1.s:541    .text:00000000000003aa ting
                 1.s:466    .text:0000000000000258 $d
                 1.s:468    .text:0000000000000320 t
                 1.s:1209   .text:000000000000099a __ji_suan_zu_kang
                 1.s:469    .text:0000000000000320 $t
                 1.s:556    .text:00000000000003ce __xianshi_zukang1
                 1.s:474    .text:000000000000032a __jiao_zhun_yan_shi
                 1.s:477    .text:000000000000032e __jiao_zhun_yan_shi_xun_huan
                 1.s:500    .text:0000000000000356 __dang_wei_fan_hui
                 1.s:1076   .text:000000000000086e __dang_wei_xian_shi
                 1.s:1468   .text:0000000000000c04 __an_jian
                 1.s:550    .text:00000000000003c6 __cai_dan_diao_du
                 1.s:522    .text:0000000000000384 __pin_lv_fan_hui
                 1.s:1089   .text:000000000000088a __pin_lv_xian_shi
                 1.s:1186   .text:0000000000000970 __dian_rong_ji_suan
                 1.s:612    .text:0000000000000442 __xianshi_zukang
                 1.s:569    .text:00000000000003e8 __dian_zu_bu_shi_zheng1
                 1.s:574    .text:00000000000003f2 __xian_shi_dian_zu1
                 1.s:1679   .text:0000000000000d8c _zhuanascii
                 1.s:596    .text:0000000000000420 __dian_kang_bu_shi_zheng1
                 1.s:601    .text:000000000000042a __xian_shi_dian_kang1
                 1.s:629    .text:0000000000000464 __dian_zu_bu_shi_zheng
                 1.s:634    .text:000000000000046e __xian_shi_dian_zu
                 1.s:661    .text:00000000000004a6 __dian_kang_bu_shi_zheng
                 1.s:666    .text:00000000000004b0 __xian_shi_dian_kang
                 1.s:924    .text:0000000000000672 cai_biao
                 1.s:926    .text:0000000000000674 cc100k
                 1.s:1284   .text:0000000000000a32 __tong_dao_qie_huan
                 1.s:2071   .text:000000000000101a __he_bing_dian_ya_biao
                 1.s:941    .text:0000000000000692 $d
                 1.s:941    .text:0000000000000694 $d
                 1.s:947    .text:000000000000076c $t
                 1.s:1102   .text:00000000000008a6 $d
                 1.s:1102   .text:00000000000008a8 $d
                 1.s:1103   .text:00000000000008e0 __zi_dong_dang_wei
                 1.s:1104   .text:00000000000008e0 $t
                 1.s:1113   .text:00000000000008f2 __huan_dang
                 1.s:1122   .text:0000000000000902 __jian_ce_xu_bu_shi_bu_shi_fu_shu
                 1.s:1127   .text:000000000000090a __bi_jiao_shi_xu_da_xiao
                 1.s:1131   .text:0000000000000910 __dang_wei_pan_duan
                 1.s:1147   .text:000000000000092e __dang_wei_jian
                 1.s:1158   .text:0000000000000942 __zi_dong_dang_wei_fan_hui
                 1.s:1156   .text:000000000000093e __bao_cun_dang_wei
                 1.s:1161   .text:0000000000000944 __xiang_wei_xuan_zhuan
                 1.s:1194   .text:000000000000097e __dianrong_bu_shi_fu
                 1.s:2027   .text:0000000000000fd2 __chu_fa
                 1.s:1886   .text:0000000000000ef8 __chufa64
                 1.s:1221   .text:00000000000009b0 __xiabifangdaguan
                 1.s:1223   .text:00000000000009b2 __jian_bo
                 1.s:1321   .text:0000000000000ae4 __DFT_ji_suan
                 1.s:1240   .text:00000000000009d6 __shangbifangdaguan
                 1.s:1242   .text:00000000000009d8 __jian_bo1
                 1.s:1754   .text:0000000000000e20 __fu_shu_chu_fa
                 1.s:1549   .text:0000000000000cc0 _lvboqi
                 1.s:1302   .text:0000000000000ac8 __tong_dao_qie_huan_yan_shi
                 1.s:1310   .text:0000000000000ad4 __fu_zhi_nei_cun
                 1.s:1301   .text:0000000000000a5a $d
ARM GAS  1.s 			page 44


                 1.s:1301   .text:0000000000000a5c $d
                 1.s:1303   .text:0000000000000ac8 $t
                 1.s:1306   .text:0000000000000ace __tong_dao_qie_huan_yan_shi_xun_huan
                 1.s:1314   .text:0000000000000ad8 __fu_zhi_xun_huan
                 1.s:1334   .text:0000000000000afa __ji_suan_dft_xun_huan
                 1.s:1338   .text:0000000000000b00 __ji_suan_dft
                 1.s:1364   .text:0000000000000b32 __xian_shi_jiao_du
                 1.s:1377   .text:0000000000000b4c __jiaodu_bu_shi_zheng
                 1.s:1382   .text:0000000000000b56 __xian_shi_jiaodu
                 1.s:1393   .text:0000000000000b6e $d
                 1.s:1393   .text:0000000000000b70 $d
                 1.s:1396   .text:0000000000000b8c _xieflash
                 1.s:1397   .text:0000000000000b8c $t
                 1.s:1407   .text:0000000000000b9e _flashmang
                 1.s:1424   .text:0000000000000bbc _flashmang1
                 1.s:1433   .text:0000000000000bcc _flashmang2
                 1.s:1442   .text:0000000000000bdc _flashmang4
                 1.s:1452   .text:0000000000000bea __fu_shu_cheng_fa
                 1.s:1488   .text:0000000000000c2a __atan2_ji_suan
                 1.s:1501   .text:0000000000000c40 __cordic_atan2_xun_huan
                 1.s:1502   .text:0000000000000c40 __du_cos_sin
                 1.s:1522   .text:0000000000000c64 __ni_shi_zhen_zhuan
                 1.s:1515   .text:0000000000000c58 __shun_shi_zhen_zhuan
                 1.s:1528   .text:0000000000000c6e __xuan_zhuan_wan
                 1.s:1547   .text:0000000000000c92 $d
                 1.s:1547   .text:0000000000000c94 $d
                 1.s:1553   .text:0000000000000cc0 $t
                 1.s:1561   .text:0000000000000cd0 _lvboqimeidaohuanchongquding
                 1.s:1564   .text:0000000000000cd4 _lvboqixunhuan
                 1.s:1568   .text:0000000000000cda _lvbozonghe
                 1.s:1588   .text:0000000000000cfc _lcdxianshixunhuan
                 1.s:1599   .text:0000000000000d0e _lcdyanshixunhuan
                 1.s:1618   .text:0000000000000d2c __lcd_ming_ling
                 1.s:1615   .text:0000000000000d28 __lcd_shu_ju
                 1.s:1620   .text:0000000000000d2e __xie_lcd_shu_ju
                 1.s:1635   .text:0000000000000d50 __74hc595
                 1.s:1642   .text:0000000000000d5c __595_yiweixunhuan
                 1.s:1647   .text:0000000000000d62 __595_yanshi
                 1.s:1656   .text:0000000000000d70 __ser_0
                 1.s:1653   .text:0000000000000d6c __ser_1
                 1.s:1658   .text:0000000000000d72 __595_yiwei
                 1.s:1662   .text:0000000000000d76 __595_yanshi1
                 1.s:1671   .text:0000000000000d84 __595_yanshi2
                 1.s:1686   .text:0000000000000d96 _xunhuanqiuma
                 1.s:2003   .text:0000000000000fac _chufa
                 1.s:1705   .text:0000000000000dba _qiumafanhui
                 1.s:1700   .text:0000000000000db2 _meidaoxiaoshudian
                 1.s:1708   .text:0000000000000dbe __ji_suan_fu_du
                 1.s:1718   .text:0000000000000dc8 _shibubushifushu
                 1.s:1723   .text:0000000000000dd0 _xububushifushu
                 1.s:1728   .text:0000000000000dd8 _panduanxubushibushi0
                 1.s:1732   .text:0000000000000dde _jisuanfudu1
                 1.s:1745   .text:0000000000000df4 _alpha_min_beta_max
                 1.s:1737   .text:0000000000000de6 _alpha_max_beta_min
                 1.s:1753   .text:0000000000000e02 $d
                 1.s:1753   .text:0000000000000e04 $d
                 1.s:1755   .text:0000000000000e20 $t
ARM GAS  1.s 			page 45


                 1.s:1760   .text:0000000000000e26 __ji_suan_chu_fa
                 1.s:1774   .text:0000000000000e3a b1
                 1.s:1780   .text:0000000000000e44 b2
                 1.s:1786   .text:0000000000000e4e b3
                 1.s:1795   .text:0000000000000e5a b4
                 1.s:1801   .text:0000000000000e64 b5
                 1.s:1807   .text:0000000000000e6e b6
                 1.s:1819   .text:0000000000000e80 b7
                 1.s:1821   .text:0000000000000e82 b8
                 1.s:1830   .text:0000000000000e92 b9
                 1.s:1832   .text:0000000000000e94 b10
                 1.s:1841   .text:0000000000000ea4 a1
                 1.s:1847   .text:0000000000000eae a2
                 1.s:1932   .text:0000000000000f40 __chengfa
                 1.s:1854   .text:0000000000000ebe a3
                 1.s:1867   .text:0000000000000ed6 a4
                 1.s:1873   .text:0000000000000ee0 a5
                 1.s:1880   .text:0000000000000ef0 __a6
                 1.s:1926   .text:0000000000000f3a __chu_fa64_fan_hui0
                 1.s:1896   .text:0000000000000f06 __chu_fa64_ji_suan
                 1.s:1903   .text:0000000000000f12 __chu_fa64_xun_huan
                 1.s:1912   .text:0000000000000f22 __chu_fa_yi_wei
                 1.s:1920   .text:0000000000000f30 __di_yi_wei
                 1.s:1974   .text:0000000000000f80 __cheng_fa_fan_hui
                 1.s:1946   .text:0000000000000f4a __ji_suan_cheng_fa
                 1.s:1978   .text:0000000000000f86 __dai_yu_shu_chufa
                 1.s:2000   .text:0000000000000faa __dai_yu_shu_chufafanhui
                 1.s:1990   .text:0000000000000f9a __dai_yu_shu_chufaxunhuan
                 1.s:1997   .text:0000000000000fa6 __dai_yu_shu_chufaweishubudao0
                 1.s:2025   .text:0000000000000fd0 _chufafanhui
                 1.s:2015   .text:0000000000000fc0 _chufaxunhuan
                 1.s:2022   .text:0000000000000fcc _chufaweishubudao0
                 1.s:2066   .text:0000000000001016 _chufafanhui1
                 1.s:2039   .text:0000000000000fe8 __pan_duan_bei_chu_shu
                 1.s:2045   .text:0000000000000ff2 __ji_suan_chu_fa11
                 1.s:2051   .text:0000000000000ffc _chufaxunhuan1
                 1.s:2058   .text:0000000000001008 _chufaweishubudao00
                 1.s:2068   .text:0000000000001018 _chufafanhui2
                 1.s:2081   .text:0000000000001026 __he_bing_dian_ya_biao_xun_huan
                 1.s:2093   .text:000000000000103e __zheng_dian_ya
                 1.s:2106   .text:0000000000001056 __zhuan_bcd
                 1.s:2097   .text:0000000000001046 __dian_ya_biao_jia
                 1.s:2112   .text:0000000000001060 __bcd_xun_huan
                 1.s:2137   .text:0000000000001092 $d
                 1.s:2137   .text:0000000000001094 $d
                 1.s:2139   .text:00000000000010a4 $t

NO UNDEFINED SYMBOLS
