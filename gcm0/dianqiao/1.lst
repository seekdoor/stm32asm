ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@@ 电桥						
   3              		@作者：yjmwxwx
   4              		@时间：2020-08-08
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              		.align 4
  10              	zheng_xian_biao:
  11 0000 07000900 		.short 7,9,10,12,13,13,13,12,10,9,7,4,3,1,0,0,0,1,3,4,7,9,10,12,13,13,13,12,10,9,7,4,3,1,0,0,0,1,3
  11      0A000C00 
  11      0D000D00 
  11      0D000C00 
  11      0A000900 
  12              		.align 4
  13              	xuan_zhuan_yin_zi:
  14 0190 00800000 		.int 0x8000,0x0000,0x4B3C,0xFFFF9873,0xFFFFD873,0xFFFF8644,0xFFFF8644,0xFFFFD873,0xFFFF9873,0x4B3C
  14      00000000 
  14      3C4B0000 
  14      7398FFFF 
  14      73D8FFFF 
  15              		.align 4
  16              	cordic_yong_cos_sin:
  17 07d0 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
  17      00400000 
  17      412D0000 
  17      412D0000 
  17      203B0000 
  18              		.align 4
  19              	
  20              	yjmwxwx:
  21 0850 796A6D77 		.ascii "yjmwxwx-20200808"
  21      7877782D 
  21      32303230 
  21      30383038 
  22              		.align 4
  23              	kong:
  24 0860 20202020 		.int 0x20202020
  25              	_fu:
  26 0864 2D       		.ascii "-"
  27              	ou:
  28 0865 F4000000 	        .int    0xf4
  29              	kai_lu_jiao_zhun:
  30 0869 6B616920 		.ascii "kai lu jiao zhun"
  30      6C75206A 
  30      69616F20 
  30      7A68756E 
  31              	duan_lu_jiao_zhun:
  32 0879 6475616E 		.ascii "duan lu jiaozhun"
  32      206C7520 
  32      6A69616F 
  32      7A68756E 
  33              	pi_pei_jiao_zhun:
  34 0889 70692070 		.ascii "pi pei jiao zhun"
  34      6569206A 
  34      69616F20 
ARM GAS  1.s 			page 2


  34      7A68756E 
  35 0899 00000000 		.align 4
  35      000000
  36              	cai_dan_biao:
  37 08a0 FD010000 		.word __cai_dan_0 +1
  38 08a4 FF010000 		.word __cai_dan_1 +1
  39 08a8 01020000 		.word __cai_dan_2 +1
  40 08ac 03020000 		.word __cai_dan_3 +1
  41 08b0 03020000 		.word __cai_dan_4 +1
  42 08b4 03020000 		.word __cai_dan_5 +1
  43 08b8 03020000 		.word __cai_dan_6 +1
  44              		
  45              		.equ STACKINIT,        	        0x20001000
  46              		.equ asciimabiao,		0x20000000
  47              		.equ fanshe_r,			0x200000dc
  48              		.equ fanshe_i,			0x200000e0
  49              		.equ rushe_r,			0x200000e4
  50              		.equ rushe_i,			0x200000e8
  51              		.equ liangcheng,		0x200000ec
  52              		.equ fuhao,			0x200000f0
  53              		.equ dmawan,			0x200000f4
  54              		.equ jishu2,			0x200000f8
  55              		.equ jishu,			0x200000fc
  56              		.equ dianzu,			0x20000100
  57              		.equ p_shibu,			0x20000104
  58              		.equ swr_shibu,			0x20000108
  59              		.equ bingliandianzu,		0x2000010c
  60              		.equ jiedianchangshushibu,	0x20000110
  61              		.equ diankang,			0x20000114
  62              		.equ p_xubu,			0x20000118
  63              		.equ swr_xubu,			0x2000011c
  64              		.equ bingliandiankang,		0x20000120
  65              		.equ jiedianchangshuxubu,	0x20000124
  66              		.equ fan_she_shi_bu,		0x20000128
  67              		.equ fan_she_xu_bu,		0x20000130
  68              		.equ ru_she_shi_bu,		0x20000138
  69              		.equ ru_she_xu_bu,		0x2000013c
  70              	        .equ zukangqiehuan,             0x20000140
  71              	        .equ caidan,                    0x20000144
  72              	        .equ an_jian_yan_shi,           0x20000148
  73              	        .equ tou_fan_qie_huan,          0x2000014c
  74              		.equ dianrongzhi,		0x20000150
  75              		.equ jiaodu,			0x20000154
  76              		.equ anjian,			0x20000158
  77              		.equ pm1,			0x2000015c
  78              		.equ pm1i,			0x20000160
  79              		.equ pm2,			0x20000164
  80              		.equ pm2i,			0x20000168
  81              		.equ pm3,			0x2000016c
  82              		.equ pm3i,			0x20000170
  83              		.equ kailu_r,			0x20000174
  84              		.equ kailu_i,			0x20000178
  85              		.equ duanlu_r,			0x2000017c
  86              		.equ duanlu_i,			0x20000180
  87              		.equ pipei_r,			0x20000184
  88              		.equ pipei_i,			0x20000188
  89              		.equ caidanzhizhen,		0x2000018c
ARM GAS  1.s 			page 3


  90              		.equ caidanyanshi,		0x20000190
  91              		.equ jiaozhunkaiguan,		0x20000194
  92              	        .equ dianyabiaozhizhen,         0x200001f8
  93              	        .equ dianyabiaoman,             0x200001fc
  94              		.equ dianyabiao,		0x20000200
  95              		.equ zhengxiangbiao,		0x20000390
  96              		.equ fanxiangbiao,		0x20000520
  97              	        .equ lvboqizhizhen,             0x20000a00
  98              	        .equ lvboqihuanchong,           0x20000a04
  99              	        .equ lvboqizhizhen1,            0x20000b08
 100              	        .equ lvboqihuanchong1,          0x20000b0c
 101              	        .equ lvboqizhizhen2,            0x20000c20
 102              	        .equ lvboqihuanchong2,          0x20000c24
 103              		.equ lvboqizhizhen3,            0x20000d30
 104              	        .equ lvboqihuanchong3,          0x20000d34
 105              		.equ kai_lu_r,			0x08002000
 106              		.equ kai_lu_i,			0x08002004
 107              		.equ duan_lu_r,			0x08002008
 108              		.equ duan_lu_i,			0x0800200c
 109              		.equ pi_pei_r,			0x08002010
 110              		.equ pi_pei_i,			0x08002014
 111              		.section .text
 112              	vectors:
 113 0000 00100020 		.word STACKINIT
 114 0004 B1000000 		.word _start + 1
 115 0008 910C0000 		.word _nmi_handler + 1
 116 000c 930C0000 		.word _hard_fault  + 1
 117 0010 00000000 		.word 0
 118 0014 00000000 		.word 0
 119 0018 00000000 		.word 0
 120 001c 00000000 		.word 0
 121 0020 00000000 		.word 0
 122 0024 00000000 		.word 0
 123 0028 00000000 		.word 0
 124 002c 950C0000 		.word _svc_handler +1
 125 0030 00000000 		.word 0
 126 0034 00000000 		.word 0
 127 0038 970C0000 		.word _pendsv_handler +1
 128 003c 990C0000 		.word _systickzhongduan +1           @ 15
 129 0040 990C0000 		.word aaa +1     @ _wwdg +1          @ 0
 130 0044 990C0000 		.word aaa +1     @_pvd +1            @ 1
 131 0048 990C0000 		.word aaa +1     @_rtc +1            @ 2
 132 004c 990C0000 		.word aaa +1     @_flash +1          @ 3
 133 0050 990C0000 		.word aaa +1	@ _rcc + 1           @ 4
 134 0054 990C0000 		.word aaa +1      @_exti0_1  +1      @ 5
 135 0058 990C0000 		.word aaa +1      @ _exti2_3 +1      @ 6
 136 005c 990C0000 		.word aaa +1       @_exti4_15 +1     @ 7
 137 0060 990C0000 		.word aaa +1                         @ 8
 138 0064 990C0000 		.word aaa +1	@__dma_wan  +1	     @ 9
 139 0068 990C0000 		.word aaa +1    @_dma1_2_3 +1        @ 10
 140 006c 990C0000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 141 0070 990C0000 		.word aaa +1	 @_adc1 +1           @ 12
 142 0074 990C0000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 143 0078 990C0000 		.word aaa +1        @ _tim1_cc +1    @ 14
 144 007c 990C0000 		.word aaa +1         @_tim2 +1       @ 15
 145 0080 990C0000 		.word aaa +1          @_tim3 +1      @ 16
 146 0084 990C0000 		.word aaa +1                         @ 17
ARM GAS  1.s 			page 4


 147 0088 990C0000 		.word aaa +1		             @ 18
 148 008c 990C0000 		.word aaa +1	@_tim14 +1           @ 19
 149 0090 990C0000 		.word aaa +1                         @ 20
 150 0094 990C0000 		.word aaa +1         @_tim16 +1      @ 21
 151 0098 990C0000 		.word aaa +1         @_tim17 +1      @ 22
 152 009c 990C0000 		.word aaa +1          @_i2c   +1     @ 23
 153 00a0 990C0000 		.word aaa +1                         @ 24
 154 00a4 990C0000 		.word aaa +1           @_spi   +1    @ 25
 155 00a8 990C0000 		.word aaa +1                         @ 26
 156 00ac 990C0000 		.word aaa +1         @_usart1 +1     @ 27
 157              		.align 2
 158              	_start:
 159              	shizhong:
 160 00b0 974A     	        ldr r2, = 0x40022000   @FLASH访问控制
 161 00b2 3221     	        movs r1, # 0x32
 162 00b4 1160     	        str r1, [r2]           @FLASH缓冲 缓冲开启
 163 00b6 9748     	        ldr r0, = 0x40021000 @ rcc
 164 00b8 9749     		ldr r1, = 0x10001
 165 00ba 0160     	        str r1, [r0]
 166              	denghse:
 167 00bc 0168     	        ldr r1, [r0]
 168 00be 8903     	        lsls r1, r1, # 14
 169 00c0 FCD5     	        bpl denghse
 170              	dengpllguan:
 171 00c2 0168     	        ldr r1, [r0]
 172 00c4 8901     		lsls r1, r1, # 6
 173 00c6 FCD4     		bmi dengpllguan
 174 00c8 9449     		ldr r1, = 0x150002
 175 00ca 0046     		mov r0, r0
 176 00cc 4160     		str r1, [r0, # 0x04]
 177 00ce 0046     		mov r0, r0
 178 00d0 9349     		ldr r1, = 0x1010000
 179 00d2 0046     		mov r0, r0
 180 00d4 0160     		str r1, [r0]
 181              	
 182              	dengpll:
 183 00d6 0168     	        ldr r1, [r0]
 184 00d8 8901     		lsls r1, # 6
 185 00da FCD5     		bpl dengpll
 186              	
 187              	
 188 00dc 9149     		ldr r1, = 100
 189 00de 0163     		str r1, [r0, # 0x30]
 190              	_waisheshizhong:                         @ 外设时钟
 191              	        @+0x14=RCC_AHBENR
 192              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 193 00e0 8C48     		ldr r0, = 0x40021000
 194 00e2 9149     		ldr r1, = 0x60001
 195 00e4 4161     	        str r1, [r0, # 0x14]
 196              	
 197              	        @+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 198              	        @0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22
 199 00e6 9149     	        ldr r1, = 0xa00
 200 00e8 8161     		str r1, [r0, # 0x18]
 201              		@+0X1C=RCC_APB1ENR
 202              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 203              		@ 22=I2C2 @ 23=USB @ 28=PWR
ARM GAS  1.s 			page 5


 204 00ea 914A     	        ldr r2, = 0x902
 205 00ec C261     	        str r2, [r0, # 0x1c]
 206              	
 207              	_neicunqingling:
 208 00ee 9148     		ldr r0, = 0x20000000
 209 00f0 0021     		movs r1, # 0
 210 00f2 914B     		ldr r3, = 0x1000
 211              	_neicunqinglingxunhuan:
 212 00f4 043B     		subs r3, # 4
 213 00f6 C150     		str r1, [r0, r3]
 214 00f8 FCD1     		bne _neicunqinglingxunhuan
 215              	_waishezhongduan:				@外设中断
 216              		@0xE000E100    0-31  写1开，写0没效
 217              		@0XE000E180    0-31 写1关，写0没效
 218              		@0XE000E200    0-31 挂起，写0没效
 219              		@0XE000E280    0-31 清除， 写0没效
 220 00fa 9048     		ldr r0, =  0xe000e100
 221 00fc 9049     		ldr r1, = 0x200 @0x10200  @ 0x10000
 222 00fe 0160     		str r1, [r0]
 223              	@_kanmengou:
 224              	@	ldr r0, = 0x40003000
 225              	@	ldr r1, = 0x5555
 226              	@	str r1, [r0]
 227              	@	movs r1, # 7
 228              	@	str r1, [r0, # 4]
 229              	@	ldr r1, = 0xfff
 230              	@	str r1, [r0, # 8]
 231              	@	ldr r1, = 0xaaaa
 232              	@	str r1, [r0]
 233              	@	ldr r1, = 0xcccc
 234              	@	str r1, [r0]
 235              	
 236              	
 237              	@_systick:				@ systick定时器初始化
 238              	@
 239              	@	ldr r0, = 0xe000e010
 240              	@	ldr r1, = 0xffffff
 241              	@	str r1, [r0, # 4]
 242              	@	str r1, [r0, # 8]	
 243              	@	movs r1, # 0x07
 244              	@	str r1, [r0]
 245              		
 246              	io_she_zhi:
 247              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 248              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 249              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 250              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 251              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 252              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 253              		@偏移0x10 = 输入数据寄存器
 254              		@偏移0x14 = 输出数据寄存器
 255              		@偏移0x18 = 端口开  0-15置位
 256              		@偏移0x28 = 端口关
 257              		@0X20 = 复用低
 258              		@GPIO口0（0-3位）每个IO口占用4位
 259              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 260              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
ARM GAS  1.s 			page 6


 261              		@0x24 = 复用高
 262              		@GPIO口8 （0-3位）每个IO口占用4位
 263              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 264              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 265              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 266              	
 267 0100 9048     		ldr r0, = 0x48000000
 268 0102 9149     		ldr r1, = 0x2820540f
 269 0104 0160     		str r1, [r0]
 270 0106 E021     		movs r1, # 0xe0
 271 0108 4160     		str r1, [r0, # 0x04]
 272 010a 8D49     		ldr r1, = 0x200
 273 010c 4162     		str r1, [r0, # 0x24]
 274              		
 275 010e 8F48     		ldr r0, = 0x48000400
 276 0110 0221     		movs r1, # 0x02
 277 0112 4160     		str r1, [r0, # 0x04]
 278 0114 0421     		movs r1, # 0x04
 279 0116 C160     		str r1, [r0, # 0x0c]
 280              	_lcdchushihua:
 281 0118 3320     		movs r0, # 0x33
 282 011a 0021     		movs r1, # 0
 283 011c 00F0EBFB 		bl _xielcd
 284 0120 00F0E4FB 		bl _lcdyanshi
 285              	
 286 0124 3220     		movs r0, # 0x32
 287 0126 0021     		movs r1, # 0
 288 0128 00F0E5FB 		bl _xielcd
 289 012c 00F0DEFB 		bl _lcdyanshi
 290 0130 2820     		movs r0, # 0x28
 291 0132 0021     		movs r1, # 0
 292 0134 00F0DFFB 		bl _xielcd
 293 0138 00F0D8FB 		bl _lcdyanshi
 294 013c 0C20     		movs r0, # 0x0c
 295 013e 0021     		movs r1, # 0
 296 0140 00F0D9FB 		bl _xielcd
 297 0144 00F0D2FB 		bl _lcdyanshi
 298 0148 0120     		movs r0, # 0x01
 299 014a 0021     		movs r1, # 0
 300 014c 00F0D3FB 		bl _xielcd
 301 0150 00F0CCFB 		bl _lcdyanshi
 302              	
 303 0154 8020     	        movs r0, # 0x80
 304 0156 7E49     	        ldr r1, = yjmwxwx
 305 0158 1022     		movs r2, # 16
 306 015a 00F0B9FB 	        bl _lcdxianshi
 307 015e 7D48     		ldr r0, = 0xffff
 308              	yjmwxwx_yanshi:
 309 0160 0138     		subs r0, r0, # 1
 310 0162 FDD1     		bne yjmwxwx_yanshi
 311              	
 312              	_adcchushihua:
 313 0164 7C48     	        ldr r0, = 0x40012400  @ adc基地址
 314 0166 7D49     	        ldr r1, = 0x80000000
 315 0168 8160     	        str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 316              	_dengadcjiaozhun:
 317 016a 8168     	        ldr r1, [r0, # 0x08]
ARM GAS  1.s 			page 7


 318 016c 0900     	        movs r1, r1
 319 016e FCD4     	        bmi _dengadcjiaozhun   @ 等ADC校准
 320 0170 0121     		movs r1, # 1
 321 0172 0160     		str r1, [r0]
 322              	_kaiadc:
 323 0174 8168     	        ldr r1, [r0, # 0x08]
 324 0176 0122     	        movs r2, # 0x01
 325 0178 1143     	        orrs r1, r1, r2
 326 017a 8160     	        str r1, [r0, # 0x08]
 327              	_deng_adc_wen_ding:
 328 017c 0168     	        ldr r1, [r0]
 329 017e C907     	        lsls r1, r1, # 31
 330 0180 FCD5     	        bpl _deng_adc_wen_ding @ 等ADC稳定
 331              	_tongdaoxuanze:
 332 0182 7749     	        ldr r1, = 0x40000000
 333 0184 0161     	        str r1, [r0, # 0x10]
 334 0186 7749     	        ldr r1, = 0x02
 335 0188 8162     	        str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 336 018a 7749     	        ldr r1, = 0xc03 @ 0xc43		@TIM3 0x8c3 @0x2003 @0x8c3
 337 018c C160     	        str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
 338 018e 0021     	        movs r1, # 0
 339 0190 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 340 0192 8168     	        ldr r1, [r0, # 0x08]
 341 0194 754A     	        ldr r2, = 0x04         @ 开始转换
 342 0196 1143     		orrs r1, r1, r2
 343 0198 8160     	        str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 344              	dmachushihua:
 345              	        @+0=LSR,+4=IFCR,
 346              	        @+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 347              	        @+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 348              	        @+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 349              	        @+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 350              	        @+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 351              	        @+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 352              	        @+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 353              	        @tim1ch3DMA
 354              	
 355              	        @tim1ch3DMA
 356 019a 7548     	        ldr r0, = 0x40020000
 357 019c 7549     	        ldr r1, = 0x40012c3c @ 外设地址
 358 019e 0166     	        str r1, [r0, # 0x60]
 359 01a0 7549     	        ldr r1, = zheng_xian_biao @ 储存器地址
 360 01a2 4166     	        str r1, [r0, # 0x64]
 361 01a4 7549     	        ldr r1, = 200             @点数
 362 01a6 C165     	        str r1, [r0, # 0x5c]
 363 01a8 7549     	        ldr r1, = 0x35b1         @ 储存到外设
 364 01aa 8165     	        str r1, [r0, # 0x58]
 365              	
 366              		@ adc dma
 367 01ac 7048     		ldr r0, = 0x40020000
 368 01ae 7549     		ldr r1, = 0x40012440
 369 01b0 0161     		str r1, [r0, # 0x10]
 370 01b2 7549     		ldr r1, = dianyabiao
 371 01b4 4161     		str r1, [r0, # 0x14]
 372 01b6 7149     		ldr r1, = 200
 373 01b8 C160     		str r1, [r0, # 0x0c]
 374 01ba 7449     		ldr r1, = 0x5a1 @  0x583 	@ 5a1
ARM GAS  1.s 			page 8


 375 01bc 8160     		str r1, [r0, # 0x08]
 376              	
 377              		
 378              	tim1chushiha:				
 379 01be 7448     	        ldr r0, = 0x40012c00 @ tim1_cr1
 380 01c0 0021     	        movs r1, # 0
 381 01c2 8162     	        str r1, [r0, # 0x28] @ psc
 382 01c4 7349     		ldr r1, = 13
 383 01c6 C162     	        str r1, [r0, # 0x2c] @ ARR
 384              		@movs r1, # 0x40
 385 01c8 2021     	        movs r1, # 0x20
 386 01ca 4160     	        str r1, [r0, # 0x04] @ TRGO
 387 01cc 3821     	        movs r1, # 0x38
 388 01ce 8161     	        str r1, [r0, # 0x18] @ ccmr1 cc1
 389 01d0 0D21     	        movs r1, # 13
 390 01d2 4163     	        str r1, [r0, # 0x34]
 391 01d4 7049     	        ldr r1, = 0x68
 392 01d6 C161     	        str r1, [r0, # 0x1c] @ ccmr2  CC3
 393 01d8 7049     		ldr r1, = 0x100    @  CC3
 394 01da 0162     		str r1, [r0, # 0x20] @ ccer
 395 01dc 7049     		ldr r1, = 0x8000
 396 01de 4164     		str r1, [r0, # 0x44] @ BDTR
 397 01e0 7049     	        ldr r1, = 0x800 @ CC3 DMA
 398 01e2 C160     	        str r1, [r0, # 0x0c] @ DIER
 399 01e4 7049     	        ldr r1, = 0x81
 400 01e6 0160     		str r1, [r0]
 401              	
 402 01e8 7048     		ldr r0, = 0xffffff
 403              	adc_yanshi:
 404 01ea 0138     		subs r0, r0, # 1
 405 01ec FDD1     		bne adc_yanshi
 406              	
 407              	
 408              		
 409 01ee 00F022F8 		bl __tong_dao_qie_huan
 410 01f2 6F48     		ldr r0, = zhengxiangbiao
 411 01f4 6F49     		ldr r1, = fanxiangbiao
 412 01f6 00F03FF8 		bl __DFT_ji_suan
 413              	ting:	
 414 01fa FEE7     		b ting
 415              	
 416              		
 417              	__cai_dan_0:
 418              	
 419 01fc FEE7     		b __cai_dan_0
 420              	
 421              	__cai_dan_1:
 422 01fe FEE7     		b __cai_dan_1
 423              	__cai_dan_2:
 424 0200 FEE7     		b __cai_dan_2
 425              	__cai_dan_3:
 426              	
 427              	__cai_dan_4:
 428              	__cai_dan_5:
 429              	__cai_dan_6:
 430              	
 431              		
ARM GAS  1.s 			page 9


 432              	__cai_dan_diao_du:
 433 0202 F446     	        mov r12, lr
 434 0204 6C49     	        ldr r1, = caidanzhizhen
 435 0206 6D48     	        ldr r0, = caidanyanshi
 436 0208 0A68     	        ldr r2, [r1]
 437 020a 0368     	        ldr r3, [r0]
 438 020c 0133     	        adds r3, r3, #1
 439 020e 0A2B     		cmp r3, # 10
 440 0210 01D8     	        bhi __cai_dan_zhi_zhen_jia
 441 0212 0360     	        str r3, [r0]
 442 0214 E746     	        mov pc, r12
 443              	__cai_dan_zhi_zhen_jia:
 444 0216 0023     	        movs r3, # 0
 445 0218 0360     	        str r3, [r0]
 446 021a 0432     	        adds r2, r2, # 4
 447 021c 142A     		cmp r2, # 0x14
 448 021e 00D9     	        bls __cai_dan_qie_huan
 449 0220 0022     	        movs r2, # 0
 450              	__cai_dan_qie_huan:
 451 0222 0A60     	        str r2, [r1]
 452 0224 0120     		movs r0, # 0x01
 453 0226 0021     	        movs r1, # 0
 454 0228 00F065FB 	        bl _xielcd
 455 022c 00F05EFB 		bl _lcdyanshi
 456 0230 6348     	        ldr r0, = cai_dan_biao
 457 0232 8158     	        ldr r1, [r0, r2]
 458 0234 8F46     		mov pc, r1
 459              	__tong_dao_qie_huan:
 460 0236 0FB5     		push {r0-r3,lr}
 461 0238 5348     		ldr r0, = dianyabiao
 462 023a 624B     		ldr r3, = 0x40012428
 463 023c 0121     		movs r1, # 0x01
 464 023e 1960     		str r1, [r3]
 465 0240 00F00DF8 		bl __tong_dao_qie_huan_yan_shi
 466 0244 5A49     		ldr r1, = zhengxiangbiao
 467 0246 C822     		movs r2, # 200
 468 0248 00F00EF8 		bl __fu_zhi_nei_cun
 469 024c 0221     		movs r1, # 0x02
 470 024e 1960     		str r1, [r3]
 471 0250 00F005F8 		bl __tong_dao_qie_huan_yan_shi
 472 0254 5749     		ldr r1, = fanxiangbiao
 473 0256 C822     		movs r2, # 200
 474 0258 00F006F8 		bl __fu_zhi_nei_cun
 475 025c 0FBD     		pop {r0-r3,pc}
 476              		
 477              	__tong_dao_qie_huan_yan_shi:
 478 025e 80B5     		push {r7,lr}
 479 0260 3C4F     		ldr r7, = 0xffff
 480              	__tong_dao_qie_huan_yan_shi_xun_huan:
 481 0262 013F     		subs r7, r7, # 1
 482 0264 FDD1     		bne __tong_dao_qie_huan_yan_shi_xun_huan
 483 0266 80BD     		pop {r7,pc}
 484              	__fu_zhi_nei_cun:
 485              		@ 入口 R0 = 要复制的地址，R1=目标地址，R2=复制的数量
 486 0268 18B5     		push {r3-r4,lr}
 487 026a 0024     		movs r4, # 0
 488              	__fu_zhi_xun_huan:	
ARM GAS  1.s 			page 10


 489 026c 035B     		ldrh r3, [r0, r4]
 490 026e 0B53     		strh r3, [r1, r4]
 491 0270 0234     		adds r4, r4, # 2
 492 0272 013A     		subs r2, r2, # 1
 493 0274 FAD1     		bne __fu_zhi_xun_huan
 494 0276 18BD     		pop {r3-r4,pc}
 495              	__DFT_ji_suan:
 496              		@入口R0=正相表，R1=反相表
 497 0278 FCB5     		push {r2-r7,lr}
 498 027a 4446     		mov r4, r8
 499 027c 4D46     		mov r5, r9
 500 027e 5646     		mov r6, r10
 501 0280 70B4     		push {r4-r6}
 502 0282 0026     		movs r6, # 0
 503 0284 B046     		mov r8, r6
 504 0286 B146     		mov r9, r6
 505 0288 C822     		movs r2, # 200
 506 028a 9218     		adds r2, r2, r2
 507 028c 9246     		mov r10, r2
 508 028e 3246     		mov r2, r6
 509              	__ji_suan_dft_xun_huan:
 510 0290 835A     		ldrh r3, [r0, r2]
 511 0292 8C5A     		ldrh r4, [r1, r2]
 512 0294 002B     		cmp r3, # 0
 513 0296 00D0     		beq __qu_fan_r4
 514 0298 02E0     		b __ji_suan_dft
 515              	__qu_fan_r4:
 516 029a E443     		mvns r4, r4
 517 029c 0134     		adds r4, r4, # 1
 518 029e 2346     		mov r3, r4
 519              	__ji_suan_dft:
 520 02a0 494D     		ldr r5, = xuan_zhuan_yin_zi
 521 02a2 AF59     		ldr r7, [r5, r6]
 522 02a4 0436     		adds r6, r6, # 4
 523 02a6 5F43     		muls r7, r7, r3		@ 实部
 524 02a8 FF13     		asrs r7, r7, # 15
 525 02aa 4446     		mov r4, r8
 526 02ac E419     		adds r4, r4, r7
 527 02ae A046     		mov r8, r4
 528 02b0 AF59     		ldr r7, [r5, r6]
 529 02b2 0436     		adds r6, r6, # 4
 530 02b4 5F43     		muls r7, r7, r3		@ 虚部
 531 02b6 FF13     		asrs r7, r7, # 15
 532 02b8 4C46     		mov r4, r9
 533 02ba E419     		adds r4, r4, r7
 534 02bc A146     		mov r9, r4
 535 02be 0232     		adds r2, r2, # 2
 536 02c0 5245     		cmp r2, r10
 537 02c2 E5D1     		bne __ji_suan_dft_xun_huan
 538 02c4 4046     		mov r0, r8
 539 02c6 4946     		mov r1, r9
 540 02c8 70BC     		pop {r4-r6}
 541 02ca A046     		mov r8, r4
 542 02cc A946     		mov r9, r5
 543 02ce B246     		mov r10, r6
 544 02d0 FCBD     		pop {r2-r7,pc}
 545              	__xian_shi_jiao_du:
ARM GAS  1.s 			page 11


 546 02d2 1FB5     		push {r0-r4,lr}
 547 02d4 3D48     	       ldr r0, = jiaodu
 548 02d6 0168     	        ldr r1, [r0]
 549 02d8 0C00     	       movs r4, r1
 550 02da 07D5     	        bpl __jiaodu_bu_shi_zheng
 551 02dc 8720     	        movs r0, # 0x87
 552 02de 3C49     	        ldr r1, = _fu
 553 02e0 0122     	        movs r2, # 1
 554 02e2 00F0F5FA 	        bl _lcdxianshi
 555 02e6 E443     	        mvns r4, r4
 556 02e8 0134     		adds r4, r4, # 1
 557 02ea 04E0     	        b __xian_shi_jiaodu
 558              	__jiaodu_bu_shi_zheng:
 559 02ec 8720     	        movs r0, # 0x87
 560 02ee 3949     		ldr r1, = kong
 561 02f0 0122     		movs r2, # 1
 562 02f2 00F0EDFA 	        bl _lcdxianshi
 563              	__xian_shi_jiaodu:
 564 02f6 2046     	        mov r0, r4
 565 02f8 0521     	        movs r1, # 5
 566 02fa 0E4A     		ldr r2, = asciimabiao
 567 02fc FF23     	        movs r3, # 0xff
 568 02fe 00F036FB 	        bl _zhuanascii
 569 0302 8820     		movs r0, # 0x88
 570 0304 0B49     	        ldr r1, = asciimabiao
 571 0306 0522     		movs r2, # 5
 572 0308 00F0E2FA 		bl _lcdxianshi
 573 030c 1FBD     		pop {r0-r4,pc}
 574 030e 00000020 	        .ltorg
 574      02400010 
 574      02400100 
 574      01000200 
 574      15000000 
 575              	
 576              	__xian_shi_fan_she_xi_shu:
 577 03d8 1FB5     		push {r0-r4,lr}
 578 03da B148     	        ldr r0, = p_shibu       
 579 03dc 0168     	        ldr r1, [r0]
 580 03de 0C00     	       movs r4, r1
 581 03e0 07D5     	        bpl __p_shibu_bu_shi_zheng
 582 03e2 C020     	        movs r0, # 0xc0
 583 03e4 AF49     	        ldr r1, = _fu
 584 03e6 0122     	        movs r2, # 1
 585 03e8 00F072FA 	        bl _lcdxianshi
 586 03ec E443     	        mvns r4, r4
 587 03ee 0134     	        adds r4, r4, # 1
 588 03f0 04E0     	        b __xian_shi_p_shibu
 589              	__p_shibu_bu_shi_zheng:
 590 03f2 C020     	        movs r0, # 0xc0
 591 03f4 AC49     	        ldr r1, = kong
 592 03f6 0122     		movs r2, # 1
 593 03f8 00F06AFA 	        bl _lcdxianshi
 594              	__xian_shi_p_shibu:
 595 03fc 2046     	        mov r0, r4
 596 03fe 0521     	        movs r1, # 5
 597 0400 AA4A     	        ldr r2, = asciimabiao
 598 0402 0123     	        movs r3, # 1
ARM GAS  1.s 			page 12


 599 0404 00F0B3FA 		bl _zhuanascii
 600 0408 C120     		movs r0, # 0xc1
 601 040a A849     	        ldr r1, = asciimabiao
 602 040c 0522     	        movs r2, # 5
 603 040e 00F05FFA 	        bl _lcdxianshi
 604              	
 605 0412 A748     	        ldr r0, = p_xubu
 606 0414 0168     	        ldr r1, [r0]
 607 0416 0C00     	       movs r4, r1
 608 0418 07D5     	        bpl __p_xubu_bu_shi_zheng
 609 041a C620     	        movs r0, # 0xc6
 610 041c A149     	        ldr r1, = _fu
 611 041e 0122     	        movs r2, # 1
 612 0420 00F056FA 	        bl _lcdxianshi
 613 0424 E443     	        mvns r4, r4
 614 0426 0134     	        adds r4, r4, # 1
 615 0428 04E0     	        b __xian_shi_p_xubu
 616              	__p_xubu_bu_shi_zheng:
 617 042a C620     	        movs r0, # 0xc6
 618 042c 9E49     	        ldr r1, = kong
 619 042e 0122     		movs r2, # 1
 620 0430 00F04EFA 	        bl _lcdxianshi
 621              	__xian_shi_p_xubu:
 622 0434 2046     	        mov r0, r4
 623 0436 0521     	        movs r1, # 5
 624 0438 9C4A     	        ldr r2, = asciimabiao
 625 043a 0123     	        movs r3, # 1
 626 043c 00F097FA 		bl _zhuanascii
 627 0440 C720     		movs r0, # 0xc7
 628 0442 9A49     	        ldr r1, = asciimabiao
 629 0444 0522     	        movs r2, # 5
 630 0446 00F043FA 	        bl _lcdxianshi
 631 044a 1FBD     		pop {r0-r4,pc}
 632              	_xieflash:			@ flsh解锁
 633 044c 9948     		ldr r0, = 0x40022000
 634 044e 9A49     		ldr r1, = 0x45670123
 635 0450 4160     		str r1, [r0, # 0x04]
 636 0452 9A49     		ldr r1, = 0xcdef89ab
 637 0454 4160     		str r1, [r0, # 0x04]
 638              						@擦除2页
 639 0456 0125     		movs r5, # 1
 640 0458 994C     		ldr r4, = 0x8002000
 641 045a 0127     		movs r7, # 1
 642 045c BF02     		lsls r7, r7, # 10
 643              	_flashmang:
 644 045e C268     		ldr r2, [r0, # 0x0c]
 645 0460 D207     		lsls r2, r2, # 31
 646 0462 FCD4     		bmi _flashmang
 647 0464 0221     		movs r1, # 2
 648 0466 0161     		str r1, [r0, # 0x10]
 649 0468 4461     		str r4, [r0, # 0x14]
 650 046a 4221     		movs r1, # 0x42
 651 046c 0161     		str r1, [r0, # 0x10]
 652 046e 3C44     		add r4, r4, r7
 653 0470 013D     		subs r5, # 1
 654 0472 F4D1     		bne _flashmang
 655              							@写FLASH
ARM GAS  1.s 			page 13


 656 0474 924F     		ldr r7, = 0x8002000
 657 0476 934C     		ldr r4, = kailu_r
 658 0478 0025     		movs r5, # 0
 659 047a 0626     		movs r6, # 0x06
 660              	_flashmang1:
 661 047c C268     		ldr r2, [r0, # 0x0c]
 662 047e D207     		lsls r2, r2, # 31
 663 0480 FCD4     		bmi _flashmang1
 664 0482 0121     		movs r1, # 1
 665 0484 0161     		str r1, [r0, # 0x10]
 666 0486 635B     		ldrh r3, [r4, r5]
 667 0488 7B53     		strh r3, [r7, r5]
 668 048a 0235     		adds r5, r5, # 2
 669              	_flashmang2:
 670 048c C268     		ldr r2, [r0, # 0x0c]
 671 048e D207     		lsls r2, r2, # 31
 672 0490 FCD4     		bmi _flashmang2
 673 0492 635B     		ldrh r3, [r4, r5]
 674 0494 7B53     		strh r3, [r7, r5]
 675 0496 0235     		adds r5, r5, # 2
 676 0498 013E     		subs r6, r6, # 1
 677 049a EFD1     		bne _flashmang1
 678              	_flashmang4:
 679 049c C268     		ldr r2, [r0, # 0x0c]
 680 049e D207     		lsls r2, r2, # 31
 681 04a0 FCD4     		bmi _flashmang4
 682 04a2 8021     		movs r1, # 0x80
 683              		@str r1, [r0]          		@flsh上锁
 684 04a4 8848     		ldr r0, = 0xe000ed0c
 685 04a6 8949     		ldr r1, = 0x05fa0004
 686 04a8 0160     		str r1, [r0]          		@复位
 687              		
 688              	__jiaozhun:	@校准开路短路匹配误差
 689 04aa FFB5     		push {r0-r7,lr}
 690 04ac 00F037F8 		bl __det
 691 04b0 0246     		mov r2, r0
 692 04b2 0B46     		mov r3, r1
 693 04b4 1646     		mov r6, r2
 694 04b6 1F46     		mov r7, r3
 695 04b8 00F03DF8 		bl __det1
 696 04bc 0B46     		mov r3, r1
 697 04be 8449     		ldr r1, = 1000
 698 04c0 00F07DFB 		bl __chu_fa
 699 04c4 0446     		mov r4, r0
 700 04c6 1846     		mov r0, r3
 701 04c8 00F079FB 		bl __chu_fa
 702 04cc 0146     		mov r1, r0
 703 04ce 2046     		mov r0, r4
 704 04d0 3246     		mov r2, r6
 705 04d2 3B46     		mov r3, r7
 706 04d4 00F09AFA 		bl __fu_shu_chu_fa
 707 04d8 7A4C     		ldr r4, = kailu_r
 708 04da 7E4D     		ldr r5, = kailu_i
 709 04dc 2260     		str r2, [r4]
 710 04de 2960     		str r1, [r5]
 711 04e0 00F045F8 		bl __det2
 712 04e4 3246     		mov r2, r6
ARM GAS  1.s 			page 14


 713 04e6 3B46     		mov r3, r7
 714 04e8 00F090FA 		bl __fu_shu_chu_fa
 715 04ec 7A4C     		ldr r4, = duanlu_r
 716 04ee 7B4D     		ldr r5, = duanlu_i
 717 04f0 2260     		str r2, [r4]
 718 04f2 2960     		str r1, [r5]
 719 04f4 00F05BF8 		bl __det3
 720 04f8 0C46     		mov r4, r1
 721 04fa 7549     		ldr r1, = 1000
 722 04fc 00F05FFB 		bl __chu_fa
 723 0500 0346     		mov r3, r0
 724 0502 2046     		mov r0, r4
 725 0504 00F05BFB 		bl __chu_fa
 726 0508 0146     		mov r1, r0
 727 050a 1846     		mov r0, r3
 728 050c 3246     		mov r2, r6
 729 050e 3B46     		mov r3, r7
 730 0510 00F07CFA 		bl __fu_shu_chu_fa
 731 0514 724C     		ldr r4, = pipei_r
 732 0516 734D     		ldr r5, = pipei_i
 733 0518 2260     		str r2, [r4]
 734 051a 2960     		str r1, [r5]
 735 051c FFBD     		pop {r0-r7,pc}
 736              	__det:
 737 051e FCB5     		push {r2-r7,lr}
 738              		@a b c
 739              		@d e f
 740              		@g h i
 741              		@a*e
 742              		@ae*i=0
 743              		@b*f
 744 0520 7148     		ldr r0, = pm1
 745 0522 7249     		ldr r1, = pm1i
 746 0524 0068     		ldr r0, [r0]
 747 0526 0968     		ldr r1, [r1]
 748              		@bf*g
 749              		@d*h=0
 750              		@dh*c=0
 751              		@g*e
 752 0528 714A     		ldr r2, = pm2
 753 052a 724B     		ldr r3, = pm2i
 754 052c 1268     		ldr r2, [r2]
 755 052e 1B68     		ldr r3, [r3]
 756              		@ge*c
 757              		@h*f=0
 758              		@hf*a=0
 759              		@d*b
 760              		@db*i=0
 761              		@a*e*i+b*f*g+d*h*c-g*e*c-h*f*a-d*b*i
 762 0530 801A     		subs r0, r0, r2
 763 0532 C91A     		subs r1, r1, r3
 764 0534 FCBD     		pop {r2-r7,pc}
 765              	__det1:
 766 0536 FCB5     	        push {r2-r7,lr}
 767              	        @a b c
 768              	        @d e f
 769              	        @g h i
ARM GAS  1.s 			page 15


 770              	        @a*e
 771              	        @ae*i=0
 772              	        @b*f
 773 0538 6B48     	        ldr r0, = pm1
 774 053a 6C49     	        ldr r1, = pm1i
 775 053c 0068     	        ldr r0, [r0]
 776 053e 0968     	        ldr r1, [r1]
 777              	        @bf*g
 778 0540 6D4A     		ldr r2, = pm3
 779 0542 6E4B     		ldr r3, = pm3i
 780 0544 1268     		ldr r2, [r2]
 781 0546 1B68     		ldr r3, [r3]
 782 0548 1446     		mov r4, r2
 783 054a 1D46     		mov r5, r3
 784 054c 00F069F8 		bl __fu_shu_cheng_fa
 785 0550 0646     		mov r6, r0
 786 0552 0F46     		mov r7, r1
 787              	        @d*h=0
 788              	        @dh*c=0
 789              	        @g*e
 790 0554 6648     	        ldr r0, = pm2
 791 0556 6749     	        ldr r1, = pm2i
 792 0558 0068     	        ldr r0, [r0]
 793 055a 0968     	        ldr r1, [r1]
 794 055c 2246     		mov r2, r4
 795 055e 2B46     		mov r3, r5
 796 0560 00F05FF8 		bl __fu_shu_cheng_fa
 797              	        @ge*c
 798              	        @h*f=0
 799              	        @hf*a=0
 800              	        @d*b
 801              	        @db*i=0
 802              	        @a*e*i+b*f*g+d*h*c-g*e*c-h*f*a-d*b*i
 803 0564 361A     	        subs r6, r6, r0
 804 0566 7F1A     	        subs r7, r7, r1
 805 0568 3046     		mov r0, r6
 806 056a 3946     		mov r1, r7
 807 056c FCBD     	        pop {r2-r7,pc}
 808              	__det2:	
 809 056e FCB5     	        push {r2-r7,lr}
 810              	        @a b c
 811              	        @d e f
 812              	        @g h i
 813              	        @a*e
 814              	        @ae*i=0
 815              	        @b*f
 816 0570 5D48     	        ldr r0, = pm1
 817 0572 5E49     	        ldr r1, = pm1i
 818 0574 0068     	        ldr r0, [r0]
 819 0576 0968     	        ldr r1, [r1]
 820              	        @bf*g
 821              	        @d*h
 822 0578 5F4C     		ldr r4, = pm3
 823 057a 604D     		ldr r5, = pm3i
 824 057c 2468     		ldr r4, [r4]
 825 057e 2D68     		ldr r5, [r5]
 826              	        @dh*c
ARM GAS  1.s 			page 16


 827 0580 E443     		mvns r4, r4
 828 0582 0134     		adds r4, r4, # 1
 829 0584 ED43     		mvns r5, r5
 830 0586 0135     		adds r5, r5, # 1
 831              	        @g*e
 832 0588 594A     	        ldr r2, = pm2
 833 058a 5A4B     	        ldr r3, = pm2i
 834 058c 1268     	        ldr r2, [r2]
 835 058e 1B68     	        ldr r3, [r3]
 836              	        @ge*c
 837 0590 D243     		mvns r2, r2
 838 0592 0132     		adds r2, r2, # 1
 839 0594 DB43     		mvns r3, r3
 840 0596 0133     		adds r3, r3, # 1
 841              		@h*f
 842 0598 574E     		ldr r6, = pm3
 843 059a 584F     		ldr r7, = pm3i
 844 059c 3668     		ldr r6, [r6]
 845 059e 3F68     		ldr r7, [r7]
 846              	        @hf*a
 847              	        @d*b
 848              		@db*i=0
 849              		@a*e*i+b*f*g+d*h*c-g*e*c-h*f*a-d*b*i
 850 05a0 0019     		adds r0, r0, r4
 851 05a2 4919     		adds r1, r1, r5
 852 05a4 801A     		subs r0, r0, r2
 853 05a6 C91A     		subs r1, r1, r3
 854 05a8 801B     		subs r0, r0, r6
 855 05aa C91B     		subs r1, r1, r7
 856 05ac FCBD     		pop {r2-r7,pc}
 857              	__det3:
 858 05ae FCB5     	        push {r2-r7,lr}
 859              	        @a b c
 860              	        @d e f
 861              	        @g h i
 862              	        @a*e
 863 05b0 4F48     		ldr r0, = pm2
 864 05b2 5049     		ldr r1, = pm2i
 865 05b4 0068     		ldr r0, [r0]
 866 05b6 0968     		ldr r1, [r1]
 867 05b8 0446     		mov r4, r0
 868 05ba 0D46     		mov r5, r1
 869 05bc C043     		mvns r0, r0
 870 05be 0130     		adds r0, r0, # 1
 871 05c0 C943     		mvns r1, r1
 872 05c2 0131     		adds r1, r1, # 1
 873              	        @ae*i
 874 05c4 4C4A     		ldr r2, = pm3
 875 05c6 4D4B     		ldr r3, = pm3i
 876 05c8 1268     		ldr r2, [r2]
 877 05ca 1B68     		ldr r3, [r3]
 878 05cc 00F029F8 		bl __fu_shu_cheng_fa
 879 05d0 03B4     		push {r0-r1}
 880              	        @b*f
 881 05d2 4548     	        ldr r0, = pm1
 882 05d4 4549     	        ldr r1, = pm1i
 883 05d6 0068     	        ldr r0, [r0]
ARM GAS  1.s 			page 17


 884 05d8 0968     	        ldr r1, [r1]
 885 05da 0646     		mov r6, r0
 886 05dc 0F46     		mov r7, r1
 887 05de 2246     		mov r2, r4
 888 05e0 2B46     		mov r3, r5
 889 05e2 00F01EF8 		bl __fu_shu_cheng_fa
 890 05e6 03B4     		push {r0-r1}
 891              	        @bf*g
 892              	        @d*h=0
 893              	        @dh*c=0
 894              	        @g*e
 895 05e8 3046     		mov r0, r6
 896 05ea 3946     		mov r1, r7
 897 05ec E243     		mvns r2, r4
 898 05ee 0132     		adds r2, r2, # 1
 899 05f0 EB43     		mvns r3, r5
 900 05f2 0133     		adds r3, r3, # 1
 901              	        @ge*c
 902 05f4 00F015F8 		bl __fu_shu_cheng_fa
 903 05f8 03B4     		push {r0-r1}
 904              		@h*f=0
 905              	        @hf*a=0
 906              	        @d*b
 907 05fa 3246     		mov r2, r6
 908 05fc 3B46     		mov r3, r7
 909              		@db*i
 910 05fe 3E48     		ldr r0, = pm3
 911 0600 3E49     		ldr r1, = pm3i
 912 0602 0068     		ldr r0, [r0]
 913 0604 0968     		ldr r1, [r1]
 914 0606 00F00CF8 		bl __fu_shu_cheng_fa
 915 060a 0646     		mov r6, r0
 916 060c 0F46     		mov r7, r1
 917 060e 30BC     		pop {r4-r5}
 918 0610 0CBC     		pop {r2-r3}
 919 0612 03BC     		pop {r0-r1}
 920              		@a*e*i+b*f*g+d*h*c-g*e*c-h*f*a-d*b*i
 921 0614 8018     		adds r0, r0, r2
 922 0616 C918     		adds r1, r1, r3
 923 0618 001B     		subs r0, r0, r4
 924 061a 491B     		subs r1, r1, r5
 925 061c 801B     		subs r0, r0, r6
 926 061e C91B     		subs r1, r1, r7
 927 0620 FCBD     		pop {r2-r7,pc}
 928              	__fu_shu_cheng_fa:
 929 0622 FCB5     		push {r2-r7,lr}
 930              		@r0=a,r1=b,r2=c,r3=d
 931 0624 0446     	        mov r4, r0      @a
 932 0626 0D46     	        mov r5, r1      @b
 933 0628 1646     		mov r6, r2	@c
 934 062a 1F46     		mov r7, r3	@d
 935 062c 5043     	        muls r0, r0, r2 @a*c
 936 062e 5943     		muls r1, r1, r3 @b*d
 937 0630 401A     	        subs r0, r0, r1 @ac-bd
 938 0632 7C43     	        muls r4, r4, r7 @a*d
 939 0634 7543     	        muls r5, r5, r6 @b*c
 940 0636 6419     	        adds r4, r4, r5 @ad+bc
ARM GAS  1.s 			page 18


 941 0638 2146     		mov r1, r4
 942 063a FCBD     		pop {r2-r7,pc}
 943              	__osm_jiao_zhun:
 944 063c F9B5     		push {r0,r3-r7,lr}
 945 063e 1848     		ldr r0, = p_shibu
 946 0640 1B49     		ldr r1, = p_xubu
 947 0642 0068     		ldr r0, [r0]
 948 0644 0968     		ldr r1, [r1]
 949              	@	ldr r0, = -188
 950              	@	ldr r1, = 247
 951 0646 0446     		mov r4, r0	@a
 952 0648 0D46     		mov r5, r1	@b
 953 064a 1D4A     		ldr r2, = kai_lu_r 	@开路R
 954 064c 2C4B     		ldr r3, = kai_lu_i	@开路I
 955 064e 1268     		ldr r2, [r2]
 956 0650 1B68     		ldr r3, [r3]
 957 0652 2C4E     		ldr r6, = duan_lu_r	@c	@短路R
 958 0654 2C4F     		ldr r7, = duan_lu_i	@d	@短路I
 959 0656 3668     		ldr r6, [r6]
 960 0658 3F68     		ldr r7, [r7]
 961 065a 801A     		subs r0, r0, r2
 962 065c C91A     		subs r1, r1, r3
 963 065e 2246     		mov r2, r4	@a
 964 0660 2B46     		mov r3, r5	@b
 965 0662 7443     		muls r4, r4, r6	@a*c
 966 0664 7D43     		muls r5, r5, r7	@b*d
 967 0666 641B     		subs r4, r4, r5	@ac-bd
 968 0668 7A43     		muls r2, r2, r7	@a*d
 969 066a 7343     		muls r3, r3, r6	@b*c
 970 066c D218     		adds r2, r2, r3	@ad+bc
 971 066e 0746     		mov r7, r0
 972 0670 0B46     		mov r3, r1
 973 0672 2046     		mov r0, r4
 974 0674 1649     		ldr r1, = 1000
 975 0676 00F0A2FA 		bl __chu_fa
 976 067a 0446     		mov r4, r0
 977 067c 1046     		mov r0, r2
 978 067e 1449     		ldr r1, = 1000
 979 0680 00F09DFA 		bl __chu_fa
 980 0684 0246     		mov r2, r0
 981 0686 214D     		ldr r5, = pi_pei_r		@50欧姆R
 982 0688 214E     		ldr r6, = pi_pei_i		@50欧姆I
 983 068a 2D68     		ldr r5, [r5]
 984 068c 3668     		ldr r6, [r6]
 985 068e 641B     		subs r4, r4, r5
 986 0690 921B     		subs r2, r2, r6
 987 0692 3846     		mov r0, r7
 988 0694 1946     		mov r1, r3
 989 0696 1346     		mov r3, r2
 990 0698 2246     		mov r2, r4
 991 069a 00F0B7F9 		bl __fu_shu_chu_fa
 992 069e F9BD     		pop {r0,r3-r7,pc}
 993 06a0 04010020 		.ltorg
 993      64080000 
 993      60080000 
 993      00000020 
 993      18010020 
ARM GAS  1.s 			page 19


 994              		
 995              		
 996              	__an_jian:
 997 0714 0EB5     		push {r1-r3,lr}
 998 0716 1F48     		ldr r0, = 0x48000010
 999 0718 1F49     		ldr r1, = 0x48000410
 1000 071a 0268     		ldr r2, [r0]	@pa4
 1001 071c 0B68     		ldr r3, [r1]	@pb1
 1002 071e D206     		lsls r2, r2, # 27
 1003 0720 D20F     		lsrs r2, r2, # 31
 1004 0722 9B07     		lsls r3, r3, # 30
 1005 0724 9B0F     		lsrs r3, r3, # 30
 1006 0726 1343     		orrs r3, r3, r2
 1007 0728 1846     		mov r0, r3	
 1008 072a 0EBD     		pop {r1-r3,pc}
 1009              	__atan2_ji_suan:
 1010              		@入口R0=实部，R1=虚部，结果=R0
 1011 072c FCB5     		push {r2-r7,lr}
 1012 072e 4246     		mov r2, r8
 1013 0730 04B4     		push {r2}
 1014 0732 1A4B     		ldr r3, = cordic_yong_cos_sin
 1015 0734 0A22     		movs r2, # 10
 1016 0736 5043     		muls r0, r0, r2
 1017 0738 5143     		muls r1, r1, r2
 1018 073a 0022     		movs r2, # 0
 1019 073c 9046     		mov r8, r2
 1020 073e 184C     		ldr r4, = 9000
 1021 0740 E403     		lsls r4, r4, # 15
 1022              	__cordic_atan2_xun_huan:	
 1023              	__du_cos_sin:	
 1024 0742 1D68     		ldr r5, [r3]	@cos
 1025 0744 0433     		adds r3, r3, # 4
 1026 0746 2F46     		mov r7, r5
 1027 0748 1E68     		ldr r6, [r3]	@sin
 1028 074a 0433     		adds r3, r3, # 4
 1029 074c 3246     		mov r2, r6
 1030 074e 4543     	        muls r5, r5, r0         @x*cos
 1031 0750 4243     	        muls r2, r2, r0         @x*sin
 1032 0752 4E43     	        muls r6, r6, r1         @y*sin
 1033 0754 4F43     	        muls r7, r7, r1         @y*cos
 1034 0756 0900     		movs r1, r1
 1035 0758 05D5     		bpl __ni_shi_zhen_zhuan
 1036              	__shun_shi_zhen_zhuan:
 1037 075a AD1B     		subs r5, r5, r6
 1038 075c BF18     		adds r7, r7, r2
 1039 075e 4646     		mov r6, r8
 1040 0760 3619     		adds r6, r6, r4
 1041 0762 B046     		mov r8, r6
 1042 0764 04E0     		b __xuan_zhuan_wan
 1043              	__ni_shi_zhen_zhuan:
 1044 0766 AD19     		adds r5, r5, r6
 1045 0768 BF1A     		subs r7, r7, r2
 1046 076a 4646     		mov r6, r8
 1047 076c 361B     		subs r6, r6, r4
 1048 076e B046     		mov r8, r6
 1049              	__xuan_zhuan_wan:
 1050 0770 0A4E     		ldr r6, = cordic_yong_cos_sin
ARM GAS  1.s 			page 20


 1051 0772 2022     		movs r2, # 32
 1052 0774 9200     		lsls r2, r2, # 2
 1053 0776 B618     		adds r6, r6, r2
 1054 0778 AD13     		asrs r5, r5, # 14
 1055 077a BF13     		asrs r7, r7, # 14
 1056 077c 2846     		mov r0, r5
 1057 077e 3946     		mov r1, r7
 1058 0780 6408     		lsrs r4, r4, # 1	@旋转
 1059 0782 B342     		cmp r3,	r6 
 1060 0784 DDD1     		bne __cordic_atan2_xun_huan
 1061 0786 4046     		mov r0, r8
 1062 0788 C043     		mvns r0, r0
 1063 078a 0130     		adds r0, r0, # 1
 1064 078c C013     		asrs r0, r0, # 15
 1065 078e 4246     		mov r2, r8
 1066 0790 04BC     		pop {r2}
 1067 0792 FCBD     		pop {r2-r7,pc}
 1068 0794 10000048 		.ltorg
 1068      10040048 
 1068      D0070000 
 1068      28230000 
 1069              	
 1070              	
 1071              	__xian_shi_ru_she_fan_she:
 1072              	@入口 R0= 下臂实部，R1=上臂实部，R2=下臂虚部，R3=上臂虚部
 1073 07a4 FFB5     		push {r0-r7,lr}
 1074 07a6 4046     		mov r0, r8
 1075 07a8 4946     	        mov r1, r9
 1076 07aa 5246     	        mov r2, r10
 1077 07ac 5B46     		mov r3, r11
 1078 07ae 6446     		mov r4, r12
 1079 07b0 1FB4     	        push {r0-r4}
 1080 07b2 8C48     		ldr r0, = fanshe_r
 1081 07b4 8268     		ldr r2, [r0, # 0x08]
 1082 07b6 4168     		ldr r1, [r0, # 0x04]
 1083 07b8 C368     		ldr r3, [r0, # 0x0c]
 1084 07ba 0068     		ldr r0, [r0]
 1085 07bc 8046     		mov r8, r0
 1086 07be 8946     		mov r9, r1
 1087 07c0 9246     		mov r10, r2
 1088 07c2 9B46     		mov r11, r3
 1089              	@显示上臂实部
 1090 07c4 1400     		movs r4, r2
 1091 07c6 07D5     		bpl __ru_she_shi_bu_zheng
 1092 07c8 8620     	        movs r0, # 0x86
 1093 07ca 8749     	        ldr r1, = _fu
 1094 07cc 0122     	        movs r2, # 1
 1095 07ce 00F07FF8 	        bl _lcdxianshi
 1096 07d2 E443     		mvns r4, r4
 1097 07d4 0134     		adds r4, r4, # 1
 1098 07d6 04E0     		b __xian_shi_ru_she_shi_bu
 1099              	__ru_she_shi_bu_zheng:	
 1100 07d8 8620     	        movs r0, # 0x86
 1101 07da 8449     		ldr r1, = kong
 1102 07dc 0122     	        movs r2, # 1
 1103 07de 00F077F8 	        bl _lcdxianshi
 1104              	__xian_shi_ru_she_shi_bu:
ARM GAS  1.s 			page 21


 1105 07e2 2046     		mov r0, r4
 1106 07e4 0421     		movs r1, # 4
 1107 07e6 824A     		ldr r2, = asciimabiao
 1108 07e8 FF23     		movs r3, # 0xff
 1109 07ea 00F0C0F8 		bl _zhuanascii
 1110 07ee 8720     		movs r0, # 0x87
 1111 07f0 7F49     		ldr r1, = asciimabiao
 1112 07f2 0422     		movs r2, # 4
 1113 07f4 00F06CF8 		bl _lcdxianshi
 1114              	@显示上臂虚部
 1115 07f8 5C46     	        mov r4, r11
 1116 07fa 2400     		movs r4, r4
 1117 07fc 07D5     	        bpl __ru_she_xu_bu_zheng
 1118 07fe 8B20     	        movs r0, # 0x8b
 1119 0800 7949     	        ldr r1, = _fu
 1120 0802 0122     	        movs r2, # 1
 1121 0804 00F064F8 	        bl _lcdxianshi
 1122 0808 E443     	        mvns r4, r4
 1123 080a 0134     	        adds r4, r4, # 1
 1124 080c 04E0     	        b __xian_shi_ru_she_xu_bu
 1125              	__ru_she_xu_bu_zheng:
 1126 080e 8B20     	        movs r0, # 0x8b
 1127 0810 7649     		ldr r1, = kong
 1128 0812 0122     	        movs r2, # 1
 1129 0814 00F05CF8 	        bl _lcdxianshi
 1130              	__xian_shi_ru_she_xu_bu:
 1131 0818 2046     	        mov r0, r4
 1132 081a 0421     	        movs r1, # 4
 1133 081c 744A     	        ldr r2, = asciimabiao
 1134 081e FF23     	        movs r3, # 0xff
 1135 0820 00F0A5F8 		bl _zhuanascii
 1136 0824 8C20     		movs r0, # 0x8c
 1137 0826 7249     	        ldr r1, = asciimabiao
 1138 0828 0422     	        movs r2, # 4
 1139 082a 00F051F8 		bl _lcdxianshi
 1140              	@显示下臂实部：
 1141 082e 4446     	        mov r4, r8
 1142 0830 2400     		movs r4, r4
 1143 0832 07D5     	        bpl __fan_she_shi_bu_zheng
 1144 0834 C620     	        movs r0, # 0xc6
 1145 0836 6C49     	        ldr r1, = _fu
 1146 0838 0122     	        movs r2, # 1
 1147 083a 00F049F8 	        bl _lcdxianshi
 1148 083e E443     	        mvns r4, r4
 1149 0840 0134     		adds r4, r4, # 1
 1150 0842 04E0     		b __xian_shi_fan_she_shi_bu
 1151              	__fan_she_shi_bu_zheng:
 1152 0844 C620     	        movs r0, # 0xc6
 1153 0846 6949     	        ldr r1, = kong
 1154 0848 0122     	        movs r2, # 1
 1155 084a 00F041F8 		bl _lcdxianshi
 1156              	__xian_shi_fan_she_shi_bu:
 1157 084e 2046     		mov r0, r4
 1158 0850 0421     		movs r1, # 4
 1159 0852 674A     		ldr r2, = asciimabiao
 1160 0854 FF23     		movs r3, # 0xff
 1161 0856 00F08AF8 		bl _zhuanascii
ARM GAS  1.s 			page 22


 1162 085a C720     	        movs r0, # 0xc7
 1163 085c 6449     	        ldr r1, = asciimabiao
 1164 085e 0422     	        movs r2, # 4
 1165 0860 00F036F8 	        bl _lcdxianshi
 1166              	
 1167              	@显示下臂虚部
 1168 0864 4C46     		mov r4, r9
 1169 0866 2400     		movs r4, r4
 1170 0868 07D5     	        bpl __fan_she_xu_bu_zheng
 1171 086a CB20     	        movs r0, # 0xcb
 1172 086c 5E49     	        ldr r1, = _fu
 1173 086e 0122     	        movs r2, # 1
 1174 0870 00F02EF8 	        bl _lcdxianshi
 1175 0874 E443     	        mvns r4, r4
 1176 0876 0134     	        adds r4, r4, # 1
 1177 0878 04E0     	        b __xian_shi_fan_she_xu_bu
 1178              	__fan_she_xu_bu_zheng:
 1179 087a CB20     	        movs r0, # 0xcb
 1180 087c 5B49     	        ldr r1, = kong
 1181 087e 0122     	        movs r2, # 1
 1182 0880 00F026F8 	        bl _lcdxianshi
 1183              	__xian_shi_fan_she_xu_bu:
 1184 0884 2046     	        mov r0, r4
 1185 0886 0421     	        movs r1, # 4
 1186 0888 594A     	        ldr r2, = asciimabiao
 1187 088a FF23     	        movs r3, # 0xff
 1188 088c 00F06FF8 	        bl _zhuanascii
 1189 0890 CC20     	        movs r0, # 0xcc
 1190 0892 5749     	        ldr r1, = asciimabiao
 1191 0894 0422     	        movs r2, # 4
 1192 0896 00F01BF8 	        bl _lcdxianshi
 1193 089a 1FBC     	        pop {r0-r4}
 1194 089c 8046     	        mov r8, r0
 1195 089e 8946     	        mov r9, r1
 1196 08a0 9246     	        mov r10, r2
 1197 08a2 9B46     	        mov r11, r3
 1198 08a4 A446     	        mov r12, r4
 1199 08a6 FFBD     		pop {r0-r7,pc}
 1200              	
 1201              	
 1202              	_lvboqi:
 1203              				@滤波器
 1204              				@R0=地址，R1=长度,r2=表指针地址,r3=ADC数值
 1205              				@出R0=结果
 1206 08a8 FEB5     		push {r1-r7,lr}	
 1207 08aa 1568     		ldr r5, [r2]		@读出表指针
 1208 08ac 8E00     		lsls r6, r1, # 2	
 1209 08ae 4351     		str r3, [r0, r5]	@数值写到滤波器缓冲区
 1210 08b0 0435     		adds r5, r5, # 4
 1211 08b2 B542     		cmp r5, r6
 1212 08b4 00D1     		bne _lvboqimeidaohuanchongquding
 1213 08b6 0025     		movs r5, # 0
 1214              	_lvboqimeidaohuanchongquding:
 1215 08b8 1560     		str r5, [r2]
 1216 08ba 0027     		movs r7, # 0
 1217              	_lvboqixunhuan:
 1218 08bc B542     		cmp r5, r6
ARM GAS  1.s 			page 23


 1219 08be 00D1     		bne _lvbozonghe
 1220 08c0 0025     		movs r5, # 0
 1221              	_lvbozonghe:
 1222 08c2 4459     		ldr r4, [r0, r5]
 1223 08c4 0435     		adds r5, r5, # 4
 1224 08c6 3F19     		adds r7, r7, r4
 1225 08c8 0139     		subs r1, r1, # 1
 1226 08ca F7D1     		bne _lvboqixunhuan
 1227 08cc F811     		asrs r0, r7, # 7	@修改
 1228 08ce FEBD     		pop {r1-r7,pc}
 1229              	_lcdxianshi:	  		@r0=LCD位置，r1=数据地址，r2=长度
 1230 08d0 1FB5     		push {r0-r4,lr}
 1231 08d2 0C46     		mov r4, r1
 1232              	
 1233 08d4 0021     		movs r1, # 0
 1234 08d6 00F00EF8 		bl _xielcd
 1235              	
 1236 08da 0121     		movs r1, # 1
 1237 08dc 0023     		movs r3, # 0
 1238              	_lcdxianshixunhuan:
 1239 08de E05C     		ldrb r0, [r4,r3]
 1240 08e0 00F009F8 		bl _xielcd
 1241 08e4 0133     		adds r3, r3, # 1
 1242 08e6 9342     		cmp r3, r2
 1243 08e8 F9D1     		bne _lcdxianshixunhuan
 1244 08ea 1FBD     		pop {r0-r4,pc}
 1245              	
 1246              	_lcdyanshi:
 1247 08ec 20B5     		push {r5,lr}
 1248 08ee 414D     		ldr r5, = 0x1000
 1249              	_lcdyanshixunhuan:
 1250 08f0 013D     		subs r5, r5, # 1
 1251 08f2 FDD1     		bne _lcdyanshixunhuan
 1252 08f4 20BD     		pop {r5,pc}
 1253              	
 1254              	_xielcd:			@入R0=8位,r1=0命令,r1=1数据
 1255 08f6 3FB5     		push {r0-r5,lr}
 1256 08f8 3F4C     		ldr r4, = liangcheng  @ 量程开关 (第6位和第7位)
 1257 08fa 0246     		mov r2, r0
 1258 08fc 2568     		ldr r5, [r4]
 1259 08fe 1209     		lsrs r2, r2, # 4
 1260 0900 9200     		lsls r2, r2, # 2	@ 高四位
 1261 0902 0007     		lsls r0, r0, # 28
 1262 0904 800E     		lsrs r0, r0, # 26	@ 低四位
 1263 0906 C907     		lsls r1, r1, # 31
 1264 0908 01D5     		bpl __lcd_ming_ling
 1265              	__lcd_shu_ju:
 1266 090a 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 1267 090c 00E0     		b __xie_lcd_shu_ju
 1268              	__lcd_ming_ling:
 1269 090e 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 1270              	__xie_lcd_shu_ju:
 1271 0910 5B19     		adds r3, r3, r5
 1272 0912 0146     		mov r1, r0
 1273 0914 D218     		adds r2, r2, r3
 1274 0916 1000     		movs r0, r2
 1275 0918 00F00BF8 		bl __74hc595
ARM GAS  1.s 			page 24


 1276 091c 0238     		subs r0, r0, # 0x02
 1277 091e 00F008F8 		bl __74hc595
 1278 0922 0846     		mov r0, r1
 1279 0924 C018     		adds r0, r0, r3
 1280 0926 00F004F8 		bl __74hc595
 1281 092a 0238     		subs r0, r0, # 0x02
 1282 092c 00F001F8 		bl __74hc595
 1283 0930 3FBD     		pop {r0-r5,pc}
 1284              		
 1285              	__74hc595:			@ 入R0=8位
 1286 0932 FFB5     		push {r0-r7,lr}
 1287 0934 314E     		ldr r6, = 0x48000000
 1288 0936 2025     		movs r5, # 0x20		@ SRCLK
 1289 0938 4022     		movs r2, # 0x40		@ RCLK
 1290 093a 8023     		movs r3, # 0x80		@ SER
 1291 093c 1824     		movs r4, # 24
 1292              	__595_yiweixunhuan:
 1293 093e B262     		str r2, [r6, # 0x28]	@ rclk=0
 1294 0940 B562     		str r5, [r6, # 0x28]	@ srclk=0
 1295              		@ovs r7, # 0xff
 1296 0942 2F4F     		ldr r7, = 0x1ff
 1297              	__595_yanshi:
 1298 0944 013F     		subs r7, r7, # 1
 1299 0946 FDD1     		bne __595_yanshi
 1300 0948 0146     		mov r1, r0
 1301 094a A140     		lsls r1, r1, r4
 1302 094c 01D5     		bpl __ser_0
 1303              	__ser_1:
 1304 094e B361     		str r3, [r6, # 0x18]	@ ser=1
 1305 0950 00E0     		b __595_yiwei
 1306              	__ser_0:
 1307 0952 B362     		str r3, [r6, # 0x28]	@ ser=0
 1308              	__595_yiwei:
 1309 0954 B561     		str r5, [r6, # 0x18]
 1310              		@movs r7, # 0xff
 1311 0956 2A4F     		ldr r7, = 0x1ff
 1312              	__595_yanshi1:
 1313 0958 013F     		subs r7, r7, # 1
 1314 095a FDD1     		bne __595_yanshi1
 1315 095c 0134     		adds r4, r4, # 1
 1316 095e 202C     		cmp r4, # 32
 1317 0960 EDD1     		bne __595_yiweixunhuan
 1318 0962 B261     		str r2, [r6, # 0x18]	@ rclk=1
 1319              		@movs r7, # 0xff
 1320 0964 264F     		ldr r7, = 0x1ff
 1321              	__595_yanshi2:
 1322 0966 013F     		subs r7, r7, # 1
 1323 0968 FDD1     		bne __595_yanshi2
 1324 096a B262     		str r2, [r6, # 0x28]	@ rclk = 0
 1325 096c FFBD     		pop {r0-r7,pc}
 1326              	
 1327              	
 1328              	
 1329              	_zhuanascii:					@ 16进制转ASCII
 1330              			@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 1331 096e FFB5     		push {r0-r7,lr}
 1332 0970 1F46     		mov r7, r3
ARM GAS  1.s 			page 25


 1333 0972 0546     		mov r5, r0
 1334 0974 0E46     		mov r6, r1
 1335 0976 0A21     		movs r1, # 10
 1336              	_xunhuanqiuma:
 1337 0978 00F00EF9 		bl _chufa
 1338 097c 0446     		mov r4, r0
 1339 097e 4C43     		muls r4, r1
 1340 0980 2B1B     		subs r3, r5, r4
 1341 0982 3033     		adds r3, r3, # 0x30
 1342 0984 0546     		mov r5, r0
 1343 0986 013E     		subs r6, r6, # 1
 1344 0988 08D0     		beq _qiumafanhui
 1345 098a BE42     		cmp r6, r7
 1346 098c 02D1     		bne _meidaoxiaoshudian
 1347 098e 2E24     		movs r4, # 0x2e		@小数点
 1348 0990 9455     		strb r4, [r2,r6]	@插入小数点
 1349 0992 013E     		subs r6, r6, # 1
 1350              	_meidaoxiaoshudian:
 1351 0994 9355     		strb r3, [r2,r6]
 1352 0996 3600     		movs r6, r6
 1353 0998 EED1     		bne _xunhuanqiuma
 1354 099a FFBD     		pop {r0-r7,pc}
 1355              	_qiumafanhui:
 1356 099c 9355     		strb r3, [r2, r6]
 1357 099e FFBD     		pop {r0-r7,pc}
 1358              	__ji_suan_fu_du:    @ 计算幅度
 1359              	                @ 入r0= 实部，r1= 虚部
 1360              	                @ 出r0 = 幅度
 1361              	                @ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
 1362              	                @ Alpha * Max + Beta * Min
 1363 09a0 0EB5     	        push {r1-r3,lr}
 1364 09a2 0000     	        movs r0, r0
 1365 09a4 01D5     	        bpl _shibubushifushu
 1366 09a6 C043     	        mvns r0, r0                             @ 是负数转成正数
 1367 09a8 0130     	        adds r0, r0, # 1
 1368              	_shibubushifushu:                               @ 实部不是负数
 1369 09aa 0900     	        movs r1, r1
 1370 09ac 01D5     	        bpl _xububushifushu
 1371 09ae C943     	        mvns r1, r1                             @ 是负数转成正数
 1372 09b0 0131     	        adds r1, r1, # 1
 1373              	_xububushifushu:                                @ 虚部不是负数
 1374 09b2 0028     	        cmp r0, # 0
 1375 09b4 01D1     	        bne _panduanxubushibushi0
 1376 09b6 0846     	        mov r0, r1
 1377 09b8 0EBD     	        pop {r1-r3,pc}
 1378              	_panduanxubushibushi0:	
 1379 09ba 0029     		cmp r1, # 0
 1380 09bc 00D1     		bne _jisuanfudu1
 1381 09be 0EBD     		pop {r1-r3,pc}
 1382              	_jisuanfudu1:
 1383 09c0 104A     		ldr r2, = 31066		@ Alpha q15 0.948059448969
 1384 09c2 114B     		ldr r3, = 12867		@ Beta q15 0.392699081699
 1385 09c4 8142     		cmp r1, r0
 1386 09c6 06D8     		bhi _alpha_min_beta_max
 1387              	_alpha_max_beta_min:
 1388 09c8 5043     		muls r0, r0, r2
 1389 09ca 5943     		muls r1, r1, r3
ARM GAS  1.s 			page 26


 1390 09cc C013     		asrs r0, r0, # 15
 1391 09ce C913     		asrs r1, r1, # 15
 1392 09d0 4018     		adds r0, r0, r1
 1393 09d2 0121     		movs r1, # 1
 1394 09d4 0EBD     		pop {r1-r3,pc}
 1395              	_alpha_min_beta_max:
 1396 09d6 5843     		muls r0, r0, r3
 1397 09d8 5143     		muls r1, r1, r2
 1398 09da C013     		asrs r0, r0, # 15
 1399 09dc C913     		asrs r1, r1, # 15
 1400 09de 4018     		adds r0, r0, r1
 1401 09e0 0021     		movs r1, # 0
 1402 09e2 0EBD     		pop {r1-r3,pc}
 1403 09e4 DC000020 		.ltorg
 1403      64080000 
 1403      60080000 
 1403      00000020 
 1403      00100000 
 1404              	__fu_shu_chu_fa:
 1405 0a0c F0B5     		push {r4-r7,lr}
 1406              		@入口R0=a R1=b,R2=c R3=d
 1407              		@出口R1=虚部 R2=实部
 1408 0a0e 4446     		mov r4, r8
 1409 0a10 10B4     		push {r4}
 1410              	__ji_suan_chu_fa:
 1411              		@ Z=50*[(a+bi)/(c+di)]=50*[(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)]
 1412 0a12 0446     		mov r4, r0
 1413 0a14 0D46     		mov r5, r1
 1414 0a16 1646     		mov r6, r2
 1415              		@mov r7, r3
 1416 0a18 9846     		mov r8, r3
 1417 0a1a 0027     		movs r7,  # 0
 1418 0a1c 0000     	        movs r0, r0
 1419 0a1e 02D5     	        bpl b1
 1420 0a20 C043     	        mvns r0, r0
 1421 0a22 0130     	        adds r0, r0, # 1
 1422 0a24 0137     	        adds r7, r7, # 1
 1423              	
 1424              	b1:
 1425 0a26 1200     	        movs r2, r2
 1426 0a28 02D5     	        bpl b2
 1427 0a2a D243     		mvns r2, r2
 1428 0a2c 0132     	        adds r2, r2, # 1
 1429 0a2e 0137     	        adds r7, r7, # 1
 1430              	b2:
 1431 0a30 5043     		muls r0, r0, r2
 1432 0a32 012F     	        cmp r7, # 1
 1433 0a34 01D1     	        bne b3
 1434 0a36 C043     	        mvns r0, r0
 1435 0a38 0130     	        adds r0, r0, # 1
 1436              	b3:
 1437              		@muls r0, r0, r2		@ac
 1438 0a3a 0027     	        movs r7,  # 0
 1439 0a3c 0900     	        movs r1, r1
 1440 0a3e 02D5     	        bpl b4
 1441 0a40 C943     	        mvns r1, r1
 1442 0a42 0131     	        adds r1, r1, # 1
ARM GAS  1.s 			page 27


 1443 0a44 0137     	        adds r7, r7, # 1
 1444              	
 1445              	b4:
 1446 0a46 1B00     	        movs r3, r3
 1447 0a48 02D5     	        bpl b5
 1448 0a4a DB43     	        mvns r3, r3
 1449 0a4c 0133     	        adds r3, r3, # 1
 1450 0a4e 0137     	        adds r7, r7, # 1
 1451              	b5:
 1452 0a50 5943     	        muls r1, r1, r3
 1453 0a52 012F     	        cmp r7, # 1
 1454 0a54 01D1     	        bne b6
 1455 0a56 C943     	        mvns r1, r1
 1456 0a58 0131     	        adds r1, r1, # 1
 1457              	b6:
 1458              	
 1459              	@	muls r1, r1, r3		@bd
 1460 0a5a 4018     		adds r0, r0, r1		@ac+bd
 1461 0a5c 1200     		movs r2, r2
 1462 0a5e 05D5     		bpl b7
 1463 0a60 D243     		mvns r2, r2
 1464 0a62 0132     		adds r2, r2, # 1
 1465 0a64 5243     		muls r2, r2, r2
 1466 0a66 D243     		mvns r2, r2
 1467 0a68 0132     		adds r2, r2, # 1
 1468 0a6a 00E0     		b b8
 1469              	b7:	
 1470 0a6c 5243     	        muls r2, r2, r2         @c*c
 1471              	b8:
 1472 0a6e 1B00     		movs r3, r3
 1473 0a70 05D5     		bpl b9
 1474 0a72 DB43     		mvns r3, r3
 1475 0a74 0133     		adds r3, r3, # 1
 1476 0a76 5B43     		muls r3, r3, r3
 1477 0a78 DB43     		mvns r3, r3
 1478 0a7a 0133     		adds r3, r3, # 1
 1479 0a7c 00E0     		b b10
 1480              	b9:	
 1481 0a7e 5B43     		muls r3, r3, r3		@d*d
 1482              	b10:	
 1483 0a80 D218     		adds r2, r2, r3		@c*c+d*d
 1484 0a82 7E49     		ldr r1, = 1000
 1485 0a84 0023     		movs r3, # 0
 1486 0a86 0000     		movs r0, r0
 1487 0a88 02D5     		bpl a1
 1488 0a8a C043     		mvns r0, r0
 1489 0a8c 0130     		adds r0, r0, # 1
 1490 0a8e 0133     		adds r3, r3, # 1
 1491              	a1:
 1492 0a90 1200     		movs r2, r2
 1493 0a92 02D5     		bpl a2
 1494 0a94 D243     		mvns r2, r2
 1495 0a96 0132     		adds r2, r2, # 1
 1496 0a98 0133     		adds r3, r3, # 1
 1497              	a2:
 1498 0a9a 00F047F8 		bl __chengfa
 1499 0a9e 00F021F8 		bl __chufa64		@(ac+bd)/(c*c+d*d)
ARM GAS  1.s 			page 28


 1500 0aa2 012B     		cmp r3, # 1
 1501 0aa4 01D1     		bne a3
 1502 0aa6 C943     		mvns r1, r1
 1503 0aa8 0131     		adds r1, r1, # 1
 1504              	a3:	
 1505 0aaa 02B4     		push {r1}
 1506 0aac 4746     		mov r7, r8
 1507 0aae 7543     		muls r5, r5, r6		@ bc
 1508 0ab0 7C43     		muls r4, r4, r7		@ ad
 1509 0ab2 2D1B     		subs r5, r5, r4		@ bc-ad
 1510 0ab4 7149     		ldr r1, = 1000
 1511 0ab6 0023     		movs r3, # 0
 1512 0ab8 2800     		movs r0, r5
 1513 0aba 02D5     		bpl a4
 1514 0abc C043     		mvns r0, r0
 1515 0abe 0130     		adds r0, r0, # 1
 1516 0ac0 0133     		adds r3, r3, # 1
 1517              	a4:
 1518 0ac2 1200     		movs r2, r2
 1519 0ac4 02D5     		bpl a5
 1520 0ac6 D243     		mvns r2, r2
 1521 0ac8 0132     		adds r2, r2, # 1
 1522 0aca 0133     		adds r3, r3, # 1
 1523              	a5:
 1524 0acc 00F02EF8 		bl __chengfa
 1525 0ad0 00F008F8 		bl __chufa64
 1526 0ad4 012B     		cmp r3, # 1
 1527 0ad6 01D1     		bne __a6
 1528 0ad8 C943     		mvns r1, r1
 1529 0ada 0131     		adds r1, r1, # 1	@虚部
 1530              	__a6:	
 1531 0adc 04BC     		pop {r2}		@实
 1532 0ade 10BC     		pop {r4}
 1533 0ae0 A046     		mov r8, r4
 1534 0ae2 F0BD     		pop {r4-r7,pc}
 1535              	__chufa64:
 1536              	        @64位除32位
 1537              	        @ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1538 0ae4 F8B5     	        push {r3-r7,lr}
 1539 0ae6 002A     	        cmp r2, # 0
 1540 0ae8 1DD0     	        beq __chu_fa64_fan_hui0
 1541 0aea 0029     	        cmp r1, # 0
 1542 0aec 01D1     	        bne __chu_fa64_ji_suan
 1543 0aee 0028     	        cmp r0, # 0
 1544 0af0 19D0     	        beq __chu_fa64_fan_hui0
 1545              	__chu_fa64_ji_suan:	
 1546 0af2 0024     	        movs r4, # 0
 1547 0af4 2746     	        mov r7, r4
 1548 0af6 2346     	        mov r3, r4
 1549 0af8 2546     	        mov r5, r4
 1550 0afa 0126     	        movs r6, # 1
 1551 0afc F607     	        lsls r6, r6, # 31
 1552              	__chu_fa64_xun_huan:
 1553 0afe 4900     	        lsls r1, r1, # 1
 1554 0b00 4041     	        adcs r0, r0, r0
 1555 0b02 6441     	        adcs r4, r4, r4
 1556 0b04 9442     	        cmp r4, r2
ARM GAS  1.s 			page 29


 1557 0b06 02D3     	        bcc __chu_fa_yi_wei
 1558 0b08 9B19     	        adds r3, r3, r6
 1559 0b0a 7D41     	        adcs r5, r5, r7
 1560 0b0c A41A     	        subs r4, r4, r2
 1561              	__chu_fa_yi_wei:
 1562 0b0e 3600     	        movs r6, r6
 1563 0b10 04D0     	        beq __di_yi_wei
 1564 0b12 7608     	        lsrs r6, r6, # 1        @高32位移位
 1565 0b14 F3D1     	        bne __chu_fa64_xun_huan
 1566 0b16 0127     	        movs r7, # 1
 1567 0b18 FF07     	        lsls r7, r7, # 31
 1568 0b1a F0E7     	        b __chu_fa64_xun_huan
 1569              	__di_yi_wei:            @低32位移位
 1570 0b1c 7F08     		lsrs r7, r7, # 1
 1571 0b1e EED1     	        bne __chu_fa64_xun_huan
 1572 0b20 1846     	        mov r0, r3
 1573 0b22 2946     	        mov r1, r5
 1574 0b24 F8BD     	        pop {r3-r7,pc}
 1575              	__chu_fa64_fan_hui0:
 1576 0b26 0020     		movs r0, # 0
 1577 0b28 0021     		movs r1, # 0
 1578 0b2a F8BD     		pop {r3-r7,pc}
 1579              	__chengfa:
 1580              	        @入R0 乘以 R1
 1581              	        @出 R0高32 ， R1低32
 1582              		@0xffffffff*0xffffffff
 1583              	        @4        F F F E 0 0 0 1
 1584              	        @3                F F F E 0 0 0 1
 1585              	        @2                F F F E 0 0 0 1
 1586              	        @1                        F F F E 0 0 0 1
 1587              	        @         F F F F F F F E 0 0 0 0 0 0 0 1
 1588 0b2c FCB5     		push {r2-r7,lr}
 1589 0b2e 0028     	        cmp r0, # 0
 1590 0b30 1CD0     	        beq __cheng_fa_fan_hui
 1591 0b32 0029     	        cmp r1, # 0
 1592 0b34 1AD0     	        beq __cheng_fa_fan_hui
 1593              	__ji_suan_cheng_fa:	
 1594 0b36 0246     		mov r2, r0
 1595 0b38 0B46     		mov r3, r1
 1596 0b3a 000C     		lsrs r0, r0, # 16	@高16
 1597 0b3c 1204     		lsls r2, r2, # 16	@ 低16
 1598 0b3e 120C     		lsrs r2, r2, # 16
 1599 0b40 090C     	        lsrs r1, r1, # 16	@高16
 1600 0b42 1B04     		lsls r3, r3, # 16	@低16
 1601 0b44 1B0C     		lsrs r3, r3, # 16
 1602 0b46 1446     		mov r4, r2		
 1603 0b48 0546     		mov r5, r0		
 1604 0b4a 5A43     		muls r2, r2, r3		@1
 1605 0b4c 5843     		muls r0, r0, r3		@2
 1606 0b4e 4C43     		muls r4, r4, r1		@3
 1607 0b50 4D43     		muls r5, r5, r1		@4
 1608 0b52 0646     		mov r6, r0		@2
 1609 0b54 2746     		mov r7, r4		@3
 1610 0b56 0004     		lsls r0, r0, # 16	@2低
 1611 0b58 2404     		lsls r4, r4, # 16	@3低
 1612 0b5a 360C     		lsrs r6, r6, # 16	@2高
 1613 0b5c 3F0C     		lsrs r7, r7, # 16	@3高
ARM GAS  1.s 			page 30


 1614 0b5e 1218     		adds r2, r2, r0
 1615 0b60 6241     		adcs r2, r2, r4
 1616 0b62 7541     		adcs r5, r5, r6
 1617 0b64 7D41     		adcs r5, r5, r7
 1618 0b66 2846     		mov r0, r5
 1619 0b68 1146     		mov r1, r2
 1620 0b6a FCBD     		pop {r2-r7,pc}
 1621              	__cheng_fa_fan_hui:
 1622 0b6c 0020     		movs r0, # 0
 1623 0b6e 0021     		movs r1, # 0
 1624 0b70 FCBD     		pop {r2-r7,pc}
 1625              	__dai_yu_shu_chufa:                         @软件除法
 1626              	        @ r0 除以 r1 等于 商(r0)余R1
 1627 0b72 1CB5     	        push {r2-r4,lr}
 1628 0b74 0028     	        cmp r0, # 0
 1629 0b76 0ED0     	        beq __dai_yu_shu_chufafanhui
 1630 0b78 0029     	        cmp r1, # 0
 1631 0b7a 0CD0     	        beq __dai_yu_shu_chufafanhui
 1632 0b7c 0246     	        mov r2, r0
 1633 0b7e 0123     	        movs r3, # 1
 1634 0b80 DB07     	        lsls r3, r3, # 31
 1635 0b82 0020     	        movs r0, # 0
 1636 0b84 0446     	        mov r4, r0
 1637              	__dai_yu_shu_chufaxunhuan:
 1638 0b86 5200     	        lsls r2, r2, # 1
 1639 0b88 6441     	        adcs r4, r4, r4
 1640 0b8a 8C42     	        cmp r4, r1
 1641 0b8c 01D3     	        bcc __dai_yu_shu_chufaweishubudao0
 1642 0b8e C018     		adds r0, r0, r3
 1643 0b90 641A     	        subs r4, r4, r1
 1644              	__dai_yu_shu_chufaweishubudao0:
 1645 0b92 5B08     	        lsrs r3, r3, # 1
 1646 0b94 F7D1     	        bne __dai_yu_shu_chufaxunhuan
 1647              	__dai_yu_shu_chufafanhui:
 1648 0b96 1CBD     	        pop {r2-r4,pc}
 1649              	
 1650              	_chufa:				@软件除法
 1651              		@ r0 除以 r1 等于 商(r0)
 1652 0b98 1EB5     		push {r1-r4,lr}
 1653 0b9a 0028     		cmp r0, # 0
 1654 0b9c 0ED0     		beq _chufafanhui
 1655 0b9e 0029     		cmp r1, # 0
 1656 0ba0 0CD0     		beq _chufafanhui
 1657 0ba2 0246     		mov r2, r0
 1658 0ba4 0123     		movs r3, # 1
 1659 0ba6 DB07     		lsls r3, r3, # 31
 1660 0ba8 0020     		movs r0, # 0
 1661 0baa 0446     		mov r4, r0
 1662              	_chufaxunhuan:
 1663 0bac 5200     		lsls r2, r2, # 1
 1664 0bae 6441     		adcs r4, r4, r4
 1665 0bb0 8C42     		cmp r4, r1
 1666 0bb2 01D3     		bcc _chufaweishubudao0
 1667 0bb4 C018     		adds r0, r0, r3
 1668 0bb6 641A     		subs r4, r4, r1
 1669              	_chufaweishubudao0:
 1670 0bb8 5B08     		lsrs r3, r3, # 1
ARM GAS  1.s 			page 31


 1671 0bba F7D1     		bne _chufaxunhuan
 1672              	_chufafanhui:
 1673 0bbc 1EBD     		pop {r1-r4,pc}
 1674              	__chu_fa:	@带符号
 1675 0bbe FEB5     		push {r1-r7,lr}
 1676 0bc0 0028     	        cmp r0, # 0
 1677 0bc2 1DD0     	        beq _chufafanhui1
 1678 0bc4 0029     	        cmp r1, # 0
 1679 0bc6 1BD0     	        beq _chufafanhui1
 1680 0bc8 0025     		movs r5, # 0
 1681 0bca 0000     		movs r0, r0
 1682 0bcc 02D5     		bpl __pan_duan_bei_chu_shu
 1683 0bce 0135     		adds r5, r5, # 1
 1684 0bd0 C043     		mvns r0, r0
 1685 0bd2 0130     		adds r0, r0, # 1
 1686              	__pan_duan_bei_chu_shu:
 1687 0bd4 0900     		movs r1, r1
 1688 0bd6 02D5     		bpl __ji_suan_chu_fa11
 1689 0bd8 0135     		adds r5, r5, # 1
 1690 0bda C943     		mvns r1, r1
 1691 0bdc 0131     		adds r1, r1, # 1
 1692              	__ji_suan_chu_fa11:	
 1693 0bde 0246     	        mov r2, r0
 1694 0be0 0123     	        movs r3, # 1
 1695 0be2 DB07     	        lsls r3, r3, # 31
 1696 0be4 0020     	        movs r0, # 0
 1697 0be6 0446     	        mov r4, r0
 1698              	_chufaxunhuan1:
 1699 0be8 5200     	        lsls r2, r2, # 1
 1700 0bea 6441     	        adcs r4, r4, r4
 1701 0bec 8C42     	        cmp r4, r1
 1702 0bee 01D3     		bcc _chufaweishubudao00
 1703 0bf0 C018     		adds r0, r0, r3
 1704 0bf2 641A     		subs r4, r4, r1
 1705              	_chufaweishubudao00:
 1706 0bf4 5B08     		lsrs r3, r3, # 1
 1707 0bf6 F7D1     		bne _chufaxunhuan1
 1708 0bf8 012D     		cmp r5, # 1
 1709 0bfa 01D1     		bne _chufafanhui1
 1710 0bfc C043     		mvns r0, r0
 1711 0bfe 0130     		adds r0, r0, # 1
 1712              	_chufafanhui1:
 1713 0c00 FEBD     		pop {r1-r7,pc}
 1714              	
 1715              	__he_bing_dian_ya_biao:
 1716 0c02 FFB5     		push {r0-r7,lr}
 1717 0c04 1E48     		ldr r0, = zhengxiangbiao
 1718 0c06 1F49     		ldr r1, = fanxiangbiao
 1719 0c08 1F4A     		ldr r2, = 0x20000750
 1720 0c0a 0023     		movs r3, # 0
 1721 0c0c 1E46     		mov r6, r3
 1722 0c0e C827     		movs r7, # 200
 1723 0c10 9846     		mov r8, r3
 1724              	__he_bing_dian_ya_biao_xun_huan:
 1725 0c12 C45A     		ldrh r4, [r0, r3]
 1726 0c14 CD5A     		ldrh r5, [r1, r3]
 1727 0c16 9846     		mov r8, r3
ARM GAS  1.s 			page 32


 1728 0c18 AC42     		cmp r4, r5
 1729 0c1a 06D8     		bhi __zheng_dian_ya
 1730 0c1c 2B46     		mov r3, r5
 1731 0c1e 00F00EF8 		bl __zhuan_bcd
 1732 0c22 1A4D     		ldr r5, = 0x80000000
 1733 0c24 1D43     		orrs r5, r5, r3
 1734 0c26 9551     		str r5, [r2, r6]
 1735 0c28 03E0     		b __dian_ya_biao_jia
 1736              	__zheng_dian_ya:
 1737 0c2a 2346     		mov r3, r4
 1738 0c2c 00F007F8 		bl __zhuan_bcd
 1739 0c30 9351     		str r3, [r2, r6]
 1740              	__dian_ya_biao_jia:
 1741 0c32 4346     		mov r3, r8
 1742 0c34 0233     		adds r3, r3, # 2
 1743 0c36 0436     		adds r6, r6, # 4
 1744 0c38 013F     		subs r7, r7, # 1
 1745 0c3a EAD1     		bne __he_bing_dian_ya_biao_xun_huan
 1746 0c3c FFBD     		pop {r0-r7,pc}
 1747              		
 1748              	
 1749              	__zhuan_bcd:
 1750 0c3e F7B5     		push {r0-r2,r4-r7,lr}
 1751 0c40 0A21     		movs r1, # 10
 1752 0c42 1846     		mov r0, r3
 1753 0c44 1D46     		mov r5, r3
 1754 0c46 0826     		movs r6, # 8
 1755              	__bcd_xun_huan:
 1756 0c48 FFF7A6FF 		bl _chufa
 1757 0c4c 0446     		mov r4, r0
 1758 0c4e 4C43     		muls r4, r4, r1
 1759 0c50 2D1B     		subs r5, r5, r4
 1760 0c52 20B4     		push {r5}
 1761 0c54 0546     		mov r5, r0
 1762 0c56 013E     		subs r6, r6, # 1
 1763 0c58 F6D1     		bne __bcd_xun_huan
 1764 0c5a FFBC     		pop {r0-r7}
 1765 0c5c 3601     		lsls r6, r6, # 4
 1766 0c5e 2D02     		lsls r5, r5, # 8
 1767 0c60 2403     		lsls r4, r4, # 12
 1768 0c62 1B04     		lsls r3, r3, # 16
 1769 0c64 1205     		lsls r2, r2, # 20
 1770 0c66 0906     		lsls r1, r1, # 24
 1771 0c68 0007     		lsls r0, r0, # 28
 1772 0c6a 0343     		orrs r3, r3, r0
 1773 0c6c 0B43     		orrs r3, r3, r1
 1774 0c6e 1343     		orrs r3, r3, r2
 1775 0c70 2343     		orrs r3, r3, r4
 1776 0c72 2B43     		orrs r3, r3, r5
 1777 0c74 3343     		orrs r3, r3, r6
 1778 0c76 3B43     		orrs r3, r3, r7
 1779 0c78 F7BD     		pop {r0-r2,r4-r7,pc}
 1780 0c7a 0000E803 		.ltorg
 1780      00009003 
 1780      00202005 
 1780      00205007 
 1780      00200000 
ARM GAS  1.s 			page 33


 1781              	_nmi_handler:
 1782 0c90 7047     		bx lr
 1783              	_hard_fault:
 1784 0c92 7047     		bx lr
 1785              	_svc_handler:
 1786 0c94 7047     		bx lr
 1787              	_pendsv_handler:
 1788 0c96 7047     		bx lr
 1789              	_systickzhongduan:
 1790              	aaa:
 1791 0c98 7047     		bx lr
 1792              		.ltorg
 1793 0c9a C046     		.end
ARM GAS  1.s 			page 34


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 $d
                 1.s:10     .data:0000000000000000 zheng_xian_biao
                 1.s:13     .data:0000000000000190 xuan_zhuan_yin_zi
                 1.s:16     .data:00000000000007d0 cordic_yong_cos_sin
                 1.s:20     .data:0000000000000850 yjmwxwx
                 1.s:23     .data:0000000000000860 kong
                 1.s:25     .data:0000000000000864 _fu
                 1.s:27     .data:0000000000000865 ou
                 1.s:29     .data:0000000000000869 kai_lu_jiao_zhun
                 1.s:31     .data:0000000000000879 duan_lu_jiao_zhun
                 1.s:33     .data:0000000000000889 pi_pei_jiao_zhun
                 1.s:36     .data:00000000000008a0 cai_dan_biao
                 1.s:417    .text:00000000000001fc __cai_dan_0
                 1.s:421    .text:00000000000001fe __cai_dan_1
                 1.s:423    .text:0000000000000200 __cai_dan_2
                 1.s:425    .text:0000000000000202 __cai_dan_3
                 1.s:427    .text:0000000000000202 __cai_dan_4
                 1.s:428    .text:0000000000000202 __cai_dan_5
                 1.s:429    .text:0000000000000202 __cai_dan_6
                 1.s:45     *ABS*:0000000020001000 STACKINIT
                 1.s:46     *ABS*:0000000020000000 asciimabiao
                 1.s:47     *ABS*:00000000200000dc fanshe_r
                 1.s:48     *ABS*:00000000200000e0 fanshe_i
                 1.s:49     *ABS*:00000000200000e4 rushe_r
                 1.s:50     *ABS*:00000000200000e8 rushe_i
                 1.s:51     *ABS*:00000000200000ec liangcheng
                 1.s:52     *ABS*:00000000200000f0 fuhao
                 1.s:53     *ABS*:00000000200000f4 dmawan
                 1.s:54     *ABS*:00000000200000f8 jishu2
                 1.s:55     *ABS*:00000000200000fc jishu
                 1.s:56     *ABS*:0000000020000100 dianzu
                 1.s:57     *ABS*:0000000020000104 p_shibu
                 1.s:58     *ABS*:0000000020000108 swr_shibu
                 1.s:59     *ABS*:000000002000010c bingliandianzu
                 1.s:60     *ABS*:0000000020000110 jiedianchangshushibu
                 1.s:61     *ABS*:0000000020000114 diankang
                 1.s:62     *ABS*:0000000020000118 p_xubu
                 1.s:63     *ABS*:000000002000011c swr_xubu
                 1.s:64     *ABS*:0000000020000120 bingliandiankang
                 1.s:65     *ABS*:0000000020000124 jiedianchangshuxubu
                 1.s:66     *ABS*:0000000020000128 fan_she_shi_bu
                 1.s:67     *ABS*:0000000020000130 fan_she_xu_bu
                 1.s:68     *ABS*:0000000020000138 ru_she_shi_bu
                 1.s:69     *ABS*:000000002000013c ru_she_xu_bu
                 1.s:70     *ABS*:0000000020000140 zukangqiehuan
                 1.s:71     *ABS*:0000000020000144 caidan
                 1.s:72     *ABS*:0000000020000148 an_jian_yan_shi
                 1.s:73     *ABS*:000000002000014c tou_fan_qie_huan
                 1.s:74     *ABS*:0000000020000150 dianrongzhi
                 1.s:75     *ABS*:0000000020000154 jiaodu
                 1.s:76     *ABS*:0000000020000158 anjian
                 1.s:77     *ABS*:000000002000015c pm1
                 1.s:78     *ABS*:0000000020000160 pm1i
                 1.s:79     *ABS*:0000000020000164 pm2
                 1.s:80     *ABS*:0000000020000168 pm2i
                 1.s:81     *ABS*:000000002000016c pm3
ARM GAS  1.s 			page 35


                 1.s:82     *ABS*:0000000020000170 pm3i
                 1.s:83     *ABS*:0000000020000174 kailu_r
                 1.s:84     *ABS*:0000000020000178 kailu_i
                 1.s:85     *ABS*:000000002000017c duanlu_r
                 1.s:86     *ABS*:0000000020000180 duanlu_i
                 1.s:87     *ABS*:0000000020000184 pipei_r
                 1.s:88     *ABS*:0000000020000188 pipei_i
                 1.s:89     *ABS*:000000002000018c caidanzhizhen
                 1.s:90     *ABS*:0000000020000190 caidanyanshi
                 1.s:91     *ABS*:0000000020000194 jiaozhunkaiguan
                 1.s:92     *ABS*:00000000200001f8 dianyabiaozhizhen
                 1.s:93     *ABS*:00000000200001fc dianyabiaoman
                 1.s:94     *ABS*:0000000020000200 dianyabiao
                 1.s:95     *ABS*:0000000020000390 zhengxiangbiao
                 1.s:96     *ABS*:0000000020000520 fanxiangbiao
                 1.s:97     *ABS*:0000000020000a00 lvboqizhizhen
                 1.s:98     *ABS*:0000000020000a04 lvboqihuanchong
                 1.s:99     *ABS*:0000000020000b08 lvboqizhizhen1
                 1.s:100    *ABS*:0000000020000b0c lvboqihuanchong1
                 1.s:101    *ABS*:0000000020000c20 lvboqizhizhen2
                 1.s:102    *ABS*:0000000020000c24 lvboqihuanchong2
                 1.s:103    *ABS*:0000000020000d30 lvboqizhizhen3
                 1.s:104    *ABS*:0000000020000d34 lvboqihuanchong3
                 1.s:105    *ABS*:0000000008002000 kai_lu_r
                 1.s:106    *ABS*:0000000008002004 kai_lu_i
                 1.s:107    *ABS*:0000000008002008 duan_lu_r
                 1.s:108    *ABS*:000000000800200c duan_lu_i
                 1.s:109    *ABS*:0000000008002010 pi_pei_r
                 1.s:110    *ABS*:0000000008002014 pi_pei_i
                 1.s:112    .text:0000000000000000 vectors
                 1.s:158    .text:00000000000000b0 _start
                 1.s:1781   .text:0000000000000c90 _nmi_handler
                 1.s:1783   .text:0000000000000c92 _hard_fault
                 1.s:1785   .text:0000000000000c94 _svc_handler
                 1.s:1787   .text:0000000000000c96 _pendsv_handler
                 1.s:1789   .text:0000000000000c98 _systickzhongduan
                 1.s:1790   .text:0000000000000c98 aaa
                            .text:0000000000000000 $d
                 1.s:157    .text:00000000000000b0 $t
                 1.s:159    .text:00000000000000b0 shizhong
                 1.s:166    .text:00000000000000bc denghse
                 1.s:170    .text:00000000000000c2 dengpllguan
                 1.s:182    .text:00000000000000d6 dengpll
                 1.s:190    .text:00000000000000e0 _waisheshizhong
                 1.s:207    .text:00000000000000ee _neicunqingling
                 1.s:211    .text:00000000000000f4 _neicunqinglingxunhuan
                 1.s:215    .text:00000000000000fa _waishezhongduan
                 1.s:246    .text:0000000000000100 io_she_zhi
                 1.s:280    .text:0000000000000118 _lcdchushihua
                 1.s:1254   .text:00000000000008f6 _xielcd
                 1.s:1246   .text:00000000000008ec _lcdyanshi
                 1.s:1229   .text:00000000000008d0 _lcdxianshi
                 1.s:308    .text:0000000000000160 yjmwxwx_yanshi
                 1.s:312    .text:0000000000000164 _adcchushihua
                 1.s:316    .text:000000000000016a _dengadcjiaozhun
                 1.s:322    .text:0000000000000174 _kaiadc
                 1.s:327    .text:000000000000017c _deng_adc_wen_ding
ARM GAS  1.s 			page 36


                 1.s:331    .text:0000000000000182 _tongdaoxuanze
                 1.s:344    .text:000000000000019a dmachushihua
                 1.s:378    .text:00000000000001be tim1chushiha
                 1.s:403    .text:00000000000001ea adc_yanshi
                 1.s:459    .text:0000000000000236 __tong_dao_qie_huan
                 1.s:495    .text:0000000000000278 __DFT_ji_suan
                 1.s:413    .text:00000000000001fa ting
                 1.s:432    .text:0000000000000202 __cai_dan_diao_du
                 1.s:443    .text:0000000000000216 __cai_dan_zhi_zhen_jia
                 1.s:450    .text:0000000000000222 __cai_dan_qie_huan
                 1.s:477    .text:000000000000025e __tong_dao_qie_huan_yan_shi
                 1.s:484    .text:0000000000000268 __fu_zhi_nei_cun
                 1.s:480    .text:0000000000000262 __tong_dao_qie_huan_yan_shi_xun_huan
                 1.s:488    .text:000000000000026c __fu_zhi_xun_huan
                 1.s:509    .text:0000000000000290 __ji_suan_dft_xun_huan
                 1.s:515    .text:000000000000029a __qu_fan_r4
                 1.s:519    .text:00000000000002a0 __ji_suan_dft
                 1.s:545    .text:00000000000002d2 __xian_shi_jiao_du
                 1.s:558    .text:00000000000002ec __jiaodu_bu_shi_zheng
                 1.s:563    .text:00000000000002f6 __xian_shi_jiaodu
                 1.s:1329   .text:000000000000096e _zhuanascii
                 1.s:574    .text:000000000000030e $d
                 1.s:574    .text:0000000000000310 $d
                 1.s:576    .text:00000000000003d8 __xian_shi_fan_she_xi_shu
                 1.s:577    .text:00000000000003d8 $t
                 1.s:589    .text:00000000000003f2 __p_shibu_bu_shi_zheng
                 1.s:594    .text:00000000000003fc __xian_shi_p_shibu
                 1.s:616    .text:000000000000042a __p_xubu_bu_shi_zheng
                 1.s:621    .text:0000000000000434 __xian_shi_p_xubu
                 1.s:632    .text:000000000000044c _xieflash
                 1.s:643    .text:000000000000045e _flashmang
                 1.s:660    .text:000000000000047c _flashmang1
                 1.s:669    .text:000000000000048c _flashmang2
                 1.s:678    .text:000000000000049c _flashmang4
                 1.s:688    .text:00000000000004aa __jiaozhun
                 1.s:736    .text:000000000000051e __det
                 1.s:765    .text:0000000000000536 __det1
                 1.s:1674   .text:0000000000000bbe __chu_fa
                 1.s:1404   .text:0000000000000a0c __fu_shu_chu_fa
                 1.s:808    .text:000000000000056e __det2
                 1.s:857    .text:00000000000005ae __det3
                 1.s:928    .text:0000000000000622 __fu_shu_cheng_fa
                 1.s:943    .text:000000000000063c __osm_jiao_zhun
                 1.s:993    .text:00000000000006a0 $d
                 1.s:996    .text:0000000000000714 __an_jian
                 1.s:997    .text:0000000000000714 $t
                 1.s:1009   .text:000000000000072c __atan2_ji_suan
                 1.s:1022   .text:0000000000000742 __cordic_atan2_xun_huan
                 1.s:1023   .text:0000000000000742 __du_cos_sin
                 1.s:1043   .text:0000000000000766 __ni_shi_zhen_zhuan
                 1.s:1036   .text:000000000000075a __shun_shi_zhen_zhuan
                 1.s:1049   .text:0000000000000770 __xuan_zhuan_wan
                 1.s:1068   .text:0000000000000794 $d
                 1.s:1071   .text:00000000000007a4 __xian_shi_ru_she_fan_she
                 1.s:1073   .text:00000000000007a4 $t
                 1.s:1099   .text:00000000000007d8 __ru_she_shi_bu_zheng
                 1.s:1104   .text:00000000000007e2 __xian_shi_ru_she_shi_bu
ARM GAS  1.s 			page 37


                 1.s:1125   .text:000000000000080e __ru_she_xu_bu_zheng
                 1.s:1130   .text:0000000000000818 __xian_shi_ru_she_xu_bu
                 1.s:1151   .text:0000000000000844 __fan_she_shi_bu_zheng
                 1.s:1156   .text:000000000000084e __xian_shi_fan_she_shi_bu
                 1.s:1178   .text:000000000000087a __fan_she_xu_bu_zheng
                 1.s:1183   .text:0000000000000884 __xian_shi_fan_she_xu_bu
                 1.s:1202   .text:00000000000008a8 _lvboqi
                 1.s:1214   .text:00000000000008b8 _lvboqimeidaohuanchongquding
                 1.s:1217   .text:00000000000008bc _lvboqixunhuan
                 1.s:1221   .text:00000000000008c2 _lvbozonghe
                 1.s:1238   .text:00000000000008de _lcdxianshixunhuan
                 1.s:1249   .text:00000000000008f0 _lcdyanshixunhuan
                 1.s:1268   .text:000000000000090e __lcd_ming_ling
                 1.s:1265   .text:000000000000090a __lcd_shu_ju
                 1.s:1270   .text:0000000000000910 __xie_lcd_shu_ju
                 1.s:1285   .text:0000000000000932 __74hc595
                 1.s:1292   .text:000000000000093e __595_yiweixunhuan
                 1.s:1297   .text:0000000000000944 __595_yanshi
                 1.s:1306   .text:0000000000000952 __ser_0
                 1.s:1303   .text:000000000000094e __ser_1
                 1.s:1308   .text:0000000000000954 __595_yiwei
                 1.s:1312   .text:0000000000000958 __595_yanshi1
                 1.s:1321   .text:0000000000000966 __595_yanshi2
                 1.s:1336   .text:0000000000000978 _xunhuanqiuma
                 1.s:1650   .text:0000000000000b98 _chufa
                 1.s:1355   .text:000000000000099c _qiumafanhui
                 1.s:1350   .text:0000000000000994 _meidaoxiaoshudian
                 1.s:1358   .text:00000000000009a0 __ji_suan_fu_du
                 1.s:1368   .text:00000000000009aa _shibubushifushu
                 1.s:1373   .text:00000000000009b2 _xububushifushu
                 1.s:1378   .text:00000000000009ba _panduanxubushibushi0
                 1.s:1382   .text:00000000000009c0 _jisuanfudu1
                 1.s:1395   .text:00000000000009d6 _alpha_min_beta_max
                 1.s:1387   .text:00000000000009c8 _alpha_max_beta_min
                 1.s:1403   .text:00000000000009e4 $d
                 1.s:1405   .text:0000000000000a0c $t
                 1.s:1410   .text:0000000000000a12 __ji_suan_chu_fa
                 1.s:1424   .text:0000000000000a26 b1
                 1.s:1430   .text:0000000000000a30 b2
                 1.s:1436   .text:0000000000000a3a b3
                 1.s:1445   .text:0000000000000a46 b4
                 1.s:1451   .text:0000000000000a50 b5
                 1.s:1457   .text:0000000000000a5a b6
                 1.s:1469   .text:0000000000000a6c b7
                 1.s:1471   .text:0000000000000a6e b8
                 1.s:1480   .text:0000000000000a7e b9
                 1.s:1482   .text:0000000000000a80 b10
                 1.s:1491   .text:0000000000000a90 a1
                 1.s:1497   .text:0000000000000a9a a2
                 1.s:1579   .text:0000000000000b2c __chengfa
                 1.s:1535   .text:0000000000000ae4 __chufa64
                 1.s:1504   .text:0000000000000aaa a3
                 1.s:1517   .text:0000000000000ac2 a4
                 1.s:1523   .text:0000000000000acc a5
                 1.s:1530   .text:0000000000000adc __a6
                 1.s:1575   .text:0000000000000b26 __chu_fa64_fan_hui0
                 1.s:1545   .text:0000000000000af2 __chu_fa64_ji_suan
ARM GAS  1.s 			page 38


                 1.s:1552   .text:0000000000000afe __chu_fa64_xun_huan
                 1.s:1561   .text:0000000000000b0e __chu_fa_yi_wei
                 1.s:1569   .text:0000000000000b1c __di_yi_wei
                 1.s:1621   .text:0000000000000b6c __cheng_fa_fan_hui
                 1.s:1593   .text:0000000000000b36 __ji_suan_cheng_fa
                 1.s:1625   .text:0000000000000b72 __dai_yu_shu_chufa
                 1.s:1647   .text:0000000000000b96 __dai_yu_shu_chufafanhui
                 1.s:1637   .text:0000000000000b86 __dai_yu_shu_chufaxunhuan
                 1.s:1644   .text:0000000000000b92 __dai_yu_shu_chufaweishubudao0
                 1.s:1672   .text:0000000000000bbc _chufafanhui
                 1.s:1662   .text:0000000000000bac _chufaxunhuan
                 1.s:1669   .text:0000000000000bb8 _chufaweishubudao0
                 1.s:1712   .text:0000000000000c00 _chufafanhui1
                 1.s:1686   .text:0000000000000bd4 __pan_duan_bei_chu_shu
                 1.s:1692   .text:0000000000000bde __ji_suan_chu_fa11
                 1.s:1698   .text:0000000000000be8 _chufaxunhuan1
                 1.s:1705   .text:0000000000000bf4 _chufaweishubudao00
                 1.s:1715   .text:0000000000000c02 __he_bing_dian_ya_biao
                 1.s:1724   .text:0000000000000c12 __he_bing_dian_ya_biao_xun_huan
                 1.s:1736   .text:0000000000000c2a __zheng_dian_ya
                 1.s:1749   .text:0000000000000c3e __zhuan_bcd
                 1.s:1740   .text:0000000000000c32 __dian_ya_biao_jia
                 1.s:1755   .text:0000000000000c48 __bcd_xun_huan
                 1.s:1780   .text:0000000000000c7a $d
                 1.s:1780   .text:0000000000000c7c $d
                 1.s:1782   .text:0000000000000c90 $t

NO UNDEFINED SYMBOLS
