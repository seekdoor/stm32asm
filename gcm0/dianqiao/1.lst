ARM GAS  1.s 			page 1


   1              		@@ 单片机stm32f030f4p6
   2              		@@ 电桥						
   3              		@作者：yjmwxwx
   4              		@时间：2020-08-08
   5              		@编译器：ARM-NONE-EABI
   6              		.thumb
   7              		.syntax unified
   8              		.section .data
   9              		.align 4
  10              	
  11              	zheng_xian_100hz:
  12 0000 46464646 		.byte 0x46,0x46,0x46,0x46,0x46,0x46,0x46,0x46,0x46,0x46,0x47,0x47,0x47,0x47,0x47,0x47,0x47,0x47,0x
  12      46464646 
  12      46464747 
  12      47474747 
  12      47474748 
  13              	zheng_xian_1khz:
  14 0fa0 46474849 		.byte 0x46,0x47,0x48,0x49,0x4a,0x4b,0x4c,0x4d,0x4e,0x4f,0x50,0x51,0x53,0x54,0x55,0x56,0x57,0x58,0x
  14      4A4B4C4D 
  14      4E4F5051 
  14      53545556 
  14      5758595A 
  15              	zheng_xian_10khz:
  16 1130 05050505 		.byte 0x5,0x5,0x5,0x5,0x6,0x6,0x6,0x6,0x6,0x6,0x7,0x7,0x7,0x7,0x7,0x7,0x7,0x8,0x8,0x8,0x8,0x8,0x8,
  16      06060606 
  16      06060707 
  16      07070707 
  16      07080808 
  17              	zheng_xian_100khz:
  18 11f8 07090B0D 	        .byte  0x7,0x9,0xb,0xd,0xe,0xe,0xe,0xd,0xb,0x9,0x7,0x5,0x3,0x1,0x0,0x0,0x0,0x1,0x3,0x5
  18      0E0E0E0D 
  18      0B090705 
  18      03010000 
  18      00010305 
  19              	
  20 120c 00000000 		.align 4
  21              	xuan_zhuan_yin_zi:
  22 1210 00800000 		.int 0x8000,0x0000,0x678D,0xFFFFB4C4,0x278D,0xFFFF8644,0xFFFFD873,0xFFFF8644,0xFFFF9873,0xFFFFB4C4
  22      00000000 
  22      8D670000 
  22      C4B4FFFF 
  22      8D270000 
  23              		.align 4
  24              	cordic_yong_cos_sin:
  25 1e90 00000000 		.int 0x0000,0x4000,0x2D41,0x2D41,0x3B20,0x187D,0x3EC5,0x0C7C,0x3FB1,0x0645,0x3FEC,0x0323,0x3FFB,0x
  25      00400000 
  25      412D0000 
  25      412D0000 
  25      203B0000 
  26              		
  27              	pin_lv_biao:
  28 1f10 D9040000 		.word __pin_lv100   +1
  29 1f14 3D050000 		.word __pin_lv1K    +1
  30 1f18 A1050000 		.word __pin_lv10K   +1
  31 1f1c 05060000 		.word __pin_lv100K  +1
  32              	dang_wei_biao:
  33 1f20 4F070000 		.word __dang_wei0 +1
ARM GAS  1.s 			page 2


  34 1f24 79070000 		.word __dang_wei1 +1
  35 1f28 A1070000 		.word __dang_wei2 +1
  36 1f2c C9070000 		.word __dang_wei3 +1
  37 1f30 F1070000 		.word __dang_wei4 +1
  38 1f34 19080000 		.word __dang_wei5 +1
  39              	an_jian_biao:
  40 1f38 AB030000 		.word __an_jian0         	   	   +1	
  41 1f3c 37030000 		.word __dang_wei_jia     	   	   +1
  42 1f40 65030000 		.word __pin_lv_jia      	   	   +1
  43 1f44 93030000 		.word __an_jian3         	           +1
  44 1f48 99030000 		.word __an_jian4 		   	   +1
  45 1f4c 9F030000 		.word __an_jian5          	          +1
  46 1f50 A5030000 		.word __an_jian6 		          +1
  47 1f54 21030000 		.word __an_jian7			   +1
  48 1f58 00000000 		.align 4
  48      00000000 
  49              	yjmwxwx:
  50 1f60 796A6D77 		.ascii "yjmwxwx-20200808"
  50      7877782D 
  50      32303230 
  50      30383038 
  51              		.align 4
  52              	kong:
  53 1f70 20202020 		.int 0x20202020
  54              	_fu:
  55 1f74 2D       		.ascii "-"
  56              	hao_ou:
  57 1f75 6DF40000 		.int 0xf46d
  58              	ou:
  59 1f79 20F40000 	        .int 0xf420
  60              	qian_ou:
  61 1f7d 6BF40000 		.int 0xf46b
  62              	zhao_ou:
  63 1f81 4DF40000 		.int 0xf44d
  64              		.int 
  65              	kai_lu_jiao_zhun:
  66 1f85 6B616920 		.ascii "kai lu jiao zhun"
  66      6C75206A 
  66      69616F20 
  66      7A68756E 
  67              	duan_lu_jiao_zhun:
  68 1f95 6475616E 		.ascii "duan lu jiaozhun"
  68      206C7520 
  68      6A69616F 
  68      7A68756E 
  69              	pi_pei_jiao_zhun:
  70 1fa5 70692070 		.ascii "pi pei jiao zhun"
  70      6569206A 
  70      69616F20 
  70      7A68756E 
  71 1fb5 00000000 		.align 4	
  71      00000000 
  71      000000
  72              		.equ STACKINIT,        	        0x20001000
  73              		.equ asciimabiao,		0x20000000
  74              		.equ fuhao,			0x200000f0
  75              		.equ Rs,			0x20000100	@串联电阻
ARM GAS  1.s 			page 3


  76              		.equ Xs,			0x20000104	@串联电抗
  77              		.equ Cs,			0x20000108	@串联电容
  78              		.equ jiaodu,			0x20000108
  79              		.equ kailu_r,			0x2000010c
  80              		.equ liangcheng,		0x20000110
  81              		.equ dangwei,			0x20000114
  82              		.equ xuanzhuan_cos,		0x20000188
  83              		.equ xuanzhuan_sin,		0x2000018c
  84              		.equ shibu,			0x20000190
  85              		.equ xubu,			0x20000194
  86              		.equ shangbidianya,		0x20000198
  87              		.equ huandangyanshi,		0x2000019c
  88              		.equ xuanzhuanyinzi,		0x200001a0
  89              		.equ pinlvjiayanshi,		0x200001a4
  90              		.equ pinlv,			0x200001a8
  91              		.equ tongdaoqiehuanyanshi,	0x200001ac
  92              		.equ lvboqiyiwei,		0x200001c0
  93              		.equ lvboqijishu,		0x200001c4
  94              		.equ cankaodianzu,		0x200001c8
  95              		.equ xiaoshudianweizhi,		0x200001cc
  96              		.equ xiabifangdakaiguan,	0x200001d0
  97              		.equ shangbifangdakaiguan,	0x200001d4
  98              		.equ dangweijiayanshi,		0x200001d8
  99              		.equ caidanzhizhen,		0x200001dc
 100              		.equ caidanbiao,		0x200001e0
 101              	        .equ dianyabiaozhizhen,         0x200001f8
 102              	        .equ dianyabiaoman,             0x200001fc
 103              		.equ dianyabiao,		0x20000200
 104              		.equ zhengxiangbiao,		0x20000520
 105              		.equ fanxiangbiao,		0x20000840
 106              	        .equ lvboqizhizhen,             0x20000ba0
 107              	        .equ lvboqihuanchong,           0x20000ba4
 108              	        .equ lvboqizhizhen2,            0x20000d00
 109              	        .equ lvboqihuanchong2,          0x20000d04
 110              		.section .text
 111              	vectors:
 112 0000 00100020 		.word STACKINIT
 113 0004 B1000000 		.word _start + 1
 114 0008 79100000 		.word _nmi_handler + 1
 115 000c 7B100000 		.word _hard_fault  + 1
 116 0010 00000000 		.word 0
 117 0014 00000000 		.word 0
 118 0018 00000000 		.word 0
 119 001c 00000000 		.word 0
 120 0020 00000000 		.word 0
 121 0024 00000000 		.word 0
 122 0028 00000000 		.word 0
 123 002c 7D100000 		.word _svc_handler +1
 124 0030 00000000 		.word 0
 125 0034 00000000 		.word 0
 126 0038 7F100000 		.word _pendsv_handler +1
 127 003c 81100000 		.word _systickzhongduan +1           @ 15
 128 0040 81100000 		.word aaa +1     @ _wwdg +1          @ 0
 129 0044 81100000 		.word aaa +1     @_pvd +1            @ 1
 130 0048 81100000 		.word aaa +1     @_rtc +1            @ 2
 131 004c 81100000 		.word aaa +1     @_flash +1          @ 3
 132 0050 81100000 		.word aaa +1	@ _rcc + 1           @ 4
ARM GAS  1.s 			page 4


 133 0054 81100000 		.word aaa +1      @_exti0_1  +1      @ 5
 134 0058 81100000 		.word aaa +1      @ _exti2_3 +1      @ 6
 135 005c 81100000 		.word aaa +1       @_exti4_15 +1     @ 7
 136 0060 81100000 		.word aaa +1                         @ 8
 137 0064 81100000 		.word aaa +1	@__dma_wan  +1	     @ 9
 138 0068 81100000 		.word aaa +1    @_dma1_2_3 +1        @ 10
 139 006c 81100000 		.word aaa +1       @_dma1_4_5 +1     @ 11
 140 0070 81100000 		.word aaa +1	 @_adc1 +1           @ 12
 141 0074 81100000 		.word aaa +1       @_tim1_brk_up +1  @ 13
 142 0078 81100000 		.word aaa +1        @ _tim1_cc +1    @ 14
 143 007c 81100000 		.word aaa +1         @_tim2 +1       @ 15
 144 0080 81100000 		.word aaa +1          @_tim3 +1      @ 16
 145 0084 81100000 		.word aaa +1                         @ 17
 146 0088 81100000 		.word aaa +1		             @ 18
 147 008c 81100000 		.word aaa +1	@_tim14 +1           @ 19
 148 0090 81100000 		.word aaa +1                         @ 20
 149 0094 81100000 		.word aaa +1         @_tim16 +1      @ 21
 150 0098 81100000 		.word aaa +1         @_tim17 +1      @ 22
 151 009c 81100000 		.word aaa +1          @_i2c   +1     @ 23
 152 00a0 81100000 		.word aaa +1                         @ 24
 153 00a4 81100000 		.word aaa +1           @_spi   +1    @ 25
 154 00a8 81100000 		.word aaa +1                         @ 26
 155 00ac 81100000 		.word aaa +1         @_usart1 +1     @ 27
 156              		.align 2
 157              	_start:
 158              	shizhong:
 159 00b0 694A     	        ldr r2, = 0x40022000   @FLASH访问控制
 160 00b2 3221     	        movs r1, # 0x32
 161 00b4 1160     	        str r1, [r2]           @FLASH缓冲 缓冲开启
 162 00b6 6948     	        ldr r0, = 0x40021000 @ rcc
 163 00b8 6949     		ldr r1, = 0x10001
 164 00ba 0160     	        str r1, [r0]
 165              	denghse:
 166 00bc 0168     	        ldr r1, [r0]
 167 00be 8903     	        lsls r1, r1, # 14
 168 00c0 FCD5     	        bpl denghse
 169              	dengpllguan:
 170 00c2 0168     	        ldr r1, [r0]
 171 00c4 8901     		lsls r1, r1, # 6
 172 00c6 FCD4     		bmi dengpllguan
 173 00c8 6649     		ldr r1, = 0x150002
 174 00ca 0046     		mov r0, r0
 175 00cc 4160     		str r1, [r0, # 0x04]
 176 00ce 0046     		mov r0, r0
 177 00d0 6549     		ldr r1, = 0x1010000
 178 00d2 0046     		mov r0, r0
 179 00d4 0160     		str r1, [r0]
 180              	
 181              	dengpll:
 182 00d6 0168     	        ldr r1, [r0]
 183 00d8 8901     		lsls r1, # 6
 184 00da FCD5     		bpl dengpll
 185              	
 186              	
 187 00dc 6349     		ldr r1, = 100
 188 00de 0163     		str r1, [r0, # 0x30]
 189              	_waisheshizhong:                         @ 外设时钟
ARM GAS  1.s 			page 5


 190              	        @+0x14=RCC_AHBENR
 191              		@ 0=DMA @ 2=SRAM @ 4=FLITF@ 6=CRC @ 17=PA @ 18=PB @ 19=PC @ 20=PD @ 22=PF
 192 00e0 5E48     		ldr r0, = 0x40021000
 193 00e2 6349     		ldr r1, = 0x60001
 194 00e4 4161     	        str r1, [r0, # 0x14]
 195              	
 196              	        @+0x18外设时钟使能寄存器 (RCC_APB2ENR)
 197              	        @0=SYSCFG @5=USART6EN @9=ADC @11=TIM1 @12=SPI1 @14=USART1 @16=TIM15 @17=TIM16 @18=TIM17 @22
 198 00e6 6349     	        ldr r1, = 0xa00
 199 00e8 8161     		str r1, [r0, # 0x18]
 200              		@+0X1C=RCC_APB1ENR
 201              		@ 1=TIM3 @ 4=TIM6 @ 5=TIM7 @ 8=TIM14 @ 11=WWDG @ 14=SPI @ 17=USRT2 @ 18=USART3 @ 20=USART5 @ 21=I2
 202              		@ 22=I2C2 @ 23=USB @ 28=PWR
 203 00ea 634A     	        ldr r2, = 0x902
 204 00ec C261     	        str r2, [r0, # 0x1c]
 205              	
 206              	_neicunqingling:
 207 00ee 6348     		ldr r0, = 0x20000000
 208 00f0 0021     		movs r1, # 0
 209 00f2 634B     		ldr r3, = 0x1000
 210              	_neicunqinglingxunhuan:
 211 00f4 043B     		subs r3, # 4
 212 00f6 C150     		str r1, [r0, r3]
 213 00f8 FCD1     		bne _neicunqinglingxunhuan
 214              	
 215              	__fu_zhi_cai_dan_biao:
 216 00fa 6248     		ldr r0, = an_jian_biao
 217 00fc 6249     		ldr r1, = caidanbiao
 218 00fe 0268     		ldr r2, [r0]
 219 0100 4368     		ldr r3, [r0, # 0x04]
 220 0102 8468     	        ldr r4, [r0, # 0x08]
 221 0104 C568     	        ldr r5, [r0, # 0x0c]
 222 0106 0669     	        ldr r6, [r0, # 0x10]
 223 0108 4769     	        ldr r7, [r0, # 0x14]
 224 010a 0A60     	        str r2, [r1]
 225 010c 4B60     	        str r3, [r1, # 0x04]
 226 010e 8C60     	        str r4, [r1, # 0x08]
 227 0110 CD60     	        str r5, [r1, # 0x0c]
 228 0112 0E61     	        str r6, [r1, # 0x10]
 229 0114 4F61     	        str r7, [r1, # 0x14]
 230 0116 8269     		ldr r2, [r0, # 0x18]
 231 0118 C369     		ldr r3, [r0, # 0x1c]
 232 011a 8A61     		str r2, [r1, # 0x18]
 233 011c CB61     		str r3, [r1, # 0x1c]
 234              	_waishezhongduan:				@外设中断
 235              		@0xE000E100    0-31  写1开，写0没效
 236              		@0XE000E180    0-31 写1关，写0没效
 237              		@0XE000E200    0-31 挂起，写0没效
 238              		@0XE000E280    0-31 清除， 写0没效
 239 011e 5B48     		ldr r0, =  0xe000e100
 240 0120 5B49     		ldr r1, = 0x200 @0x10200  @ 0x10000
 241 0122 0160     		str r1, [r0]
 242              	@_kanmengou:
 243              	@	ldr r0, = 0x40003000
 244              	@	ldr r1, = 0x5555
 245              	@	str r1, [r0]
 246              	@	movs r1, # 7
ARM GAS  1.s 			page 6


 247              	@	str r1, [r0, # 4]
 248              	@	ldr r1, = 0xfff
 249              	@	str r1, [r0, # 8]
 250              	@	ldr r1, = 0xaaaa
 251              	@	str r1, [r0]
 252              	@	ldr r1, = 0xcccc
 253              	@	str r1, [r0]
 254              	
 255              	
 256              	@_systick:				@ systick定时器初始化
 257              	@
 258              	@	ldr r0, = 0xe000e010
 259              	@	ldr r1, = 0xffffff
 260              	@	str r1, [r0, # 4]
 261              	@	str r1, [r0, # 8]	
 262              	@	movs r1, # 0x07
 263              	@	str r1, [r0]
 264              		
 265              	io_she_zhi:
 266              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 267              		@a(0x48000000)b(0x48000400)c(0x48000800)d(0x48000c00)f(0x48001400)
 268              		@ 输入（00），通用输出（01），复用功能（10），模拟（11）
 269              		@偏移0x4 = 端口输出类型 @ （0 推挽），（ 1 开漏）
 270              		@偏移0x8 = 输出速度  00低速， 01中速， 11高速
 271              		@偏移0xC = 上拉下拉 (00无上下拉，  01 上拉， 10下拉)
 272              		@偏移0x10 = 输入数据寄存器
 273              		@偏移0x14 = 输出数据寄存器
 274              		@偏移0x18 = 端口开  0-15置位
 275              		@偏移0x28 = 端口关
 276              		@0X20 = 复用低
 277              		@GPIO口0（0-3位）每个IO口占用4位
 278              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 279              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 280              		@0x24 = 复用高
 281              		@GPIO口8 （0-3位）每个IO口占用4位
 282              		@ AF0 = 0X0000, AF1 = 0X0001, AF2 = 0X0010 AF3 = 0X0011, AF4 = 0X0100
 283              		@ AF5 = 0X0101, AF6 = 0X0111, AF7 = 0X1000
 284              		@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 285              	
 286              	
 287 0124 5B48     		ldr r0, = 0x48000000
 288 0126 5C49     		ldr r1, = 0x2824544f
 289 0128 0160     		str r1, [r0]
 290 012a 5C49     		ldr r1, =  0x2e8
 291 012c 4160     		str r1, [r0, # 0x04]
 292 012e 5849     		ldr r1, = 0x200
 293 0130 4162     		str r1, [r0, # 0x24]
 294 0132 5B49     		ldr r1, = 0x110
 295 0134 C160     		str r1, [r0, # 0x0c]
 296              		
 297 0136 5B48     		ldr r0, = 0x48000400
 298 0138 0221     		movs r1, # 0x02
 299 013a 4160     		str r1, [r0, # 0x04]
 300 013c 0421     		movs r1, # 0x04
 301 013e C160     		str r1, [r0, # 0x0c]
 302              	
 303              	_lcdchushihua:
ARM GAS  1.s 			page 7


 304 0140 3320     		movs r0, # 0x33
 305 0142 0021     		movs r1, # 0
 306 0144 00F0D0FD 		bl _xielcd
 307 0148 00F0C9FD 		bl _lcdyanshi
 308              	
 309 014c 3220     		movs r0, # 0x32
 310 014e 0021     		movs r1, # 0
 311 0150 00F0CAFD 		bl _xielcd
 312 0154 00F0C3FD 		bl _lcdyanshi
 313 0158 2820     		movs r0, # 0x28
 314 015a 0021     		movs r1, # 0
 315 015c 00F0C4FD 		bl _xielcd
 316 0160 00F0BDFD 		bl _lcdyanshi
 317 0164 0C20     		movs r0, # 0x0c
 318 0166 0021     		movs r1, # 0
 319 0168 00F0BEFD 		bl _xielcd
 320 016c 00F0B7FD 		bl _lcdyanshi
 321 0170 0120     		movs r0, # 0x01
 322 0172 0021     		movs r1, # 0
 323 0174 00F0B8FD 		bl _xielcd
 324 0178 00F0B1FD 		bl _lcdyanshi
 325              	
 326 017c 8020     	        movs r0, # 0x80
 327 017e 4A49     	        ldr r1, = yjmwxwx
 328 0180 1022     		movs r2, # 16
 329 0182 00F09EFD 	        bl _lcdxianshi
 330 0186 4948     		ldr r0, = 0xffff
 331              	yjmwxwx_yanshi:
 332 0188 0138     		subs r0, r0, # 1
 333 018a FDD1     		bne yjmwxwx_yanshi
 334              	
 335              	_adcchushihua:
 336 018c 4848     	        ldr r0, = 0x40012400  @ adc基地址
 337 018e 4949     	        ldr r1, = 0x80000000
 338 0190 8160     	        str r1, [r0, # 0x08]  @ ADC 控制寄存器 (ADC_CR)  @adc校准
 339              	_dengadcjiaozhun:
 340 0192 8168     	        ldr r1, [r0, # 0x08]
 341 0194 0900     	        movs r1, r1
 342 0196 FCD4     	        bmi _dengadcjiaozhun   @ 等ADC校准
 343 0198 0121     		movs r1, # 1
 344 019a 0160     		str r1, [r0]
 345              	_kaiadc:
 346 019c 8168     	        ldr r1, [r0, # 0x08]
 347 019e 0122     	        movs r2, # 0x01
 348 01a0 1143     	        orrs r1, r1, r2
 349 01a2 8160     	        str r1, [r0, # 0x08]
 350              	_deng_adc_wen_ding:
 351 01a4 0168     	        ldr r1, [r0]
 352 01a6 C907     	        lsls r1, r1, # 31
 353 01a8 FCD5     	        bpl _deng_adc_wen_ding @ 等ADC稳定
 354              	_tongdaoxuanze:
 355 01aa 4349     	        ldr r1, = 0x40000000
 356 01ac 0161     	        str r1, [r0, # 0x10]
 357 01ae 4349     	        ldr r1, = 0x01
 358 01b0 8162     	        str r1, [r0, # 0x28]    @ 通道选择寄存器 (ADC_CHSELR)
 359 01b2 4349     	        ldr r1, = 0x8c3 @ tim1 0x803 @TIM3 0x8c3
 360 01b4 C160     	        str r1, [r0, # 0x0c]    @ 配置寄存器 1 (ADC_CFGR1)
ARM GAS  1.s 			page 8


 361 01b6 0021     	        movs r1, # 0
 362 01b8 4161     		str r1, [r0, # 0x14]    @ ADC 采样时间寄存器 (ADC_SMPR)
 363 01ba 8168     	        ldr r1, [r0, # 0x08]
 364 01bc 414A     	        ldr r2, = 0x04         @ 开始转换
 365 01be 1143     		orrs r1, r1, r2
 366 01c0 8160     	        str r1, [r0, # 0x08]    @ 控制寄存器 (ADC_CR)
 367              	dmachushihua:
 368              	        @+0=LSR,+4=IFCR,
 369              	        @+8=CCR1,+c=CNDTR1,+10=CPAR1+14=CMAR1,
 370              	        @+1c=CCR2,+20=CNDTR2,+24=CPAR2,+28=CMAR2
 371              	        @+30=CCR3,+34=CNDTR3,+38=CPAR2,+3c=CMAR3
 372              	        @+44=CCR4,+48=CNDTR4,+4c=CPAR4,+50=CMAR4
 373              	        @+58=CCR5,+5c=CNDTR5,+60=CPAR5,+64=CMAR5
 374              	        @+6C=CCR6,+70=CNDTR6,+74=CPAR6,+78=CMAR6
 375              	        @+80=CCR7,+84=CNDTR7,+88=CPAR7,+8c=CMAR7
 376              	        @tim1ch3DMA
 377              	
 378              	        @tim1ch3DMA
 379 01c2 4148     	        ldr r0, = 0x40020000
 380 01c4 4149     	        ldr r1, = 0x40012c3c @ 外设地址
 381 01c6 0166     	        str r1, [r0, # 0x60]
 382 01c8 4149     	        ldr r1, = zheng_xian_100khz @ 储存器地址
 383 01ca 4166     	        str r1, [r0, # 0x64]
 384 01cc 4149     	        ldr r1, = 20            @点数
 385 01ce C165     	        str r1, [r0, # 0x5c]
 386 01d0 4149     	        ldr r1, = 0x31b1         @ 储存到外设
 387 01d2 8165     	        str r1, [r0, # 0x58]
 388              	
 389              		@ adc dma
 390 01d4 3C48     		ldr r0, = 0x40020000
 391 01d6 4149     		ldr r1, = 0x40012440
 392 01d8 0161     		str r1, [r0, # 0x10]
 393 01da 4149     		ldr r1, = dianyabiao
 394 01dc 4161     		str r1, [r0, # 0x14]
 395 01de 4149     		ldr r1, = 400
 396 01e0 C160     		str r1, [r0, # 0x0c]
 397 01e2 4149     		ldr r1, = 0x5a1 @  0x583 	@ 5a1
 398 01e4 8160     		str r1, [r0, # 0x08]
 399              	
 400              	tim3chushihua:
 401 01e6 4148     	        ldr r0, = 0x40000400 @ tim3_cr1
 402 01e8 4149     		ldr r1, = 0
 403 01ea 8162     		str r1, [r0, # 0x28] @ psc
 404 01ec 4149     		ldr r1, = 27
 405 01ee C162     		str r1, [r0, # 0x2c] @ ARR
 406 01f0 2021     	         movs r1, # 0x20
 407 01f2 4160     	        str r1, [r0, # 0x04] @ TRGO
 408 01f4 0621     	        movs r1, # 0x06
 409 01f6 8160     	        str r1, [r0, # 0x08]
 410 01f8 8021     		movs r1, # 0x80
 411 01fa 0160     		str r1, [r0]
 412              	tim1chushiha:				
 413 01fc 3E48     	        ldr r0, = 0x40012c00 @ tim1_cr1
 414 01fe 0021     	        movs r1, # 0
 415 0200 8162     	        str r1, [r0, # 0x28] @ psc
 416 0202 3C49     		ldr r1, = 27
 417 0204 C162     	        str r1, [r0, # 0x2c] @ ARR
ARM GAS  1.s 			page 9


 418 0206 2021     	        movs r1, # 0x20
 419 0208 4160     	        str r1, [r0, # 0x04] @ TRGO
 420 020a 3C49     	        ldr r1, = 0x68
 421 020c C161     	        str r1, [r0, # 0x1c] @ ccmr2  CC3
 422 020e 3C49     		ldr r1, = 0x100    @  CC3
 423 0210 0162     		str r1, [r0, # 0x20] @ ccer
 424 0212 3C49     		ldr r1, = 0x8000
 425 0214 4164     		str r1, [r0, # 0x44] @ BDTR
 426 0216 3C49     	        ldr r1, = 0x800 @ CC3 DMA
 427 0218 C160     	        str r1, [r0, # 0x0c] @ DIER
 428 021a 3C49     	        ldr r1, = 0x81
 429 021c 0160     		str r1, [r0]
 430              	
 431 021e 1D48     		ldr r0,= 0x48000000
 432 0220 0821     		movs r1, # 0x08
 433 0222 8162     		str r1, [r0, # 0x28]
 434              	
 435 0224 1B48     		ldr r0, = 0x48000000
 436 0226 1A49     	        ldr r1, = 0x200
 437 0228 8162     		str r1, [r0, # 0x28]
 438              	
 439 022a 3948     		ldr r0, = liangcheng
 440 022c 0021     		movs r1, # 0x00
 441 022e 0160     		str r1, [r0]
 442              	
 443 0230 3848     		ldr r0, = 0xffffff
 444              	adc_yanshi:
 445 0232 0138     		subs r0, r0, # 1
 446 0234 FDD1     		bne adc_yanshi
 447 0236 0120     	        movs r0, # 0x01
 448 0238 0021     	        movs r1, # 0
 449 023a 00F055FD 	        bl _xielcd
 450 023e 00F04EFD 		bl _lcdyanshi
 451              		
 452              		
 453              	ff:	
 454 0242 3548     	        ldr r0, = dangwei
 455 0244 0121     		movs r1, # 1
 456 0246 0160     		str r1, [r0]
 457 0248 00F07AFA 		bl __dang_wei_she_zhi
 458 024c 3348     	        ldr r0, = pinlv
 459 024e 0021     	        movs r1, # 0
 460 0250 0160     		str r1, [r0]
 461 0252 00F03AF9 	        bl __pin_lv_she_zhi
 462              	
 463 0256 A8E0     		b ting
 464 0258 00200240 		.ltorg
 464      00100240 
 464      01000100 
 464      02001500 
 464      00000101 
 465              	__an_jian7:
 466              	t:
 467 0320 00F025FB 		bl __ji_suan_zu_kang
 468 0324 00F053F8 		bl __xianshi_zukang1
 469 0328 FAE7     		b t
 470              		.ltorg
ARM GAS  1.s 			page 10


 471              		
 472              	__jiao_zhun_yan_shi:
 473 032a 01B4     		push {r0}
 474 032c D248     		ldr r0, = 0xffffff
 475              	__jiao_zhun_yan_shi_xun_huan:
 476 032e 0138     		subs r0, r0, # 1
 477 0330 FDD1     		bne __jiao_zhun_yan_shi_xun_huan
 478 0332 01BC     		pop {r0}
 479 0334 7047     		bx lr
 480              	
 481              	__dang_wei_jia:
 482 0336 D148     		ldr r0, = dangweijiayanshi
 483 0338 0168     		ldr r1, [r0]
 484 033a 0131     		adds r1, r1, # 1
 485 033c 0160     		str r1, [r0]
 486 033e 3229     		cmp r1, # 50
 487 0340 09D1     		bne __dang_wei_fan_hui
 488 0342 0021     		movs r1, # 0
 489 0344 0160     		str r1, [r0]
 490 0346 CE48     		ldr r0, = dangwei
 491 0348 0168     		ldr r1, [r0]
 492 034a 0131     		adds r1, r1, # 1
 493 034c 0160     		str r1, [r0]
 494 034e 0629     		cmp r1, # 6
 495 0350 01D1     		bne __dang_wei_fan_hui
 496 0352 0021     		movs r1, # 0
 497 0354 0160     		str r1, [r0]
 498              	__dang_wei_fan_hui:
 499 0356 00F0F3F9 		bl __dang_wei_she_zhi
 500 035a 00F072FA 		bl __dang_wei_xian_shi
 501 035e 00F03BFC 	        bl __an_jian
 502 0362 30E0     		b __cai_dan_diao_du
 503              	__pin_lv_jia:
 504 0364 C748     		ldr r0, = pinlvjiayanshi
 505 0366 0168     	        ldr r1, [r0]
 506 0368 0131     		adds r1, r1, # 1
 507 036a 0160     		str r1, [r0]
 508 036c 3229     	        cmp r1, # 50
 509 036e 09D1     	        bne __pin_lv_fan_hui
 510 0370 0021     		movs r1, # 0
 511 0372 0160     	        str r1, [r0]
 512 0374 C448     	        ldr r0, = pinlv
 513 0376 0168     		ldr r1, [r0]
 514 0378 0131     	        adds r1, r1, # 1
 515 037a 0160     	        str r1, [r0]
 516 037c 0429     	        cmp r1, # 4
 517 037e 01D1     	        bne __pin_lv_fan_hui
 518 0380 0021     	        movs r1, # 0
 519 0382 0160     	        str r1, [r0]
 520              	__pin_lv_fan_hui:
 521 0384 00F0A1F8 	        bl __pin_lv_she_zhi
 522 0388 00F069FA 		bl __pin_lv_xian_shi
 523 038c 00F024FC 	        bl __an_jian
 524 0390 19E0     	        b __cai_dan_diao_du
 525              	
 526              	__an_jian3:
 527 0392 00F021FC 	        bl __an_jian
ARM GAS  1.s 			page 11


 528 0396 16E0     	        b __cai_dan_diao_du
 529              	__an_jian4:
 530 0398 00F01EFC 	        bl __an_jian
 531 039c 13E0     	        b __cai_dan_diao_du
 532              	__an_jian5:
 533 039e 00F01BFC 	        bl __an_jian
 534 03a2 10E0     	        b __cai_dan_diao_du
 535              	__an_jian6:
 536 03a4 00F018FC 	        bl __an_jian
 537 03a8 0DE0     		b __cai_dan_diao_du
 538              	__an_jian0:	
 539              	ting:	
 540 03aa 00F04AFA 		bl __dang_wei_xian_shi
 541 03ae 00F0DEFA 		bl __ji_suan_zu_kang
 542 03b2 00F0C7FA 		bl __dian_rong_ji_suan
 543              	@	bl __zi_dong_dang_wei
 544 03b6 00F044FA 		bl __dang_wei_xian_shi
 545 03ba 00F050FA 		bl __pin_lv_xian_shi
 546 03be 00F040F8 		bl __xianshi_zukang
 547 03c2 00F009FC 		bl __an_jian
 548              	__cai_dan_diao_du:
 549 03c6 8000     		lsls r0, r0, # 2
 550 03c8 B049     		ldr r1, = caidanbiao
 551 03ca 0A58     		ldr r2, [r1, r0]
 552 03cc 9746     		mov pc, r2
 553              	
 554              	__xianshi_zukang1:
 555 03ce 1FB5     		push {r0-r4,lr}
 556 03d0 AF48     		ldr r0, = Rs		@dianzu
 557 03d2 0168     		ldr r1, [r0]
 558 03d4 0C00     	       movs r4, r1
 559 03d6 07D5     		bpl __dian_zu_bu_shi_zheng1
 560 03d8 8020     		movs r0, # 0x80
 561 03da AE49     	        ldr r1, = _fu
 562 03dc 0122     	        movs r2, # 1
 563 03de 00F070FC 	        bl _lcdxianshi
 564 03e2 E443     	        mvns r4, r4
 565 03e4 0134     	        adds r4, r4, # 1
 566 03e6 04E0     	        b __xian_shi_dian_zu1
 567              	__dian_zu_bu_shi_zheng1:
 568 03e8 8020     		movs r0, # 0x80
 569 03ea AB49     		ldr r1, = kong
 570 03ec 0122     		movs r2, # 1
 571 03ee 00F068FC 	        bl _lcdxianshi
 572              	__xian_shi_dian_zu1:
 573 03f2 2046     	        mov r0, r4
 574 03f4 0F21     	        movs r1, # 15
 575 03f6 A94A     	        ldr r2, = asciimabiao
 576 03f8 FF23     	        movs r3, # 0xff
 577 03fa 00F0B1FC 	        bl _zhuanascii
 578 03fe 8120     	        movs r0, # 0x81
 579 0400 A649     	        ldr r1, = asciimabiao
 580 0402 0F22     	        movs r2, # 15
 581 0404 00F05DFC 	        bl _lcdxianshi
 582              	
 583 0408 A548     	        ldr r0, = Xs		@diankang
 584 040a 0168     	        ldr r1, [r0]
ARM GAS  1.s 			page 12


 585 040c 0C00     		movs r4, r1
 586 040e 07D5     	        bpl __dian_kang_bu_shi_zheng1
 587 0410 C020     	        movs r0, # 0xc0
 588 0412 A049     	        ldr r1, = _fu
 589 0414 0122     	        movs r2, # 1
 590 0416 00F054FC 	        bl _lcdxianshi
 591 041a E443     	        mvns r4, r4
 592 041c 0134     	        adds r4, r4, # 1
 593 041e 04E0     	        b __xian_shi_dian_kang1
 594              	__dian_kang_bu_shi_zheng1:
 595 0420 C020     	        movs r0, # 0xc0
 596 0422 9D49     	        ldr r1, = kong
 597 0424 0122     	        movs r2, # 1
 598 0426 00F04CFC 	        bl _lcdxianshi
 599              	__xian_shi_dian_kang1:
 600 042a 2046     	        mov r0, r4
 601 042c 0F21     	        movs r1, # 15
 602 042e 9B4A     	        ldr r2, = asciimabiao
 603 0430 FF23     	        movs r3, # 0xff
 604 0432 00F095FC 	        bl _zhuanascii
 605 0436 C120     	        movs r0, # 0xc1
 606 0438 9849     	        ldr r1, = asciimabiao
 607 043a 0F22     	        movs r2, # 15
 608 043c 00F041FC 	        bl _lcdxianshi
 609 0440 1FBD     		pop {r0-r4,pc}
 610              	__xianshi_zukang:
 611 0442 1FB5     		push {r0-r4,lr}
 612 0444 974A     		ldr r2, = cankaodianzu
 613 0446 9248     		ldr r0, = Rs		@dianzu
 614 0448 1268     		ldr r2, [r2]
 615 044a 0168     		ldr r1, [r0]
 616 044c 5143     		muls r1, r1, r2
 617 044e C913     		asrs r1, r1, # 15
 618 0450 0C00     	       movs r4, r1
 619 0452 07D5     		bpl __dian_zu_bu_shi_zheng
 620 0454 8220     		movs r0, # 0x82
 621 0456 8F49     	        ldr r1, = _fu
 622 0458 0122     	        movs r2, # 1
 623 045a 00F032FC 	        bl _lcdxianshi
 624 045e E443     	        mvns r4, r4
 625 0460 0134     	        adds r4, r4, # 1
 626 0462 04E0     	        b __xian_shi_dian_zu
 627              	__dian_zu_bu_shi_zheng:
 628 0464 8220     		movs r0, # 0x82
 629 0466 8C49     		ldr r1, = kong
 630 0468 0122     		movs r2, # 1
 631 046a 00F02AFC 	        bl _lcdxianshi
 632              	__xian_shi_dian_zu:
 633 046e 2046     	        mov r0, r4
 634 0470 0521     	        movs r1, # 5
 635 0472 8D4B     		ldr r3, = xiaoshudianweizhi
 636 0474 894A     	        ldr r2, = asciimabiao
 637 0476 1B68     	        ldr r3, [r3]
 638 0478 00F072FC 	        bl _zhuanascii
 639 047c 8320     	        movs r0, # 0x83
 640 047e 8749     	        ldr r1, = asciimabiao
 641 0480 0522     	        movs r2, # 5
ARM GAS  1.s 			page 13


 642 0482 00F01EFC 	        bl _lcdxianshi
 643              	
 644 0486 874A     		ldr r2, = cankaodianzu
 645 0488 8548     	        ldr r0, = Xs		@diankang
 646 048a 1268     		ldr r2, [r2]
 647 048c 0168     	        ldr r1, [r0]
 648 048e 5143     		muls r1, r1, r2
 649 0490 C913     		asrs r1, r1, # 15
 650 0492 0C00     	       movs r4, r1
 651 0494 07D5     	        bpl __dian_kang_bu_shi_zheng
 652 0496 8820     	        movs r0, # 0x88
 653 0498 7E49     	        ldr r1, = _fu
 654 049a 0122     	        movs r2, # 1
 655 049c 00F011FC 	        bl _lcdxianshi
 656 04a0 E443     	        mvns r4, r4
 657 04a2 0134     	        adds r4, r4, # 1
 658 04a4 04E0     	        b __xian_shi_dian_kang
 659              	__dian_kang_bu_shi_zheng:
 660 04a6 8820     	        movs r0, # 0x88
 661 04a8 7B49     	        ldr r1, = kong
 662 04aa 0122     	        movs r2, # 1
 663 04ac 00F009FC 	        bl _lcdxianshi
 664              	__xian_shi_dian_kang:
 665 04b0 2046     	        mov r0, r4
 666 04b2 0521     	        movs r1, # 5
 667 04b4 7C4B     		ldr r3, = xiaoshudianweizhi
 668 04b6 794A     	        ldr r2, = asciimabiao
 669 04b8 1B68     	        ldr r3, [r3]
 670 04ba 00F051FC 	        bl _zhuanascii
 671 04be 8920     	        movs r0, # 0x89
 672 04c0 7649     	        ldr r1, = asciimabiao
 673 04c2 0522     	        movs r2, # 5
 674 04c4 00F0FDFB 	        bl _lcdxianshi
 675 04c8 1FBD     		pop {r0-r4,pc}
 676              		
 677              	__pin_lv_she_zhi:
 678              		@ pinlv 0=100, 1=1k, 2=10k,3=100k
 679 04ca 0FB5     		push {r0-r3,lr}
 680 04cc 6E49     		ldr r1, = pinlv
 681 04ce 7748     	        ldr r0, = pin_lv_biao
 682 04d0 0968     		ldr r1, [r1]
 683 04d2 8900     		lsls r1, r1, # 2
 684 04d4 4258     	        ldr r2, [r0, r1]
 685 04d6 9746     		mov pc, r2
 686              	__pin_lv100:
 687              		
 688 04d8 7548     	        ldr r0, = 0x40021000
 689 04da 7649     	        ldr r1, = 0x154002
 690 04dc 4160     	        str r1, [r0, # 0x04]
 691 04de 7648     	        ldr r0, = 0x40012410
 692 04e0 0121     	        movs r1, # 1
 693 04e2 C907     	        lsls r1, r1, # 31
 694 04e4 0160     	        str r1, [r0]
 695              	
 696 04e6 7548     	        ldr r0, = 0x40020000
 697 04e8 0021     		movs r1, # 0
 698 04ea 8165     	        str r1, [r0, # 0x58]
ARM GAS  1.s 			page 14


 699 04ec 7449     		ldr r1, = zheng_xian_100hz @ 储存器地址
 700 04ee 4166     	        str r1, [r0, # 0x64]
 701 04f0 7449     		ldr r1, = 4000            @点数
 702 04f2 C165     	        str r1, [r0, # 0x5c]
 703 04f4 7449     		ldr r1, = 0x31b1         @ 储存到外设
 704 04f6 8165     		str r1, [r0, # 0x58]
 705              		@ adc dma
 706 04f8 7048     		ldr r0, = 0x40020000
 707 04fa 0021     		movs r1, # 0
 708 04fc 8160     	        str r1, [r0, # 0x08]
 709 04fe 7349     	        ldr r1, = 400
 710 0500 C160     	        str r1, [r0, # 0x0c]
 711 0502 7349     	        ldr r1, = 0x5a1 @  0x583        @ 5a1
 712 0504 8160     	        str r1, [r0, # 0x08]
 713              	
 714 0506 7348     	        ldr r0, = 0x40000400
 715 0508 7349     	        ldr r1, = 55999
 716 050a C162     	        str r1, [r0, # 0x2c]
 717              	
 718 050c 7348     	       ldr r0, = 0x40012c00 @ tim1_cr1
 719 050e 7449     		ldr r1, = 139
 720 0510 C162     		str r1, [r0, # 0x2c]
 721 0512 744A     		ldr r2, = tongdaoqiehuanyanshi
 722 0514 744B     	        ldr r3, = 0x6fffff
 723 0516 1360     		str r3, [r2]
 724              		
 725 0518 7448     		ldr r0, = xuanzhuanyinzi
 726 051a 7549     		ldr r1, = xuan_zhuan_yin_zi
 727 051c 0160     		str r1, [r0]
 728 051e 7548     		ldr r0, = lvboqijishu
 729 0520 7549     	        ldr r1, = lvboqiyiwei
 730 0522 0423     	        movs r3, # 4
 731 0524 0360     	        str r3, [r0]
 732 0526 0223     	        movs r3, # 2
 733 0528 0B60     	        str r3, [r1]
 734 052a 7448     	        ldr r0, = lvboqizhizhen
 735 052c 744A     	        ldr r2, = lvboqizhizhen2
 736 052e 0021     	        movs r1, # 0
 737 0530 0160     	        str r1, [r0]
 738 0532 1160     	        str r1, [r2]
 739 0534 00F093F9 		bl __pin_lv_xian_shi
 740 0538 0FBD     		pop {r0-r3,pc}
 741 053a 9AE0     	        b cai_biao
 742              	__pin_lv1K:
 743              	
 744 053c 5C48     		ldr r0, = 0x40021000
 745 053e 5D49     		ldr r1, = 0x154002
 746 0540 4160     		str r1, [r0, # 0x04]
 747 0542 5D48     		ldr r0, = 0x40012410
 748 0544 0121     		movs r1, # 1
 749 0546 C907     		lsls r1, r1, # 31
 750 0548 0160     		str r1, [r0]
 751              		
 752 054a 5C48     	        ldr r0, = 0x40020000
 753 054c 0021     	        movs r1, # 0
 754 054e 8165     	        str r1, [r0, # 0x58]
 755 0550 6C49     	        ldr r1, = zheng_xian_1khz @ 储存器地址
ARM GAS  1.s 			page 15


 756 0552 4166     	        str r1, [r0, # 0x64]
 757 0554 5D49     	        ldr r1, = 400             @点数
 758 0556 C165     	        str r1, [r0, # 0x5c]
 759 0558 5B49     	        ldr r1, = 0x31b1         @ 储存到外设
 760 055a 8165     	        str r1, [r0, # 0x58]
 761              	        @ adc dma
 762 055c 5748     	        ldr r0, = 0x40020000
 763 055e 0021     	        movs r1, # 0
 764 0560 8160     	        str r1, [r0, # 0x08]
 765 0562 5A49     	        ldr r1, = 400
 766 0564 C160     	        str r1, [r0, # 0x0c]
 767 0566 5A49     	        ldr r1, = 0x5a1 @  0x583        @ 5a1
 768 0568 8160     	        str r1, [r0, # 0x08]
 769              	
 770 056a 5A48     		ldr r0, = 0x40000400
 771 056c 6649     		ldr r1, = 5599
 772 056e C162     	        str r1, [r0, # 0x2c]
 773              	
 774 0570 5A48     	       ldr r0, = 0x40012c00 @ tim1_cr1
 775 0572 5B49     		ldr r1, = 139
 776 0574 C162     	        str r1, [r0, # 0x2c]
 777 0576 5D48     	        ldr r0, = xuanzhuanyinzi
 778 0578 5D49     	        ldr r1, = xuan_zhuan_yin_zi
 779 057a 0160     	        str r1, [r0]
 780 057c 5D48     		ldr r0, = lvboqijishu
 781 057e 5E49     	        ldr r1, = lvboqiyiwei
 782 0580 584A     	        ldr r2, = tongdaoqiehuanyanshi
 783 0582 0423     	        movs r3, # 4
 784 0584 0360     	        str r3, [r0]
 785 0586 0223     	        movs r3, # 2
 786 0588 0B60     	        str r3, [r1]
 787 058a 604B     	        ldr r3, = 0x8ffff
 788 058c 1360     	        str r3, [r2]
 789 058e 5B48     	        ldr r0, = lvboqizhizhen
 790 0590 5B4A     	        ldr r2, = lvboqizhizhen2
 791 0592 0021     	        movs r1, # 0
 792 0594 0160     	        str r1, [r0]
 793 0596 1160     	        str r1, [r2]
 794 0598 00F061F9 	        bl __pin_lv_xian_shi
 795 059c 0FBD     		pop {r0-r3,pc}
 796 059e 68E0     		b cai_biao
 797              	__pin_lv10K:
 798              		
 799              	
 800              	
 801 05a0 4348     		ldr r0, = 0x40021000
 802 05a2 4449     		ldr r1, = 0x154002
 803 05a4 4160     		str r1, [r0, # 0x04]
 804 05a6 4448     		ldr r0, = 0x40012410
 805 05a8 0121     		movs r1, # 1
 806 05aa C907     		lsls r1, r1, # 31
 807 05ac 0160     		str r1, [r0]
 808              		
 809 05ae 4348     		ldr r0, = 0x40020000
 810 05b0 0021     		movs r1, # 0
 811 05b2 8165     		str r1, [r0, # 0x58]
 812 05b4 5649     		ldr r1, = zheng_xian_10khz @ 储存器地址
ARM GAS  1.s 			page 16


 813 05b6 4166     		str r1, [r0, # 0x64]
 814 05b8 5649     		ldr r1, = 200             @点数
 815 05ba C165     	        str r1, [r0, # 0x5c]
 816 05bc 4249     		ldr r1, = 0x31b1         @ 储存到外设
 817 05be 8165     		str r1, [r0, # 0x58]
 818              		@ adc dma
 819 05c0 3E48     		ldr r0, = 0x40020000
 820 05c2 0021     		movs r1, # 0
 821 05c4 8160     		str r1, [r0, # 0x08]
 822 05c6 4149     		ldr r1, = 400
 823 05c8 C160     		str r1, [r0, # 0x0c]
 824 05ca 4149     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 825 05cc 8160     	        str r1, [r0, # 0x08]
 826              	
 827 05ce 4148     		ldr r0, = 0x40000400
 828 05d0 5149     		ldr r1, = 559
 829 05d2 C162     		str r1, [r0, # 0x2c]
 830              		
 831 05d4 4148     	       ldr r0, = 0x40012c00 @ tim1_cr1
 832 05d6 5149     	        ldr r1, = 27
 833 05d8 C162     	        str r1, [r0, # 0x2c]
 834 05da 4448     	        ldr r0, = xuanzhuanyinzi
 835 05dc 4449     	        ldr r1, = xuan_zhuan_yin_zi
 836 05de 0160     	        str r1, [r0]
 837              	
 838              		
 839 05e0 4448     		ldr r0, = lvboqijishu
 840 05e2 4549     	        ldr r1, = lvboqiyiwei
 841 05e4 3F4A     	        ldr r2, = tongdaoqiehuanyanshi
 842 05e6 2023     	        movs r3, # 32
 843 05e8 0360     	        str r3, [r0]
 844 05ea 0523     	        movs r3, # 5
 845 05ec 0B60     	        str r3, [r1]
 846 05ee 474B     	        ldr r3, = 0x8ffff
 847 05f0 1360     	        str r3, [r2]
 848 05f2 4248     	        ldr r0, = lvboqizhizhen
 849 05f4 424A     	        ldr r2, = lvboqizhizhen2
 850 05f6 0021     	        movs r1, # 0
 851 05f8 0160     	        str r1, [r0]
 852 05fa 1160     	        str r1, [r2]
 853 05fc 00F02FF9 	        bl __pin_lv_xian_shi
 854 0600 0FBD     		pop {r0-r3,pc}
 855 0602 36E0     		b cai_biao
 856              	__pin_lv100K:
 857              	
 858 0604 4648     		ldr r0, = xuanzhuan_cos
 859 0606 4749     		ldr r1, = xuanzhuan_sin
 860 0608 474A     		ldr r2, = 32742
 861 060a 484B     		ldr r3, = 1286
 862 060c 0260     		str r2, [r0]
 863 060e 0B60     		str r3, [r1]
 864              	
 865 0610 2748     	        ldr r0, = 0x40021000
 866 0612 4749     	        ldr r1, = 0x150002
 867 0614 4160     	        str r1, [r0, # 0x04]
 868 0616 2848     	        ldr r0, = 0x40012410
 869 0618 0121     	        movs r1, # 1
ARM GAS  1.s 			page 17


 870 061a 8907     	        lsls r1, r1, # 30
 871 061c 0160     	        str r1, [r0]
 872 061e 2748     		ldr r0, = 0x40020000
 873 0620 0021     		movs r1, # 0
 874 0622 8165     		str r1, [r0, # 0x58]
 875 0624 4349     		ldr r1, = zheng_xian_100khz @ 储存器地址
 876 0626 4166     	        str r1, [r0, # 0x64]
 877 0628 4349     		ldr r1, = 20             @点数
 878 062a C165     	        str r1, [r0, # 0x5c]
 879 062c 2649     	        ldr r1, = 0x31b1         @ 储存到外设
 880 062e 8165     	        str r1, [r0, # 0x58]
 881              	        @ adc dma
 882 0630 2248     	        ldr r0, = 0x40020000
 883 0632 0021     	        movs r1, # 0
 884 0634 8160     		str r1, [r0, # 0x08]
 885 0636 4149     		ldr r1, = 300
 886 0638 C160     		str r1, [r0, # 0x0c]
 887 063a 2549     		ldr r1, = 0x5a1 @  0x583        @ 5a1
 888 063c 8160     	        str r1, [r0, # 0x08]
 889 063e 2548     		ldr r0, = 0x40000400
 890 0640 3649     	        ldr r1, = 27
 891 0642 C162     		str r1, [r0, # 0x2c]
 892              	
 893 0644 2548     	       ldr r0, = 0x40012c00 @ tim1_cr1
 894 0646 3549     	        ldr r1, = 27
 895 0648 C162     		str r1, [r0, # 0x2c]
 896              	
 897              		
 898 064a 264A     		ldr r2, = tongdaoqiehuanyanshi
 899 064c 2F4B     		ldr r3, = 0x8ffff
 900 064e 1360     		str r3, [r2]
 901              	
 902 0650 2648     	        ldr r0, = xuanzhuanyinzi
 903 0652 2749     	        ldr r1, = xuan_zhuan_yin_zi
 904 0654 0160     	        str r1, [r0]
 905              	
 906              	
 907 0656 2748     	        ldr r0, = lvboqijishu
 908 0658 2749     		ldr r1, = lvboqiyiwei
 909 065a 4023     		movs r3, # 64
 910 065c 0360     	        str r3, [r0]
 911 065e 0623     	        movs r3, # 6
 912 0660 0B60     		str r3, [r1]
 913 0662 2648     		ldr r0, = lvboqizhizhen
 914 0664 264A     	        ldr r2, = lvboqizhizhen2
 915 0666 0021     		movs r1, # 0
 916 0668 0160     		str r1, [r0]
 917 066a 1160     	        str r1, [r2]
 918 066c 00F0F7F8 		bl __pin_lv_xian_shi
 919              	
 920              		
 921 0670 0FBD     		pop {r0-r3,pc}
 922              	cai_biao:	
 923 0672 0148     		ldr r0, = 0xffffff
 924              	cc100k:
 925 0674 0138     	        subs r0, r0, # 1
 926 0676 FDD1     		bne cc100k
ARM GAS  1.s 			page 18


 927              	 
 928 0678 FFFFFF00 		.ltorg
 928      D8010020 
 928      14010020 
 928      A4010020 
 928      A8010020 
 929              		
 930              		
 931              	__dang_wei_she_zhi:	
 932              		@ liangcheng 0x00=100,0x80=1K,0x40=10K,0xc0=100K
 933              		@0=9,1=100,2=1k,3=10k,4=100k,5=900k
 934 0740 3FB5     		push {r0-r5,lr}
 935 0742 4E49     		ldr r1, = dangwei
 936 0744 4E48     		ldr r0, = dang_wei_biao
 937 0746 0968     		ldr r1, [r1]
 938 0748 8900     		lsls r1, r1, # 2
 939 074a 4258     		ldr r2, [r0, r1]
 940 074c 9746     		mov pc, r2
 941              	__dang_wei0:
 942 074e 4D48     	        ldr r0, = xiaoshudianweizhi
 943 0750 0221     	        movs r1, # 2
 944 0752 4D4A     	        ldr r2, = cankaodianzu
 945 0754 0160     	        str r1, [r0]
 946 0756 4D49     	        ldr r1, = 32768
 947 0758 1160     	        str r1, [r2]
 948 075a 4D48     	        ldr r0, = shangbifangdakaiguan
 949 075c 0121     		movs r1, # 1
 950 075e 0160     		str r1, [r0]
 951 0760 4C48     	        ldr r0, = xiabifangdakaiguan
 952 0762 0021     	        movs r1, # 0
 953 0764 0160     	        str r1, [r0]
 954 0766 8E20     		movs r0, # 0x8e
 955 0768 4B49     	        ldr r1, = ou
 956 076a 0222     	        movs r2, # 2
 957 076c 00F0A9FA 		bl _lcdxianshi
 958 0770 4A48     	        ldr r0, = liangcheng
 959 0772 0021     	        movs r1, # 0x00
 960 0774 0160     	        str r1, [r0]
 961 0776 3FBD     	        pop {r0-r5,pc}
 962              	__dang_wei1:
 963 0778 4248     		ldr r0, = xiaoshudianweizhi
 964 077a 0321     		movs r1, # 3
 965 077c 424A     		ldr r2, = cankaodianzu
 966 077e 0160     		str r1, [r0]
 967 0780 4249     		ldr r1, = 32768
 968 0782 1160     		str r1, [r2]
 969 0784 4248     	        ldr r0, = shangbifangdakaiguan
 970 0786 4349     	        ldr r1, = xiabifangdakaiguan
 971 0788 0022     		movs r2, # 0
 972 078a 0260     	        str r2, [r0]
 973 078c 0A60     	        str r2, [r1]
 974 078e 8E20     		movs r0, # 0x8e
 975 0790 4149     	        ldr r1, = ou
 976 0792 0222     	        movs r2, # 2
 977 0794 00F095FA 	        bl _lcdxianshi
 978 0798 4048     		ldr r0, = liangcheng
 979 079a 0021     		movs r1, # 0x00
ARM GAS  1.s 			page 19


 980 079c 0160     		str r1, [r0]
 981 079e 3FBD     	        pop {r0-r5,pc}
 982              	__dang_wei2:
 983 07a0 3848     	        ldr r0, = xiaoshudianweizhi
 984 07a2 0021     	        movs r1, # 0
 985 07a4 384A     	        ldr r2, = cankaodianzu
 986 07a6 0160     	        str r1, [r0]
 987 07a8 3849     	        ldr r1, = 32768
 988 07aa 1160     	        str r1, [r2]
 989 07ac 3848     		ldr r0, = shangbifangdakaiguan
 990 07ae 3949     		ldr r1, = xiabifangdakaiguan
 991 07b0 0022     		movs r2, # 0
 992 07b2 0260     		str r2, [r0]
 993 07b4 0A60     		str r2, [r1]
 994 07b6 8E20     	        movs r0, # 0x8e
 995 07b8 3749     	        ldr r1, = ou
 996 07ba 0222     	        movs r2, # 2
 997 07bc 00F081FA 	        bl _lcdxianshi
 998 07c0 3648     		ldr r0, = liangcheng
 999 07c2 8021     		movs r1, # 0x80
 1000 07c4 0160     		str r1, [r0]
 1001 07c6 3FBD     	        pop {r0-r5,pc}
 1002              	__dang_wei3:
 1003 07c8 2E48     	        ldr r0, = xiaoshudianweizhi
 1004 07ca 0221     	        movs r1, # 2
 1005 07cc 2E4A     	        ldr r2, = cankaodianzu
 1006 07ce 0160     	        str r1, [r0]
 1007 07d0 2E49     	        ldr r1, = 32768
 1008 07d2 1160     	        str r1, [r2]
 1009 07d4 2E48     	        ldr r0, = shangbifangdakaiguan
 1010 07d6 2F49     	        ldr r1, = xiabifangdakaiguan
 1011 07d8 0022     		movs r2, # 0
 1012 07da 0260     	        str r2, [r0]
 1013 07dc 0A60     	        str r2, [r1]
 1014 07de 8E20     	        movs r0, # 0x8e
 1015 07e0 2F49     	        ldr r1, = qian_ou
 1016 07e2 0222     	        movs r2, # 2
 1017 07e4 00F06DFA 	        bl _lcdxianshi
 1018 07e8 2C48     		ldr r0, = liangcheng
 1019 07ea 4021     		movs r1, # 0x40
 1020 07ec 0160     		str r1, [r0]
 1021 07ee 3FBD     	        pop {r0-r5,pc}
 1022              	__dang_wei4:
 1023 07f0 2448     	        ldr r0, = xiaoshudianweizhi
 1024 07f2 0321     	        movs r1, # 3
 1025 07f4 244A     	        ldr r2, = cankaodianzu
 1026 07f6 0160     	        str r1, [r0]
 1027 07f8 2449     	        ldr r1, = 32768
 1028 07fa 1160     	        str r1, [r2]
 1029 07fc 2448     	        ldr r0, = shangbifangdakaiguan
 1030 07fe 2549     	        ldr r1, = xiabifangdakaiguan
 1031 0800 0022     		movs r2, # 0
 1032 0802 0260     	        str r2, [r0]
 1033 0804 0A60     	        str r2, [r1]
 1034 0806 8E20     	        movs r0, # 0x8e
 1035 0808 2549     	        ldr r1, = qian_ou
 1036 080a 0222     	        movs r2, # 2
ARM GAS  1.s 			page 20


 1037 080c 00F059FA 	        bl _lcdxianshi
 1038 0810 2248     		ldr r0, = liangcheng
 1039 0812 C021     		movs r1, # 0xc0
 1040 0814 0160     		str r1, [r0]
 1041 0816 3FBD     	        pop {r0-r5,pc}
 1042              	__dang_wei5:
 1043 0818 1A48     	        ldr r0, = xiaoshudianweizhi
 1044 081a 0221     	        movs r1, # 2
 1045 081c 1A4A     	        ldr r2, = cankaodianzu
 1046 081e 0160     	        str r1, [r0]
 1047 0820 2049     	        ldr r1, = 3276
 1048 0822 1160     	        str r1, [r2]
 1049 0824 1A48     	        ldr r0, = shangbifangdakaiguan
 1050 0826 0021     		movs r1, # 0
 1051 0828 0160     		str r1, [r0]
 1052 082a 1A48     	        ldr r0, = xiabifangdakaiguan
 1053 082c 0121     	        movs r1, # 1
 1054 082e 0160     		str r1, [r0]
 1055 0830 8E20     	        movs r0, # 0x8e
 1056 0832 1D49     	        ldr r1, = zhao_ou
 1057 0834 0222     	        movs r2, # 2
 1058 0836 00F044FA 	        bl _lcdxianshi
 1059 083a 1848     	        ldr r0, = liangcheng
 1060 083c C021     	        movs r1, # 0xc0
 1061 083e 0160     	        str r1, [r0]
 1062 0840 3FBD     		pop {r0-r5,pc}
 1063              	__dang_wei_xian_shi:
 1064 0842 0FB5     	        push {r0-r3,lr}
 1065 0844 0D48     		ldr r0, = dangwei
 1066 0846 0121     		movs r1, # 1
 1067 0848 0068     		ldr r0, [r0]
 1068 084a 184A     	        ldr r2, = asciimabiao
 1069 084c FF23     	        movs r3, # 0xff
 1070 084e 00F087FA 	        bl _zhuanascii
 1071 0852 8020     	        movs r0, # 0x80
 1072 0854 1549     	        ldr r1, = asciimabiao
 1073 0856 0122     	        movs r2, # 1
 1074 0858 00F033FA 	        bl _lcdxianshi
 1075 085c 0FBD     	        pop {r0-r3,pc}
 1076              	__pin_lv_xian_shi:
 1077 085e 0FB5     	        push {r0-r3,lr}
 1078 0860 1348     	        ldr r0, = pinlv
 1079 0862 0121     	        movs r1, # 1
 1080 0864 0068     		ldr r0, [r0]
 1081 0866 114A     	        ldr r2, = asciimabiao
 1082 0868 FF23     	        movs r3, # 0xff
 1083 086a 00F079FA 	        bl _zhuanascii
 1084 086e C020     		movs r0, # 0xc0
 1085 0870 0E49     	        ldr r1, = asciimabiao
 1086 0872 0122     	        movs r2, # 1
 1087 0874 00F025FA 	        bl _lcdxianshi
 1088 0878 0FBD     	        pop {r0-r3,pc}
 1089 087a 00001401 		.ltorg
 1089      0020201F 
 1089      0000CC01 
 1089      0020C801 
 1089      00200080 
ARM GAS  1.s 			page 21


 1090              	__zi_dong_dang_wei:
 1091 08b4 0FB5     		push {r0-r3,lr}
 1092 08b6 5E48     		ldr r0, = huandangyanshi
 1093 08b8 0168     		ldr r1, [r0]
 1094 08ba 0131     		adds r1, r1, # 1
 1095 08bc 0160     		str r1, [r0]
 1096 08be 3229     		cmp r1, # 50
 1097 08c0 01D1     		bne __huan_dang
 1098 08c2 0021     		movs r1, # 0
 1099 08c4 0160     		str r1, [r0]
 1100              	__huan_dang:	
 1101 08c6 5B48     		ldr r0, = shibu
 1102 08c8 5B49     		ldr r1, = xubu
 1103 08ca 0268     		ldr r2, [r0]
 1104 08cc 0B68     		ldr r3, [r1]
 1105 08ce 1200     		movs r2, r2
 1106 08d0 01D5     		bpl __jian_ce_xu_bu_shi_bu_shi_fu_shu
 1107 08d2 D243     		mvns r2, r2
 1108 08d4 0132     		adds r2, r2, # 1
 1109              	__jian_ce_xu_bu_shi_bu_shi_fu_shu:
 1110 08d6 1B00     		movs r3, r3
 1111 08d8 01D5     		bpl __bi_jiao_shi_xu_da_xiao
 1112 08da DB43     		mvns r3, r3
 1113 08dc 0133     		adds r3, r3, # 1
 1114              	__bi_jiao_shi_xu_da_xiao:	
 1115 08de 9A42     		cmp r2, r3
 1116 08e0 00D2     		bcs __dang_wei_pan_duan
 1117 08e2 1A46     		mov r2, r3
 1118              	__dang_wei_pan_duan:		
 1119 08e4 554B     		ldr r3, = 900
 1120 08e6 9A42     		cmp r2, r3
 1121 08e8 0BD3     		bcc __dang_wei_jian
 1122 08ea 554B     		ldr r3, = 9000
 1123 08ec 9A42     		cmp r2, r3
 1124 08ee 12D3     		bcc __zi_dong_dang_wei_fan_hui
 1125 08f0 5448     		ldr r0, = dangwei
 1126 08f2 0168     		ldr r1, [r0]
 1127 08f4 0131     		adds r1, r1, # 1
 1128 08f6 0160     		str r1, [r0]
 1129 08f8 0629     		cmp r1, # 6
 1130 08fa 0AD1     		bne __bao_cun_dang_wei
 1131 08fc 0521     		movs r1, # 5
 1132 08fe 0160     		str r1, [r0]
 1133 0900 07E0     		b __bao_cun_dang_wei
 1134              	__dang_wei_jian:
 1135 0902 5048     		ldr r0, = dangwei
 1136 0904 0168     		ldr r1, [r0]
 1137 0906 0139     		subs r1, r1, # 1
 1138 0908 0160     		str r1, [r0]
 1139 090a FF29     		cmp r1, # 0xff
 1140 090c 01D3     		bcc __bao_cun_dang_wei
 1141 090e 0021     		movs r1, # 0
 1142 0910 0160     		str r1, [r0]
 1143              	__bao_cun_dang_wei:	
 1144 0912 FFF715FF 		bl __dang_wei_she_zhi
 1145              	__zi_dong_dang_wei_fan_hui:	
 1146 0916 0FBD     		pop {r0-r3,pc}
ARM GAS  1.s 			page 22


 1147              	
 1148              	__xiang_wei_xuan_zhuan:
 1149 0918 FCB5     		push {r2-r7,lr}
 1150              		@R0=R,R1=I
 1151 091a 0346     		mov r3, r0
 1152 091c 0846     		mov r0, r1
 1153 091e 4A4C     	        ldr r4, = xuanzhuan_cos         @cos
 1154 0920 4A4D     		ldr r5, = xuanzhuan_sin          @sin
 1155 0922 2468     		ldr r4, [r4]
 1156 0924 2D68     		ldr r5, [r5]
 1157 0926 2646     	        mov r6, r4
 1158 0928 2F46     	        mov r7, r5
 1159 092a 5C43     	        muls r4, r4, r3         @x*cos
 1160 092c 4643     	        muls r6, r6, r0         @y*cos
 1161 092e 5D43     	        muls r5, r5, r3         @x*sin
 1162 0930 4743     	        muls r7, r7, r0         @y*sin
 1163 0932 E413     		asrs r4, r4, # 15
 1164 0934 ED13     		asrs r5, r5, # 15
 1165 0936 F613     	        asrs r6, r6, # 15
 1166 0938 FF13     	        asrs r7, r7, # 15
 1167              	
 1168 093a E419     	        adds r4, r4, r7         @x
 1169 093c 761B     	        subs r6, r6, r5         @y
 1170 093e 3146     		mov r1, r6		@i
 1171 0940 2046     		mov r0, r4		@r
 1172 0942 FCBD     		pop {r2-r7,pc}
 1173              	__dian_rong_ji_suan:
 1174 0944 1FB5     		push {r0-r4,lr}
 1175 0946 4248     		ldr r0, = Xs
 1176 0948 0268     		ldr r2, [r0]
 1177 094a 1200     		movs r2, r2
 1178 094c 01D5     		bpl __dianrong_bu_shi_fu
 1179 094e D243     		mvns r2, r2
 1180 0950 0132     		adds r2, r2, # 1
 1181              	__dianrong_bu_shi_fu:
 1182 0952 1000     		movs r0, r2
 1183 0954 0A21     		movs r1, # 10
 1184 0956 00F026FB 		bl __chu_fa
 1185 095a 0246     		mov r2, r0
 1186 095c 3D49     		ldr r1, = 628318
 1187 095e 4A43     		muls r2, r2, r1
 1188 0960 3D49     		ldr r1, = 0xd4a51000
 1189 0962 E820     		movs r0, # 0xe8
 1190 0964 00F0B2FA 		bl __chufa64
 1191 0968 3C4B     		ldr r3, = Cs
 1192 096a 1960     		str r1, [r3]
 1193 096c 1FBD     		pop {r0-r4,pc}
 1194              	
 1195              		
 1196              	__ji_suan_zu_kang:
 1197 096e FFB5     		push {r0-r7,lr}
 1198 0970 3B4B     		ldr r3, = xiabifangdakaiguan
 1199 0972 3C48     		ldr r0, = 0x48000000
 1200 0974 1A68     		ldr r2, [r3]
 1201 0976 3C49     		ldr r1, = 0x200
 1202 0978 8161     		str r1, [r0, # 0x18]
 1203 097a 0821     		movs r1, # 0x08
ARM GAS  1.s 			page 23


 1204 097c 012A     		cmp r2, # 1
 1205 097e 01D1     		bne __xiabifangdaguan
 1206 0980 8161     		str r1, [r0, # 0x18]
 1207 0982 00E0     		b __jian_bo
 1208              	__xiabifangdaguan:
 1209 0984 8162     		str r1, [r0, # 0x28]
 1210              	__jian_bo:	
 1211 0986 00F03EF8 		bl __tong_dao_qie_huan
 1212 098a 3848     		ldr r0, = zhengxiangbiao
 1213 098c 3849     		ldr r1, = fanxiangbiao
 1214 098e 00F093F8 		bl __DFT_ji_suan
 1215 0992 0646     		mov r6, r0
 1216 0994 0F46     		mov r7, r1
 1217 0996 374B     		ldr r3, = shangbifangdakaiguan
 1218 0998 3248     		ldr r0, = 0x48000000
 1219 099a 1A68     		ldr r2, [r3]
 1220 099c 3249     	        ldr r1, = 0x200
 1221 099e 8162     	        str r1, [r0, # 0x28]
 1222 09a0 0821     		movs r1, # 0x08
 1223 09a2 012A     		cmp r2, # 1
 1224 09a4 01D1     	        bne __shangbifangdaguan
 1225 09a6 8161     	        str r1, [r0, # 0x18]
 1226 09a8 00E0     	        b __jian_bo1
 1227              	__shangbifangdaguan:
 1228 09aa 8162     	         str r1, [r0, # 0x28]
 1229              	__jian_bo1:	
 1230 09ac 00F02BF8 	        bl __tong_dao_qie_huan
 1231 09b0 2E48     		ldr r0, = zhengxiangbiao
 1232 09b2 2F49     		ldr r1, = fanxiangbiao
 1233 09b4 00F080F8 	        bl __DFT_ji_suan
 1234 09b8 3246     		mov r2, r6
 1235 09ba 3B46     		mov r3, r7
 1236 09bc D243     		mvns r2, r2
 1237 09be DB43     		mvns r3, r3
 1238 09c0 0132     		adds r2, r2, # 1
 1239 09c2 0133     		adds r3, r3, # 1
 1240 09c4 C011     		asrs r0, r0, # 7
 1241 09c6 C911     		asrs r1, r1, # 7
 1242 09c8 D211     		asrs r2, r2, # 7
 1243 09ca DB11     		asrs r3, r3, # 7
 1244              	@	bl __xiang_wei_xuan_zhuan
 1245 09cc 00F012FA 		bl __fu_shu_chu_fa
 1246 09d0 1346     		mov r3, r2
 1247 09d2 0F46     		mov r7, r1
 1248 09d4 1748     		ldr r0, = shibu
 1249 09d6 1849     		ldr r1, = xubu
 1250 09d8 0F60     		str r7, [r1]
 1251 09da 0360     		str r3, [r0]
 1252 09dc 2649     		ldr r1, = lvboqijishu
 1253 09de 2748     	        ldr r0, = lvboqihuanchong
 1254 09e0 0968     	        ldr r1, [r1]
 1255 09e2 274A     	        ldr r2, = lvboqizhizhen
 1256 09e4 00F056F9 	        bl _lvboqi
 1257 09e8 3B46     		mov r3, r7
 1258 09ea 0746     		mov r7, r0
 1259 09ec 2249     		ldr r1, = lvboqijishu
 1260 09ee 2548     	        ldr r0, = lvboqihuanchong2
ARM GAS  1.s 			page 24


 1261 09f0 0968     	        ldr r1, [r1]
 1262 09f2 254A     	        ldr r2, = lvboqizhizhen2
 1263 09f4 00F04EF9 	        bl _lvboqi
 1264 09f8 0146     		mov r1, r0
 1265 09fa 3A46     		mov r2, r7
 1266 09fc 234C     		ldr r4, = Rs
 1267 09fe 144D     		ldr r5, = Xs
 1268 0a00 2260     		str r2, [r4]
 1269 0a02 2960     		str r1, [r5]
 1270 0a04 FFBD     		pop {r0-r7,pc}
 1271              	__tong_dao_qie_huan:
 1272 0a06 0FB5     		push {r0-r3,lr}
 1273 0a08 2148     		ldr r0, = dianyabiao
 1274 0a0a 224B     		ldr r3, = 0x40012428
 1275 0a0c 0121     		movs r1, # 0x01
 1276 0a0e 1960     		str r1, [r3]
 1277 0a10 00F044F8 		bl __tong_dao_qie_huan_yan_shi
 1278 0a14 1549     		ldr r1, = zhengxiangbiao
 1279 0a16 204A     		ldr r2, =  400
 1280 0a18 00F046F8 		bl __fu_zhi_nei_cun
 1281 0a1c 0221     		movs r1, # 0x02
 1282 0a1e 1960     		str r1, [r3]
 1283 0a20 00F03CF8 		bl __tong_dao_qie_huan_yan_shi
 1284 0a24 1249     		ldr r1, = fanxiangbiao
 1285 0a26 1C4A     		ldr r2, =  400
 1286 0a28 00F03EF8 		bl __fu_zhi_nei_cun
 1287 0a2c 0FBD     		pop {r0-r3,pc}
 1288 0a2e 00009C01 		.ltorg
 1288      00209001 
 1288      00209401 
 1288      00208403 
 1288      00002823 
 1289              	__tong_dao_qie_huan_yan_shi:
 1290 0a9c 80B5     		push {r7,lr}
 1291 0a9e 294F     		ldr r7, = tongdaoqiehuanyanshi
 1292 0aa0 3F68     		ldr r7, [r7]
 1293              	__tong_dao_qie_huan_yan_shi_xun_huan:
 1294 0aa2 013F     		subs r7, r7, # 1
 1295 0aa4 FDD1     		bne __tong_dao_qie_huan_yan_shi_xun_huan
 1296 0aa6 80BD     		pop {r7,pc}
 1297              	__fu_zhi_nei_cun:
 1298              		@ 入口 R0 = 要复制的地址，R1=目标地址，R2=复制的数量
 1299 0aa8 18B5     		push {r3-r4,lr}
 1300 0aaa 0024     		movs r4, # 0
 1301              	__fu_zhi_xun_huan:	
 1302 0aac 035B     		ldrh r3, [r0, r4]
 1303 0aae 0B53     		strh r3, [r1, r4]
 1304 0ab0 0234     		adds r4, r4, # 2
 1305 0ab2 013A     		subs r2, r2, # 1
 1306 0ab4 FAD1     		bne __fu_zhi_xun_huan
 1307 0ab6 18BD     		pop {r3-r4,pc}
 1308              	__DFT_ji_suan:
 1309              		@入口R0=正相表，R1=反相表
 1310 0ab8 FCB5     		push {r2-r7,lr}
 1311 0aba 4446     		mov r4, r8
 1312 0abc 4D46     		mov r5, r9
 1313 0abe 5646     		mov r6, r10
ARM GAS  1.s 			page 25


 1314 0ac0 70B4     		push {r4-r6}
 1315 0ac2 0026     		movs r6, # 0
 1316 0ac4 B046     		mov r8, r6
 1317 0ac6 B146     		mov r9, r6
 1318 0ac8 1F4A     		ldr r2, = 800
 1319 0aca 9246     		mov r10, r2
 1320 0acc 3246     		mov r2, r6
 1321              	__ji_suan_dft_xun_huan:
 1322 0ace 835A     		ldrh r3, [r0, r2]
 1323 0ad0 8C5A     		ldrh r4, [r1, r2]
 1324 0ad2 1B1B     		subs r3, r3, r4
 1325              	__ji_suan_dft:
 1326 0ad4 1D4D     		ldr r5, = xuan_zhuan_yin_zi
 1327 0ad6 AF59     		ldr r7, [r5, r6]
 1328 0ad8 0436     		adds r6, r6, # 4
 1329 0ada 5F43     		muls r7, r7, r3		@ 实部
 1330 0adc FF13     		asrs r7, r7, # 15
 1331 0ade 4446     		mov r4, r8
 1332 0ae0 E419     		adds r4, r4, r7
 1333 0ae2 A046     		mov r8, r4
 1334 0ae4 AF59     		ldr r7, [r5, r6]
 1335 0ae6 0436     		adds r6, r6, # 4
 1336 0ae8 5F43     		muls r7, r7, r3		@ 虚部
 1337 0aea FF13     		asrs r7, r7, # 15
 1338 0aec 4C46     		mov r4, r9
 1339 0aee E419     		adds r4, r4, r7
 1340 0af0 A146     		mov r9, r4
 1341 0af2 0232     		adds r2, r2, # 2
 1342 0af4 5245     		cmp r2, r10
 1343 0af6 EAD1     		bne __ji_suan_dft_xun_huan	
 1344 0af8 4046     		mov r0, r8
 1345 0afa 4946     		mov r1, r9
 1346 0afc 70BC     		pop {r4-r6}
 1347 0afe A046     		mov r8, r4
 1348 0b00 A946     		mov r9, r5
 1349 0b02 B246     		mov r10, r6
 1350 0b04 FCBD     		pop {r2-r7,pc}
 1351              	__xian_shi_jiao_du:
 1352 0b06 1FB5     		push {r0-r4,lr}
 1353 0b08 1148     	       ldr r0, = jiaodu
 1354 0b0a 0168     	        ldr r1, [r0]
 1355 0b0c 0C00     	       movs r4, r1
 1356 0b0e 07D5     	        bpl __jiaodu_bu_shi_zheng
 1357 0b10 8720     	        movs r0, # 0x87
 1358 0b12 1049     	        ldr r1, = _fu
 1359 0b14 0122     	        movs r2, # 1
 1360 0b16 00F0D4F8 	        bl _lcdxianshi
 1361 0b1a E443     	        mvns r4, r4
 1362 0b1c 0134     		adds r4, r4, # 1
 1363 0b1e 04E0     	        b __xian_shi_jiaodu
 1364              	__jiaodu_bu_shi_zheng:
 1365 0b20 8720     	        movs r0, # 0x87
 1366 0b22 0D49     		ldr r1, = kong
 1367 0b24 0122     		movs r2, # 1
 1368 0b26 00F0CCF8 	        bl _lcdxianshi
 1369              	__xian_shi_jiaodu:
 1370 0b2a 2046     	        mov r0, r4
ARM GAS  1.s 			page 26


 1371 0b2c 0521     	        movs r1, # 5
 1372 0b2e 0B4A     		ldr r2, = asciimabiao
 1373 0b30 FF23     	        movs r3, # 0xff
 1374 0b32 00F015F9 	        bl _zhuanascii
 1375 0b36 8820     		movs r0, # 0x88
 1376 0b38 0849     	        ldr r1, = asciimabiao
 1377 0b3a 0522     		movs r2, # 5
 1378 0b3c 00F0C1F8 		bl _lcdxianshi
 1379 0b40 1FBD     		pop {r0-r4,pc}
 1380 0b42 0000AC01 	        .ltorg
 1380      00202003 
 1380      00001012 
 1380      00000801 
 1380      0020741F 
 1381              	
 1382              	
 1383              	_xieflash:			@ flsh解锁
 1384 0b60 4148     		ldr r0, = 0x40022000
 1385 0b62 4249     		ldr r1, = 0x45670123
 1386 0b64 4160     		str r1, [r0, # 0x04]
 1387 0b66 4249     		ldr r1, = 0xcdef89ab
 1388 0b68 4160     		str r1, [r0, # 0x04]
 1389              						@擦除2页
 1390 0b6a 0125     		movs r5, # 1
 1391 0b6c 414C     		ldr r4, = 0x8002000
 1392 0b6e 0127     		movs r7, # 1
 1393 0b70 BF02     		lsls r7, r7, # 10
 1394              	_flashmang:
 1395 0b72 C268     		ldr r2, [r0, # 0x0c]
 1396 0b74 D207     		lsls r2, r2, # 31
 1397 0b76 FCD4     		bmi _flashmang
 1398 0b78 0221     		movs r1, # 2
 1399 0b7a 0161     		str r1, [r0, # 0x10]
 1400 0b7c 4461     		str r4, [r0, # 0x14]
 1401 0b7e 4221     		movs r1, # 0x42
 1402 0b80 0161     		str r1, [r0, # 0x10]
 1403 0b82 3C44     		add r4, r4, r7
 1404 0b84 013D     		subs r5, # 1
 1405 0b86 F4D1     		bne _flashmang
 1406              							@写FLASH
 1407 0b88 3A4F     		ldr r7, = 0x8002000
 1408 0b8a 3B4C     		ldr r4, = kailu_r
 1409 0b8c 0025     		movs r5, # 0
 1410 0b8e 0626     		movs r6, # 0x06
 1411              	_flashmang1:
 1412 0b90 C268     		ldr r2, [r0, # 0x0c]
 1413 0b92 D207     		lsls r2, r2, # 31
 1414 0b94 FCD4     		bmi _flashmang1
 1415 0b96 0121     		movs r1, # 1
 1416 0b98 0161     		str r1, [r0, # 0x10]
 1417 0b9a 635B     		ldrh r3, [r4, r5]
 1418 0b9c 7B53     		strh r3, [r7, r5]
 1419 0b9e 0235     		adds r5, r5, # 2
 1420              	_flashmang2:
 1421 0ba0 C268     		ldr r2, [r0, # 0x0c]
 1422 0ba2 D207     		lsls r2, r2, # 31
 1423 0ba4 FCD4     		bmi _flashmang2
ARM GAS  1.s 			page 27


 1424 0ba6 635B     		ldrh r3, [r4, r5]
 1425 0ba8 7B53     		strh r3, [r7, r5]
 1426 0baa 0235     		adds r5, r5, # 2
 1427 0bac 013E     		subs r6, r6, # 1
 1428 0bae EFD1     		bne _flashmang1
 1429              	_flashmang4:
 1430 0bb0 C268     		ldr r2, [r0, # 0x0c]
 1431 0bb2 D207     		lsls r2, r2, # 31
 1432 0bb4 FCD4     		bmi _flashmang4
 1433 0bb6 8021     		movs r1, # 0x80
 1434              		@str r1, [r0]          		@flsh上锁
 1435 0bb8 3048     		ldr r0, = 0xe000ed0c
 1436 0bba 3149     		ldr r1, = 0x05fa0004
 1437 0bbc 0160     		str r1, [r0]          		@复位
 1438              		
 1439              	__fu_shu_cheng_fa:
 1440 0bbe FCB5     		push {r2-r7,lr}
 1441              		@r0=a,r1=b,r2=c,r3=d
 1442 0bc0 0446     	        mov r4, r0      @a
 1443 0bc2 0D46     	        mov r5, r1      @b
 1444 0bc4 1646     		mov r6, r2	@c
 1445 0bc6 1F46     		mov r7, r3	@d
 1446 0bc8 5043     	        muls r0, r0, r2 @a*c
 1447 0bca 5943     		muls r1, r1, r3 @b*d
 1448 0bcc 401A     	        subs r0, r0, r1 @ac-bd
 1449 0bce 7C43     	        muls r4, r4, r7 @a*d
 1450 0bd0 7543     	        muls r5, r5, r6 @b*c
 1451 0bd2 6419     	        adds r4, r4, r5 @ad+bc
 1452 0bd4 2146     		mov r1, r4
 1453 0bd6 FCBD     		pop {r2-r7,pc}
 1454              		
 1455              	__an_jian:
 1456 0bd8 0EB5     		push {r1-r3,lr}
 1457 0bda 2A48     		ldr r0, = 0x48000010
 1458 0bdc 2A49     		ldr r1, = 0x48000410
 1459 0bde 0268     		ldr r2, [r0]	@pa4
 1460 0be0 0B68     		ldr r3, [r1]	@pb1
 1461 0be2 1046     		mov r0, r2	@pa2
 1462 0be4 4007     		lsls r0, r0, # 29
 1463 0be6 C00F     		lsrs r0, r0, # 31
 1464 0be8 D206     		lsls r2, r2, # 27
 1465 0bea D20F     		lsrs r2, r2, # 31
 1466 0bec 5200     		lsls r2, r2, # 1
 1467 0bee 9B07     		lsls r3, r3, # 30
 1468 0bf0 5B0F     		lsrs r3, r3, # 29
 1469 0bf2 1043     		orrs r0, r0, r2
 1470 0bf4 1843     		orrs r0, r0, r3
 1471 0bf6 C043     		mvns r0, r0
 1472 0bf8 4007     		lsls r0, r0, # 29
 1473 0bfa 400F     		lsrs r0, r0, # 29
 1474 0bfc 0EBD     		pop {r1-r3,pc}
 1475              	__atan2_ji_suan:
 1476              		@入口R0=实部，R1=虚部，结果=R0
 1477 0bfe FCB5     		push {r2-r7,lr}
 1478 0c00 4246     		mov r2, r8
 1479 0c02 04B4     		push {r2}
 1480 0c04 214B     		ldr r3, = cordic_yong_cos_sin
ARM GAS  1.s 			page 28


 1481 0c06 0A22     		movs r2, # 10
 1482 0c08 5043     		muls r0, r0, r2
 1483 0c0a 5143     		muls r1, r1, r2
 1484 0c0c 0022     		movs r2, # 0
 1485 0c0e 9046     		mov r8, r2
 1486 0c10 1F4C     		ldr r4, = 9000
 1487 0c12 E403     		lsls r4, r4, # 15
 1488              	__cordic_atan2_xun_huan:	
 1489              	__du_cos_sin:	
 1490 0c14 1D68     		ldr r5, [r3]	@cos
 1491 0c16 0433     		adds r3, r3, # 4
 1492 0c18 2F46     		mov r7, r5
 1493 0c1a 1E68     		ldr r6, [r3]	@sin
 1494 0c1c 0433     		adds r3, r3, # 4
 1495 0c1e 3246     		mov r2, r6
 1496 0c20 4543     	        muls r5, r5, r0         @x*cos
 1497 0c22 4243     	        muls r2, r2, r0         @x*sin
 1498 0c24 4E43     	        muls r6, r6, r1         @y*sin
 1499 0c26 4F43     	        muls r7, r7, r1         @y*cos
 1500 0c28 0900     		movs r1, r1
 1501 0c2a 05D5     		bpl __ni_shi_zhen_zhuan
 1502              	__shun_shi_zhen_zhuan:
 1503 0c2c AD1B     		subs r5, r5, r6
 1504 0c2e BF18     		adds r7, r7, r2
 1505 0c30 4646     		mov r6, r8
 1506 0c32 3619     		adds r6, r6, r4
 1507 0c34 B046     		mov r8, r6
 1508 0c36 04E0     		b __xuan_zhuan_wan
 1509              	__ni_shi_zhen_zhuan:
 1510 0c38 AD19     		adds r5, r5, r6
 1511 0c3a BF1A     		subs r7, r7, r2
 1512 0c3c 4646     		mov r6, r8
 1513 0c3e 361B     		subs r6, r6, r4
 1514 0c40 B046     		mov r8, r6
 1515              	__xuan_zhuan_wan:
 1516 0c42 124E     		ldr r6, = cordic_yong_cos_sin
 1517 0c44 2022     		movs r2, # 32
 1518 0c46 9200     		lsls r2, r2, # 2
 1519 0c48 B618     		adds r6, r6, r2
 1520 0c4a AD13     		asrs r5, r5, # 14
 1521 0c4c BF13     		asrs r7, r7, # 14
 1522 0c4e 2846     		mov r0, r5
 1523 0c50 3946     		mov r1, r7
 1524 0c52 6408     		lsrs r4, r4, # 1	@旋转
 1525 0c54 B342     		cmp r3,	r6 
 1526 0c56 DDD1     		bne __cordic_atan2_xun_huan
 1527 0c58 4046     		mov r0, r8
 1528 0c5a C043     		mvns r0, r0
 1529 0c5c 0130     		adds r0, r0, # 1
 1530 0c5e C013     		asrs r0, r0, # 15
 1531 0c60 4246     		mov r2, r8
 1532 0c62 04BC     		pop {r2}
 1533 0c64 FCBD     		pop {r2-r7,pc}
 1534 0c66 00000020 		.ltorg
 1534      02402301 
 1534      6745AB89 
 1534      EFCD0020 
ARM GAS  1.s 			page 29


 1534      00080C01 
 1535              	
 1536              	_lvboqi:
 1537              				@滤波器
 1538              				@R0=地址，R1=长度,r2=表指针地址,r3=ADC数值
 1539              				@出R0=结果
 1540 0c94 FEB5     		push {r1-r7,lr}	
 1541 0c96 1568     		ldr r5, [r2]		@读出表指针
 1542 0c98 8E00     		lsls r6, r1, # 2	
 1543 0c9a 4351     		str r3, [r0, r5]	@数值写到滤波器缓冲区
 1544 0c9c 0435     		adds r5, r5, # 4
 1545 0c9e B542     		cmp r5, r6
 1546 0ca0 00D1     		bne _lvboqimeidaohuanchongquding
 1547 0ca2 0025     		movs r5, # 0
 1548              	_lvboqimeidaohuanchongquding:
 1549 0ca4 1560     		str r5, [r2]
 1550 0ca6 0027     		movs r7, # 0
 1551              	_lvboqixunhuan:
 1552 0ca8 B542     		cmp r5, r6
 1553 0caa 00D1     		bne _lvbozonghe
 1554 0cac 0025     		movs r5, # 0
 1555              	_lvbozonghe:
 1556 0cae 4459     		ldr r4, [r0, r5]
 1557 0cb0 0435     		adds r5, r5, # 4
 1558 0cb2 3F19     		adds r7, r7, r4
 1559 0cb4 0139     		subs r1, r1, # 1
 1560 0cb6 F7D1     		bne _lvboqixunhuan
 1561 0cb8 474D     		ldr r5, = lvboqiyiwei
 1562 0cba 3846     		mov r0, r7
 1563 0cbc 2D68     		ldr r5, [r5]
 1564 0cbe 2841     		asrs r0, r0, r5	@修改
 1565 0cc0 FEBD     		pop {r1-r7,pc}
 1566              	_lcdxianshi:	  		@r0=LCD位置，r1=数据地址，r2=长度
 1567 0cc2 1FB5     		push {r0-r4,lr}
 1568 0cc4 0C46     		mov r4, r1
 1569              	
 1570 0cc6 0021     		movs r1, # 0
 1571 0cc8 00F00EF8 		bl _xielcd
 1572              	
 1573 0ccc 0121     		movs r1, # 1
 1574 0cce 0023     		movs r3, # 0
 1575              	_lcdxianshixunhuan:
 1576 0cd0 E05C     		ldrb r0, [r4,r3]
 1577 0cd2 00F009F8 		bl _xielcd
 1578 0cd6 0133     		adds r3, r3, # 1
 1579 0cd8 9342     		cmp r3, r2
 1580 0cda F9D1     		bne _lcdxianshixunhuan
 1581 0cdc 1FBD     		pop {r0-r4,pc}
 1582              	
 1583              	_lcdyanshi:
 1584 0cde 20B5     		push {r5,lr}
 1585 0ce0 3E4D     		ldr r5, = 0x1000
 1586              	_lcdyanshixunhuan:
 1587 0ce2 013D     		subs r5, r5, # 1
 1588 0ce4 FDD1     		bne _lcdyanshixunhuan
 1589 0ce6 20BD     		pop {r5,pc}
 1590              	
ARM GAS  1.s 			page 30


 1591              	_xielcd:			@入R0=8位,r1=0命令,r1=1数据
 1592 0ce8 3FB5     		push {r0-r5,lr}
 1593 0cea 3D4C     		ldr r4, = liangcheng  @ 量程开关 (第6位和第7位)
 1594 0cec 0246     		mov r2, r0
 1595 0cee 2568     		ldr r5, [r4]
 1596 0cf0 1209     		lsrs r2, r2, # 4
 1597 0cf2 9200     		lsls r2, r2, # 2	@ 高四位
 1598 0cf4 0007     		lsls r0, r0, # 28
 1599 0cf6 800E     		lsrs r0, r0, # 26	@ 低四位
 1600 0cf8 C907     		lsls r1, r1, # 31
 1601 0cfa 01D5     		bpl __lcd_ming_ling
 1602              	__lcd_shu_ju:
 1603 0cfc 0323     		movs r3, # 0x03		@ RS = 1 E = 1
 1604 0cfe 00E0     		b __xie_lcd_shu_ju
 1605              	__lcd_ming_ling:
 1606 0d00 0223     		movs r3, # 0x02		@ RS = 0 E = 1
 1607              	__xie_lcd_shu_ju:
 1608 0d02 5B19     		adds r3, r3, r5
 1609 0d04 0146     		mov r1, r0
 1610 0d06 D218     		adds r2, r2, r3
 1611 0d08 1000     		movs r0, r2
 1612 0d0a 00F00BF8 		bl __74hc595
 1613 0d0e 0238     		subs r0, r0, # 0x02
 1614 0d10 00F008F8 		bl __74hc595
 1615 0d14 0846     		mov r0, r1
 1616 0d16 C018     		adds r0, r0, r3
 1617 0d18 00F004F8 		bl __74hc595
 1618 0d1c 0238     		subs r0, r0, # 0x02
 1619 0d1e 00F001F8 		bl __74hc595
 1620 0d22 3FBD     		pop {r0-r5,pc}
 1621              		
 1622              	__74hc595:			@ 入R0=8位
 1623 0d24 FFB5     		push {r0-r7,lr}
 1624 0d26 2F4E     		ldr r6, = 0x48000000
 1625 0d28 2025     		movs r5, # 0x20		@ SRCLK
 1626 0d2a 4022     		movs r2, # 0x40		@ RCLK
 1627 0d2c 8023     		movs r3, # 0x80		@ SER
 1628 0d2e 1824     		movs r4, # 24
 1629              	__595_yiweixunhuan:
 1630 0d30 B262     		str r2, [r6, # 0x28]	@ rclk=0
 1631 0d32 B562     		str r5, [r6, # 0x28]	@ srclk=0
 1632              		@ovs r7, # 0xff
 1633 0d34 2C4F     		ldr r7, = 0x1ff
 1634              	__595_yanshi:
 1635 0d36 013F     		subs r7, r7, # 1
 1636 0d38 FDD1     		bne __595_yanshi
 1637 0d3a 0146     		mov r1, r0
 1638 0d3c A140     		lsls r1, r1, r4
 1639 0d3e 01D5     		bpl __ser_0
 1640              	__ser_1:
 1641 0d40 B361     		str r3, [r6, # 0x18]	@ ser=1
 1642 0d42 00E0     		b __595_yiwei
 1643              	__ser_0:
 1644 0d44 B362     		str r3, [r6, # 0x28]	@ ser=0
 1645              	__595_yiwei:
 1646 0d46 B561     		str r5, [r6, # 0x18]
 1647              		@movs r7, # 0xff
ARM GAS  1.s 			page 31


 1648 0d48 274F     		ldr r7, = 0x1ff
 1649              	__595_yanshi1:
 1650 0d4a 013F     		subs r7, r7, # 1
 1651 0d4c FDD1     		bne __595_yanshi1
 1652 0d4e 0134     		adds r4, r4, # 1
 1653 0d50 202C     		cmp r4, # 32
 1654 0d52 EDD1     		bne __595_yiweixunhuan
 1655 0d54 B261     		str r2, [r6, # 0x18]	@ rclk=1
 1656              		@movs r7, # 0xff
 1657 0d56 244F     		ldr r7, = 0x1ff
 1658              	__595_yanshi2:
 1659 0d58 013F     		subs r7, r7, # 1
 1660 0d5a FDD1     		bne __595_yanshi2
 1661 0d5c B262     		str r2, [r6, # 0x28]	@ rclk = 0
 1662 0d5e FFBD     		pop {r0-r7,pc}
 1663              	
 1664              	
 1665              	
 1666              	_zhuanascii:					@ 16进制转ASCII
 1667              			@ R0要转的数据， R1长度，R2结果表首地址, r3=小数点位置
 1668 0d60 FFB5     		push {r0-r7,lr}
 1669 0d62 1F46     		mov r7, r3
 1670 0d64 0546     		mov r5, r0
 1671 0d66 0E46     		mov r6, r1
 1672 0d68 0A21     		movs r1, # 10
 1673              	_xunhuanqiuma:
 1674 0d6a 00F009F9 		bl _chufa
 1675 0d6e 0446     		mov r4, r0
 1676 0d70 4C43     		muls r4, r1
 1677 0d72 2B1B     		subs r3, r5, r4
 1678 0d74 3033     		adds r3, r3, # 0x30
 1679 0d76 0546     		mov r5, r0
 1680 0d78 013E     		subs r6, r6, # 1
 1681 0d7a 08D0     		beq _qiumafanhui
 1682 0d7c BE42     		cmp r6, r7
 1683 0d7e 02D1     		bne _meidaoxiaoshudian
 1684 0d80 2E24     		movs r4, # 0x2e		@小数点
 1685 0d82 9455     		strb r4, [r2,r6]	@插入小数点
 1686 0d84 013E     		subs r6, r6, # 1
 1687              	_meidaoxiaoshudian:
 1688 0d86 9355     		strb r3, [r2,r6]
 1689 0d88 3600     		movs r6, r6
 1690 0d8a EED1     		bne _xunhuanqiuma
 1691 0d8c FFBD     		pop {r0-r7,pc}
 1692              	_qiumafanhui:
 1693 0d8e 9355     		strb r3, [r2, r6]
 1694 0d90 FFBD     		pop {r0-r7,pc}
 1695              	__ji_suan_fu_du:    @ 计算幅度
 1696              	                @ 入r0= 实部，r1= 虚部
 1697              	                @ 出r0 = 幅度
 1698              	                @ Mag ~=Alpha * max(|I|, |Q|) + Beta * min(|I|, |Q|)
 1699              	                @ Alpha * Max + Beta * Min
 1700 0d92 0EB5     	        push {r1-r3,lr}
 1701 0d94 0000     	        movs r0, r0
 1702 0d96 01D5     	        bpl _shibubushifushu
 1703 0d98 C043     	        mvns r0, r0                             @ 是负数转成正数
 1704 0d9a 0130     	        adds r0, r0, # 1
ARM GAS  1.s 			page 32


 1705              	_shibubushifushu:                               @ 实部不是负数
 1706 0d9c 0900     	        movs r1, r1
 1707 0d9e 01D5     	        bpl _xububushifushu
 1708 0da0 C943     	        mvns r1, r1                             @ 是负数转成正数
 1709 0da2 0131     	        adds r1, r1, # 1
 1710              	_xububushifushu:                                @ 虚部不是负数
 1711 0da4 0028     	        cmp r0, # 0
 1712 0da6 01D1     	        bne _panduanxubushibushi0
 1713 0da8 0846     	        mov r0, r1
 1714 0daa 0EBD     	        pop {r1-r3,pc}
 1715              	_panduanxubushibushi0:	
 1716 0dac 0029     		cmp r1, # 0
 1717 0dae 00D1     		bne _jisuanfudu1
 1718 0db0 0EBD     		pop {r1-r3,pc}
 1719              	_jisuanfudu1:
 1720 0db2 0E4A     		ldr r2, = 31066		@ Alpha q15 0.948059448969
 1721 0db4 0E4B     		ldr r3, = 12867		@ Beta q15 0.392699081699
 1722 0db6 8142     		cmp r1, r0
 1723 0db8 06D8     		bhi _alpha_min_beta_max
 1724              	_alpha_max_beta_min:
 1725 0dba 5043     		muls r0, r0, r2
 1726 0dbc 5943     		muls r1, r1, r3
 1727 0dbe C013     		asrs r0, r0, # 15
 1728 0dc0 C913     		asrs r1, r1, # 15
 1729 0dc2 4018     		adds r0, r0, r1
 1730 0dc4 0121     		movs r1, # 1
 1731 0dc6 0EBD     		pop {r1-r3,pc}
 1732              	_alpha_min_beta_max:
 1733 0dc8 5843     		muls r0, r0, r3
 1734 0dca 5143     		muls r1, r1, r2
 1735 0dcc C013     		asrs r0, r0, # 15
 1736 0dce C913     		asrs r1, r1, # 15
 1737 0dd0 4018     		adds r0, r0, r1
 1738 0dd2 0021     		movs r1, # 0
 1739 0dd4 0EBD     		pop {r1-r3,pc}
 1740 0dd6 0000C001 		.ltorg
 1740      00200010 
 1740      00001001 
 1740      00200000 
 1740      0048FF01 
 1741              	__fu_shu_chu_fa:
 1742 0df4 F0B5     		push {r4-r7,lr}
 1743              		@入口R0=a R1=b,R2=c R3=d
 1744              		@出口R1=虚部 R2=实部
 1745 0df6 4446     		mov r4, r8
 1746 0df8 10B4     		push {r4}
 1747              	__ji_suan_chu_fa:
 1748              		@ Z=50*[(a+bi)/(c+di)]=50*[(ac+bd)/(c*c+d*d)+(bc-ad)/(c*c+d*d)]
 1749 0dfa 0446     		mov r4, r0
 1750 0dfc 0D46     		mov r5, r1
 1751 0dfe 1646     		mov r6, r2
 1752              		@mov r7, r3
 1753 0e00 9846     		mov r8, r3
 1754 0e02 0027     		movs r7,  # 0
 1755 0e04 0000     	        movs r0, r0
 1756 0e06 02D5     	        bpl b1
 1757 0e08 C043     	        mvns r0, r0
ARM GAS  1.s 			page 33


 1758 0e0a 0130     	        adds r0, r0, # 1
 1759 0e0c 0137     	        adds r7, r7, # 1
 1760              	
 1761              	b1:
 1762 0e0e 1200     	        movs r2, r2
 1763 0e10 02D5     	        bpl b2
 1764 0e12 D243     		mvns r2, r2
 1765 0e14 0132     	        adds r2, r2, # 1
 1766 0e16 0137     	        adds r7, r7, # 1
 1767              	b2:
 1768 0e18 5043     		muls r0, r0, r2
 1769 0e1a 012F     	        cmp r7, # 1
 1770 0e1c 01D1     	        bne b3
 1771 0e1e C043     	        mvns r0, r0
 1772 0e20 0130     	        adds r0, r0, # 1
 1773              	b3:
 1774              		@muls r0, r0, r2		@ac
 1775 0e22 0027     	        movs r7,  # 0
 1776 0e24 0900     	        movs r1, r1
 1777 0e26 02D5     	        bpl b4
 1778 0e28 C943     	        mvns r1, r1
 1779 0e2a 0131     	        adds r1, r1, # 1
 1780 0e2c 0137     	        adds r7, r7, # 1
 1781              	
 1782              	b4:
 1783 0e2e 1B00     	        movs r3, r3
 1784 0e30 02D5     	        bpl b5
 1785 0e32 DB43     	        mvns r3, r3
 1786 0e34 0133     	        adds r3, r3, # 1
 1787 0e36 0137     	        adds r7, r7, # 1
 1788              	b5:
 1789 0e38 5943     	        muls r1, r1, r3
 1790 0e3a 012F     	        cmp r7, # 1
 1791 0e3c 01D1     	        bne b6
 1792 0e3e C943     	        mvns r1, r1
 1793 0e40 0131     	        adds r1, r1, # 1
 1794              	b6:
 1795              	
 1796              	@	muls r1, r1, r3		@bd
 1797 0e42 4018     		adds r0, r0, r1		@ac+bd
 1798 0e44 1200     		movs r2, r2
 1799 0e46 05D5     		bpl b7
 1800 0e48 D243     		mvns r2, r2
 1801 0e4a 0132     		adds r2, r2, # 1
 1802 0e4c 5243     		muls r2, r2, r2
 1803 0e4e D243     		mvns r2, r2
 1804 0e50 0132     		adds r2, r2, # 1
 1805 0e52 00E0     		b b8
 1806              	b7:	
 1807 0e54 5243     	        muls r2, r2, r2         @c*c
 1808              	b8:
 1809 0e56 1B00     		movs r3, r3
 1810 0e58 05D5     		bpl b9
 1811 0e5a DB43     		mvns r3, r3
 1812 0e5c 0133     		adds r3, r3, # 1
 1813 0e5e 5B43     		muls r3, r3, r3
 1814 0e60 DB43     		mvns r3, r3
ARM GAS  1.s 			page 34


 1815 0e62 0133     		adds r3, r3, # 1
 1816 0e64 00E0     		b b10
 1817              	b9:	
 1818 0e66 5B43     		muls r3, r3, r3		@d*d
 1819              	b10:	
 1820 0e68 D218     		adds r2, r2, r3		@c*c+d*d
 1821 0e6a 7F49     		ldr r1, = 1000
 1822 0e6c 0023     		movs r3, # 0
 1823 0e6e 0000     		movs r0, r0
 1824 0e70 02D5     		bpl a1
 1825 0e72 C043     		mvns r0, r0
 1826 0e74 0130     		adds r0, r0, # 1
 1827 0e76 0133     		adds r3, r3, # 1
 1828              	a1:
 1829 0e78 1200     		movs r2, r2
 1830 0e7a 02D5     		bpl a2
 1831 0e7c D243     		mvns r2, r2
 1832 0e7e 0132     		adds r2, r2, # 1
 1833 0e80 0133     		adds r3, r3, # 1
 1834              	a2:
 1835 0e82 00F047F8 		bl __chengfa
 1836 0e86 00F021F8 		bl __chufa64		@(ac+bd)/(c*c+d*d)
 1837 0e8a 012B     		cmp r3, # 1
 1838 0e8c 01D1     		bne a3
 1839 0e8e C943     		mvns r1, r1
 1840 0e90 0131     		adds r1, r1, # 1
 1841              	a3:	
 1842 0e92 02B4     		push {r1}
 1843 0e94 4746     		mov r7, r8
 1844 0e96 7543     		muls r5, r5, r6		@ bc
 1845 0e98 7C43     		muls r4, r4, r7		@ ad
 1846 0e9a 2D1B     		subs r5, r5, r4		@ bc-ad
 1847 0e9c 7249     		ldr r1, = 1000
 1848 0e9e 0023     		movs r3, # 0
 1849 0ea0 2800     		movs r0, r5
 1850 0ea2 02D5     		bpl a4
 1851 0ea4 C043     		mvns r0, r0
 1852 0ea6 0130     		adds r0, r0, # 1
 1853 0ea8 0133     		adds r3, r3, # 1
 1854              	a4:
 1855 0eaa 1200     		movs r2, r2
 1856 0eac 02D5     		bpl a5
 1857 0eae D243     		mvns r2, r2
 1858 0eb0 0132     		adds r2, r2, # 1
 1859 0eb2 0133     		adds r3, r3, # 1
 1860              	a5:
 1861 0eb4 00F02EF8 		bl __chengfa
 1862 0eb8 00F008F8 		bl __chufa64
 1863 0ebc 012B     		cmp r3, # 1
 1864 0ebe 01D1     		bne __a6
 1865 0ec0 C943     		mvns r1, r1
 1866 0ec2 0131     		adds r1, r1, # 1	@虚部
 1867              	__a6:	
 1868 0ec4 04BC     		pop {r2}		@实
 1869 0ec6 10BC     		pop {r4}
 1870 0ec8 A046     		mov r8, r4
 1871 0eca F0BD     		pop {r4-r7,pc}
ARM GAS  1.s 			page 35


 1872              	
 1873              	__chufa64:
 1874              	        @64位除32位
 1875              	        @ （R0=高32位R1=低32位）除（R2)= （R0高32）（R1低32）
 1876 0ecc F8B5     	        push {r3-r7,lr}
 1877 0ece 002A     	        cmp r2, # 0
 1878 0ed0 1DD0     	        beq __chu_fa64_fan_hui0
 1879 0ed2 0029     	        cmp r1, # 0
 1880 0ed4 01D1     	        bne __chu_fa64_ji_suan
 1881 0ed6 0028     	        cmp r0, # 0
 1882 0ed8 19D0     	        beq __chu_fa64_fan_hui0
 1883              	__chu_fa64_ji_suan:	
 1884 0eda 0024     	        movs r4, # 0
 1885 0edc 2746     	        mov r7, r4
 1886 0ede 2346     	        mov r3, r4
 1887 0ee0 2546     	        mov r5, r4
 1888 0ee2 0126     	        movs r6, # 1
 1889 0ee4 F607     	        lsls r6, r6, # 31
 1890              	__chu_fa64_xun_huan:
 1891 0ee6 4900     	        lsls r1, r1, # 1
 1892 0ee8 4041     	        adcs r0, r0, r0
 1893 0eea 6441     	        adcs r4, r4, r4
 1894 0eec 9442     	        cmp r4, r2
 1895 0eee 02D3     	        bcc __chu_fa_yi_wei
 1896 0ef0 9B19     	        adds r3, r3, r6
 1897 0ef2 7D41     	        adcs r5, r5, r7
 1898 0ef4 A41A     	        subs r4, r4, r2
 1899              	__chu_fa_yi_wei:
 1900 0ef6 3600     	        movs r6, r6
 1901 0ef8 04D0     	        beq __di_yi_wei
 1902 0efa 7608     	        lsrs r6, r6, # 1        @高32位移位
 1903 0efc F3D1     	        bne __chu_fa64_xun_huan
 1904 0efe 0127     	        movs r7, # 1
 1905 0f00 FF07     	        lsls r7, r7, # 31
 1906 0f02 F0E7     	        b __chu_fa64_xun_huan
 1907              	__di_yi_wei:            @低32位移位
 1908 0f04 7F08     		lsrs r7, r7, # 1
 1909 0f06 EED1     	        bne __chu_fa64_xun_huan
 1910 0f08 1846     	        mov r0, r3
 1911 0f0a 2946     	        mov r1, r5
 1912 0f0c F8BD     	        pop {r3-r7,pc}
 1913              	__chu_fa64_fan_hui0:
 1914 0f0e 0020     		movs r0, # 0
 1915 0f10 0021     		movs r1, # 0
 1916 0f12 F8BD     		pop {r3-r7,pc}
 1917              	
 1918              		
 1919              	__chengfa:
 1920              	        @入R0 乘以 R1
 1921              	        @出 R0高32 ， R1低32
 1922              		@0xffffffff*0xffffffff
 1923              	        @4        F F F E 0 0 0 1
 1924              	        @3                F F F E 0 0 0 1
 1925              	        @2                F F F E 0 0 0 1
 1926              	        @1                        F F F E 0 0 0 1
 1927              	        @         F F F F F F F E 0 0 0 0 0 0 0 1
 1928 0f14 FCB5     		push {r2-r7,lr}
ARM GAS  1.s 			page 36


 1929 0f16 0028     	        cmp r0, # 0
 1930 0f18 1CD0     	        beq __cheng_fa_fan_hui
 1931 0f1a 0029     	        cmp r1, # 0
 1932 0f1c 1AD0     	        beq __cheng_fa_fan_hui
 1933              	__ji_suan_cheng_fa:	
 1934 0f1e 0246     		mov r2, r0
 1935 0f20 0B46     		mov r3, r1
 1936 0f22 000C     		lsrs r0, r0, # 16	@高16
 1937 0f24 1204     		lsls r2, r2, # 16	@ 低16
 1938 0f26 120C     		lsrs r2, r2, # 16
 1939 0f28 090C     	        lsrs r1, r1, # 16	@高16
 1940 0f2a 1B04     		lsls r3, r3, # 16	@低16
 1941 0f2c 1B0C     		lsrs r3, r3, # 16
 1942 0f2e 1446     		mov r4, r2		
 1943 0f30 0546     		mov r5, r0		
 1944 0f32 5A43     		muls r2, r2, r3		@1
 1945 0f34 5843     		muls r0, r0, r3		@2
 1946 0f36 4C43     		muls r4, r4, r1		@3
 1947 0f38 4D43     		muls r5, r5, r1		@4
 1948 0f3a 0646     		mov r6, r0		@2
 1949 0f3c 2746     		mov r7, r4		@3
 1950 0f3e 0004     		lsls r0, r0, # 16	@2低
 1951 0f40 2404     		lsls r4, r4, # 16	@3低
 1952 0f42 360C     		lsrs r6, r6, # 16	@2高
 1953 0f44 3F0C     		lsrs r7, r7, # 16	@3高
 1954 0f46 1218     		adds r2, r2, r0
 1955 0f48 6241     		adcs r2, r2, r4
 1956 0f4a 7541     		adcs r5, r5, r6
 1957 0f4c 7D41     		adcs r5, r5, r7
 1958 0f4e 2846     		mov r0, r5
 1959 0f50 1146     		mov r1, r2
 1960 0f52 FCBD     		pop {r2-r7,pc}
 1961              	__cheng_fa_fan_hui:
 1962 0f54 0020     		movs r0, # 0
 1963 0f56 0021     		movs r1, # 0
 1964 0f58 FCBD     		pop {r2-r7,pc}
 1965              	__dai_yu_shu_chufa:                         @软件除法
 1966              	        @ r0 除以 r1 等于 商(r0)余R1
 1967 0f5a 1CB5     	        push {r2-r4,lr}
 1968 0f5c 0028     	        cmp r0, # 0
 1969 0f5e 0ED0     	        beq __dai_yu_shu_chufafanhui
 1970 0f60 0029     	        cmp r1, # 0
 1971 0f62 0CD0     	        beq __dai_yu_shu_chufafanhui
 1972 0f64 0246     	        mov r2, r0
 1973 0f66 0123     	        movs r3, # 1
 1974 0f68 DB07     	        lsls r3, r3, # 31
 1975 0f6a 0020     	        movs r0, # 0
 1976 0f6c 0446     	        mov r4, r0
 1977              	__dai_yu_shu_chufaxunhuan:
 1978 0f6e 5200     	        lsls r2, r2, # 1
 1979 0f70 6441     	        adcs r4, r4, r4
 1980 0f72 8C42     	        cmp r4, r1
 1981 0f74 01D3     	        bcc __dai_yu_shu_chufaweishubudao0
 1982 0f76 C018     		adds r0, r0, r3
 1983 0f78 641A     	        subs r4, r4, r1
 1984              	__dai_yu_shu_chufaweishubudao0:
 1985 0f7a 5B08     	        lsrs r3, r3, # 1
ARM GAS  1.s 			page 37


 1986 0f7c F7D1     	        bne __dai_yu_shu_chufaxunhuan
 1987              	__dai_yu_shu_chufafanhui:
 1988 0f7e 1CBD     	        pop {r2-r4,pc}
 1989              	
 1990              	_chufa:				@软件除法
 1991              		@ r0 除以 r1 等于 商(r0)
 1992 0f80 1EB5     		push {r1-r4,lr}
 1993 0f82 0028     		cmp r0, # 0
 1994 0f84 0ED0     		beq _chufafanhui
 1995 0f86 0029     		cmp r1, # 0
 1996 0f88 0CD0     		beq _chufafanhui
 1997 0f8a 0246     		mov r2, r0
 1998 0f8c 0123     		movs r3, # 1
 1999 0f8e DB07     		lsls r3, r3, # 31
 2000 0f90 0020     		movs r0, # 0
 2001 0f92 0446     		mov r4, r0
 2002              	_chufaxunhuan:
 2003 0f94 5200     		lsls r2, r2, # 1
 2004 0f96 6441     		adcs r4, r4, r4
 2005 0f98 8C42     		cmp r4, r1
 2006 0f9a 01D3     		bcc _chufaweishubudao0
 2007 0f9c C018     		adds r0, r0, r3
 2008 0f9e 641A     		subs r4, r4, r1
 2009              	_chufaweishubudao0:
 2010 0fa0 5B08     		lsrs r3, r3, # 1
 2011 0fa2 F7D1     		bne _chufaxunhuan
 2012              	_chufafanhui:
 2013 0fa4 1EBD     		pop {r1-r4,pc}
 2014              	__chu_fa:	@带符号
 2015 0fa6 FEB5     		push {r1-r7,lr}
 2016 0fa8 0028     	        cmp r0, # 0
 2017 0faa 1ED0     	        beq _chufafanhui1
 2018 0fac 0029     	        cmp r1, # 0
 2019 0fae 1CD0     	        beq _chufafanhui1
 2020 0fb0 0025     		movs r5, # 0
 2021 0fb2 0000     		movs r0, r0
 2022 0fb4 02D5     		bpl __pan_duan_bei_chu_shu
 2023 0fb6 0135     		adds r5, r5, # 1
 2024 0fb8 C043     		mvns r0, r0
 2025 0fba 0130     		adds r0, r0, # 1
 2026              	__pan_duan_bei_chu_shu:
 2027 0fbc 0900     		movs r1, r1
 2028 0fbe 02D5     		bpl __ji_suan_chu_fa11
 2029 0fc0 0135     		adds r5, r5, # 1
 2030 0fc2 C943     		mvns r1, r1
 2031 0fc4 0131     		adds r1, r1, # 1
 2032              	__ji_suan_chu_fa11:	
 2033 0fc6 0246     	        mov r2, r0
 2034 0fc8 0123     	        movs r3, # 1
 2035 0fca DB07     	        lsls r3, r3, # 31
 2036 0fcc 0020     	        movs r0, # 0
 2037 0fce 0446     	        mov r4, r0
 2038              	_chufaxunhuan1:
 2039 0fd0 5200     	        lsls r2, r2, # 1
 2040 0fd2 6441     	        adcs r4, r4, r4
 2041 0fd4 8C42     	        cmp r4, r1
 2042 0fd6 01D3     		bcc _chufaweishubudao00
ARM GAS  1.s 			page 38


 2043 0fd8 C018     		adds r0, r0, r3
 2044 0fda 641A     		subs r4, r4, r1
 2045              	_chufaweishubudao00:
 2046 0fdc 5B08     		lsrs r3, r3, # 1
 2047 0fde F7D1     		bne _chufaxunhuan1
 2048 0fe0 012D     		cmp r5, # 1
 2049 0fe2 03D1     		bne _chufafanhui2
 2050 0fe4 C043     		mvns r0, r0
 2051 0fe6 0130     		adds r0, r0, # 1
 2052 0fe8 FEBD     		pop {r1-r7,pc}
 2053              	_chufafanhui1:
 2054 0fea 0020     		movs r0, #0
 2055              	_chufafanhui2:	
 2056 0fec FEBD     		pop {r1-r7,pc}
 2057              	
 2058              	__he_bing_dian_ya_biao:
 2059              		@入口R0=正相表，R1=反相表
 2060 0fee FCB5     		push {r2-r7,lr}
 2061              	@	ldr r0, = zhengxiangbiao
 2062              	@	ldr r1, = fanxiangbiao
 2063 0ff0 1E4A     		ldr r2, = 0x20000ba0
 2064 0ff2 0023     		movs r3, # 0
 2065 0ff4 1E46     		mov r6, r3
 2066 0ff6 1E4F     		ldr r7, = 200
 2067 0ff8 9846     		mov r8, r3	
 2068              	__he_bing_dian_ya_biao_xun_huan:
 2069 0ffa C45A     	        ldrh r4, [r0, r3]
 2070 0ffc CD5A     	        ldrh r5, [r1, r3]
 2071 0ffe 9846     	        mov r8, r3
 2072 1000 AC42     	        cmp r4, r5
 2073 1002 06D8     		bhi __zheng_dian_ya
 2074 1004 2B46     		mov r3, r5
 2075 1006 00F010F8 	        bl __zhuan_bcd
 2076 100a 1A4D     	        ldr r5, = 0x80000000
 2077 100c 1D43     	        orrs r5, r5, r3
 2078 100e 9551     		str r5, [r2, r6]
 2079 1010 03E0     	        b __dian_ya_biao_jia
 2080              	__zheng_dian_ya:
 2081 1012 2346     	        mov r3, r4
 2082 1014 00F009F8 	        bl __zhuan_bcd
 2083 1018 9351     	        str r3, [r2, r6]
 2084              	__dian_ya_biao_jia:
 2085 101a 4346     	        mov r3, r8
 2086 101c 0233     	        adds r3, r3, # 2
 2087 101e 0436     	        adds r6, r6, # 4
 2088 1020 013F     	        subs r7, r7, # 1
 2089 1022 EAD1     		bne __he_bing_dian_ya_biao_xun_huan
 2090 1024 C018     		adds r0, r0, r3
 2091 1026 C918     		adds r1, r1, r3
 2092 1028 FCBD     		pop {r2-r7,pc}
 2093              	__zhuan_bcd:
 2094 102a F7B5     		push {r0-r2,r4-r7,lr}
 2095 102c 0A21     		movs r1, # 10
 2096 102e 1846     		mov r0, r3
 2097 1030 1D46     		mov r5, r3
 2098 1032 0826     		movs r6, # 8
 2099              	__bcd_xun_huan:
ARM GAS  1.s 			page 39


 2100 1034 FFF7A4FF 		bl _chufa
 2101 1038 0446     		mov r4, r0
 2102 103a 4C43     		muls r4, r4, r1
 2103 103c 2D1B     		subs r5, r5, r4
 2104 103e 20B4     		push {r5}
 2105 1040 0546     		mov r5, r0
 2106 1042 013E     		subs r6, r6, # 1
 2107 1044 F6D1     		bne __bcd_xun_huan
 2108 1046 FFBC     		pop {r0-r7}
 2109 1048 3601     		lsls r6, r6, # 4
 2110 104a 2D02     		lsls r5, r5, # 8
 2111 104c 2403     		lsls r4, r4, # 12
 2112 104e 1B04     		lsls r3, r3, # 16
 2113 1050 1205     		lsls r2, r2, # 20
 2114 1052 0906     		lsls r1, r1, # 24
 2115 1054 0007     		lsls r0, r0, # 28
 2116 1056 0343     		orrs r3, r3, r0
 2117 1058 0B43     		orrs r3, r3, r1
 2118 105a 1343     		orrs r3, r3, r2
 2119 105c 2343     		orrs r3, r3, r4
 2120 105e 2B43     		orrs r3, r3, r5
 2121 1060 3343     		orrs r3, r3, r6
 2122 1062 3B43     		orrs r3, r3, r7
 2123 1064 F7BD     		pop {r0-r2,r4-r7,pc}
 2124 1066 0000E803 		.ltorg
 2124      0000A00B 
 2124      0020C800 
 2124      00000000 
 2124      0080
 2125              	_nmi_handler:
 2126 1078 7047     		bx lr
 2127              	_hard_fault:
 2128 107a 7047     		bx lr
 2129              	_svc_handler:
 2130 107c 7047     		bx lr
 2131              	_pendsv_handler:
 2132 107e 7047     		bx lr
 2133              	_systickzhongduan:
 2134              	aaa:
 2135 1080 7047     		bx lr
 2136              		.ltorg
 2137 1082 C046     		.end
ARM GAS  1.s 			page 40


DEFINED SYMBOLS
                 1.s:9      .data:0000000000000000 $d
                 1.s:11     .data:0000000000000000 zheng_xian_100hz
                 1.s:13     .data:0000000000000fa0 zheng_xian_1khz
                 1.s:15     .data:0000000000001130 zheng_xian_10khz
                 1.s:17     .data:00000000000011f8 zheng_xian_100khz
                 1.s:21     .data:0000000000001210 xuan_zhuan_yin_zi
                 1.s:24     .data:0000000000001e90 cordic_yong_cos_sin
                 1.s:27     .data:0000000000001f10 pin_lv_biao
                 1.s:686    .text:00000000000004d8 __pin_lv100
                 1.s:742    .text:000000000000053c __pin_lv1K
                 1.s:797    .text:00000000000005a0 __pin_lv10K
                 1.s:856    .text:0000000000000604 __pin_lv100K
                 1.s:32     .data:0000000000001f20 dang_wei_biao
                 1.s:941    .text:000000000000074e __dang_wei0
                 1.s:962    .text:0000000000000778 __dang_wei1
                 1.s:982    .text:00000000000007a0 __dang_wei2
                 1.s:1002   .text:00000000000007c8 __dang_wei3
                 1.s:1022   .text:00000000000007f0 __dang_wei4
                 1.s:1042   .text:0000000000000818 __dang_wei5
                 1.s:39     .data:0000000000001f38 an_jian_biao
                 1.s:538    .text:00000000000003aa __an_jian0
                 1.s:481    .text:0000000000000336 __dang_wei_jia
                 1.s:503    .text:0000000000000364 __pin_lv_jia
                 1.s:526    .text:0000000000000392 __an_jian3
                 1.s:529    .text:0000000000000398 __an_jian4
                 1.s:532    .text:000000000000039e __an_jian5
                 1.s:535    .text:00000000000003a4 __an_jian6
                 1.s:465    .text:0000000000000320 __an_jian7
                 1.s:49     .data:0000000000001f60 yjmwxwx
                 1.s:52     .data:0000000000001f70 kong
                 1.s:54     .data:0000000000001f74 _fu
                 1.s:56     .data:0000000000001f75 hao_ou
                 1.s:58     .data:0000000000001f79 ou
                 1.s:60     .data:0000000000001f7d qian_ou
                 1.s:62     .data:0000000000001f81 zhao_ou
                 1.s:65     .data:0000000000001f85 kai_lu_jiao_zhun
                 1.s:67     .data:0000000000001f95 duan_lu_jiao_zhun
                 1.s:69     .data:0000000000001fa5 pi_pei_jiao_zhun
                 1.s:72     *ABS*:0000000020001000 STACKINIT
                 1.s:73     *ABS*:0000000020000000 asciimabiao
                 1.s:74     *ABS*:00000000200000f0 fuhao
                 1.s:75     *ABS*:0000000020000100 Rs
                 1.s:76     *ABS*:0000000020000104 Xs
                 1.s:77     *ABS*:0000000020000108 Cs
                 1.s:78     *ABS*:0000000020000108 jiaodu
                 1.s:79     *ABS*:000000002000010c kailu_r
                 1.s:80     *ABS*:0000000020000110 liangcheng
                 1.s:81     *ABS*:0000000020000114 dangwei
                 1.s:82     *ABS*:0000000020000188 xuanzhuan_cos
                 1.s:83     *ABS*:000000002000018c xuanzhuan_sin
                 1.s:84     *ABS*:0000000020000190 shibu
                 1.s:85     *ABS*:0000000020000194 xubu
                 1.s:86     *ABS*:0000000020000198 shangbidianya
                 1.s:87     *ABS*:000000002000019c huandangyanshi
                 1.s:88     *ABS*:00000000200001a0 xuanzhuanyinzi
                 1.s:89     *ABS*:00000000200001a4 pinlvjiayanshi
ARM GAS  1.s 			page 41


                 1.s:90     *ABS*:00000000200001a8 pinlv
                 1.s:91     *ABS*:00000000200001ac tongdaoqiehuanyanshi
                 1.s:92     *ABS*:00000000200001c0 lvboqiyiwei
                 1.s:93     *ABS*:00000000200001c4 lvboqijishu
                 1.s:94     *ABS*:00000000200001c8 cankaodianzu
                 1.s:95     *ABS*:00000000200001cc xiaoshudianweizhi
                 1.s:96     *ABS*:00000000200001d0 xiabifangdakaiguan
                 1.s:97     *ABS*:00000000200001d4 shangbifangdakaiguan
                 1.s:98     *ABS*:00000000200001d8 dangweijiayanshi
                 1.s:99     *ABS*:00000000200001dc caidanzhizhen
                 1.s:100    *ABS*:00000000200001e0 caidanbiao
                 1.s:101    *ABS*:00000000200001f8 dianyabiaozhizhen
                 1.s:102    *ABS*:00000000200001fc dianyabiaoman
                 1.s:103    *ABS*:0000000020000200 dianyabiao
                 1.s:104    *ABS*:0000000020000520 zhengxiangbiao
                 1.s:105    *ABS*:0000000020000840 fanxiangbiao
                 1.s:106    *ABS*:0000000020000ba0 lvboqizhizhen
                 1.s:107    *ABS*:0000000020000ba4 lvboqihuanchong
                 1.s:108    *ABS*:0000000020000d00 lvboqizhizhen2
                 1.s:109    *ABS*:0000000020000d04 lvboqihuanchong2
                 1.s:111    .text:0000000000000000 vectors
                 1.s:157    .text:00000000000000b0 _start
                 1.s:2125   .text:0000000000001078 _nmi_handler
                 1.s:2127   .text:000000000000107a _hard_fault
                 1.s:2129   .text:000000000000107c _svc_handler
                 1.s:2131   .text:000000000000107e _pendsv_handler
                 1.s:2133   .text:0000000000001080 _systickzhongduan
                 1.s:2134   .text:0000000000001080 aaa
                            .text:0000000000000000 $d
                 1.s:156    .text:00000000000000b0 $t
                 1.s:158    .text:00000000000000b0 shizhong
                 1.s:165    .text:00000000000000bc denghse
                 1.s:169    .text:00000000000000c2 dengpllguan
                 1.s:181    .text:00000000000000d6 dengpll
                 1.s:189    .text:00000000000000e0 _waisheshizhong
                 1.s:206    .text:00000000000000ee _neicunqingling
                 1.s:210    .text:00000000000000f4 _neicunqinglingxunhuan
                 1.s:215    .text:00000000000000fa __fu_zhi_cai_dan_biao
                 1.s:234    .text:000000000000011e _waishezhongduan
                 1.s:265    .text:0000000000000124 io_she_zhi
                 1.s:303    .text:0000000000000140 _lcdchushihua
                 1.s:1591   .text:0000000000000ce8 _xielcd
                 1.s:1583   .text:0000000000000cde _lcdyanshi
                 1.s:1566   .text:0000000000000cc2 _lcdxianshi
                 1.s:331    .text:0000000000000188 yjmwxwx_yanshi
                 1.s:335    .text:000000000000018c _adcchushihua
                 1.s:339    .text:0000000000000192 _dengadcjiaozhun
                 1.s:345    .text:000000000000019c _kaiadc
                 1.s:350    .text:00000000000001a4 _deng_adc_wen_ding
                 1.s:354    .text:00000000000001aa _tongdaoxuanze
                 1.s:367    .text:00000000000001c2 dmachushihua
                 1.s:400    .text:00000000000001e6 tim3chushihua
                 1.s:412    .text:00000000000001fc tim1chushiha
                 1.s:444    .text:0000000000000232 adc_yanshi
                 1.s:453    .text:0000000000000242 ff
                 1.s:931    .text:0000000000000740 __dang_wei_she_zhi
                 1.s:677    .text:00000000000004ca __pin_lv_she_zhi
ARM GAS  1.s 			page 42


                 1.s:539    .text:00000000000003aa ting
                 1.s:464    .text:0000000000000258 $d
                 1.s:466    .text:0000000000000320 t
                 1.s:1196   .text:000000000000096e __ji_suan_zu_kang
                 1.s:467    .text:0000000000000320 $t
                 1.s:554    .text:00000000000003ce __xianshi_zukang1
                 1.s:472    .text:000000000000032a __jiao_zhun_yan_shi
                 1.s:475    .text:000000000000032e __jiao_zhun_yan_shi_xun_huan
                 1.s:498    .text:0000000000000356 __dang_wei_fan_hui
                 1.s:1063   .text:0000000000000842 __dang_wei_xian_shi
                 1.s:1455   .text:0000000000000bd8 __an_jian
                 1.s:548    .text:00000000000003c6 __cai_dan_diao_du
                 1.s:520    .text:0000000000000384 __pin_lv_fan_hui
                 1.s:1076   .text:000000000000085e __pin_lv_xian_shi
                 1.s:1173   .text:0000000000000944 __dian_rong_ji_suan
                 1.s:610    .text:0000000000000442 __xianshi_zukang
                 1.s:567    .text:00000000000003e8 __dian_zu_bu_shi_zheng1
                 1.s:572    .text:00000000000003f2 __xian_shi_dian_zu1
                 1.s:1666   .text:0000000000000d60 _zhuanascii
                 1.s:594    .text:0000000000000420 __dian_kang_bu_shi_zheng1
                 1.s:599    .text:000000000000042a __xian_shi_dian_kang1
                 1.s:627    .text:0000000000000464 __dian_zu_bu_shi_zheng
                 1.s:632    .text:000000000000046e __xian_shi_dian_zu
                 1.s:659    .text:00000000000004a6 __dian_kang_bu_shi_zheng
                 1.s:664    .text:00000000000004b0 __xian_shi_dian_kang
                 1.s:922    .text:0000000000000672 cai_biao
                 1.s:924    .text:0000000000000674 cc100k
                 1.s:928    .text:0000000000000678 $d
                 1.s:934    .text:0000000000000740 $t
                 1.s:1089   .text:000000000000087a $d
                 1.s:1089   .text:000000000000087c $d
                 1.s:1090   .text:00000000000008b4 __zi_dong_dang_wei
                 1.s:1091   .text:00000000000008b4 $t
                 1.s:1100   .text:00000000000008c6 __huan_dang
                 1.s:1109   .text:00000000000008d6 __jian_ce_xu_bu_shi_bu_shi_fu_shu
                 1.s:1114   .text:00000000000008de __bi_jiao_shi_xu_da_xiao
                 1.s:1118   .text:00000000000008e4 __dang_wei_pan_duan
                 1.s:1134   .text:0000000000000902 __dang_wei_jian
                 1.s:1145   .text:0000000000000916 __zi_dong_dang_wei_fan_hui
                 1.s:1143   .text:0000000000000912 __bao_cun_dang_wei
                 1.s:1148   .text:0000000000000918 __xiang_wei_xuan_zhuan
                 1.s:1181   .text:0000000000000952 __dianrong_bu_shi_fu
                 1.s:2014   .text:0000000000000fa6 __chu_fa
                 1.s:1873   .text:0000000000000ecc __chufa64
                 1.s:1208   .text:0000000000000984 __xiabifangdaguan
                 1.s:1210   .text:0000000000000986 __jian_bo
                 1.s:1271   .text:0000000000000a06 __tong_dao_qie_huan
                 1.s:1308   .text:0000000000000ab8 __DFT_ji_suan
                 1.s:1227   .text:00000000000009aa __shangbifangdaguan
                 1.s:1229   .text:00000000000009ac __jian_bo1
                 1.s:1741   .text:0000000000000df4 __fu_shu_chu_fa
                 1.s:1536   .text:0000000000000c94 _lvboqi
                 1.s:1289   .text:0000000000000a9c __tong_dao_qie_huan_yan_shi
                 1.s:1297   .text:0000000000000aa8 __fu_zhi_nei_cun
                 1.s:1288   .text:0000000000000a2e $d
                 1.s:1288   .text:0000000000000a30 $d
                 1.s:1290   .text:0000000000000a9c $t
ARM GAS  1.s 			page 43


                 1.s:1293   .text:0000000000000aa2 __tong_dao_qie_huan_yan_shi_xun_huan
                 1.s:1301   .text:0000000000000aac __fu_zhi_xun_huan
                 1.s:1321   .text:0000000000000ace __ji_suan_dft_xun_huan
                 1.s:1325   .text:0000000000000ad4 __ji_suan_dft
                 1.s:1351   .text:0000000000000b06 __xian_shi_jiao_du
                 1.s:1364   .text:0000000000000b20 __jiaodu_bu_shi_zheng
                 1.s:1369   .text:0000000000000b2a __xian_shi_jiaodu
                 1.s:1380   .text:0000000000000b42 $d
                 1.s:1380   .text:0000000000000b44 $d
                 1.s:1383   .text:0000000000000b60 _xieflash
                 1.s:1384   .text:0000000000000b60 $t
                 1.s:1394   .text:0000000000000b72 _flashmang
                 1.s:1411   .text:0000000000000b90 _flashmang1
                 1.s:1420   .text:0000000000000ba0 _flashmang2
                 1.s:1429   .text:0000000000000bb0 _flashmang4
                 1.s:1439   .text:0000000000000bbe __fu_shu_cheng_fa
                 1.s:1475   .text:0000000000000bfe __atan2_ji_suan
                 1.s:1488   .text:0000000000000c14 __cordic_atan2_xun_huan
                 1.s:1489   .text:0000000000000c14 __du_cos_sin
                 1.s:1509   .text:0000000000000c38 __ni_shi_zhen_zhuan
                 1.s:1502   .text:0000000000000c2c __shun_shi_zhen_zhuan
                 1.s:1515   .text:0000000000000c42 __xuan_zhuan_wan
                 1.s:1534   .text:0000000000000c66 $d
                 1.s:1534   .text:0000000000000c68 $d
                 1.s:1540   .text:0000000000000c94 $t
                 1.s:1548   .text:0000000000000ca4 _lvboqimeidaohuanchongquding
                 1.s:1551   .text:0000000000000ca8 _lvboqixunhuan
                 1.s:1555   .text:0000000000000cae _lvbozonghe
                 1.s:1575   .text:0000000000000cd0 _lcdxianshixunhuan
                 1.s:1586   .text:0000000000000ce2 _lcdyanshixunhuan
                 1.s:1605   .text:0000000000000d00 __lcd_ming_ling
                 1.s:1602   .text:0000000000000cfc __lcd_shu_ju
                 1.s:1607   .text:0000000000000d02 __xie_lcd_shu_ju
                 1.s:1622   .text:0000000000000d24 __74hc595
                 1.s:1629   .text:0000000000000d30 __595_yiweixunhuan
                 1.s:1634   .text:0000000000000d36 __595_yanshi
                 1.s:1643   .text:0000000000000d44 __ser_0
                 1.s:1640   .text:0000000000000d40 __ser_1
                 1.s:1645   .text:0000000000000d46 __595_yiwei
                 1.s:1649   .text:0000000000000d4a __595_yanshi1
                 1.s:1658   .text:0000000000000d58 __595_yanshi2
                 1.s:1673   .text:0000000000000d6a _xunhuanqiuma
                 1.s:1990   .text:0000000000000f80 _chufa
                 1.s:1692   .text:0000000000000d8e _qiumafanhui
                 1.s:1687   .text:0000000000000d86 _meidaoxiaoshudian
                 1.s:1695   .text:0000000000000d92 __ji_suan_fu_du
                 1.s:1705   .text:0000000000000d9c _shibubushifushu
                 1.s:1710   .text:0000000000000da4 _xububushifushu
                 1.s:1715   .text:0000000000000dac _panduanxubushibushi0
                 1.s:1719   .text:0000000000000db2 _jisuanfudu1
                 1.s:1732   .text:0000000000000dc8 _alpha_min_beta_max
                 1.s:1724   .text:0000000000000dba _alpha_max_beta_min
                 1.s:1740   .text:0000000000000dd6 $d
                 1.s:1740   .text:0000000000000dd8 $d
                 1.s:1742   .text:0000000000000df4 $t
                 1.s:1747   .text:0000000000000dfa __ji_suan_chu_fa
                 1.s:1761   .text:0000000000000e0e b1
ARM GAS  1.s 			page 44


                 1.s:1767   .text:0000000000000e18 b2
                 1.s:1773   .text:0000000000000e22 b3
                 1.s:1782   .text:0000000000000e2e b4
                 1.s:1788   .text:0000000000000e38 b5
                 1.s:1794   .text:0000000000000e42 b6
                 1.s:1806   .text:0000000000000e54 b7
                 1.s:1808   .text:0000000000000e56 b8
                 1.s:1817   .text:0000000000000e66 b9
                 1.s:1819   .text:0000000000000e68 b10
                 1.s:1828   .text:0000000000000e78 a1
                 1.s:1834   .text:0000000000000e82 a2
                 1.s:1919   .text:0000000000000f14 __chengfa
                 1.s:1841   .text:0000000000000e92 a3
                 1.s:1854   .text:0000000000000eaa a4
                 1.s:1860   .text:0000000000000eb4 a5
                 1.s:1867   .text:0000000000000ec4 __a6
                 1.s:1913   .text:0000000000000f0e __chu_fa64_fan_hui0
                 1.s:1883   .text:0000000000000eda __chu_fa64_ji_suan
                 1.s:1890   .text:0000000000000ee6 __chu_fa64_xun_huan
                 1.s:1899   .text:0000000000000ef6 __chu_fa_yi_wei
                 1.s:1907   .text:0000000000000f04 __di_yi_wei
                 1.s:1961   .text:0000000000000f54 __cheng_fa_fan_hui
                 1.s:1933   .text:0000000000000f1e __ji_suan_cheng_fa
                 1.s:1965   .text:0000000000000f5a __dai_yu_shu_chufa
                 1.s:1987   .text:0000000000000f7e __dai_yu_shu_chufafanhui
                 1.s:1977   .text:0000000000000f6e __dai_yu_shu_chufaxunhuan
                 1.s:1984   .text:0000000000000f7a __dai_yu_shu_chufaweishubudao0
                 1.s:2012   .text:0000000000000fa4 _chufafanhui
                 1.s:2002   .text:0000000000000f94 _chufaxunhuan
                 1.s:2009   .text:0000000000000fa0 _chufaweishubudao0
                 1.s:2053   .text:0000000000000fea _chufafanhui1
                 1.s:2026   .text:0000000000000fbc __pan_duan_bei_chu_shu
                 1.s:2032   .text:0000000000000fc6 __ji_suan_chu_fa11
                 1.s:2038   .text:0000000000000fd0 _chufaxunhuan1
                 1.s:2045   .text:0000000000000fdc _chufaweishubudao00
                 1.s:2055   .text:0000000000000fec _chufafanhui2
                 1.s:2058   .text:0000000000000fee __he_bing_dian_ya_biao
                 1.s:2068   .text:0000000000000ffa __he_bing_dian_ya_biao_xun_huan
                 1.s:2080   .text:0000000000001012 __zheng_dian_ya
                 1.s:2093   .text:000000000000102a __zhuan_bcd
                 1.s:2084   .text:000000000000101a __dian_ya_biao_jia
                 1.s:2099   .text:0000000000001034 __bcd_xun_huan
                 1.s:2124   .text:0000000000001066 $d
                 1.s:2124   .text:0000000000001068 $d
                 1.s:2126   .text:0000000000001078 $t

NO UNDEFINED SYMBOLS
